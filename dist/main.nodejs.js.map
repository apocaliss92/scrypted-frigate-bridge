{"version":3,"file":"main.nodejs.js","mappings":"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","sources":["../../scrypted-apocaliss-base/node_modules/@scrypted/sdk/dist/src/index.js","../../scrypted-apocaliss-base/node_modules/@scrypted/sdk/dist/src|sync","../../scrypted-apocaliss-base/node_modules/@scrypted/sdk/dist/types/gen/index.js","../../scrypted-apocaliss-base/node_modules/abort-controller/dist/abort-controller.js","../../scrypted-apocaliss-base/node_modules/asynckit/index.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/abort.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/async.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/defer.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/iterate.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/state.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/terminator.js","../../scrypted-apocaliss-base/node_modules/asynckit/parallel.js","../../scrypted-apocaliss-base/node_modules/asynckit/serial.js","../../scrypted-apocaliss-base/node_modules/asynckit/serialOrdered.js","../../scrypted-apocaliss-base/node_modules/bl/BufferList.js","../../scrypted-apocaliss-base/node_modules/bl/bl.js","../../scrypted-apocaliss-base/node_modules/combined-stream/lib/combined_stream.js","../../scrypted-apocaliss-base/node_modules/debug/src/browser.js","../../scrypted-apocaliss-base/node_modules/debug/src/common.js","../../scrypted-apocaliss-base/node_modules/debug/src/index.js","../../scrypted-apocaliss-base/node_modules/debug/src/node.js","../../scrypted-apocaliss-base/node_modules/delayed-stream/lib/delayed_stream.js","../../scrypted-apocaliss-base/node_modules/event-target-shim/dist/event-target-shim.js","../../scrypted-apocaliss-base/node_modules/follow-redirects/debug.js","../../scrypted-apocaliss-base/node_modules/follow-redirects/index.js","../../scrypted-apocaliss-base/node_modules/form-data/lib/form_data.js","../../scrypted-apocaliss-base/node_modules/form-data/lib/populate.js","../../scrypted-apocaliss-base/node_modules/has-flag/index.js","../../scrypted-apocaliss-base/node_modules/inherits/inherits.js","../../scrypted-apocaliss-base/node_modules/inherits/inherits_browser.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/Base/TreeNode.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/ContainerBase/index.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/utils/throwError.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/Base/index.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/Base/TreeIterator.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/OrderedSet.js","../../scrypted-apocaliss-base/node_modules/mime-db/index.js","../../scrypted-apocaliss-base/node_modules/mime-types/index.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/constants.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/generate.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/mqtt.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/numbers.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/packet.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/parser.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/writeToStream.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/index.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/BufferedDuplex.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/KeepaliveManager.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/TypedEmitter.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/client.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/ali.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/index.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/tcp.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/tls.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/ws.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/wx.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/default-message-id-provider.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/get-timer.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/ack.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/auth.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/connack.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/index.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/publish.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/pubrel.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/is-browser.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/shared.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/store.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/topic-alias-recv.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/topic-alias-send.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/unique-message-id-provider.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/validations.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/mqtt.js","../../scrypted-apocaliss-base/node_modules/ms/index.js","../../scrypted-apocaliss-base/node_modules/number-allocator/index.js","../../scrypted-apocaliss-base/node_modules/number-allocator/lib/number-allocator.js","../../scrypted-apocaliss-base/node_modules/process-nextick-args/index.js","../../scrypted-apocaliss-base/node_modules/process/index.js","../../scrypted-apocaliss-base/node_modules/proxy-from-env/index.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/add-abort-signal.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/buffer_list.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/compose.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/destroy.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/duplex.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/duplexify.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/from.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/legacy.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/operators.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/passthrough.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/pipeline.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/readable.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/state.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/transform.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/utils.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/writable.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/validators.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/errors.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/index.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/primordials.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/util.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/stream.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/stream/promises.js","../../scrypted-apocaliss-base/node_modules/rfdc/default.js","../../scrypted-apocaliss-base/node_modules/rfdc/index.js","../../scrypted-apocaliss-base/node_modules/supports-color/index.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/factories/add-unique-number.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/factories/generate-unique-number.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/module.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/factories/cache.js","../../scrypted-apocaliss-base/node_modules/worker-timers/build/es2019/module.js","../../scrypted-apocaliss-base/node_modules/worker-timers/build/es2019/factories/load-or-return-broker.js","../../scrypted-apocaliss-base/node_modules/worker-timers-broker/build/es2019/module.js","../../scrypted-apocaliss-base/node_modules/worker-timers-broker/build/es2019/guards/call-notification.js","../../scrypted-apocaliss-base/node_modules/worker-timers-broker/build/es2019/guards/clear-response.js","../../scrypted-apocaliss-base/node_modules/worker-timers/build/es2019/worker/worker.js","../../scrypted-apocaliss-base/node_modules/ws/index.js","../../scrypted-apocaliss-base/node_modules/ws/lib/buffer-util.js","../../scrypted-apocaliss-base/node_modules/ws/lib/constants.js","../../scrypted-apocaliss-base/node_modules/ws/lib/event-target.js","../../scrypted-apocaliss-base/node_modules/ws/lib/extension.js","../../scrypted-apocaliss-base/node_modules/ws/lib/limiter.js","../../scrypted-apocaliss-base/node_modules/ws/lib/permessage-deflate.js","../../scrypted-apocaliss-base/node_modules/ws/lib/receiver.js","../../scrypted-apocaliss-base/node_modules/ws/lib/sender.js","../../scrypted-apocaliss-base/node_modules/ws/lib/stream.js","../../scrypted-apocaliss-base/node_modules/ws/lib/subprotocol.js","../../scrypted-apocaliss-base/node_modules/ws/lib/validation.js","../../scrypted-apocaliss-base/node_modules/ws/lib/websocket-server.js","../../scrypted-apocaliss-base/node_modules/ws/lib/websocket.js","../node_modules/@scrypted/sdk/dist/src/index.js","../node_modules/@scrypted/sdk/dist/src/settings-mixin.js","../node_modules/@scrypted/sdk/dist/src/storage-settings.js","../node_modules/@scrypted/sdk/dist/src|sync","../node_modules/@scrypted/sdk/dist/types/gen/index.js","../node_modules/axios/index.js","../node_modules/axios/lib/adapters/http.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/env/data.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/utils.js","../node_modules/debug/src/browser.js","../node_modules/debug/src/common.js","../node_modules/debug/src/index.js","../node_modules/debug/src/node.js","../node_modules/follow-redirects/debug.js","../node_modules/follow-redirects/index.js","../node_modules/ms/index.js","../../scrypted-advanced-notifier/src/detectionClasses.ts","../../scrypted-apocaliss-base/src/basePlugin.ts","../../scrypted-apocaliss-base/src/mqtt-client.ts","../src/main.ts","../src/objectDetector.ts","../src/objectDetectorMixin.ts","../src/utils.ts","../src/videoclips.ts","../src/videoclipsMixin.ts","../../scrypted-syslog/src/utils.ts","../../scrypted/common/src/async-queue.ts","../../scrypted/server/src/deferred.ts","../../scrypted/server/src/sleep.ts","../../scrypted-syslog/node_modules/@scrypted/sdk/dist/src/index.js","../../scrypted-syslog/node_modules/@scrypted/sdk/dist/src|sync","../../scrypted-syslog/node_modules/@scrypted/sdk/dist/types/gen/index.js","../external node-commonjs \"assert\"","../external node-commonjs \"buffer\"","../external node-commonjs \"crypto\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"module\"","../external node-commonjs \"net\"","../external node-commonjs \"os\"","../external node-commonjs \"path\"","../external node-commonjs \"stream\"","../external node-commonjs \"string_decoder\"","../external node-commonjs \"tls\"","../external node-commonjs \"tty\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"zlib\"","../../scrypted-apocaliss-base/node_modules/axios/dist/node/axios.cjs","../../scrypted-apocaliss-base/node_modules/mqtt/node_modules/lru-cache/dist/commonjs/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/startup"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst index_1 = require(\"../types/gen/index\");\nconst module_1 = require(\"module\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = exports.sdk.deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = exports.sdk.deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = exports.sdk.deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = exports.sdk.systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = exports.sdk.deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = exports.sdk.deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (exports.sdk.deviceManager.getMixinConsole)\n                this._console = exports.sdk.deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = exports.sdk.deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let loaded = false;\n    try {\n        // todo: remove usage of process.env.SCRYPTED_SDK_MODULE, only existed in prerelease builds.\n        // import.meta is not a reliable way to detect es module support in webpack since webpack\n        // evaluates that to true at runtime.\n        const esModule = process.env.SCRYPTED_SDK_ES_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        const cjsModule = process.env.SCRYPTED_SDK_CJS_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        // @ts-expect-error\n        if (esModule && typeof import.meta !== 'undefined') {\n            // @ts-expect-error\n            const require = (0, module_1.createRequire)(import.meta.url);\n            const sdkModule = require(esModule);\n            Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n            loaded = true;\n        }\n        else if (cjsModule) {\n            // @ts-expect-error\n            if (typeof __non_webpack_require__ !== 'undefined') {\n                // @ts-expect-error\n                const sdkModule = __non_webpack_require__(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n            else {\n                const sdkModule = require(cjsModule);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n        }\n    }\n    catch (e) {\n        console.warn(\"failed to load sdk module\", e);\n        throw e;\n    }\n    if (!loaded) {\n        let runtimeAPI;\n        try {\n            runtimeAPI = pluginRuntimeAPI;\n        }\n        catch (e) {\n        }\n        Object.assign(exports.sdk, {\n            log: deviceManager.getDeviceLogger(undefined),\n            deviceManager,\n            endpointManager,\n            mediaManager,\n            systemManager,\n            pluginHostAPI,\n            ...runtimeAPI,\n        });\n    }\n    try {\n        exports.sdk.systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, index_1.ScryptedInterfaceDescriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 6570;\nmodule.exports = webpackEmptyContext;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.3.113\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"buttons\"] = \"buttons\";\n    ScryptedInterfaceProperty[\"sensors\"] = \"sensors\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"sleeping\"] = \"sleeping\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"pressButton\"] = \"pressButton\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getVideoTextOverlays\"] = \"getVideoTextOverlays\";\n    ScryptedInterfaceMethod[\"setVideoTextOverlay\"] = \"setVideoTextOverlay\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"forkInterface\"] = \"forkInterface\";\n    ScryptedInterfaceMethod[\"trackObjects\"] = \"trackObjects\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    \"ScryptedDevice\": {\n        \"name\": \"ScryptedDevice\",\n        \"methods\": [\n            \"listen\",\n            \"probe\",\n            \"setMixins\",\n            \"setName\",\n            \"setRoom\",\n            \"setType\"\n        ],\n        \"properties\": [\n            \"id\",\n            \"info\",\n            \"interfaces\",\n            \"mixins\",\n            \"name\",\n            \"nativeId\",\n            \"pluginId\",\n            \"providedInterfaces\",\n            \"providedName\",\n            \"providedRoom\",\n            \"providedType\",\n            \"providerId\",\n            \"room\",\n            \"type\"\n        ]\n    },\n    \"ScryptedPlugin\": {\n        \"name\": \"ScryptedPlugin\",\n        \"methods\": [\n            \"getPluginJson\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedPluginRuntime\": {\n        \"name\": \"ScryptedPluginRuntime\",\n        \"methods\": [],\n        \"properties\": [\n            \"scryptedRuntimeArguments\"\n        ]\n    },\n    \"OnOff\": {\n        \"name\": \"OnOff\",\n        \"methods\": [\n            \"turnOff\",\n            \"turnOn\"\n        ],\n        \"properties\": [\n            \"on\"\n        ]\n    },\n    \"Brightness\": {\n        \"name\": \"Brightness\",\n        \"methods\": [\n            \"setBrightness\"\n        ],\n        \"properties\": [\n            \"brightness\"\n        ]\n    },\n    \"ColorSettingTemperature\": {\n        \"name\": \"ColorSettingTemperature\",\n        \"methods\": [\n            \"getTemperatureMaxK\",\n            \"getTemperatureMinK\",\n            \"setColorTemperature\"\n        ],\n        \"properties\": [\n            \"colorTemperature\"\n        ]\n    },\n    \"ColorSettingRgb\": {\n        \"name\": \"ColorSettingRgb\",\n        \"methods\": [\n            \"setRgb\"\n        ],\n        \"properties\": [\n            \"rgb\"\n        ]\n    },\n    \"ColorSettingHsv\": {\n        \"name\": \"ColorSettingHsv\",\n        \"methods\": [\n            \"setHsv\"\n        ],\n        \"properties\": [\n            \"hsv\"\n        ]\n    },\n    \"Buttons\": {\n        \"name\": \"Buttons\",\n        \"methods\": [],\n        \"properties\": [\n            \"buttons\"\n        ]\n    },\n    \"PressButtons\": {\n        \"name\": \"PressButtons\",\n        \"methods\": [\n            \"pressButton\"\n        ],\n        \"properties\": []\n    },\n    \"Sensors\": {\n        \"name\": \"Sensors\",\n        \"methods\": [],\n        \"properties\": [\n            \"sensors\"\n        ]\n    },\n    \"Notifier\": {\n        \"name\": \"Notifier\",\n        \"methods\": [\n            \"sendNotification\"\n        ],\n        \"properties\": []\n    },\n    \"StartStop\": {\n        \"name\": \"StartStop\",\n        \"methods\": [\n            \"start\",\n            \"stop\"\n        ],\n        \"properties\": [\n            \"running\"\n        ]\n    },\n    \"Pause\": {\n        \"name\": \"Pause\",\n        \"methods\": [\n            \"pause\",\n            \"resume\"\n        ],\n        \"properties\": [\n            \"paused\"\n        ]\n    },\n    \"Dock\": {\n        \"name\": \"Dock\",\n        \"methods\": [\n            \"dock\"\n        ],\n        \"properties\": [\n            \"docked\"\n        ]\n    },\n    \"TemperatureSetting\": {\n        \"name\": \"TemperatureSetting\",\n        \"methods\": [\n            \"setTemperature\"\n        ],\n        \"properties\": [\n            \"temperatureSetting\"\n        ]\n    },\n    \"Thermometer\": {\n        \"name\": \"Thermometer\",\n        \"methods\": [\n            \"setTemperatureUnit\"\n        ],\n        \"properties\": [\n            \"temperature\",\n            \"temperatureUnit\"\n        ]\n    },\n    \"HumiditySensor\": {\n        \"name\": \"HumiditySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"humidity\"\n        ]\n    },\n    \"Camera\": {\n        \"name\": \"Camera\",\n        \"methods\": [\n            \"getPictureOptions\",\n            \"takePicture\"\n        ],\n        \"properties\": []\n    },\n    \"Microphone\": {\n        \"name\": \"Microphone\",\n        \"methods\": [\n            \"getAudioStream\"\n        ],\n        \"properties\": []\n    },\n    \"AudioVolumeControl\": {\n        \"name\": \"AudioVolumeControl\",\n        \"methods\": [\n            \"setAudioVolumes\"\n        ],\n        \"properties\": [\n            \"audioVolumes\"\n        ]\n    },\n    \"Display\": {\n        \"name\": \"Display\",\n        \"methods\": [\n            \"startDisplay\",\n            \"stopDisplay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCamera\": {\n        \"name\": \"VideoCamera\",\n        \"methods\": [\n            \"getVideoStream\",\n            \"getVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraMask\": {\n        \"name\": \"VideoCameraMask\",\n        \"methods\": [\n            \"getPrivacyMasks\",\n            \"setPrivacyMasks\"\n        ],\n        \"properties\": []\n    },\n    \"VideoTextOverlays\": {\n        \"name\": \"VideoTextOverlays\",\n        \"methods\": [\n            \"getVideoTextOverlays\",\n            \"setVideoTextOverlay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoRecorder\": {\n        \"name\": \"VideoRecorder\",\n        \"methods\": [\n            \"getRecordingStream\",\n            \"getRecordingStreamCurrentTime\",\n            \"getRecordingStreamOptions\",\n            \"getRecordingStreamThumbnail\"\n        ],\n        \"properties\": [\n            \"recordingActive\"\n        ]\n    },\n    \"VideoRecorderManagement\": {\n        \"name\": \"VideoRecorderManagement\",\n        \"methods\": [\n            \"deleteRecordingStream\",\n            \"setRecordingActive\"\n        ],\n        \"properties\": []\n    },\n    \"PanTiltZoom\": {\n        \"name\": \"PanTiltZoom\",\n        \"methods\": [\n            \"ptzCommand\"\n        ],\n        \"properties\": [\n            \"ptzCapabilities\"\n        ]\n    },\n    \"EventRecorder\": {\n        \"name\": \"EventRecorder\",\n        \"methods\": [\n            \"getRecordedEvents\"\n        ],\n        \"properties\": []\n    },\n    \"VideoClips\": {\n        \"name\": \"VideoClips\",\n        \"methods\": [\n            \"getVideoClip\",\n            \"getVideoClips\",\n            \"getVideoClipThumbnail\",\n            \"removeVideoClips\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraConfiguration\": {\n        \"name\": \"VideoCameraConfiguration\",\n        \"methods\": [\n            \"setVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"Intercom\": {\n        \"name\": \"Intercom\",\n        \"methods\": [\n            \"startIntercom\",\n            \"stopIntercom\"\n        ],\n        \"properties\": []\n    },\n    \"Lock\": {\n        \"name\": \"Lock\",\n        \"methods\": [\n            \"lock\",\n            \"unlock\"\n        ],\n        \"properties\": [\n            \"lockState\"\n        ]\n    },\n    \"PasswordStore\": {\n        \"name\": \"PasswordStore\",\n        \"methods\": [\n            \"addPassword\",\n            \"getPasswords\",\n            \"removePassword\"\n        ],\n        \"properties\": []\n    },\n    \"Scene\": {\n        \"name\": \"Scene\",\n        \"methods\": [\n            \"activate\",\n            \"deactivate\",\n            \"isReversible\"\n        ],\n        \"properties\": []\n    },\n    \"Entry\": {\n        \"name\": \"Entry\",\n        \"methods\": [\n            \"closeEntry\",\n            \"openEntry\"\n        ],\n        \"properties\": []\n    },\n    \"EntrySensor\": {\n        \"name\": \"EntrySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"entryOpen\"\n        ]\n    },\n    \"DeviceProvider\": {\n        \"name\": \"DeviceProvider\",\n        \"methods\": [\n            \"getDevice\",\n            \"releaseDevice\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceDiscovery\": {\n        \"name\": \"DeviceDiscovery\",\n        \"methods\": [\n            \"adoptDevice\",\n            \"discoverDevices\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceCreator\": {\n        \"name\": \"DeviceCreator\",\n        \"methods\": [\n            \"createDevice\",\n            \"getCreateDeviceSettings\"\n        ],\n        \"properties\": []\n    },\n    \"Battery\": {\n        \"name\": \"Battery\",\n        \"methods\": [],\n        \"properties\": [\n            \"batteryLevel\"\n        ]\n    },\n    \"Charger\": {\n        \"name\": \"Charger\",\n        \"methods\": [],\n        \"properties\": [\n            \"chargeState\"\n        ]\n    },\n    \"Reboot\": {\n        \"name\": \"Reboot\",\n        \"methods\": [\n            \"reboot\"\n        ],\n        \"properties\": []\n    },\n    \"Refresh\": {\n        \"name\": \"Refresh\",\n        \"methods\": [\n            \"getRefreshFrequency\",\n            \"refresh\"\n        ],\n        \"properties\": []\n    },\n    \"MediaPlayer\": {\n        \"name\": \"MediaPlayer\",\n        \"methods\": [\n            \"getMediaStatus\",\n            \"load\",\n            \"seek\",\n            \"skipNext\",\n            \"skipPrevious\"\n        ],\n        \"properties\": []\n    },\n    \"Online\": {\n        \"name\": \"Online\",\n        \"methods\": [],\n        \"properties\": [\n            \"online\"\n        ]\n    },\n    \"BufferConverter\": {\n        \"name\": \"BufferConverter\",\n        \"methods\": [\n            \"convert\"\n        ],\n        \"properties\": [\n            \"fromMimeType\",\n            \"toMimeType\"\n        ]\n    },\n    \"MediaConverter\": {\n        \"name\": \"MediaConverter\",\n        \"methods\": [\n            \"convertMedia\"\n        ],\n        \"properties\": [\n            \"converters\"\n        ]\n    },\n    \"Settings\": {\n        \"name\": \"Settings\",\n        \"methods\": [\n            \"getSettings\",\n            \"putSetting\"\n        ],\n        \"properties\": []\n    },\n    \"BinarySensor\": {\n        \"name\": \"BinarySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"binaryState\"\n        ]\n    },\n    \"TamperSensor\": {\n        \"name\": \"TamperSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"tampered\"\n        ]\n    },\n    \"Sleep\": {\n        \"name\": \"Sleep\",\n        \"methods\": [],\n        \"properties\": [\n            \"sleeping\"\n        ]\n    },\n    \"PowerSensor\": {\n        \"name\": \"PowerSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"powerDetected\"\n        ]\n    },\n    \"AudioSensor\": {\n        \"name\": \"AudioSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"audioDetected\"\n        ]\n    },\n    \"MotionSensor\": {\n        \"name\": \"MotionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"motionDetected\"\n        ]\n    },\n    \"AmbientLightSensor\": {\n        \"name\": \"AmbientLightSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ambientLight\"\n        ]\n    },\n    \"OccupancySensor\": {\n        \"name\": \"OccupancySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"occupied\"\n        ]\n    },\n    \"FloodSensor\": {\n        \"name\": \"FloodSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"flooded\"\n        ]\n    },\n    \"UltravioletSensor\": {\n        \"name\": \"UltravioletSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ultraviolet\"\n        ]\n    },\n    \"LuminanceSensor\": {\n        \"name\": \"LuminanceSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"luminance\"\n        ]\n    },\n    \"PositionSensor\": {\n        \"name\": \"PositionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"position\"\n        ]\n    },\n    \"SecuritySystem\": {\n        \"name\": \"SecuritySystem\",\n        \"methods\": [\n            \"armSecuritySystem\",\n            \"disarmSecuritySystem\"\n        ],\n        \"properties\": [\n            \"securitySystemState\"\n        ]\n    },\n    \"PM10Sensor\": {\n        \"name\": \"PM10Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm10Density\"\n        ]\n    },\n    \"PM25Sensor\": {\n        \"name\": \"PM25Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm25Density\"\n        ]\n    },\n    \"VOCSensor\": {\n        \"name\": \"VOCSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"vocDensity\"\n        ]\n    },\n    \"NOXSensor\": {\n        \"name\": \"NOXSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"noxDensity\"\n        ]\n    },\n    \"CO2Sensor\": {\n        \"name\": \"CO2Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"co2ppm\"\n        ]\n    },\n    \"AirQualitySensor\": {\n        \"name\": \"AirQualitySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"airQuality\"\n        ]\n    },\n    \"AirPurifier\": {\n        \"name\": \"AirPurifier\",\n        \"methods\": [\n            \"setAirPurifierState\"\n        ],\n        \"properties\": [\n            \"airPurifierState\"\n        ]\n    },\n    \"FilterMaintenance\": {\n        \"name\": \"FilterMaintenance\",\n        \"methods\": [],\n        \"properties\": [\n            \"filterChangeIndication\",\n            \"filterLifeLevel\"\n        ]\n    },\n    \"Readme\": {\n        \"name\": \"Readme\",\n        \"methods\": [\n            \"getReadmeMarkdown\"\n        ],\n        \"properties\": []\n    },\n    \"OauthClient\": {\n        \"name\": \"OauthClient\",\n        \"methods\": [\n            \"getOauthUrl\",\n            \"onOauthCallback\"\n        ],\n        \"properties\": []\n    },\n    \"MixinProvider\": {\n        \"name\": \"MixinProvider\",\n        \"methods\": [\n            \"canMixin\",\n            \"getMixin\",\n            \"releaseMixin\"\n        ],\n        \"properties\": []\n    },\n    \"HttpRequestHandler\": {\n        \"name\": \"HttpRequestHandler\",\n        \"methods\": [\n            \"onRequest\"\n        ],\n        \"properties\": []\n    },\n    \"EngineIOHandler\": {\n        \"name\": \"EngineIOHandler\",\n        \"methods\": [\n            \"onConnection\"\n        ],\n        \"properties\": []\n    },\n    \"PushHandler\": {\n        \"name\": \"PushHandler\",\n        \"methods\": [\n            \"onPush\"\n        ],\n        \"properties\": []\n    },\n    \"Program\": {\n        \"name\": \"Program\",\n        \"methods\": [\n            \"run\"\n        ],\n        \"properties\": []\n    },\n    \"Scriptable\": {\n        \"name\": \"Scriptable\",\n        \"methods\": [\n            \"eval\",\n            \"loadScripts\",\n            \"saveScript\"\n        ],\n        \"properties\": []\n    },\n    \"ClusterForkInterface\": {\n        \"name\": \"ClusterForkInterface\",\n        \"methods\": [\n            \"forkInterface\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectTracker\": {\n        \"name\": \"ObjectTracker\",\n        \"methods\": [\n            \"trackObjects\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetector\": {\n        \"name\": \"ObjectDetector\",\n        \"methods\": [\n            \"getDetectionInput\",\n            \"getObjectTypes\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetection\": {\n        \"name\": \"ObjectDetection\",\n        \"methods\": [\n            \"detectObjects\",\n            \"generateObjectDetections\",\n            \"getDetectionModel\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetectionPreview\": {\n        \"name\": \"ObjectDetectionPreview\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ObjectDetectionGenerator\": {\n        \"name\": \"ObjectDetectionGenerator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"HumiditySetting\": {\n        \"name\": \"HumiditySetting\",\n        \"methods\": [\n            \"setHumidity\"\n        ],\n        \"properties\": [\n            \"humiditySetting\"\n        ]\n    },\n    \"Fan\": {\n        \"name\": \"Fan\",\n        \"methods\": [\n            \"setFan\"\n        ],\n        \"properties\": [\n            \"fan\"\n        ]\n    },\n    \"RTCSignalingChannel\": {\n        \"name\": \"RTCSignalingChannel\",\n        \"methods\": [\n            \"startRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"RTCSignalingClient\": {\n        \"name\": \"RTCSignalingClient\",\n        \"methods\": [\n            \"createRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"LauncherApplication\": {\n        \"name\": \"LauncherApplication\",\n        \"methods\": [],\n        \"properties\": [\n            \"applicationInfo\"\n        ]\n    },\n    \"ScryptedUser\": {\n        \"name\": \"ScryptedUser\",\n        \"methods\": [\n            \"getScryptedUserAccessControl\"\n        ],\n        \"properties\": []\n    },\n    \"VideoFrameGenerator\": {\n        \"name\": \"VideoFrameGenerator\",\n        \"methods\": [\n            \"generateVideoFrames\"\n        ],\n        \"properties\": []\n    },\n    \"StreamService\": {\n        \"name\": \"StreamService\",\n        \"methods\": [\n            \"connectStream\"\n        ],\n        \"properties\": []\n    },\n    \"TTY\": {\n        \"name\": \"TTY\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"TTYSettings\": {\n        \"name\": \"TTYSettings\",\n        \"methods\": [\n            \"getTTYSettings\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedSystemDevice\": {\n        \"name\": \"ScryptedSystemDevice\",\n        \"methods\": [],\n        \"properties\": [\n            \"systemDevice\"\n        ]\n    },\n    \"ScryptedDeviceCreator\": {\n        \"name\": \"ScryptedDeviceCreator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ScryptedSettings\": {\n        \"name\": \"ScryptedSettings\",\n        \"methods\": [],\n        \"properties\": []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    /**\n     * @deprecated\n     */\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    /**\n     * Internal devices will not show up in device lists unless explicitly searched.\n     */\n    ScryptedDeviceType[\"Internal\"] = \"Internal\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Buttons\"] = \"Buttons\";\n    ScryptedInterface[\"PressButtons\"] = \"PressButtons\";\n    ScryptedInterface[\"Sensors\"] = \"Sensors\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoTextOverlays\"] = \"VideoTextOverlays\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"Sleep\"] = \"Sleep\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ClusterForkInterface\"] = \"ClusterForkInterface\";\n    ScryptedInterface[\"ObjectTracker\"] = \"ObjectTracker\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar eventTargetShim = require('event-target-shim');\n\n/**\n * The signal class.\n * @see https://dom.spec.whatwg.org/#abortsignal\n */\nclass AbortSignal extends eventTargetShim.EventTarget {\n    /**\n     * AbortSignal cannot be constructed directly.\n     */\n    constructor() {\n        super();\n        throw new TypeError(\"AbortSignal cannot be constructed directly\");\n    }\n    /**\n     * Returns `true` if this `AbortSignal`'s `AbortController` has signaled to abort, and `false` otherwise.\n     */\n    get aborted() {\n        const aborted = abortedFlags.get(this);\n        if (typeof aborted !== \"boolean\") {\n            throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this === null ? \"null\" : typeof this}`);\n        }\n        return aborted;\n    }\n}\neventTargetShim.defineEventAttribute(AbortSignal.prototype, \"abort\");\n/**\n * Create an AbortSignal object.\n */\nfunction createAbortSignal() {\n    const signal = Object.create(AbortSignal.prototype);\n    eventTargetShim.EventTarget.call(signal);\n    abortedFlags.set(signal, false);\n    return signal;\n}\n/**\n * Abort a given signal.\n */\nfunction abortSignal(signal) {\n    if (abortedFlags.get(signal) !== false) {\n        return;\n    }\n    abortedFlags.set(signal, true);\n    signal.dispatchEvent({ type: \"abort\" });\n}\n/**\n * Aborted flag for each instances.\n */\nconst abortedFlags = new WeakMap();\n// Properties should be enumerable.\nObject.defineProperties(AbortSignal.prototype, {\n    aborted: { enumerable: true },\n});\n// `toString()` should return `\"[object AbortSignal]\"`\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortSignal.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortSignal\",\n    });\n}\n\n/**\n * The AbortController.\n * @see https://dom.spec.whatwg.org/#abortcontroller\n */\nclass AbortController {\n    /**\n     * Initialize this controller.\n     */\n    constructor() {\n        signals.set(this, createAbortSignal());\n    }\n    /**\n     * Returns the `AbortSignal` object associated with this object.\n     */\n    get signal() {\n        return getSignal(this);\n    }\n    /**\n     * Abort and signal to any observers that the associated activity is to be aborted.\n     */\n    abort() {\n        abortSignal(getSignal(this));\n    }\n}\n/**\n * Associated signals.\n */\nconst signals = new WeakMap();\n/**\n * Get the associated signal of a given controller.\n */\nfunction getSignal(controller) {\n    const signal = signals.get(controller);\n    if (signal == null) {\n        throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${controller === null ? \"null\" : typeof controller}`);\n    }\n    return signal;\n}\n// Properties should be enumerable.\nObject.defineProperties(AbortController.prototype, {\n    signal: { enumerable: true },\n    abort: { enumerable: true },\n});\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortController.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortController\",\n    });\n}\n\nexports.AbortController = AbortController;\nexports.AbortSignal = AbortSignal;\nexports.default = AbortController;\n\nmodule.exports = AbortController\nmodule.exports.AbortController = module.exports[\"default\"] = AbortController\nmodule.exports.AbortSignal = AbortSignal\n//# sourceMappingURL=abort-controller.js.map\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","'use strict'\n\nconst { Buffer } = require('buffer')\nconst symbol = Symbol.for('BufferList')\n\nfunction BufferList (buf) {\n  if (!(this instanceof BufferList)) {\n    return new BufferList(buf)\n  }\n\n  BufferList._init.call(this, buf)\n}\n\nBufferList._init = function _init (buf) {\n  Object.defineProperty(this, symbol, { value: true })\n\n  this._bufs = []\n  this.length = 0\n\n  if (buf) {\n    this.append(buf)\n  }\n}\n\nBufferList.prototype._new = function _new (buf) {\n  return new BufferList(buf)\n}\n\nBufferList.prototype._offset = function _offset (offset) {\n  if (offset === 0) {\n    return [0, 0]\n  }\n\n  let tot = 0\n\n  for (let i = 0; i < this._bufs.length; i++) {\n    const _t = tot + this._bufs[i].length\n    if (offset < _t || i === this._bufs.length - 1) {\n      return [i, offset - tot]\n    }\n    tot = _t\n  }\n}\n\nBufferList.prototype._reverseOffset = function (blOffset) {\n  const bufferId = blOffset[0]\n  let offset = blOffset[1]\n\n  for (let i = 0; i < bufferId; i++) {\n    offset += this._bufs[i].length\n  }\n\n  return offset\n}\n\nBufferList.prototype.get = function get (index) {\n  if (index > this.length || index < 0) {\n    return undefined\n  }\n\n  const offset = this._offset(index)\n\n  return this._bufs[offset[0]][offset[1]]\n}\n\nBufferList.prototype.slice = function slice (start, end) {\n  if (typeof start === 'number' && start < 0) {\n    start += this.length\n  }\n\n  if (typeof end === 'number' && end < 0) {\n    end += this.length\n  }\n\n  return this.copy(null, 0, start, end)\n}\n\nBufferList.prototype.copy = function copy (dst, dstStart, srcStart, srcEnd) {\n  if (typeof srcStart !== 'number' || srcStart < 0) {\n    srcStart = 0\n  }\n\n  if (typeof srcEnd !== 'number' || srcEnd > this.length) {\n    srcEnd = this.length\n  }\n\n  if (srcStart >= this.length) {\n    return dst || Buffer.alloc(0)\n  }\n\n  if (srcEnd <= 0) {\n    return dst || Buffer.alloc(0)\n  }\n\n  const copy = !!dst\n  const off = this._offset(srcStart)\n  const len = srcEnd - srcStart\n  let bytes = len\n  let bufoff = (copy && dstStart) || 0\n  let start = off[1]\n\n  // copy/slice everything\n  if (srcStart === 0 && srcEnd === this.length) {\n    if (!copy) {\n      // slice, but full concat if multiple buffers\n      return this._bufs.length === 1\n        ? this._bufs[0]\n        : Buffer.concat(this._bufs, this.length)\n    }\n\n    // copy, need to copy individual buffers\n    for (let i = 0; i < this._bufs.length; i++) {\n      this._bufs[i].copy(dst, bufoff)\n      bufoff += this._bufs[i].length\n    }\n\n    return dst\n  }\n\n  // easy, cheap case where it's a subset of one of the buffers\n  if (bytes <= this._bufs[off[0]].length - start) {\n    return copy\n      ? this._bufs[off[0]].copy(dst, dstStart, start, start + bytes)\n      : this._bufs[off[0]].slice(start, start + bytes)\n  }\n\n  if (!copy) {\n    // a slice, we need something to copy in to\n    dst = Buffer.allocUnsafe(len)\n  }\n\n  for (let i = off[0]; i < this._bufs.length; i++) {\n    const l = this._bufs[i].length - start\n\n    if (bytes > l) {\n      this._bufs[i].copy(dst, bufoff, start)\n      bufoff += l\n    } else {\n      this._bufs[i].copy(dst, bufoff, start, start + bytes)\n      bufoff += l\n      break\n    }\n\n    bytes -= l\n\n    if (start) {\n      start = 0\n    }\n  }\n\n  // safeguard so that we don't return uninitialized memory\n  if (dst.length > bufoff) return dst.slice(0, bufoff)\n\n  return dst\n}\n\nBufferList.prototype.shallowSlice = function shallowSlice (start, end) {\n  start = start || 0\n  end = typeof end !== 'number' ? this.length : end\n\n  if (start < 0) {\n    start += this.length\n  }\n\n  if (end < 0) {\n    end += this.length\n  }\n\n  if (start === end) {\n    return this._new()\n  }\n\n  const startOffset = this._offset(start)\n  const endOffset = this._offset(end)\n  const buffers = this._bufs.slice(startOffset[0], endOffset[0] + 1)\n\n  if (endOffset[1] === 0) {\n    buffers.pop()\n  } else {\n    buffers[buffers.length - 1] = buffers[buffers.length - 1].slice(0, endOffset[1])\n  }\n\n  if (startOffset[1] !== 0) {\n    buffers[0] = buffers[0].slice(startOffset[1])\n  }\n\n  return this._new(buffers)\n}\n\nBufferList.prototype.toString = function toString (encoding, start, end) {\n  return this.slice(start, end).toString(encoding)\n}\n\nBufferList.prototype.consume = function consume (bytes) {\n  // first, normalize the argument, in accordance with how Buffer does it\n  bytes = Math.trunc(bytes)\n  // do nothing if not a positive number\n  if (Number.isNaN(bytes) || bytes <= 0) return this\n\n  while (this._bufs.length) {\n    if (bytes >= this._bufs[0].length) {\n      bytes -= this._bufs[0].length\n      this.length -= this._bufs[0].length\n      this._bufs.shift()\n    } else {\n      this._bufs[0] = this._bufs[0].slice(bytes)\n      this.length -= bytes\n      break\n    }\n  }\n\n  return this\n}\n\nBufferList.prototype.duplicate = function duplicate () {\n  const copy = this._new()\n\n  for (let i = 0; i < this._bufs.length; i++) {\n    copy.append(this._bufs[i])\n  }\n\n  return copy\n}\n\nBufferList.prototype.append = function append (buf) {\n  if (buf == null) {\n    return this\n  }\n\n  if (buf.buffer) {\n    // append a view of the underlying ArrayBuffer\n    this._appendBuffer(Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength))\n  } else if (Array.isArray(buf)) {\n    for (let i = 0; i < buf.length; i++) {\n      this.append(buf[i])\n    }\n  } else if (this._isBufferList(buf)) {\n    // unwrap argument into individual BufferLists\n    for (let i = 0; i < buf._bufs.length; i++) {\n      this.append(buf._bufs[i])\n    }\n  } else {\n    // coerce number arguments to strings, since Buffer(number) does\n    // uninitialized memory allocation\n    if (typeof buf === 'number') {\n      buf = buf.toString()\n    }\n\n    this._appendBuffer(Buffer.from(buf))\n  }\n\n  return this\n}\n\nBufferList.prototype._appendBuffer = function appendBuffer (buf) {\n  this._bufs.push(buf)\n  this.length += buf.length\n}\n\nBufferList.prototype.indexOf = function (search, offset, encoding) {\n  if (encoding === undefined && typeof offset === 'string') {\n    encoding = offset\n    offset = undefined\n  }\n\n  if (typeof search === 'function' || Array.isArray(search)) {\n    throw new TypeError('The \"value\" argument must be one of type string, Buffer, BufferList, or Uint8Array.')\n  } else if (typeof search === 'number') {\n    search = Buffer.from([search])\n  } else if (typeof search === 'string') {\n    search = Buffer.from(search, encoding)\n  } else if (this._isBufferList(search)) {\n    search = search.slice()\n  } else if (Array.isArray(search.buffer)) {\n    search = Buffer.from(search.buffer, search.byteOffset, search.byteLength)\n  } else if (!Buffer.isBuffer(search)) {\n    search = Buffer.from(search)\n  }\n\n  offset = Number(offset || 0)\n\n  if (isNaN(offset)) {\n    offset = 0\n  }\n\n  if (offset < 0) {\n    offset = this.length + offset\n  }\n\n  if (offset < 0) {\n    offset = 0\n  }\n\n  if (search.length === 0) {\n    return offset > this.length ? this.length : offset\n  }\n\n  const blOffset = this._offset(offset)\n  let blIndex = blOffset[0] // index of which internal buffer we're working on\n  let buffOffset = blOffset[1] // offset of the internal buffer we're working on\n\n  // scan over each buffer\n  for (; blIndex < this._bufs.length; blIndex++) {\n    const buff = this._bufs[blIndex]\n\n    while (buffOffset < buff.length) {\n      const availableWindow = buff.length - buffOffset\n\n      if (availableWindow >= search.length) {\n        const nativeSearchResult = buff.indexOf(search, buffOffset)\n\n        if (nativeSearchResult !== -1) {\n          return this._reverseOffset([blIndex, nativeSearchResult])\n        }\n\n        buffOffset = buff.length - search.length + 1 // end of native search window\n      } else {\n        const revOffset = this._reverseOffset([blIndex, buffOffset])\n\n        if (this._match(revOffset, search)) {\n          return revOffset\n        }\n\n        buffOffset++\n      }\n    }\n\n    buffOffset = 0\n  }\n\n  return -1\n}\n\nBufferList.prototype._match = function (offset, search) {\n  if (this.length - offset < search.length) {\n    return false\n  }\n\n  for (let searchOffset = 0; searchOffset < search.length; searchOffset++) {\n    if (this.get(offset + searchOffset) !== search[searchOffset]) {\n      return false\n    }\n  }\n  return true\n}\n\n;(function () {\n  const methods = {\n    readDoubleBE: 8,\n    readDoubleLE: 8,\n    readFloatBE: 4,\n    readFloatLE: 4,\n    readBigInt64BE: 8,\n    readBigInt64LE: 8,\n    readBigUInt64BE: 8,\n    readBigUInt64LE: 8,\n    readInt32BE: 4,\n    readInt32LE: 4,\n    readUInt32BE: 4,\n    readUInt32LE: 4,\n    readInt16BE: 2,\n    readInt16LE: 2,\n    readUInt16BE: 2,\n    readUInt16LE: 2,\n    readInt8: 1,\n    readUInt8: 1,\n    readIntBE: null,\n    readIntLE: null,\n    readUIntBE: null,\n    readUIntLE: null\n  }\n\n  for (const m in methods) {\n    (function (m) {\n      if (methods[m] === null) {\n        BufferList.prototype[m] = function (offset, byteLength) {\n          return this.slice(offset, offset + byteLength)[m](0, byteLength)\n        }\n      } else {\n        BufferList.prototype[m] = function (offset = 0) {\n          return this.slice(offset, offset + methods[m])[m](0)\n        }\n      }\n    }(m))\n  }\n}())\n\n// Used internally by the class and also as an indicator of this object being\n// a `BufferList`. It's not possible to use `instanceof BufferList` in a browser\n// environment because there could be multiple different copies of the\n// BufferList class and some `BufferList`s might be `BufferList`s.\nBufferList.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferList || BufferList.isBufferList(b)\n}\n\nBufferList.isBufferList = function isBufferList (b) {\n  return b != null && b[symbol]\n}\n\nmodule.exports = BufferList\n","'use strict'\n\nconst DuplexStream = require('readable-stream').Duplex\nconst inherits = require('inherits')\nconst BufferList = require('./BufferList')\n\nfunction BufferListStream (callback) {\n  if (!(this instanceof BufferListStream)) {\n    return new BufferListStream(callback)\n  }\n\n  if (typeof callback === 'function') {\n    this._callback = callback\n\n    const piper = function piper (err) {\n      if (this._callback) {\n        this._callback(err)\n        this._callback = null\n      }\n    }.bind(this)\n\n    this.on('pipe', function onPipe (src) {\n      src.on('error', piper)\n    })\n    this.on('unpipe', function onUnpipe (src) {\n      src.removeListener('error', piper)\n    })\n\n    callback = null\n  }\n\n  BufferList._init.call(this, callback)\n  DuplexStream.call(this)\n}\n\ninherits(BufferListStream, DuplexStream)\nObject.assign(BufferListStream.prototype, BufferList.prototype)\n\nBufferListStream.prototype._new = function _new (callback) {\n  return new BufferListStream(callback)\n}\n\nBufferListStream.prototype._write = function _write (buf, encoding, callback) {\n  this._appendBuffer(buf)\n\n  if (typeof callback === 'function') {\n    callback()\n  }\n}\n\nBufferListStream.prototype._read = function _read (size) {\n  if (!this.length) {\n    return this.push(null)\n  }\n\n  size = Math.min(size, this.length)\n  this.push(this.slice(0, size))\n  this.consume(size)\n}\n\nBufferListStream.prototype.end = function end (chunk) {\n  DuplexStream.prototype.end.call(this, chunk)\n\n  if (this._callback) {\n    this._callback(null, this.slice())\n    this._callback = null\n  }\n}\n\nBufferListStream.prototype._destroy = function _destroy (err, cb) {\n  this._bufs.length = 0\n  this.length = 0\n  cb(err)\n}\n\nBufferListStream.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferListStream || b instanceof BufferList || BufferListStream.isBufferList(b)\n}\n\nBufferListStream.isBufferList = BufferList.isBufferList\n\nmodule.exports = BufferListStream\nmodule.exports.BufferListStream = BufferListStream\nmodule.exports.BufferList = BufferList\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(' ', ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexports.defineEventAttribute = defineEventAttribute;\nexports.EventTarget = EventTarget;\nexports.default = EventTarget;\n\nmodule.exports = EventTarget\nmodule.exports.EventTarget = module.exports[\"default\"] = EventTarget\nmodule.exports.defineEventAttribute = defineEventAttribute\n//# sourceMappingURL=event-target-shim.js.map\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC7230§5.3.1: When making a request directly to an origin server, […]\n  // a client MUST send only the absolute path […] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, […]\n    // a client MUST send the target URI in absolute-form […].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC7231§6.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC7231§6.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, […]\n  // RFC7231§6.4.2–3: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC7231§6.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource […]\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) […]\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (Array.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity –> read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function(boundary) {\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var __extends = this && this.t || function() {\n    var extendStatics = function(e, n) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(e, n) {\n            e.__proto__ = n;\n        } || function(e, n) {\n            for (var t in n) if (Object.prototype.hasOwnProperty.call(n, t)) e[t] = n[t];\n        };\n        return extendStatics(e, n);\n    };\n    return function(e, n) {\n        if (typeof n !== \"function\" && n !== null) throw new TypeError(\"Class extends value \" + String(n) + \" is not a constructor or null\");\n        extendStatics(e, n);\n        function __() {\n            this.constructor = e;\n        }\n        e.prototype = n === null ? Object.create(n) : (__.prototype = n.prototype, new __);\n    };\n}();\n\nvar TreeNode = function() {\n    function TreeNode(e, n) {\n        this.ee = 1;\n        this.u = undefined;\n        this.p = undefined;\n        this.K = undefined;\n        this.N = undefined;\n        this.rr = undefined;\n        this.u = e;\n        this.p = n;\n    }\n    TreeNode.prototype.L = function() {\n        var e = this;\n        if (e.ee === 1 && e.rr.rr === e) {\n            e = e.N;\n        } else if (e.K) {\n            e = e.K;\n            while (e.N) {\n                e = e.N;\n            }\n        } else {\n            var n = e.rr;\n            while (n.K === e) {\n                e = n;\n                n = e.rr;\n            }\n            e = n;\n        }\n        return e;\n    };\n    TreeNode.prototype.m = function() {\n        var e = this;\n        if (e.N) {\n            e = e.N;\n            while (e.K) {\n                e = e.K;\n            }\n            return e;\n        } else {\n            var n = e.rr;\n            while (n.N === e) {\n                e = n;\n                n = e.rr;\n            }\n            if (e.N !== n) {\n                return n;\n            } else return e;\n        }\n    };\n    TreeNode.prototype.ne = function() {\n        var e = this.rr;\n        var n = this.N;\n        var t = n.K;\n        if (e.rr === this) e.rr = n; else if (e.K === this) e.K = n; else e.N = n;\n        n.rr = e;\n        n.K = this;\n        this.rr = n;\n        this.N = t;\n        if (t) t.rr = this;\n        return n;\n    };\n    TreeNode.prototype.te = function() {\n        var e = this.rr;\n        var n = this.K;\n        var t = n.N;\n        if (e.rr === this) e.rr = n; else if (e.K === this) e.K = n; else e.N = n;\n        n.rr = e;\n        n.N = this;\n        this.rr = n;\n        this.K = t;\n        if (t) t.rr = this;\n        return n;\n    };\n    return TreeNode;\n}();\n\nexport { TreeNode };\n\nvar TreeNodeEnableIndex = function(e) {\n    __extends(TreeNodeEnableIndex, e);\n    function TreeNodeEnableIndex() {\n        var n = e !== null && e.apply(this, arguments) || this;\n        n.tr = 1;\n        return n;\n    }\n    TreeNodeEnableIndex.prototype.ne = function() {\n        var n = e.prototype.ne.call(this);\n        this.ie();\n        n.ie();\n        return n;\n    };\n    TreeNodeEnableIndex.prototype.te = function() {\n        var n = e.prototype.te.call(this);\n        this.ie();\n        n.ie();\n        return n;\n    };\n    TreeNodeEnableIndex.prototype.ie = function() {\n        this.tr = 1;\n        if (this.K) {\n            this.tr += this.K.tr;\n        }\n        if (this.N) {\n            this.tr += this.N.tr;\n        }\n    };\n    return TreeNodeEnableIndex;\n}(TreeNode);\n\nexport { TreeNodeEnableIndex };\n//# sourceMappingURL=TreeNode.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(n, t) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(n, t) {\n            n.__proto__ = t;\n        } || function(n, t) {\n            for (var r in t) if (Object.prototype.hasOwnProperty.call(t, r)) n[r] = t[r];\n        };\n        return extendStatics(n, t);\n    };\n    return function(n, t) {\n        if (typeof t !== \"function\" && t !== null) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n        extendStatics(n, t);\n        function __() {\n            this.constructor = n;\n        }\n        n.prototype = t === null ? Object.create(t) : (__.prototype = t.prototype, new __);\n    };\n}();\n\nvar ContainerIterator = function() {\n    function ContainerIterator(n) {\n        if (n === void 0) {\n            n = 0;\n        }\n        this.iteratorType = n;\n    }\n    ContainerIterator.prototype.equals = function(n) {\n        return this.o === n.o;\n    };\n    return ContainerIterator;\n}();\n\nexport { ContainerIterator };\n\nvar Base = function() {\n    function Base() {\n        this.M = 0;\n    }\n    Object.defineProperty(Base.prototype, \"length\", {\n        get: function() {\n            return this.M;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Base.prototype.size = function() {\n        return this.M;\n    };\n    Base.prototype.empty = function() {\n        return this.M === 0;\n    };\n    return Base;\n}();\n\nexport { Base };\n\nvar Container = function(n) {\n    __extends(Container, n);\n    function Container() {\n        return n !== null && n.apply(this, arguments) || this;\n    }\n    return Container;\n}(Base);\n\nexport { Container };\n//# sourceMappingURL=index.js.map\n","export function throwIteratorAccessError() {\n    throw new RangeError(\"Iterator access denied!\");\n}\n//# sourceMappingURL=throwError.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(e, r) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(e, r) {\n            e.__proto__ = r;\n        } || function(e, r) {\n            for (var i in r) if (Object.prototype.hasOwnProperty.call(r, i)) e[i] = r[i];\n        };\n        return extendStatics(e, r);\n    };\n    return function(e, r) {\n        if (typeof r !== \"function\" && r !== null) throw new TypeError(\"Class extends value \" + String(r) + \" is not a constructor or null\");\n        extendStatics(e, r);\n        function __() {\n            this.constructor = e;\n        }\n        e.prototype = r === null ? Object.create(r) : (__.prototype = r.prototype, new __);\n    };\n}();\n\nvar __read = this && this.q || function(e, r) {\n    var i = typeof Symbol === \"function\" && e[Symbol.iterator];\n    if (!i) return e;\n    var t = i.call(e), n, s = [], f;\n    try {\n        while ((r === void 0 || r-- > 0) && !(n = t.next()).done) s.push(n.value);\n    } catch (e) {\n        f = {\n            error: e\n        };\n    } finally {\n        try {\n            if (n && !n.done && (i = t[\"return\"])) i.call(t);\n        } finally {\n            if (f) throw f.error;\n        }\n    }\n    return s;\n};\n\nvar __values = this && this.V || function(e) {\n    var r = typeof Symbol === \"function\" && Symbol.iterator, i = r && e[r], t = 0;\n    if (i) return i.call(e);\n    if (e && typeof e.length === \"number\") return {\n        next: function() {\n            if (e && t >= e.length) e = void 0;\n            return {\n                value: e && e[t++],\n                done: !e\n            };\n        }\n    };\n    throw new TypeError(r ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport { TreeNode, TreeNodeEnableIndex } from \"./TreeNode\";\n\nimport { Container } from \"../../ContainerBase\";\n\nimport { throwIteratorAccessError } from \"../../../utils/throwError\";\n\nvar TreeContainer = function(e) {\n    __extends(TreeContainer, e);\n    function TreeContainer(r, i) {\n        if (r === void 0) {\n            r = function(e, r) {\n                if (e < r) return -1;\n                if (e > r) return 1;\n                return 0;\n            };\n        }\n        if (i === void 0) {\n            i = false;\n        }\n        var t = e.call(this) || this;\n        t.W = undefined;\n        t.$ = r;\n        if (i) {\n            t.re = TreeNodeEnableIndex;\n            t.v = function(e, r, i) {\n                var t = this.se(e, r, i);\n                if (t) {\n                    var n = t.rr;\n                    while (n !== this.h) {\n                        n.tr += 1;\n                        n = n.rr;\n                    }\n                    var s = this.fe(t);\n                    if (s) {\n                        var f = s, h = f.parentNode, u = f.grandParent, a = f.curNode;\n                        h.ie();\n                        u.ie();\n                        a.ie();\n                    }\n                }\n                return this.M;\n            };\n            t.G = function(e) {\n                var r = this.he(e);\n                while (r !== this.h) {\n                    r.tr -= 1;\n                    r = r.rr;\n                }\n            };\n        } else {\n            t.re = TreeNode;\n            t.v = function(e, r, i) {\n                var t = this.se(e, r, i);\n                if (t) this.fe(t);\n                return this.M;\n            };\n            t.G = t.he;\n        }\n        t.h = new t.re;\n        return t;\n    }\n    TreeContainer.prototype.U = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t < 0) {\n                e = e.N;\n            } else if (t > 0) {\n                i = e;\n                e = e.K;\n            } else return e;\n        }\n        return i;\n    };\n    TreeContainer.prototype.X = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t <= 0) {\n                e = e.N;\n            } else {\n                i = e;\n                e = e.K;\n            }\n        }\n        return i;\n    };\n    TreeContainer.prototype.Y = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t < 0) {\n                i = e;\n                e = e.N;\n            } else if (t > 0) {\n                e = e.K;\n            } else return e;\n        }\n        return i;\n    };\n    TreeContainer.prototype.Z = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t < 0) {\n                i = e;\n                e = e.N;\n            } else {\n                e = e.K;\n            }\n        }\n        return i;\n    };\n    TreeContainer.prototype.ue = function(e) {\n        while (true) {\n            var r = e.rr;\n            if (r === this.h) return;\n            if (e.ee === 1) {\n                e.ee = 0;\n                return;\n            }\n            if (e === r.K) {\n                var i = r.N;\n                if (i.ee === 1) {\n                    i.ee = 0;\n                    r.ee = 1;\n                    if (r === this.W) {\n                        this.W = r.ne();\n                    } else r.ne();\n                } else {\n                    if (i.N && i.N.ee === 1) {\n                        i.ee = r.ee;\n                        r.ee = 0;\n                        i.N.ee = 0;\n                        if (r === this.W) {\n                            this.W = r.ne();\n                        } else r.ne();\n                        return;\n                    } else if (i.K && i.K.ee === 1) {\n                        i.ee = 1;\n                        i.K.ee = 0;\n                        i.te();\n                    } else {\n                        i.ee = 1;\n                        e = r;\n                    }\n                }\n            } else {\n                var i = r.K;\n                if (i.ee === 1) {\n                    i.ee = 0;\n                    r.ee = 1;\n                    if (r === this.W) {\n                        this.W = r.te();\n                    } else r.te();\n                } else {\n                    if (i.K && i.K.ee === 1) {\n                        i.ee = r.ee;\n                        r.ee = 0;\n                        i.K.ee = 0;\n                        if (r === this.W) {\n                            this.W = r.te();\n                        } else r.te();\n                        return;\n                    } else if (i.N && i.N.ee === 1) {\n                        i.ee = 1;\n                        i.N.ee = 0;\n                        i.ne();\n                    } else {\n                        i.ee = 1;\n                        e = r;\n                    }\n                }\n            }\n        }\n    };\n    TreeContainer.prototype.he = function(e) {\n        var r, i;\n        if (this.M === 1) {\n            this.clear();\n            return this.h;\n        }\n        var t = e;\n        while (t.K || t.N) {\n            if (t.N) {\n                t = t.N;\n                while (t.K) t = t.K;\n            } else {\n                t = t.K;\n            }\n            r = __read([ t.u, e.u ], 2), e.u = r[0], t.u = r[1];\n            i = __read([ t.p, e.p ], 2), e.p = i[0], t.p = i[1];\n            e = t;\n        }\n        if (this.h.K === t) {\n            this.h.K = t.rr;\n        } else if (this.h.N === t) {\n            this.h.N = t.rr;\n        }\n        this.ue(t);\n        var n = t.rr;\n        if (t === n.K) {\n            n.K = undefined;\n        } else n.N = undefined;\n        this.M -= 1;\n        this.W.ee = 0;\n        return n;\n    };\n    TreeContainer.prototype.ae = function(e, r) {\n        if (e === undefined) return false;\n        var i = this.ae(e.K, r);\n        if (i) return true;\n        if (r(e)) return true;\n        return this.ae(e.N, r);\n    };\n    TreeContainer.prototype.fe = function(e) {\n        while (true) {\n            var r = e.rr;\n            if (r.ee === 0) return;\n            var i = r.rr;\n            if (r === i.K) {\n                var t = i.N;\n                if (t && t.ee === 1) {\n                    t.ee = r.ee = 0;\n                    if (i === this.W) return;\n                    i.ee = 1;\n                    e = i;\n                    continue;\n                } else if (e === r.N) {\n                    e.ee = 0;\n                    if (e.K) e.K.rr = r;\n                    if (e.N) e.N.rr = i;\n                    r.N = e.K;\n                    i.K = e.N;\n                    e.K = r;\n                    e.N = i;\n                    if (i === this.W) {\n                        this.W = e;\n                        this.h.rr = e;\n                    } else {\n                        var n = i.rr;\n                        if (n.K === i) {\n                            n.K = e;\n                        } else n.N = e;\n                    }\n                    e.rr = i.rr;\n                    r.rr = e;\n                    i.rr = e;\n                    i.ee = 1;\n                    return {\n                        parentNode: r,\n                        grandParent: i,\n                        curNode: e\n                    };\n                } else {\n                    r.ee = 0;\n                    if (i === this.W) {\n                        this.W = i.te();\n                    } else i.te();\n                    i.ee = 1;\n                }\n            } else {\n                var t = i.K;\n                if (t && t.ee === 1) {\n                    t.ee = r.ee = 0;\n                    if (i === this.W) return;\n                    i.ee = 1;\n                    e = i;\n                    continue;\n                } else if (e === r.K) {\n                    e.ee = 0;\n                    if (e.K) e.K.rr = i;\n                    if (e.N) e.N.rr = r;\n                    i.N = e.K;\n                    r.K = e.N;\n                    e.K = i;\n                    e.N = r;\n                    if (i === this.W) {\n                        this.W = e;\n                        this.h.rr = e;\n                    } else {\n                        var n = i.rr;\n                        if (n.K === i) {\n                            n.K = e;\n                        } else n.N = e;\n                    }\n                    e.rr = i.rr;\n                    r.rr = e;\n                    i.rr = e;\n                    i.ee = 1;\n                    return {\n                        parentNode: r,\n                        grandParent: i,\n                        curNode: e\n                    };\n                } else {\n                    r.ee = 0;\n                    if (i === this.W) {\n                        this.W = i.ne();\n                    } else i.ne();\n                    i.ee = 1;\n                }\n            }\n            return;\n        }\n    };\n    TreeContainer.prototype.se = function(e, r, i) {\n        if (this.W === undefined) {\n            this.M += 1;\n            this.W = new this.re(e, r);\n            this.W.ee = 0;\n            this.W.rr = this.h;\n            this.h.rr = this.W;\n            this.h.K = this.W;\n            this.h.N = this.W;\n            return;\n        }\n        var t;\n        var n = this.h.K;\n        var s = this.$(n.u, e);\n        if (s === 0) {\n            n.p = r;\n            return;\n        } else if (s > 0) {\n            n.K = new this.re(e, r);\n            n.K.rr = n;\n            t = n.K;\n            this.h.K = t;\n        } else {\n            var f = this.h.N;\n            var h = this.$(f.u, e);\n            if (h === 0) {\n                f.p = r;\n                return;\n            } else if (h < 0) {\n                f.N = new this.re(e, r);\n                f.N.rr = f;\n                t = f.N;\n                this.h.N = t;\n            } else {\n                if (i !== undefined) {\n                    var u = i.o;\n                    if (u !== this.h) {\n                        var a = this.$(u.u, e);\n                        if (a === 0) {\n                            u.p = r;\n                            return;\n                        } else if (a > 0) {\n                            var o = u.L();\n                            var l = this.$(o.u, e);\n                            if (l === 0) {\n                                o.p = r;\n                                return;\n                            } else if (l < 0) {\n                                t = new this.re(e, r);\n                                if (o.N === undefined) {\n                                    o.N = t;\n                                    t.rr = o;\n                                } else {\n                                    u.K = t;\n                                    t.rr = u;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (t === undefined) {\n                    t = this.W;\n                    while (true) {\n                        var v = this.$(t.u, e);\n                        if (v > 0) {\n                            if (t.K === undefined) {\n                                t.K = new this.re(e, r);\n                                t.K.rr = t;\n                                t = t.K;\n                                break;\n                            }\n                            t = t.K;\n                        } else if (v < 0) {\n                            if (t.N === undefined) {\n                                t.N = new this.re(e, r);\n                                t.N.rr = t;\n                                t = t.N;\n                                break;\n                            }\n                            t = t.N;\n                        } else {\n                            t.p = r;\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n        this.M += 1;\n        return t;\n    };\n    TreeContainer.prototype.g = function(e, r) {\n        while (e) {\n            var i = this.$(e.u, r);\n            if (i < 0) {\n                e = e.N;\n            } else if (i > 0) {\n                e = e.K;\n            } else return e;\n        }\n        return e || this.h;\n    };\n    TreeContainer.prototype.clear = function() {\n        this.M = 0;\n        this.W = undefined;\n        this.h.rr = undefined;\n        this.h.K = this.h.N = undefined;\n    };\n    TreeContainer.prototype.updateKeyByIterator = function(e, r) {\n        var i = e.o;\n        if (i === this.h) {\n            throwIteratorAccessError();\n        }\n        if (this.M === 1) {\n            i.u = r;\n            return true;\n        }\n        if (i === this.h.K) {\n            if (this.$(i.m().u, r) > 0) {\n                i.u = r;\n                return true;\n            }\n            return false;\n        }\n        if (i === this.h.N) {\n            if (this.$(i.L().u, r) < 0) {\n                i.u = r;\n                return true;\n            }\n            return false;\n        }\n        var t = i.L().u;\n        if (this.$(t, r) >= 0) return false;\n        var n = i.m().u;\n        if (this.$(n, r) <= 0) return false;\n        i.u = r;\n        return true;\n    };\n    TreeContainer.prototype.eraseElementByPos = function(e) {\n        if (e < 0 || e > this.M - 1) {\n            throw new RangeError;\n        }\n        var r = 0;\n        var i = this;\n        this.ae(this.W, (function(t) {\n            if (e === r) {\n                i.G(t);\n                return true;\n            }\n            r += 1;\n            return false;\n        }));\n        return this.M;\n    };\n    TreeContainer.prototype.eraseElementByKey = function(e) {\n        if (this.M === 0) return false;\n        var r = this.g(this.W, e);\n        if (r === this.h) return false;\n        this.G(r);\n        return true;\n    };\n    TreeContainer.prototype.eraseElementByIterator = function(e) {\n        var r = e.o;\n        if (r === this.h) {\n            throwIteratorAccessError();\n        }\n        var i = r.N === undefined;\n        var t = e.iteratorType === 0;\n        if (t) {\n            if (i) e.next();\n        } else {\n            if (!i || r.K === undefined) e.next();\n        }\n        this.G(r);\n        return e;\n    };\n    TreeContainer.prototype.forEach = function(e) {\n        var r, i;\n        var t = 0;\n        try {\n            for (var n = __values(this), s = n.next(); !s.done; s = n.next()) {\n                var f = s.value;\n                e(f, t++, this);\n            }\n        } catch (e) {\n            r = {\n                error: e\n            };\n        } finally {\n            try {\n                if (s && !s.done && (i = n.return)) i.call(n);\n            } finally {\n                if (r) throw r.error;\n            }\n        }\n    };\n    TreeContainer.prototype.getElementByPos = function(e) {\n        var r, i;\n        if (e < 0 || e > this.M - 1) {\n            throw new RangeError;\n        }\n        var t;\n        var n = 0;\n        try {\n            for (var s = __values(this), f = s.next(); !f.done; f = s.next()) {\n                var h = f.value;\n                if (n === e) {\n                    t = h;\n                    break;\n                }\n                n += 1;\n            }\n        } catch (e) {\n            r = {\n                error: e\n            };\n        } finally {\n            try {\n                if (f && !f.done && (i = s.return)) i.call(s);\n            } finally {\n                if (r) throw r.error;\n            }\n        }\n        return t;\n    };\n    TreeContainer.prototype.getHeight = function() {\n        if (this.M === 0) return 0;\n        var traversal = function(e) {\n            if (!e) return 0;\n            return Math.max(traversal(e.K), traversal(e.N)) + 1;\n        };\n        return traversal(this.W);\n    };\n    return TreeContainer;\n}(Container);\n\nexport default TreeContainer;\n//# sourceMappingURL=index.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(r, t) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(r, t) {\n            r.__proto__ = t;\n        } || function(r, t) {\n            for (var e in t) if (Object.prototype.hasOwnProperty.call(t, e)) r[e] = t[e];\n        };\n        return extendStatics(r, t);\n    };\n    return function(r, t) {\n        if (typeof t !== \"function\" && t !== null) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n        extendStatics(r, t);\n        function __() {\n            this.constructor = r;\n        }\n        r.prototype = t === null ? Object.create(t) : (__.prototype = t.prototype, new __);\n    };\n}();\n\nimport { ContainerIterator } from \"../../ContainerBase\";\n\nimport { throwIteratorAccessError } from \"../../../utils/throwError\";\n\nvar TreeIterator = function(r) {\n    __extends(TreeIterator, r);\n    function TreeIterator(t, e, i) {\n        var n = r.call(this, i) || this;\n        n.o = t;\n        n.h = e;\n        if (n.iteratorType === 0) {\n            n.pre = function() {\n                if (this.o === this.h.K) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.L();\n                return this;\n            };\n            n.next = function() {\n                if (this.o === this.h) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.m();\n                return this;\n            };\n        } else {\n            n.pre = function() {\n                if (this.o === this.h.N) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.m();\n                return this;\n            };\n            n.next = function() {\n                if (this.o === this.h) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.L();\n                return this;\n            };\n        }\n        return n;\n    }\n    Object.defineProperty(TreeIterator.prototype, \"index\", {\n        get: function() {\n            var r = this.o;\n            var t = this.h.rr;\n            if (r === this.h) {\n                if (t) {\n                    return t.tr - 1;\n                }\n                return 0;\n            }\n            var e = 0;\n            if (r.K) {\n                e += r.K.tr;\n            }\n            while (r !== t) {\n                var i = r.rr;\n                if (r === i.N) {\n                    e += 1;\n                    if (i.K) {\n                        e += i.K.tr;\n                    }\n                }\n                r = i;\n            }\n            return e;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return TreeIterator;\n}(ContainerIterator);\n\nexport default TreeIterator;\n//# sourceMappingURL=TreeIterator.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(e, t) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(e, t) {\n            e.__proto__ = t;\n        } || function(e, t) {\n            for (var r in t) if (Object.prototype.hasOwnProperty.call(t, r)) e[r] = t[r];\n        };\n        return extendStatics(e, t);\n    };\n    return function(e, t) {\n        if (typeof t !== \"function\" && t !== null) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n        extendStatics(e, t);\n        function __() {\n            this.constructor = e;\n        }\n        e.prototype = t === null ? Object.create(t) : (__.prototype = t.prototype, new __);\n    };\n}();\n\nvar __generator = this && this.i || function(e, t) {\n    var r = {\n        label: 0,\n        sent: function() {\n            if (o[0] & 1) throw o[1];\n            return o[1];\n        },\n        trys: [],\n        ops: []\n    }, n, i, o, u;\n    return u = {\n        next: verb(0),\n        throw: verb(1),\n        return: verb(2)\n    }, typeof Symbol === \"function\" && (u[Symbol.iterator] = function() {\n        return this;\n    }), u;\n    function verb(e) {\n        return function(t) {\n            return step([ e, t ]);\n        };\n    }\n    function step(u) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n        while (r) try {\n            if (n = 1, i && (o = u[0] & 2 ? i[\"return\"] : u[0] ? i[\"throw\"] || ((o = i[\"return\"]) && o.call(i), \n            0) : i.next) && !(o = o.call(i, u[1])).done) return o;\n            if (i = 0, o) u = [ u[0] & 2, o.value ];\n            switch (u[0]) {\n              case 0:\n              case 1:\n                o = u;\n                break;\n\n              case 4:\n                r.label++;\n                return {\n                    value: u[1],\n                    done: false\n                };\n\n              case 5:\n                r.label++;\n                i = u[1];\n                u = [ 0 ];\n                continue;\n\n              case 7:\n                u = r.ops.pop();\n                r.trys.pop();\n                continue;\n\n              default:\n                if (!(o = r.trys, o = o.length > 0 && o[o.length - 1]) && (u[0] === 6 || u[0] === 2)) {\n                    r = 0;\n                    continue;\n                }\n                if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) {\n                    r.label = u[1];\n                    break;\n                }\n                if (u[0] === 6 && r.label < o[1]) {\n                    r.label = o[1];\n                    o = u;\n                    break;\n                }\n                if (o && r.label < o[2]) {\n                    r.label = o[2];\n                    r.ops.push(u);\n                    break;\n                }\n                if (o[2]) r.ops.pop();\n                r.trys.pop();\n                continue;\n            }\n            u = t.call(e, r);\n        } catch (e) {\n            u = [ 6, e ];\n            i = 0;\n        } finally {\n            n = o = 0;\n        }\n        if (u[0] & 5) throw u[1];\n        return {\n            value: u[0] ? u[1] : void 0,\n            done: true\n        };\n    }\n};\n\nvar __values = this && this.V || function(e) {\n    var t = typeof Symbol === \"function\" && Symbol.iterator, r = t && e[t], n = 0;\n    if (r) return r.call(e);\n    if (e && typeof e.length === \"number\") return {\n        next: function() {\n            if (e && n >= e.length) e = void 0;\n            return {\n                value: e && e[n++],\n                done: !e\n            };\n        }\n    };\n    throw new TypeError(t ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport TreeContainer from \"./Base\";\n\nimport TreeIterator from \"./Base/TreeIterator\";\n\nimport { throwIteratorAccessError } from \"../../utils/throwError\";\n\nvar OrderedSetIterator = function(e) {\n    __extends(OrderedSetIterator, e);\n    function OrderedSetIterator(t, r, n, i) {\n        var o = e.call(this, t, r, i) || this;\n        o.container = n;\n        return o;\n    }\n    Object.defineProperty(OrderedSetIterator.prototype, \"pointer\", {\n        get: function() {\n            if (this.o === this.h) {\n                throwIteratorAccessError();\n            }\n            return this.o.u;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    OrderedSetIterator.prototype.copy = function() {\n        return new OrderedSetIterator(this.o, this.h, this.container, this.iteratorType);\n    };\n    return OrderedSetIterator;\n}(TreeIterator);\n\nvar OrderedSet = function(e) {\n    __extends(OrderedSet, e);\n    function OrderedSet(t, r, n) {\n        if (t === void 0) {\n            t = [];\n        }\n        var i = e.call(this, r, n) || this;\n        var o = i;\n        t.forEach((function(e) {\n            o.insert(e);\n        }));\n        return i;\n    }\n    OrderedSet.prototype.P = function(e) {\n        return __generator(this, (function(t) {\n            switch (t.label) {\n              case 0:\n                if (e === undefined) return [ 2 ];\n                return [ 5, __values(this.P(e.K)) ];\n\n              case 1:\n                t.sent();\n                return [ 4, e.u ];\n\n              case 2:\n                t.sent();\n                return [ 5, __values(this.P(e.N)) ];\n\n              case 3:\n                t.sent();\n                return [ 2 ];\n            }\n        }));\n    };\n    OrderedSet.prototype.begin = function() {\n        return new OrderedSetIterator(this.h.K || this.h, this.h, this);\n    };\n    OrderedSet.prototype.end = function() {\n        return new OrderedSetIterator(this.h, this.h, this);\n    };\n    OrderedSet.prototype.rBegin = function() {\n        return new OrderedSetIterator(this.h.N || this.h, this.h, this, 1);\n    };\n    OrderedSet.prototype.rEnd = function() {\n        return new OrderedSetIterator(this.h, this.h, this, 1);\n    };\n    OrderedSet.prototype.front = function() {\n        return this.h.K ? this.h.K.u : undefined;\n    };\n    OrderedSet.prototype.back = function() {\n        return this.h.N ? this.h.N.u : undefined;\n    };\n    OrderedSet.prototype.insert = function(e, t) {\n        return this.v(e, undefined, t);\n    };\n    OrderedSet.prototype.find = function(e) {\n        var t = this.g(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.lowerBound = function(e) {\n        var t = this.U(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.upperBound = function(e) {\n        var t = this.X(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.reverseLowerBound = function(e) {\n        var t = this.Y(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.reverseUpperBound = function(e) {\n        var t = this.Z(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.union = function(e) {\n        var t = this;\n        e.forEach((function(e) {\n            t.insert(e);\n        }));\n        return this.M;\n    };\n    OrderedSet.prototype[Symbol.iterator] = function() {\n        return this.P(this.W);\n    };\n    return OrderedSet;\n}(TreeContainer);\n\nexport default OrderedSet;\n//# sourceMappingURL=OrderedSet.js.map\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","/* Protocol - protocol constants */\nconst protocol = module.exports\nconst { Buffer } = require('buffer')\n\n/* Command code => mnemonic */\nprotocol.types = {\n  0: 'reserved',\n  1: 'connect',\n  2: 'connack',\n  3: 'publish',\n  4: 'puback',\n  5: 'pubrec',\n  6: 'pubrel',\n  7: 'pubcomp',\n  8: 'subscribe',\n  9: 'suback',\n  10: 'unsubscribe',\n  11: 'unsuback',\n  12: 'pingreq',\n  13: 'pingresp',\n  14: 'disconnect',\n  15: 'auth'\n}\n\nprotocol.requiredHeaderFlags = {\n  1: 0, // 'connect'\n  2: 0, // 'connack'\n  4: 0, // 'puback'\n  5: 0, // 'pubrec'\n  6: 2, // 'pubrel'\n  7: 0, // 'pubcomp'\n  8: 2, // 'subscribe'\n  9: 0, // 'suback'\n  10: 2, // 'unsubscribe'\n  11: 0, // 'unsuback'\n  12: 0, // 'pingreq'\n  13: 0, // 'pingresp'\n  14: 0, // 'disconnect'\n  15: 0 // 'auth'\n}\n\nprotocol.requiredHeaderFlagsErrors = {}\nfor (const k in protocol.requiredHeaderFlags) {\n  const v = protocol.requiredHeaderFlags[k]\n  protocol.requiredHeaderFlagsErrors[k] = 'Invalid header flag bits, must be 0x' + v.toString(16) + ' for ' + protocol.types[k] + ' packet'\n}\n\n/* Mnemonic => Command code */\nprotocol.codes = {}\nfor (const k in protocol.types) {\n  const v = protocol.types[k]\n  protocol.codes[v] = k\n}\n\n/* Header */\nprotocol.CMD_SHIFT = 4\nprotocol.CMD_MASK = 0xF0\nprotocol.DUP_MASK = 0x08\nprotocol.QOS_MASK = 0x03\nprotocol.QOS_SHIFT = 1\nprotocol.RETAIN_MASK = 0x01\n\n/* Length */\nprotocol.VARBYTEINT_MASK = 0x7F\nprotocol.VARBYTEINT_FIN_MASK = 0x80\nprotocol.VARBYTEINT_MAX = 268435455\n\n/* Connack */\nprotocol.SESSIONPRESENT_MASK = 0x01\nprotocol.SESSIONPRESENT_HEADER = Buffer.from([protocol.SESSIONPRESENT_MASK])\nprotocol.CONNACK_HEADER = Buffer.from([protocol.codes.connack << protocol.CMD_SHIFT])\n\n/* Connect */\nprotocol.USERNAME_MASK = 0x80\nprotocol.PASSWORD_MASK = 0x40\nprotocol.WILL_RETAIN_MASK = 0x20\nprotocol.WILL_QOS_MASK = 0x18\nprotocol.WILL_QOS_SHIFT = 3\nprotocol.WILL_FLAG_MASK = 0x04\nprotocol.CLEAN_SESSION_MASK = 0x02\nprotocol.CONNECT_HEADER = Buffer.from([protocol.codes.connect << protocol.CMD_SHIFT])\n\n/* Properties */\nprotocol.properties = {\n  sessionExpiryInterval: 17,\n  willDelayInterval: 24,\n  receiveMaximum: 33,\n  maximumPacketSize: 39,\n  topicAliasMaximum: 34,\n  requestResponseInformation: 25,\n  requestProblemInformation: 23,\n  userProperties: 38,\n  authenticationMethod: 21,\n  authenticationData: 22,\n  payloadFormatIndicator: 1,\n  messageExpiryInterval: 2,\n  contentType: 3,\n  responseTopic: 8,\n  correlationData: 9,\n  maximumQoS: 36,\n  retainAvailable: 37,\n  assignedClientIdentifier: 18,\n  reasonString: 31,\n  wildcardSubscriptionAvailable: 40,\n  subscriptionIdentifiersAvailable: 41,\n  sharedSubscriptionAvailable: 42,\n  serverKeepAlive: 19,\n  responseInformation: 26,\n  serverReference: 28,\n  topicAlias: 35,\n  subscriptionIdentifier: 11\n}\nprotocol.propertiesCodes = {}\nfor (const prop in protocol.properties) {\n  const id = protocol.properties[prop]\n  protocol.propertiesCodes[id] = prop\n}\nprotocol.propertiesTypes = {\n  sessionExpiryInterval: 'int32',\n  willDelayInterval: 'int32',\n  receiveMaximum: 'int16',\n  maximumPacketSize: 'int32',\n  topicAliasMaximum: 'int16',\n  requestResponseInformation: 'byte',\n  requestProblemInformation: 'byte',\n  userProperties: 'pair',\n  authenticationMethod: 'string',\n  authenticationData: 'binary',\n  payloadFormatIndicator: 'byte',\n  messageExpiryInterval: 'int32',\n  contentType: 'string',\n  responseTopic: 'string',\n  correlationData: 'binary',\n  maximumQoS: 'int8',\n  retainAvailable: 'byte',\n  assignedClientIdentifier: 'string',\n  reasonString: 'string',\n  wildcardSubscriptionAvailable: 'byte',\n  subscriptionIdentifiersAvailable: 'byte',\n  sharedSubscriptionAvailable: 'byte',\n  serverKeepAlive: 'int16',\n  responseInformation: 'string',\n  serverReference: 'string',\n  topicAlias: 'int16',\n  subscriptionIdentifier: 'var'\n}\n\nfunction genHeader (type) {\n  return [0, 1, 2].map(qos => {\n    return [0, 1].map(dup => {\n      return [0, 1].map(retain => {\n        const buf = Buffer.alloc(1)\n        buf.writeUInt8(\n          protocol.codes[type] << protocol.CMD_SHIFT |\n          (dup ? protocol.DUP_MASK : 0) |\n          qos << protocol.QOS_SHIFT | retain, 0, true)\n        return buf\n      })\n    })\n  })\n}\n\n/* Publish */\nprotocol.PUBLISH_HEADER = genHeader('publish')\n\n/* Subscribe */\nprotocol.SUBSCRIBE_HEADER = genHeader('subscribe')\nprotocol.SUBSCRIBE_OPTIONS_QOS_MASK = 0x03\nprotocol.SUBSCRIBE_OPTIONS_NL_MASK = 0x01\nprotocol.SUBSCRIBE_OPTIONS_NL_SHIFT = 2\nprotocol.SUBSCRIBE_OPTIONS_RAP_MASK = 0x01\nprotocol.SUBSCRIBE_OPTIONS_RAP_SHIFT = 3\nprotocol.SUBSCRIBE_OPTIONS_RH_MASK = 0x03\nprotocol.SUBSCRIBE_OPTIONS_RH_SHIFT = 4\nprotocol.SUBSCRIBE_OPTIONS_RH = [0x00, 0x10, 0x20]\nprotocol.SUBSCRIBE_OPTIONS_NL = 0x04\nprotocol.SUBSCRIBE_OPTIONS_RAP = 0x08\nprotocol.SUBSCRIBE_OPTIONS_QOS = [0x00, 0x01, 0x02]\n\n/* Unsubscribe */\nprotocol.UNSUBSCRIBE_HEADER = genHeader('unsubscribe')\n\n/* Confirmations */\nprotocol.ACKS = {\n  unsuback: genHeader('unsuback'),\n  puback: genHeader('puback'),\n  pubcomp: genHeader('pubcomp'),\n  pubrel: genHeader('pubrel'),\n  pubrec: genHeader('pubrec')\n}\n\nprotocol.SUBACK_HEADER = Buffer.from([protocol.codes.suback << protocol.CMD_SHIFT])\n\n/* Protocol versions */\nprotocol.VERSION3 = Buffer.from([3])\nprotocol.VERSION4 = Buffer.from([4])\nprotocol.VERSION5 = Buffer.from([5])\nprotocol.VERSION131 = Buffer.from([131])\nprotocol.VERSION132 = Buffer.from([132])\n\n/* QoS */\nprotocol.QOS = [0, 1, 2].map(qos => {\n  return Buffer.from([qos])\n})\n\n/* Empty packets */\nprotocol.EMPTY = {\n  pingreq: Buffer.from([protocol.codes.pingreq << 4, 0]),\n  pingresp: Buffer.from([protocol.codes.pingresp << 4, 0]),\n  disconnect: Buffer.from([protocol.codes.disconnect << 4, 0])\n}\n\nprotocol.MQTT5_PUBACK_PUBREC_CODES = {\n  0x00: 'Success',\n  0x10: 'No matching subscribers',\n  0x80: 'Unspecified error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x90: 'Topic Name invalid',\n  0x91: 'Packet identifier in use',\n  0x97: 'Quota exceeded',\n  0x99: 'Payload format invalid'\n}\n\nprotocol.MQTT5_PUBREL_PUBCOMP_CODES = {\n  0x00: 'Success',\n  0x92: 'Packet Identifier not found'\n}\n\nprotocol.MQTT5_SUBACK_CODES = {\n  0x00: 'Granted QoS 0',\n  0x01: 'Granted QoS 1',\n  0x02: 'Granted QoS 2',\n  0x80: 'Unspecified error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x8F: 'Topic Filter invalid',\n  0x91: 'Packet Identifier in use',\n  0x97: 'Quota exceeded',\n  0x9E: 'Shared Subscriptions not supported',\n  0xA1: 'Subscription Identifiers not supported',\n  0xA2: 'Wildcard Subscriptions not supported'\n}\n\nprotocol.MQTT5_UNSUBACK_CODES = {\n  0x00: 'Success',\n  0x11: 'No subscription existed',\n  0x80: 'Unspecified error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x8F: 'Topic Filter invalid',\n  0x91: 'Packet Identifier in use'\n}\n\nprotocol.MQTT5_DISCONNECT_CODES = {\n  0x00: 'Normal disconnection',\n  0x04: 'Disconnect with Will Message',\n  0x80: 'Unspecified error',\n  0x81: 'Malformed Packet',\n  0x82: 'Protocol Error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x89: 'Server busy',\n  0x8B: 'Server shutting down',\n  0x8D: 'Keep Alive timeout',\n  0x8E: 'Session taken over',\n  0x8F: 'Topic Filter invalid',\n  0x90: 'Topic Name invalid',\n  0x93: 'Receive Maximum exceeded',\n  0x94: 'Topic Alias invalid',\n  0x95: 'Packet too large',\n  0x96: 'Message rate too high',\n  0x97: 'Quota exceeded',\n  0x98: 'Administrative action',\n  0x99: 'Payload format invalid',\n  0x9A: 'Retain not supported',\n  0x9B: 'QoS not supported',\n  0x9C: 'Use another server',\n  0x9D: 'Server moved',\n  0x9E: 'Shared Subscriptions not supported',\n  0x9F: 'Connection rate exceeded',\n  0xA0: 'Maximum connect time',\n  0xA1: 'Subscription Identifiers not supported',\n  0xA2: 'Wildcard Subscriptions not supported'\n}\n\nprotocol.MQTT5_AUTH_CODES = {\n  0x00: 'Success',\n  0x18: 'Continue authentication',\n  0x19: 'Re-authenticate'\n}\n","const writeToStream = require('./writeToStream')\nconst { EventEmitter } = require('events')\nconst { Buffer } = require('buffer')\n\nfunction generate (packet, opts) {\n  const stream = new Accumulator()\n  writeToStream(packet, stream, opts)\n  return stream.concat()\n}\n\nclass Accumulator extends EventEmitter {\n  constructor () {\n    super()\n    this._array = new Array(20)\n    this._i = 0\n  }\n\n  write (chunk) {\n    this._array[this._i++] = chunk\n    return true\n  }\n\n  concat () {\n    let length = 0\n    const lengths = new Array(this._array.length)\n    const list = this._array\n    let pos = 0\n    let i\n\n    for (i = 0; i < list.length && list[i] !== undefined; i++) {\n      if (typeof list[i] !== 'string') lengths[i] = list[i].length\n      else lengths[i] = Buffer.byteLength(list[i])\n\n      length += lengths[i]\n    }\n\n    const result = Buffer.allocUnsafe(length)\n\n    for (i = 0; i < list.length && list[i] !== undefined; i++) {\n      if (typeof list[i] !== 'string') {\n        list[i].copy(result, pos)\n        pos += lengths[i]\n      } else {\n        result.write(list[i], pos)\n        pos += lengths[i]\n      }\n    }\n\n    return result\n  }\n\n  destroy (err) {\n    if (err) this.emit('error', err)\n  }\n}\n\nmodule.exports = generate\n","exports.parser = require('./parser').parser\nexports.generate = require('./generate')\nexports.writeToStream = require('./writeToStream')\n","const { Buffer } = require('buffer')\nconst max = 65536\nconst cache = {}\n\n// in node 6 Buffer.subarray returns a Uint8Array instead of a Buffer\n// later versions return a Buffer\n// alternative is Buffer.slice but that creates a new buffer\n// creating new buffers takes time\n// SubOk is only false on node < 8\nconst SubOk = Buffer.isBuffer(Buffer.from([1, 2]).subarray(0, 1))\n\nfunction generateBuffer (i) {\n  const buffer = Buffer.allocUnsafe(2)\n  buffer.writeUInt8(i >> 8, 0)\n  buffer.writeUInt8(i & 0x00FF, 0 + 1)\n\n  return buffer\n}\n\nfunction generateCache () {\n  for (let i = 0; i < max; i++) {\n    cache[i] = generateBuffer(i)\n  }\n}\n\nfunction genBufVariableByteInt (num) {\n  const maxLength = 4 // max 4 bytes\n  let digit = 0\n  let pos = 0\n  const buffer = Buffer.allocUnsafe(maxLength)\n\n  do {\n    digit = num % 128 | 0\n    num = num / 128 | 0\n    if (num > 0) digit = digit | 0x80\n\n    buffer.writeUInt8(digit, pos++)\n  } while (num > 0 && pos < maxLength)\n\n  if (num > 0) {\n    pos = 0\n  }\n\n  return SubOk ? buffer.subarray(0, pos) : buffer.slice(0, pos)\n}\n\nfunction generate4ByteBuffer (num) {\n  const buffer = Buffer.allocUnsafe(4)\n  buffer.writeUInt32BE(num, 0)\n  return buffer\n}\n\nmodule.exports = {\n  cache,\n  generateCache,\n  generateNumber: generateBuffer,\n  genBufVariableByteInt,\n  generate4ByteBuffer\n}\n","class Packet {\n  constructor () {\n    this.cmd = null\n    this.retain = false\n    this.qos = 0\n    this.dup = false\n    this.length = -1\n    this.topic = null\n    this.payload = null\n  }\n}\n\nmodule.exports = Packet\n","const bl = require('bl')\nconst { EventEmitter } = require('events')\nconst Packet = require('./packet')\nconst constants = require('./constants')\nconst debug = require('debug')('mqtt-packet:parser')\n\nclass Parser extends EventEmitter {\n  constructor () {\n    super()\n    this.parser = this.constructor.parser\n  }\n\n  static parser (opt) {\n    if (!(this instanceof Parser)) return (new Parser()).parser(opt)\n\n    this.settings = opt || {}\n\n    this._states = [\n      '_parseHeader',\n      '_parseLength',\n      '_parsePayload',\n      '_newPacket'\n    ]\n\n    this._resetState()\n    return this\n  }\n\n  _resetState () {\n    debug('_resetState: resetting packet, error, _list, and _stateCounter')\n    this.packet = new Packet()\n    this.error = null\n    this._list = bl()\n    this._stateCounter = 0\n  }\n\n  parse (buf) {\n    if (this.error) this._resetState()\n\n    this._list.append(buf)\n    debug('parse: current state: %s', this._states[this._stateCounter])\n    while ((this.packet.length !== -1 || this._list.length > 0) &&\n      this[this._states[this._stateCounter]]() &&\n      !this.error) {\n      this._stateCounter++\n      debug('parse: state complete. _stateCounter is now: %d', this._stateCounter)\n      debug('parse: packet.length: %d, buffer list length: %d', this.packet.length, this._list.length)\n      if (this._stateCounter >= this._states.length) this._stateCounter = 0\n    }\n    debug('parse: exited while loop. packet: %d, buffer list length: %d', this.packet.length, this._list.length)\n    return this._list.length\n  }\n\n  _parseHeader () {\n    // There is at least one byte in the buffer\n    const zero = this._list.readUInt8(0)\n    const cmdIndex = zero >> constants.CMD_SHIFT\n    this.packet.cmd = constants.types[cmdIndex]\n    const headerFlags = zero & 0xf\n    const requiredHeaderFlags = constants.requiredHeaderFlags[cmdIndex]\n    if (requiredHeaderFlags != null && headerFlags !== requiredHeaderFlags) {\n      // Where a flag bit is marked as “Reserved” in Table 2.2 - Flag Bits, it is reserved for future use and MUST be set to the value listed in that table [MQTT-2.2.2-1]. If invalid flags are received, the receiver MUST close the Network Connection [MQTT-2.2.2-2]\n      return this._emitError(new Error(constants.requiredHeaderFlagsErrors[cmdIndex]))\n    }\n    this.packet.retain = (zero & constants.RETAIN_MASK) !== 0\n    this.packet.qos = (zero >> constants.QOS_SHIFT) & constants.QOS_MASK\n    if (this.packet.qos > 2) {\n      return this._emitError(new Error('Packet must not have both QoS bits set to 1'))\n    }\n    this.packet.dup = (zero & constants.DUP_MASK) !== 0\n    debug('_parseHeader: packet: %o', this.packet)\n\n    this._list.consume(1)\n\n    return true\n  }\n\n  _parseLength () {\n    // There is at least one byte in the list\n    const result = this._parseVarByteNum(true)\n\n    if (result) {\n      this.packet.length = result.value\n      this._list.consume(result.bytes)\n    }\n    debug('_parseLength %d', result.value)\n    return !!result\n  }\n\n  _parsePayload () {\n    debug('_parsePayload: payload %O', this._list)\n    let result = false\n\n    // Do we have a payload? Do we have enough data to complete the payload?\n    // PINGs have no payload\n    if (this.packet.length === 0 || this._list.length >= this.packet.length) {\n      this._pos = 0\n\n      switch (this.packet.cmd) {\n        case 'connect':\n          this._parseConnect()\n          break\n        case 'connack':\n          this._parseConnack()\n          break\n        case 'publish':\n          this._parsePublish()\n          break\n        case 'puback':\n        case 'pubrec':\n        case 'pubrel':\n        case 'pubcomp':\n          this._parseConfirmation()\n          break\n        case 'subscribe':\n          this._parseSubscribe()\n          break\n        case 'suback':\n          this._parseSuback()\n          break\n        case 'unsubscribe':\n          this._parseUnsubscribe()\n          break\n        case 'unsuback':\n          this._parseUnsuback()\n          break\n        case 'pingreq':\n        case 'pingresp':\n          // These are empty, nothing to do\n          break\n        case 'disconnect':\n          this._parseDisconnect()\n          break\n        case 'auth':\n          this._parseAuth()\n          break\n        default:\n          this._emitError(new Error('Not supported'))\n      }\n\n      result = true\n    }\n    debug('_parsePayload complete result: %s', result)\n    return result\n  }\n\n  _parseConnect () {\n    debug('_parseConnect')\n    let topic // Will topic\n    let payload // Will payload\n    let password // Password\n    let username // Username\n    const flags = {}\n    const packet = this.packet\n\n    // Parse protocolId\n    const protocolId = this._parseString()\n\n    if (protocolId === null) return this._emitError(new Error('Cannot parse protocolId'))\n    if (protocolId !== 'MQTT' && protocolId !== 'MQIsdp') {\n      return this._emitError(new Error('Invalid protocolId'))\n    }\n\n    packet.protocolId = protocolId\n\n    // Parse constants version number\n    if (this._pos >= this._list.length) return this._emitError(new Error('Packet too short'))\n\n    packet.protocolVersion = this._list.readUInt8(this._pos)\n\n    if (packet.protocolVersion >= 128) {\n      packet.bridgeMode = true\n      packet.protocolVersion = packet.protocolVersion - 128\n    }\n\n    if (packet.protocolVersion !== 3 && packet.protocolVersion !== 4 && packet.protocolVersion !== 5) {\n      return this._emitError(new Error('Invalid protocol version'))\n    }\n\n    this._pos++\n\n    if (this._pos >= this._list.length) {\n      return this._emitError(new Error('Packet too short'))\n    }\n\n    if (this._list.readUInt8(this._pos) & 0x1) {\n      // The Server MUST validate that the reserved flag in the CONNECT Control Packet is set to zero and disconnect the Client if it is not zero [MQTT-3.1.2-3]\n      return this._emitError(new Error('Connect flag bit 0 must be 0, but got 1'))\n    }\n    // Parse connect flags\n    flags.username = (this._list.readUInt8(this._pos) & constants.USERNAME_MASK)\n    flags.password = (this._list.readUInt8(this._pos) & constants.PASSWORD_MASK)\n    flags.will = (this._list.readUInt8(this._pos) & constants.WILL_FLAG_MASK)\n\n    const willRetain = !!(this._list.readUInt8(this._pos) & constants.WILL_RETAIN_MASK)\n    const willQos = (this._list.readUInt8(this._pos) &\n        constants.WILL_QOS_MASK) >> constants.WILL_QOS_SHIFT\n\n    if (flags.will) {\n      packet.will = {}\n      packet.will.retain = willRetain\n      packet.will.qos = willQos\n    } else {\n      if (willRetain) {\n        return this._emitError(new Error('Will Retain Flag must be set to zero when Will Flag is set to 0'))\n      }\n      if (willQos) {\n        return this._emitError(new Error('Will QoS must be set to zero when Will Flag is set to 0'))\n      }\n    }\n\n    packet.clean = (this._list.readUInt8(this._pos) & constants.CLEAN_SESSION_MASK) !== 0\n    this._pos++\n\n    // Parse keepalive\n    packet.keepalive = this._parseNum()\n    if (packet.keepalive === -1) return this._emitError(new Error('Packet too short'))\n\n    // parse properties\n    if (packet.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n    // Parse clientId\n    const clientId = this._parseString()\n    if (clientId === null) return this._emitError(new Error('Packet too short'))\n    packet.clientId = clientId\n    debug('_parseConnect: packet.clientId: %s', packet.clientId)\n\n    if (flags.will) {\n      if (packet.protocolVersion === 5) {\n        const willProperties = this._parseProperties()\n        if (Object.getOwnPropertyNames(willProperties).length) {\n          packet.will.properties = willProperties\n        }\n      }\n      // Parse will topic\n      topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse will topic'))\n      packet.will.topic = topic\n      debug('_parseConnect: packet.will.topic: %s', packet.will.topic)\n\n      // Parse will payload\n      payload = this._parseBuffer()\n      if (payload === null) return this._emitError(new Error('Cannot parse will payload'))\n      packet.will.payload = payload\n      debug('_parseConnect: packet.will.paylaod: %s', packet.will.payload)\n    }\n\n    // Parse username\n    if (flags.username) {\n      username = this._parseString()\n      if (username === null) return this._emitError(new Error('Cannot parse username'))\n      packet.username = username\n      debug('_parseConnect: packet.username: %s', packet.username)\n    }\n\n    // Parse password\n    if (flags.password) {\n      password = this._parseBuffer()\n      if (password === null) return this._emitError(new Error('Cannot parse password'))\n      packet.password = password\n    }\n    // need for right parse auth packet and self set up\n    this.settings = packet\n    debug('_parseConnect: complete')\n    return packet\n  }\n\n  _parseConnack () {\n    debug('_parseConnack')\n    const packet = this.packet\n\n    if (this._list.length < 1) return null\n    const flags = this._list.readUInt8(this._pos++)\n    if (flags > 1) {\n      return this._emitError(new Error('Invalid connack flags, bits 7-1 must be set to 0'))\n    }\n    packet.sessionPresent = !!(flags & constants.SESSIONPRESENT_MASK)\n\n    if (this.settings.protocolVersion === 5) {\n      if (this._list.length >= 2) {\n        packet.reasonCode = this._list.readUInt8(this._pos++)\n      } else {\n        packet.reasonCode = 0\n      }\n    } else {\n      if (this._list.length < 2) return null\n      packet.returnCode = this._list.readUInt8(this._pos++)\n    }\n\n    if (packet.returnCode === -1 || packet.reasonCode === -1) return this._emitError(new Error('Cannot parse return code'))\n    // mqtt 5 properties\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n    debug('_parseConnack: complete')\n  }\n\n  _parsePublish () {\n    debug('_parsePublish')\n    const packet = this.packet\n    packet.topic = this._parseString()\n\n    if (packet.topic === null) return this._emitError(new Error('Cannot parse topic'))\n\n    // Parse messageId\n    if (packet.qos > 0) if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    packet.payload = this._list.slice(this._pos, packet.length)\n    debug('_parsePublish: payload from buffer list: %o', packet.payload)\n  }\n\n  _parseSubscribe () {\n    debug('_parseSubscribe')\n    const packet = this.packet\n    let topic\n    let options\n    let qos\n    let rh\n    let rap\n    let nl\n    let subscription\n\n    packet.subscriptions = []\n\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed subscribe, no payload specified')) }\n\n    while (this._pos < packet.length) {\n      // Parse topic\n      topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse topic'))\n      if (this._pos >= packet.length) return this._emitError(new Error('Malformed Subscribe Payload'))\n\n      options = this._parseByte()\n\n      if (this.settings.protocolVersion === 5) {\n        if (options & 0xc0) {\n          return this._emitError(new Error('Invalid subscribe topic flag bits, bits 7-6 must be 0'))\n        }\n      } else {\n        if (options & 0xfc) {\n          return this._emitError(new Error('Invalid subscribe topic flag bits, bits 7-2 must be 0'))\n        }\n      }\n\n      qos = options & constants.SUBSCRIBE_OPTIONS_QOS_MASK\n      if (qos > 2) {\n        return this._emitError(new Error('Invalid subscribe QoS, must be <= 2'))\n      }\n      nl = ((options >> constants.SUBSCRIBE_OPTIONS_NL_SHIFT) & constants.SUBSCRIBE_OPTIONS_NL_MASK) !== 0\n      rap = ((options >> constants.SUBSCRIBE_OPTIONS_RAP_SHIFT) & constants.SUBSCRIBE_OPTIONS_RAP_MASK) !== 0\n      rh = (options >> constants.SUBSCRIBE_OPTIONS_RH_SHIFT) & constants.SUBSCRIBE_OPTIONS_RH_MASK\n\n      if (rh > 2) {\n        return this._emitError(new Error('Invalid retain handling, must be <= 2'))\n      }\n\n      subscription = { topic, qos }\n\n      // mqtt 5 options\n      if (this.settings.protocolVersion === 5) {\n        subscription.nl = nl\n        subscription.rap = rap\n        subscription.rh = rh\n      } else if (this.settings.bridgeMode) {\n        subscription.rh = 0\n        subscription.rap = true\n        subscription.nl = true\n      }\n\n      // Push pair to subscriptions\n      debug('_parseSubscribe: push subscription `%s` to subscription', subscription)\n      packet.subscriptions.push(subscription)\n    }\n  }\n\n  _parseSuback () {\n    debug('_parseSuback')\n    const packet = this.packet\n    this.packet.granted = []\n\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed suback, no payload specified')) }\n\n    // Parse granted QoSes\n    while (this._pos < this.packet.length) {\n      const code = this._list.readUInt8(this._pos++)\n      if (this.settings.protocolVersion === 5) {\n        if (!constants.MQTT5_SUBACK_CODES[code]) {\n          return this._emitError(new Error('Invalid suback code'))\n        }\n      } else {\n        if (code > 2 && code !== 0x80) {\n          return this._emitError(new Error('Invalid suback QoS, must be 0, 1, 2 or 128'))\n        }\n      }\n      this.packet.granted.push(code)\n    }\n  }\n\n  _parseUnsubscribe () {\n    debug('_parseUnsubscribe')\n    const packet = this.packet\n\n    packet.unsubscriptions = []\n\n    // Parse messageId\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed unsubscribe, no payload specified')) }\n\n    while (this._pos < packet.length) {\n      // Parse topic\n      const topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse topic'))\n\n      // Push topic to unsubscriptions\n      debug('_parseUnsubscribe: push topic `%s` to unsubscriptions', topic)\n      packet.unsubscriptions.push(topic)\n    }\n  }\n\n  _parseUnsuback () {\n    debug('_parseUnsuback')\n    const packet = this.packet\n    if (!this._parseMessageId()) return this._emitError(new Error('Cannot parse messageId'))\n\n    if ((this.settings.protocolVersion === 3 ||\n      this.settings.protocolVersion === 4) && packet.length !== 2) {\n      return this._emitError(new Error('Malformed unsuback, payload length must be 2'))\n    }\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed unsuback, no payload specified')) }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n      // Parse granted QoSes\n      packet.granted = []\n\n      while (this._pos < this.packet.length) {\n        const code = this._list.readUInt8(this._pos++)\n        if (!constants.MQTT5_UNSUBACK_CODES[code]) {\n          return this._emitError(new Error('Invalid unsuback code'))\n        }\n        this.packet.granted.push(code)\n      }\n    }\n  }\n\n  // parse packets like puback, pubrec, pubrel, pubcomp\n  _parseConfirmation () {\n    debug('_parseConfirmation: packet.cmd: `%s`', this.packet.cmd)\n    const packet = this.packet\n\n    this._parseMessageId()\n\n    if (this.settings.protocolVersion === 5) {\n      if (packet.length > 2) {\n        // response code\n        packet.reasonCode = this._parseByte()\n        switch (this.packet.cmd) {\n          case 'puback':\n          case 'pubrec':\n            if (!constants.MQTT5_PUBACK_PUBREC_CODES[packet.reasonCode]) {\n              return this._emitError(new Error('Invalid ' + this.packet.cmd + ' reason code'))\n            }\n            break\n          case 'pubrel':\n          case 'pubcomp':\n            if (!constants.MQTT5_PUBREL_PUBCOMP_CODES[packet.reasonCode]) {\n              return this._emitError(new Error('Invalid ' + this.packet.cmd + ' reason code'))\n            }\n            break\n        }\n        debug('_parseConfirmation: packet.reasonCode `%d`', packet.reasonCode)\n      } else {\n        packet.reasonCode = 0\n      }\n\n      if (packet.length > 3) {\n        // properies mqtt 5\n        const properties = this._parseProperties()\n        if (Object.getOwnPropertyNames(properties).length) {\n          packet.properties = properties\n        }\n      }\n    }\n\n    return true\n  }\n\n  // parse disconnect packet\n  _parseDisconnect () {\n    const packet = this.packet\n    debug('_parseDisconnect')\n\n    if (this.settings.protocolVersion === 5) {\n      // response code\n      if (this._list.length > 0) {\n        packet.reasonCode = this._parseByte()\n        if (!constants.MQTT5_DISCONNECT_CODES[packet.reasonCode]) {\n          this._emitError(new Error('Invalid disconnect reason code'))\n        }\n      } else {\n        packet.reasonCode = 0\n      }\n      // properies mqtt 5\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    debug('_parseDisconnect result: true')\n    return true\n  }\n\n  // parse auth packet\n  _parseAuth () {\n    debug('_parseAuth')\n    const packet = this.packet\n\n    if (this.settings.protocolVersion !== 5) {\n      return this._emitError(new Error('Not supported auth packet for this version MQTT'))\n    }\n\n    // response code\n    packet.reasonCode = this._parseByte()\n    if (!constants.MQTT5_AUTH_CODES[packet.reasonCode]) {\n      return this._emitError(new Error('Invalid auth reason code'))\n    }\n    // properies mqtt 5\n    const properties = this._parseProperties()\n    if (Object.getOwnPropertyNames(properties).length) {\n      packet.properties = properties\n    }\n\n    debug('_parseAuth: result: true')\n    return true\n  }\n\n  _parseMessageId () {\n    const packet = this.packet\n\n    packet.messageId = this._parseNum()\n\n    if (packet.messageId === null) {\n      this._emitError(new Error('Cannot parse messageId'))\n      return false\n    }\n\n    debug('_parseMessageId: packet.messageId %d', packet.messageId)\n    return true\n  }\n\n  _parseString (maybeBuffer) {\n    const length = this._parseNum()\n    const end = length + this._pos\n\n    if (length === -1 || end > this._list.length || end > this.packet.length) return null\n\n    const result = this._list.toString('utf8', this._pos, end)\n    this._pos += length\n    debug('_parseString: result: %s', result)\n    return result\n  }\n\n  _parseStringPair () {\n    debug('_parseStringPair')\n    return {\n      name: this._parseString(),\n      value: this._parseString()\n    }\n  }\n\n  _parseBuffer () {\n    const length = this._parseNum()\n    const end = length + this._pos\n\n    if (length === -1 || end > this._list.length || end > this.packet.length) return null\n\n    const result = this._list.slice(this._pos, end)\n\n    this._pos += length\n    debug('_parseBuffer: result: %o', result)\n    return result\n  }\n\n  _parseNum () {\n    if (this._list.length - this._pos < 2) return -1\n\n    const result = this._list.readUInt16BE(this._pos)\n    this._pos += 2\n    debug('_parseNum: result: %s', result)\n    return result\n  }\n\n  _parse4ByteNum () {\n    if (this._list.length - this._pos < 4) return -1\n\n    const result = this._list.readUInt32BE(this._pos)\n    this._pos += 4\n    debug('_parse4ByteNum: result: %s', result)\n    return result\n  }\n\n  _parseVarByteNum (fullInfoFlag) {\n    debug('_parseVarByteNum')\n    const maxBytes = 4\n    let bytes = 0\n    let mul = 1\n    let value = 0\n    let result = false\n    let current\n    const padding = this._pos ? this._pos : 0\n\n    while (bytes < maxBytes && (padding + bytes) < this._list.length) {\n      current = this._list.readUInt8(padding + bytes++)\n      value += mul * (current & constants.VARBYTEINT_MASK)\n      mul *= 0x80\n\n      if ((current & constants.VARBYTEINT_FIN_MASK) === 0) {\n        result = true\n        break\n      }\n      if (this._list.length <= bytes) {\n        break\n      }\n    }\n\n    if (!result && bytes === maxBytes && this._list.length >= bytes) {\n      this._emitError(new Error('Invalid variable byte integer'))\n    }\n\n    if (padding) {\n      this._pos += bytes\n    }\n\n    if (result) {\n      if (fullInfoFlag) {\n        result = { bytes, value }\n      } else {\n        result = value\n      }\n    } else {\n      result = false\n    }\n\n    debug('_parseVarByteNum: result: %o', result)\n    return result\n  }\n\n  _parseByte () {\n    let result\n    if (this._pos < this._list.length) {\n      result = this._list.readUInt8(this._pos)\n      this._pos++\n    }\n    debug('_parseByte: result: %o', result)\n    return result\n  }\n\n  _parseByType (type) {\n    debug('_parseByType: type: %s', type)\n    switch (type) {\n      case 'byte': {\n        return this._parseByte() !== 0\n      }\n      case 'int8': {\n        return this._parseByte()\n      }\n      case 'int16': {\n        return this._parseNum()\n      }\n      case 'int32': {\n        return this._parse4ByteNum()\n      }\n      case 'var': {\n        return this._parseVarByteNum()\n      }\n      case 'string': {\n        return this._parseString()\n      }\n      case 'pair': {\n        return this._parseStringPair()\n      }\n      case 'binary': {\n        return this._parseBuffer()\n      }\n    }\n  }\n\n  _parseProperties () {\n    debug('_parseProperties')\n    const length = this._parseVarByteNum()\n    const start = this._pos\n    const end = start + length\n    const result = {}\n    while (this._pos < end) {\n      const type = this._parseByte()\n      if (!type) {\n        this._emitError(new Error('Cannot parse property code type'))\n        return false\n      }\n      const name = constants.propertiesCodes[type]\n      if (!name) {\n        this._emitError(new Error('Unknown property'))\n        return false\n      }\n      // user properties process\n      if (name === 'userProperties') {\n        if (!result[name]) {\n          result[name] = Object.create(null)\n        }\n        const currentUserProperty = this._parseByType(constants.propertiesTypes[name])\n        if (result[name][currentUserProperty.name]) {\n          if (Array.isArray(result[name][currentUserProperty.name])) {\n            result[name][currentUserProperty.name].push(currentUserProperty.value)\n          } else {\n            const currentValue = result[name][currentUserProperty.name]\n            result[name][currentUserProperty.name] = [currentValue]\n            result[name][currentUserProperty.name].push(currentUserProperty.value)\n          }\n        } else {\n          result[name][currentUserProperty.name] = currentUserProperty.value\n        }\n        continue\n      }\n      if (result[name]) {\n        if (Array.isArray(result[name])) {\n          result[name].push(this._parseByType(constants.propertiesTypes[name]))\n        } else {\n          result[name] = [result[name]]\n          result[name].push(this._parseByType(constants.propertiesTypes[name]))\n        }\n      } else {\n        result[name] = this._parseByType(constants.propertiesTypes[name])\n      }\n    }\n    return result\n  }\n\n  _newPacket () {\n    debug('_newPacket')\n    if (this.packet) {\n      this._list.consume(this.packet.length)\n      debug('_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d', this.packet.cmd, this.packet.payload, this.packet.length)\n      this.emit('packet', this.packet)\n    }\n    debug('_newPacket: new packet')\n    this.packet = new Packet()\n\n    this._pos = 0\n\n    return true\n  }\n\n  _emitError (err) {\n    debug('_emitError', err)\n    this.error = err\n    this.emit('error', err)\n  }\n}\n\nmodule.exports = Parser\n","const protocol = require('./constants')\nconst { Buffer } = require('buffer')\nconst empty = Buffer.allocUnsafe(0)\nconst zeroBuf = Buffer.from([0])\nconst numbers = require('./numbers')\nconst nextTick = require('process-nextick-args').nextTick\nconst debug = require('debug')('mqtt-packet:writeToStream')\n\nconst numCache = numbers.cache\nconst generateNumber = numbers.generateNumber\nconst generateCache = numbers.generateCache\nconst genBufVariableByteInt = numbers.genBufVariableByteInt\nconst generate4ByteBuffer = numbers.generate4ByteBuffer\nlet writeNumber = writeNumberCached\nlet toGenerate = true\n\nfunction generate (packet, stream, opts) {\n  debug('generate called')\n  if (stream.cork) {\n    stream.cork()\n    nextTick(uncork, stream)\n  }\n\n  if (toGenerate) {\n    toGenerate = false\n    generateCache()\n  }\n  debug('generate: packet.cmd: %s', packet.cmd)\n  switch (packet.cmd) {\n    case 'connect':\n      return connect(packet, stream, opts)\n    case 'connack':\n      return connack(packet, stream, opts)\n    case 'publish':\n      return publish(packet, stream, opts)\n    case 'puback':\n    case 'pubrec':\n    case 'pubrel':\n    case 'pubcomp':\n      return confirmation(packet, stream, opts)\n    case 'subscribe':\n      return subscribe(packet, stream, opts)\n    case 'suback':\n      return suback(packet, stream, opts)\n    case 'unsubscribe':\n      return unsubscribe(packet, stream, opts)\n    case 'unsuback':\n      return unsuback(packet, stream, opts)\n    case 'pingreq':\n    case 'pingresp':\n      return emptyPacket(packet, stream, opts)\n    case 'disconnect':\n      return disconnect(packet, stream, opts)\n    case 'auth':\n      return auth(packet, stream, opts)\n    default:\n      stream.destroy(new Error('Unknown command'))\n      return false\n  }\n}\n/**\n * Controls numbers cache.\n * Set to \"false\" to allocate buffers on-the-flight instead of pre-generated cache\n */\nObject.defineProperty(generate, 'cacheNumbers', {\n  get () {\n    return writeNumber === writeNumberCached\n  },\n  set (value) {\n    if (value) {\n      if (!numCache || Object.keys(numCache).length === 0) toGenerate = true\n      writeNumber = writeNumberCached\n    } else {\n      toGenerate = false\n      writeNumber = writeNumberGenerated\n    }\n  }\n})\n\nfunction uncork (stream) {\n  stream.uncork()\n}\n\nfunction connect (packet, stream, opts) {\n  const settings = packet || {}\n  const protocolId = settings.protocolId || 'MQTT'\n  let protocolVersion = settings.protocolVersion || 4\n  const will = settings.will\n  let clean = settings.clean\n  const keepalive = settings.keepalive || 0\n  const clientId = settings.clientId || ''\n  const username = settings.username\n  const password = settings.password\n  /* mqtt5 new oprions */\n  const properties = settings.properties\n\n  if (clean === undefined) clean = true\n\n  let length = 0\n\n  // Must be a string and non-falsy\n  if (!protocolId ||\n     (typeof protocolId !== 'string' && !Buffer.isBuffer(protocolId))) {\n    stream.destroy(new Error('Invalid protocolId'))\n    return false\n  } else length += protocolId.length + 2\n\n  // Must be 3 or 4 or 5\n  if (protocolVersion !== 3 && protocolVersion !== 4 && protocolVersion !== 5) {\n    stream.destroy(new Error('Invalid protocol version'))\n    return false\n  } else length += 1\n\n  // ClientId might be omitted in 3.1.1 and 5, but only if cleanSession is set to 1\n  if ((typeof clientId === 'string' || Buffer.isBuffer(clientId)) &&\n     (clientId || protocolVersion >= 4) && (clientId || clean)) {\n    length += Buffer.byteLength(clientId) + 2\n  } else {\n    if (protocolVersion < 4) {\n      stream.destroy(new Error('clientId must be supplied before 3.1.1'))\n      return false\n    }\n    if ((clean * 1) === 0) {\n      stream.destroy(new Error('clientId must be given if cleanSession set to 0'))\n      return false\n    }\n  }\n\n  // Must be a two byte number\n  if (typeof keepalive !== 'number' ||\n      keepalive < 0 ||\n      keepalive > 65535 ||\n      keepalive % 1 !== 0) {\n    stream.destroy(new Error('Invalid keepalive'))\n    return false\n  } else length += 2\n\n  // Connect flags\n  length += 1\n\n  let propertiesData\n  let willProperties\n\n  // Properties\n  if (protocolVersion === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // If will exists...\n  if (will) {\n    // It must be an object\n    if (typeof will !== 'object') {\n      stream.destroy(new Error('Invalid will'))\n      return false\n    }\n    // It must have topic typeof string\n    if (!will.topic || typeof will.topic !== 'string') {\n      stream.destroy(new Error('Invalid will topic'))\n      return false\n    } else {\n      length += Buffer.byteLength(will.topic) + 2\n    }\n\n    // Payload\n    length += 2 // payload length\n    if (will.payload) {\n      if (will.payload.length >= 0) {\n        if (typeof will.payload === 'string') {\n          length += Buffer.byteLength(will.payload)\n        } else {\n          length += will.payload.length\n        }\n      } else {\n        stream.destroy(new Error('Invalid will payload'))\n        return false\n      }\n    }\n    // will properties\n    willProperties = {}\n    if (protocolVersion === 5) {\n      willProperties = getProperties(stream, will.properties)\n      if (!willProperties) { return false }\n      length += willProperties.length\n    }\n  }\n\n  // Username\n  let providedUsername = false\n  if (username != null) {\n    if (isStringOrBuffer(username)) {\n      providedUsername = true\n      length += Buffer.byteLength(username) + 2\n    } else {\n      stream.destroy(new Error('Invalid username'))\n      return false\n    }\n  }\n\n  // Password\n  if (password != null) {\n    if (!providedUsername) {\n      stream.destroy(new Error('Username is required to use password'))\n      return false\n    }\n\n    if (isStringOrBuffer(password)) {\n      length += byteLength(password) + 2\n    } else {\n      stream.destroy(new Error('Invalid password'))\n      return false\n    }\n  }\n\n  // Generate header\n  stream.write(protocol.CONNECT_HEADER)\n\n  // Generate length\n  writeVarByteInt(stream, length)\n\n  // Generate protocol ID\n  writeStringOrBuffer(stream, protocolId)\n\n  if (settings.bridgeMode) {\n    protocolVersion += 128\n  }\n\n  stream.write(\n    protocolVersion === 131\n      ? protocol.VERSION131\n      : protocolVersion === 132\n        ? protocol.VERSION132\n        : protocolVersion === 4\n          ? protocol.VERSION4\n          : protocolVersion === 5\n            ? protocol.VERSION5\n            : protocol.VERSION3\n  )\n\n  // Connect flags\n  let flags = 0\n  flags |= (username != null) ? protocol.USERNAME_MASK : 0\n  flags |= (password != null) ? protocol.PASSWORD_MASK : 0\n  flags |= (will && will.retain) ? protocol.WILL_RETAIN_MASK : 0\n  flags |= (will && will.qos) ? will.qos << protocol.WILL_QOS_SHIFT : 0\n  flags |= will ? protocol.WILL_FLAG_MASK : 0\n  flags |= clean ? protocol.CLEAN_SESSION_MASK : 0\n\n  stream.write(Buffer.from([flags]))\n\n  // Keepalive\n  writeNumber(stream, keepalive)\n\n  // Properties\n  if (protocolVersion === 5) {\n    propertiesData.write()\n  }\n\n  // Client ID\n  writeStringOrBuffer(stream, clientId)\n\n  // Will\n  if (will) {\n    if (protocolVersion === 5) {\n      willProperties.write()\n    }\n    writeString(stream, will.topic)\n    writeStringOrBuffer(stream, will.payload)\n  }\n\n  // Username and password\n  if (username != null) {\n    writeStringOrBuffer(stream, username)\n  }\n  if (password != null) {\n    writeStringOrBuffer(stream, password)\n  }\n  // This is a small packet that happens only once on a stream\n  // We assume the stream is always free to receive more data after this\n  return true\n}\n\nfunction connack (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const rc = version === 5 ? settings.reasonCode : settings.returnCode\n  const properties = settings.properties\n  let length = 2 // length of rc and sessionHeader\n\n  // Check return code\n  if (typeof rc !== 'number') {\n    stream.destroy(new Error('Invalid return code'))\n    return false\n  }\n  // mqtt5 properties\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  stream.write(protocol.CONNACK_HEADER)\n  // length\n  writeVarByteInt(stream, length)\n  stream.write(settings.sessionPresent ? protocol.SESSIONPRESENT_HEADER : zeroBuf)\n\n  stream.write(Buffer.from([rc]))\n  if (propertiesData != null) {\n    propertiesData.write()\n  }\n  return true\n}\n\nfunction publish (packet, stream, opts) {\n  debug('publish: packet: %o', packet)\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const qos = settings.qos || 0\n  const retain = settings.retain ? protocol.RETAIN_MASK : 0\n  const topic = settings.topic\n  const payload = settings.payload || empty\n  const id = settings.messageId\n  const properties = settings.properties\n\n  let length = 0\n\n  // Topic must be a non-empty string or Buffer\n  if (typeof topic === 'string') length += Buffer.byteLength(topic) + 2\n  else if (Buffer.isBuffer(topic)) length += topic.length + 2\n  else {\n    stream.destroy(new Error('Invalid topic'))\n    return false\n  }\n\n  // Get the payload length\n  if (!Buffer.isBuffer(payload)) length += Buffer.byteLength(payload)\n  else length += payload.length\n\n  // Message ID must a number if qos > 0\n  if (qos && typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else if (qos) length += 2\n\n  // mqtt5 properties\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.PUBLISH_HEADER[qos][settings.dup ? 1 : 0][retain ? 1 : 0])\n\n  // Remaining length\n  writeVarByteInt(stream, length)\n\n  // Topic\n  writeNumber(stream, byteLength(topic))\n  stream.write(topic)\n\n  // Message ID\n  if (qos > 0) writeNumber(stream, id)\n\n  // Properties\n  if (propertiesData != null) {\n    propertiesData.write()\n  }\n\n  // Payload\n  debug('publish: payload: %o', payload)\n  return stream.write(payload)\n}\n\n/* Puback, pubrec, pubrel and pubcomp */\nfunction confirmation (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const type = settings.cmd || 'puback'\n  const id = settings.messageId\n  const dup = (settings.dup && type === 'pubrel') ? protocol.DUP_MASK : 0\n  let qos = 0\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 3 : 2\n\n  if (type === 'pubrel') qos = 1\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    // Confirm should not add empty property length with no properties (rfc 3.4.2.2.1)\n    if (typeof properties === 'object') {\n      propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n      if (!propertiesData) { return false }\n      length += propertiesData.length\n    }\n  }\n\n  // Header\n  stream.write(protocol.ACKS[type][qos][dup][0])\n\n  // Length === 3 is only true of version === 5 and no properties; therefore if reasonCode === 0 we are allowed to skip both bytes - but if we write the reason code we also have to write property length [MQTT-3.4.2-1].\n  if (length === 3) length += reasonCode !== 0 ? 1 : -1\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // reason code in header - but only if it couldn't be omitted - indicated by length !== 2.\n  if (version === 5 && length !== 2) {\n    stream.write(Buffer.from([reasonCode]))\n  }\n\n  // properties mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  } else {\n    if (length === 4) {\n      // we have no properties but have written a reason code - so we need to indicate empty properties by filling in a zero.\n      stream.write(Buffer.from([0]))\n    }\n  }\n  return true\n}\n\nfunction subscribe (packet, stream, opts) {\n  debug('subscribe: packet: ')\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const id = settings.messageId\n  const subs = settings.subscriptions\n  const properties = settings.properties\n\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else length += 2\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Check subscriptions\n  if (typeof subs === 'object' && subs.length) {\n    for (let i = 0; i < subs.length; i += 1) {\n      const itopic = subs[i].topic\n      const iqos = subs[i].qos\n\n      if (typeof itopic !== 'string') {\n        stream.destroy(new Error('Invalid subscriptions - invalid topic'))\n        return false\n      }\n      if (typeof iqos !== 'number') {\n        stream.destroy(new Error('Invalid subscriptions - invalid qos'))\n        return false\n      }\n\n      if (version === 5) {\n        const nl = subs[i].nl || false\n        if (typeof nl !== 'boolean') {\n          stream.destroy(new Error('Invalid subscriptions - invalid No Local'))\n          return false\n        }\n        const rap = subs[i].rap || false\n        if (typeof rap !== 'boolean') {\n          stream.destroy(new Error('Invalid subscriptions - invalid Retain as Published'))\n          return false\n        }\n        const rh = subs[i].rh || 0\n        if (typeof rh !== 'number' || rh > 2) {\n          stream.destroy(new Error('Invalid subscriptions - invalid Retain Handling'))\n          return false\n        }\n      }\n\n      length += Buffer.byteLength(itopic) + 2 + 1\n    }\n  } else {\n    stream.destroy(new Error('Invalid subscriptions'))\n    return false\n  }\n\n  // Generate header\n  debug('subscribe: writing to stream: %o', protocol.SUBSCRIBE_HEADER)\n  stream.write(protocol.SUBSCRIBE_HEADER[1][dup ? 1 : 0][0])\n\n  // Generate length\n  writeVarByteInt(stream, length)\n\n  // Generate message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  let result = true\n\n  // Generate subs\n  for (const sub of subs) {\n    const jtopic = sub.topic\n    const jqos = sub.qos\n    const jnl = +sub.nl\n    const jrap = +sub.rap\n    const jrh = sub.rh\n    let joptions\n\n    // Write topic string\n    writeString(stream, jtopic)\n\n    // options process\n    joptions = protocol.SUBSCRIBE_OPTIONS_QOS[jqos]\n    if (version === 5) {\n      joptions |= jnl ? protocol.SUBSCRIBE_OPTIONS_NL : 0\n      joptions |= jrap ? protocol.SUBSCRIBE_OPTIONS_RAP : 0\n      joptions |= jrh ? protocol.SUBSCRIBE_OPTIONS_RH[jrh] : 0\n    }\n    // Write options\n    result = stream.write(Buffer.from([joptions]))\n  }\n\n  return result\n}\n\nfunction suback (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const granted = settings.granted\n  const properties = settings.properties\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else length += 2\n\n  // Check granted qos vector\n  if (typeof granted === 'object' && granted.length) {\n    for (let i = 0; i < granted.length; i += 1) {\n      if (typeof granted[i] !== 'number') {\n        stream.destroy(new Error('Invalid qos vector'))\n        return false\n      }\n      length += 1\n    }\n  } else {\n    stream.destroy(new Error('Invalid qos vector'))\n    return false\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // header\n  stream.write(protocol.SUBACK_HEADER)\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  return stream.write(Buffer.from(granted))\n}\n\nfunction unsubscribe (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const unsubs = settings.unsubscriptions\n  const properties = settings.properties\n\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else {\n    length += 2\n  }\n  // Check unsubs\n  if (typeof unsubs === 'object' && unsubs.length) {\n    for (let i = 0; i < unsubs.length; i += 1) {\n      if (typeof unsubs[i] !== 'string') {\n        stream.destroy(new Error('Invalid unsubscriptions'))\n        return false\n      }\n      length += Buffer.byteLength(unsubs[i]) + 2\n    }\n  } else {\n    stream.destroy(new Error('Invalid unsubscriptions'))\n    return false\n  }\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.UNSUBSCRIBE_HEADER[1][dup ? 1 : 0][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  // Unsubs\n  let result = true\n  for (let j = 0; j < unsubs.length; j++) {\n    result = writeString(stream, unsubs[j])\n  }\n\n  return result\n}\n\nfunction unsuback (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const granted = settings.granted\n  const properties = settings.properties\n  const type = settings.cmd\n  const qos = 0\n\n  let length = 2\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  }\n\n  // Check granted\n  if (version === 5) {\n    if (typeof granted === 'object' && granted.length) {\n      for (let i = 0; i < granted.length; i += 1) {\n        if (typeof granted[i] !== 'number') {\n          stream.destroy(new Error('Invalid qos vector'))\n          return false\n        }\n        length += 1\n      }\n    } else {\n      stream.destroy(new Error('Invalid qos vector'))\n      return false\n    }\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.ACKS[type][qos][dup][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  // payload\n  if (version === 5) {\n    stream.write(Buffer.from(granted))\n  }\n  return true\n}\n\nfunction emptyPacket (packet, stream, opts) {\n  return stream.write(protocol.EMPTY[packet.cmd])\n}\n\nfunction disconnect (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 1 : 0\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(Buffer.from([protocol.codes.disconnect << 4]))\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // reason code in header\n  if (version === 5) {\n    stream.write(Buffer.from([reasonCode]))\n  }\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  return true\n}\n\nfunction auth (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 1 : 0\n\n  if (version !== 5) stream.destroy(new Error('Invalid mqtt version for auth packet'))\n\n  // properies mqtt 5\n  const propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n  if (!propertiesData) { return false }\n  length += propertiesData.length\n\n  // Header\n  stream.write(Buffer.from([protocol.codes.auth << 4]))\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // reason code in header\n  stream.write(Buffer.from([reasonCode]))\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n  return true\n}\n\n/**\n * writeVarByteInt - write an MQTT style variable byte integer to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <Number> length - length (>0)\n * @returns <Number> number of bytes written\n *\n * @api private\n */\n\nconst varByteIntCache = {}\nfunction writeVarByteInt (stream, num) {\n  if (num > protocol.VARBYTEINT_MAX) {\n    stream.destroy(new Error(`Invalid variable byte integer: ${num}`))\n    return false\n  }\n\n  let buffer = varByteIntCache[num]\n\n  if (!buffer) {\n    buffer = genBufVariableByteInt(num)\n    if (num < 16384) varByteIntCache[num] = buffer\n  }\n  debug('writeVarByteInt: writing to stream: %o', buffer)\n  return stream.write(buffer)\n}\n\n/**\n * writeString - write a utf8 string to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> string - string to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\n\nfunction writeString (stream, string) {\n  const strlen = Buffer.byteLength(string)\n  writeNumber(stream, strlen)\n\n  debug('writeString: %s', string)\n  return stream.write(string, 'utf8')\n}\n\n/**\n * writeStringPair - write a utf8 string pairs to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <String> name - string name to write\n * @param <String> value - string value to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\nfunction writeStringPair (stream, name, value) {\n  writeString(stream, name)\n  writeString(stream, value)\n}\n\n/**\n * writeNumber - write a two byte number to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> number - number to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\nfunction writeNumberCached (stream, number) {\n  debug('writeNumberCached: number: %d', number)\n  debug('writeNumberCached: %o', numCache[number])\n  return stream.write(numCache[number])\n}\nfunction writeNumberGenerated (stream, number) {\n  const generatedNumber = generateNumber(number)\n  debug('writeNumberGenerated: %o', generatedNumber)\n  return stream.write(generatedNumber)\n}\nfunction write4ByteNumber (stream, number) {\n  const generated4ByteBuffer = generate4ByteBuffer(number)\n  debug('write4ByteNumber: %o', generated4ByteBuffer)\n  return stream.write(generated4ByteBuffer)\n}\n/**\n * writeStringOrBuffer - write a String or Buffer with the its length prefix\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> toWrite - String or Buffer\n * @return <Number> number of bytes written\n */\nfunction writeStringOrBuffer (stream, toWrite) {\n  if (typeof toWrite === 'string') {\n    writeString(stream, toWrite)\n  } else if (toWrite) {\n    writeNumber(stream, toWrite.length)\n    stream.write(toWrite)\n  } else writeNumber(stream, 0)\n}\n\nfunction getProperties (stream, properties) {\n  /* connect properties */\n  if (typeof properties !== 'object' || properties.length != null) {\n    return {\n      length: 1,\n      write () {\n        writeProperties(stream, {}, 0)\n      }\n    }\n  }\n  let propertiesLength = 0\n  function getLengthProperty (name, value) {\n    const type = protocol.propertiesTypes[name]\n    let length = 0\n    switch (type) {\n      case 'byte': {\n        if (typeof value !== 'boolean') {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 1\n        break\n      }\n      case 'int8': {\n        if (typeof value !== 'number' || value < 0 || value > 0xff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 1\n        break\n      }\n      case 'binary': {\n        if (value && value === null) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + Buffer.byteLength(value) + 2\n        break\n      }\n      case 'int16': {\n        if (typeof value !== 'number' || value < 0 || value > 0xffff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 2\n        break\n      }\n      case 'int32': {\n        if (typeof value !== 'number' || value < 0 || value > 0xffffffff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 4\n        break\n      }\n      case 'var': {\n        // var byte integer is max 24 bits packed in 32 bits\n        if (typeof value !== 'number' || value < 0 || value > 0x0fffffff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + Buffer.byteLength(genBufVariableByteInt(value))\n        break\n      }\n      case 'string': {\n        if (typeof value !== 'string') {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 2 + Buffer.byteLength(value.toString())\n        break\n      }\n      case 'pair': {\n        if (typeof value !== 'object') {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += Object.getOwnPropertyNames(value).reduce((result, name) => {\n          const currentValue = value[name]\n          if (Array.isArray(currentValue)) {\n            result += currentValue.reduce((currentLength, value) => {\n              currentLength += 1 + 2 + Buffer.byteLength(name.toString()) + 2 + Buffer.byteLength(value.toString())\n              return currentLength\n            }, 0)\n          } else {\n            result += 1 + 2 + Buffer.byteLength(name.toString()) + 2 + Buffer.byteLength(value[name].toString())\n          }\n          return result\n        }, 0)\n        break\n      }\n      default: {\n        stream.destroy(new Error(`Invalid property ${name}: ${value}`))\n        return false\n      }\n    }\n    return length\n  }\n  if (properties) {\n    for (const propName in properties) {\n      let propLength = 0\n      let propValueLength = 0\n      const propValue = properties[propName]\n      if (Array.isArray(propValue)) {\n        for (let valueIndex = 0; valueIndex < propValue.length; valueIndex++) {\n          propValueLength = getLengthProperty(propName, propValue[valueIndex])\n          if (!propValueLength) { return false }\n          propLength += propValueLength\n        }\n      } else {\n        propValueLength = getLengthProperty(propName, propValue)\n        if (!propValueLength) { return false }\n        propLength = propValueLength\n      }\n      if (!propLength) return false\n      propertiesLength += propLength\n    }\n  }\n  const propertiesLengthLength = Buffer.byteLength(genBufVariableByteInt(propertiesLength))\n\n  return {\n    length: propertiesLengthLength + propertiesLength,\n    write () {\n      writeProperties(stream, properties, propertiesLength)\n    }\n  }\n}\n\nfunction getPropertiesByMaximumPacketSize (stream, properties, opts, length) {\n  const mayEmptyProps = ['reasonString', 'userProperties']\n  const maximumPacketSize = opts && opts.properties && opts.properties.maximumPacketSize ? opts.properties.maximumPacketSize : 0\n\n  let propertiesData = getProperties(stream, properties)\n  if (maximumPacketSize) {\n    while (length + propertiesData.length > maximumPacketSize) {\n      const currentMayEmptyProp = mayEmptyProps.shift()\n      if (currentMayEmptyProp && properties[currentMayEmptyProp]) {\n        delete properties[currentMayEmptyProp]\n        propertiesData = getProperties(stream, properties)\n      } else {\n        return false\n      }\n    }\n  }\n  return propertiesData\n}\n\nfunction writeProperty (stream, propName, value) {\n  const type = protocol.propertiesTypes[propName]\n  switch (type) {\n    case 'byte': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      stream.write(Buffer.from([+value]))\n      break\n    }\n    case 'int8': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      stream.write(Buffer.from([value]))\n      break\n    }\n    case 'binary': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeStringOrBuffer(stream, value)\n      break\n    }\n    case 'int16': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeNumber(stream, value)\n      break\n    }\n    case 'int32': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      write4ByteNumber(stream, value)\n      break\n    }\n    case 'var': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeVarByteInt(stream, value)\n      break\n    }\n    case 'string': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeString(stream, value)\n      break\n    }\n    case 'pair': {\n      Object.getOwnPropertyNames(value).forEach(name => {\n        const currentValue = value[name]\n        if (Array.isArray(currentValue)) {\n          currentValue.forEach(value => {\n            stream.write(Buffer.from([protocol.properties[propName]]))\n            writeStringPair(stream, name.toString(), value.toString())\n          })\n        } else {\n          stream.write(Buffer.from([protocol.properties[propName]]))\n          writeStringPair(stream, name.toString(), currentValue.toString())\n        }\n      })\n      break\n    }\n    default: {\n      stream.destroy(new Error(`Invalid property ${propName} value: ${value}`))\n      return false\n    }\n  }\n}\n\nfunction writeProperties (stream, properties, propertiesLength) {\n  /* write properties to stream */\n  writeVarByteInt(stream, propertiesLength)\n  for (const propName in properties) {\n    if (Object.prototype.hasOwnProperty.call(properties, propName) && properties[propName] !== null) {\n      const value = properties[propName]\n      if (Array.isArray(value)) {\n        for (let valueIndex = 0; valueIndex < value.length; valueIndex++) {\n          writeProperty(stream, propName, value[valueIndex])\n        }\n      } else {\n        writeProperty(stream, propName, value)\n      }\n    }\n  }\n}\n\nfunction byteLength (bufOrString) {\n  if (!bufOrString) return 0\n  else if (bufOrString instanceof Buffer) return bufOrString.length\n  else return Buffer.byteLength(bufOrString)\n}\n\nfunction isStringOrBuffer (field) {\n  return typeof field === 'string' || field instanceof Buffer\n}\n\nmodule.exports = generate\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mqtt = __importStar(require(\"./mqtt\"));\nexports.default = mqtt;\n__exportStar(require(\"./mqtt\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BufferedDuplex = exports.writev = void 0;\nconst readable_stream_1 = require(\"readable-stream\");\nconst buffer_1 = require(\"buffer\");\nfunction writev(chunks, cb) {\n    const buffers = new Array(chunks.length);\n    for (let i = 0; i < chunks.length; i++) {\n        if (typeof chunks[i].chunk === 'string') {\n            buffers[i] = buffer_1.Buffer.from(chunks[i].chunk, 'utf8');\n        }\n        else {\n            buffers[i] = chunks[i].chunk;\n        }\n    }\n    this._write(buffer_1.Buffer.concat(buffers), 'binary', cb);\n}\nexports.writev = writev;\nclass BufferedDuplex extends readable_stream_1.Duplex {\n    constructor(opts, proxy, socket) {\n        super({\n            objectMode: true,\n        });\n        this.proxy = proxy;\n        this.socket = socket;\n        this.writeQueue = [];\n        if (!opts.objectMode) {\n            this._writev = writev.bind(this);\n        }\n        this.isSocketOpen = false;\n        this.proxy.on('data', (chunk) => {\n            if (!this.destroyed) {\n                this.push(chunk);\n            }\n        });\n    }\n    _read(size) {\n        this.proxy.read(size);\n    }\n    _write(chunk, encoding, cb) {\n        if (!this.isSocketOpen) {\n            this.writeQueue.push({ chunk, encoding, cb });\n        }\n        else {\n            this.writeToProxy(chunk, encoding, cb);\n        }\n    }\n    _final(callback) {\n        this.writeQueue = [];\n        this.proxy.end(callback);\n    }\n    _destroy(err, callback) {\n        this.writeQueue = [];\n        this.proxy.destroy();\n        callback(err);\n    }\n    socketReady() {\n        this.emit('connect');\n        this.isSocketOpen = true;\n        this.processWriteQueue();\n    }\n    writeToProxy(chunk, encoding, cb) {\n        if (this.proxy.write(chunk, encoding) === false) {\n            this.proxy.once('drain', cb);\n        }\n        else {\n            cb();\n        }\n    }\n    processWriteQueue() {\n        while (this.writeQueue.length > 0) {\n            const { chunk, encoding, cb } = this.writeQueue.shift();\n            this.writeToProxy(chunk, encoding, cb);\n        }\n    }\n}\nexports.BufferedDuplex = BufferedDuplex;\n//# sourceMappingURL=BufferedDuplex.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get_timer_1 = __importDefault(require(\"./get-timer\"));\nclass KeepaliveManager {\n    get keepaliveTimeoutTimestamp() {\n        return this._keepaliveTimeoutTimestamp;\n    }\n    get intervalEvery() {\n        return this._intervalEvery;\n    }\n    get keepalive() {\n        return this._keepalive;\n    }\n    constructor(client, variant) {\n        this.destroyed = false;\n        this.client = client;\n        this.timer =\n            typeof variant === 'object' &&\n                'set' in variant &&\n                'clear' in variant\n                ? variant\n                : (0, get_timer_1.default)(variant);\n        this.setKeepalive(client.options.keepalive);\n    }\n    clear() {\n        if (this.timerId) {\n            this.timer.clear(this.timerId);\n            this.timerId = null;\n        }\n    }\n    setKeepalive(value) {\n        value *= 1000;\n        if (isNaN(value) ||\n            value <= 0 ||\n            value > 2147483647) {\n            throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${value}`);\n        }\n        this._keepalive = value;\n        this.reschedule();\n        this.client['log'](`KeepaliveManager: set keepalive to ${value}ms`);\n    }\n    destroy() {\n        this.clear();\n        this.destroyed = true;\n    }\n    reschedule() {\n        if (this.destroyed) {\n            return;\n        }\n        this.clear();\n        this.counter = 0;\n        const keepAliveTimeout = Math.ceil(this._keepalive * 1.5);\n        this._keepaliveTimeoutTimestamp = Date.now() + keepAliveTimeout;\n        this._intervalEvery = Math.ceil(this._keepalive / 2);\n        this.timerId = this.timer.set(() => {\n            if (this.destroyed) {\n                return;\n            }\n            this.counter += 1;\n            if (this.counter === 2) {\n                this.client.sendPing();\n            }\n            else if (this.counter > 2) {\n                this.client.onKeepaliveTimeout();\n            }\n        }, this._intervalEvery);\n    }\n}\nexports.default = KeepaliveManager;\n//# sourceMappingURL=KeepaliveManager.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypedEventEmitter = void 0;\nconst events_1 = __importDefault(require(\"events\"));\nconst shared_1 = require(\"./shared\");\nclass TypedEventEmitter {\n}\nexports.TypedEventEmitter = TypedEventEmitter;\n(0, shared_1.applyMixin)(TypedEventEmitter, events_1.default);\n//# sourceMappingURL=TypedEmitter.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst topic_alias_recv_1 = __importDefault(require(\"./topic-alias-recv\"));\nconst mqtt_packet_1 = __importDefault(require(\"mqtt-packet\"));\nconst default_message_id_provider_1 = __importDefault(require(\"./default-message-id-provider\"));\nconst readable_stream_1 = require(\"readable-stream\");\nconst default_1 = __importDefault(require(\"rfdc/default\"));\nconst validations = __importStar(require(\"./validations\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst store_1 = __importDefault(require(\"./store\"));\nconst handlers_1 = __importDefault(require(\"./handlers\"));\nconst shared_1 = require(\"./shared\");\nconst TypedEmitter_1 = require(\"./TypedEmitter\");\nconst KeepaliveManager_1 = __importDefault(require(\"./KeepaliveManager\"));\nconst is_browser_1 = __importStar(require(\"./is-browser\"));\nconst setImmediate = globalThis.setImmediate ||\n    ((...args) => {\n        const callback = args.shift();\n        (0, shared_1.nextTick)(() => {\n            callback(...args);\n        });\n    });\nconst defaultConnectOptions = {\n    keepalive: 60,\n    reschedulePings: true,\n    protocolId: 'MQTT',\n    protocolVersion: 4,\n    reconnectPeriod: 1000,\n    connectTimeout: 30 * 1000,\n    clean: true,\n    resubscribe: true,\n    writeCache: true,\n    timerVariant: 'auto',\n};\nclass MqttClient extends TypedEmitter_1.TypedEventEmitter {\n    static defaultId() {\n        return `mqttjs_${Math.random().toString(16).substr(2, 8)}`;\n    }\n    constructor(streamBuilder, options) {\n        super();\n        this.options = options || {};\n        for (const k in defaultConnectOptions) {\n            if (typeof this.options[k] === 'undefined') {\n                this.options[k] = defaultConnectOptions[k];\n            }\n            else {\n                this.options[k] = options[k];\n            }\n        }\n        this.log = this.options.log || (0, debug_1.default)('mqttjs:client');\n        this.noop = this._noop.bind(this);\n        this.log('MqttClient :: version:', MqttClient.VERSION);\n        if (is_browser_1.isWebWorker) {\n            this.log('MqttClient :: environment', 'webworker');\n        }\n        else {\n            this.log('MqttClient :: environment', is_browser_1.default ? 'browser' : 'node');\n        }\n        this.log('MqttClient :: options.protocol', options.protocol);\n        this.log('MqttClient :: options.protocolVersion', options.protocolVersion);\n        this.log('MqttClient :: options.username', options.username);\n        this.log('MqttClient :: options.keepalive', options.keepalive);\n        this.log('MqttClient :: options.reconnectPeriod', options.reconnectPeriod);\n        this.log('MqttClient :: options.rejectUnauthorized', options.rejectUnauthorized);\n        this.log('MqttClient :: options.properties.topicAliasMaximum', options.properties\n            ? options.properties.topicAliasMaximum\n            : undefined);\n        this.options.clientId =\n            typeof options.clientId === 'string'\n                ? options.clientId\n                : MqttClient.defaultId();\n        this.log('MqttClient :: clientId', this.options.clientId);\n        this.options.customHandleAcks =\n            options.protocolVersion === 5 && options.customHandleAcks\n                ? options.customHandleAcks\n                : (...args) => {\n                    args[3](null, 0);\n                };\n        if (!this.options.writeCache) {\n            mqtt_packet_1.default.writeToStream.cacheNumbers = false;\n        }\n        this.streamBuilder = streamBuilder;\n        this.messageIdProvider =\n            typeof this.options.messageIdProvider === 'undefined'\n                ? new default_message_id_provider_1.default()\n                : this.options.messageIdProvider;\n        this.outgoingStore = options.outgoingStore || new store_1.default();\n        this.incomingStore = options.incomingStore || new store_1.default();\n        this.queueQoSZero =\n            options.queueQoSZero === undefined ? true : options.queueQoSZero;\n        this._resubscribeTopics = {};\n        this.messageIdToTopic = {};\n        this.keepaliveManager = null;\n        this.connected = false;\n        this.disconnecting = false;\n        this.reconnecting = false;\n        this.queue = [];\n        this.connackTimer = null;\n        this.reconnectTimer = null;\n        this._storeProcessing = false;\n        this._packetIdsDuringStoreProcessing = {};\n        this._storeProcessingQueue = [];\n        this.outgoing = {};\n        this._firstConnection = true;\n        if (options.properties && options.properties.topicAliasMaximum > 0) {\n            if (options.properties.topicAliasMaximum > 0xffff) {\n                this.log('MqttClient :: options.properties.topicAliasMaximum is out of range');\n            }\n            else {\n                this.topicAliasRecv = new topic_alias_recv_1.default(options.properties.topicAliasMaximum);\n            }\n        }\n        this.on('connect', () => {\n            const { queue } = this;\n            const deliver = () => {\n                const entry = queue.shift();\n                this.log('deliver :: entry %o', entry);\n                let packet = null;\n                if (!entry) {\n                    this._resubscribe();\n                    return;\n                }\n                packet = entry.packet;\n                this.log('deliver :: call _sendPacket for %o', packet);\n                let send = true;\n                if (packet.messageId && packet.messageId !== 0) {\n                    if (!this.messageIdProvider.register(packet.messageId)) {\n                        send = false;\n                    }\n                }\n                if (send) {\n                    this._sendPacket(packet, (err) => {\n                        if (entry.cb) {\n                            entry.cb(err);\n                        }\n                        deliver();\n                    });\n                }\n                else {\n                    this.log('messageId: %d has already used. The message is skipped and removed.', packet.messageId);\n                    deliver();\n                }\n            };\n            this.log('connect :: sending queued packets');\n            deliver();\n        });\n        this.on('close', () => {\n            this.log('close :: connected set to `false`');\n            this.connected = false;\n            this.log('close :: clearing connackTimer');\n            clearTimeout(this.connackTimer);\n            this._destroyKeepaliveManager();\n            if (this.topicAliasRecv) {\n                this.topicAliasRecv.clear();\n            }\n            this.log('close :: calling _setupReconnect');\n            this._setupReconnect();\n        });\n        if (!this.options.manualConnect) {\n            this.log('MqttClient :: setting up stream');\n            this.connect();\n        }\n    }\n    handleAuth(packet, callback) {\n        callback();\n    }\n    handleMessage(packet, callback) {\n        callback();\n    }\n    _nextId() {\n        return this.messageIdProvider.allocate();\n    }\n    getLastMessageId() {\n        return this.messageIdProvider.getLastAllocated();\n    }\n    connect() {\n        var _a;\n        const writable = new readable_stream_1.Writable();\n        const parser = mqtt_packet_1.default.parser(this.options);\n        let completeParse = null;\n        const packets = [];\n        this.log('connect :: calling method to clear reconnect');\n        this._clearReconnect();\n        if (this.disconnected && !this.reconnecting) {\n            this.incomingStore = this.options.incomingStore || new store_1.default();\n            this.outgoingStore = this.options.outgoingStore || new store_1.default();\n            this.disconnecting = false;\n            this.disconnected = false;\n        }\n        this.log('connect :: using streamBuilder provided to client to create stream');\n        this.stream = this.streamBuilder(this);\n        parser.on('packet', (packet) => {\n            this.log('parser :: on packet push to packets array.');\n            packets.push(packet);\n        });\n        const work = () => {\n            this.log('work :: getting next packet in queue');\n            const packet = packets.shift();\n            if (packet) {\n                this.log('work :: packet pulled from queue');\n                (0, handlers_1.default)(this, packet, nextTickWork);\n            }\n            else {\n                this.log('work :: no packets in queue');\n                const done = completeParse;\n                completeParse = null;\n                this.log('work :: done flag is %s', !!done);\n                if (done)\n                    done();\n            }\n        };\n        const nextTickWork = () => {\n            if (packets.length) {\n                (0, shared_1.nextTick)(work);\n            }\n            else {\n                const done = completeParse;\n                completeParse = null;\n                done();\n            }\n        };\n        writable._write = (buf, enc, done) => {\n            completeParse = done;\n            this.log('writable stream :: parsing buffer');\n            parser.parse(buf);\n            work();\n        };\n        const streamErrorHandler = (error) => {\n            this.log('streamErrorHandler :: error', error.message);\n            if (error.code) {\n                this.log('streamErrorHandler :: emitting error');\n                this.emit('error', error);\n            }\n            else {\n                this.noop(error);\n            }\n        };\n        this.log('connect :: pipe stream to writable stream');\n        this.stream.pipe(writable);\n        this.stream.on('error', streamErrorHandler);\n        this.stream.on('close', () => {\n            this.log('(%s)stream :: on close', this.options.clientId);\n            this._flushVolatile();\n            this.log('stream: emit close to MqttClient');\n            this.emit('close');\n        });\n        this.log('connect: sending packet `connect`');\n        const connectPacket = {\n            cmd: 'connect',\n            protocolId: this.options.protocolId,\n            protocolVersion: this.options.protocolVersion,\n            clean: this.options.clean,\n            clientId: this.options.clientId,\n            keepalive: this.options.keepalive,\n            username: this.options.username,\n            password: this.options.password,\n            properties: this.options.properties,\n        };\n        if (this.options.will) {\n            connectPacket.will = Object.assign(Object.assign({}, this.options.will), { payload: (_a = this.options.will) === null || _a === void 0 ? void 0 : _a.payload });\n        }\n        if (this.topicAliasRecv) {\n            if (!connectPacket.properties) {\n                connectPacket.properties = {};\n            }\n            if (this.topicAliasRecv) {\n                connectPacket.properties.topicAliasMaximum =\n                    this.topicAliasRecv.max;\n            }\n        }\n        this._writePacket(connectPacket);\n        parser.on('error', this.emit.bind(this, 'error'));\n        if (this.options.properties) {\n            if (!this.options.properties.authenticationMethod &&\n                this.options.properties.authenticationData) {\n                this.end(() => this.emit('error', new Error('Packet has no Authentication Method')));\n                return this;\n            }\n            if (this.options.properties.authenticationMethod &&\n                this.options.authPacket &&\n                typeof this.options.authPacket === 'object') {\n                const authPacket = Object.assign({ cmd: 'auth', reasonCode: 0 }, this.options.authPacket);\n                this._writePacket(authPacket);\n            }\n        }\n        this.stream.setMaxListeners(1000);\n        clearTimeout(this.connackTimer);\n        this.connackTimer = setTimeout(() => {\n            this.log('!!connectTimeout hit!! Calling _cleanUp with force `true`');\n            this.emit('error', new Error('connack timeout'));\n            this._cleanUp(true);\n        }, this.options.connectTimeout);\n        return this;\n    }\n    publish(topic, message, opts, callback) {\n        this.log('publish :: message `%s` to topic `%s`', message, topic);\n        const { options } = this;\n        if (typeof opts === 'function') {\n            callback = opts;\n            opts = null;\n        }\n        opts = opts || {};\n        const defaultOpts = {\n            qos: 0,\n            retain: false,\n            dup: false,\n        };\n        opts = Object.assign(Object.assign({}, defaultOpts), opts);\n        const { qos, retain, dup, properties, cbStorePut } = opts;\n        if (this._checkDisconnecting(callback)) {\n            return this;\n        }\n        const publishProc = () => {\n            let messageId = 0;\n            if (qos === 1 || qos === 2) {\n                messageId = this._nextId();\n                if (messageId === null) {\n                    this.log('No messageId left');\n                    return false;\n                }\n            }\n            const packet = {\n                cmd: 'publish',\n                topic,\n                payload: message,\n                qos,\n                retain,\n                messageId,\n                dup,\n            };\n            if (options.protocolVersion === 5) {\n                packet.properties = properties;\n            }\n            this.log('publish :: qos', qos);\n            switch (qos) {\n                case 1:\n                case 2:\n                    this.outgoing[packet.messageId] = {\n                        volatile: false,\n                        cb: callback || this.noop,\n                    };\n                    this.log('MqttClient:publish: packet cmd: %s', packet.cmd);\n                    this._sendPacket(packet, undefined, cbStorePut);\n                    break;\n                default:\n                    this.log('MqttClient:publish: packet cmd: %s', packet.cmd);\n                    this._sendPacket(packet, callback, cbStorePut);\n                    break;\n            }\n            return true;\n        };\n        if (this._storeProcessing ||\n            this._storeProcessingQueue.length > 0 ||\n            !publishProc()) {\n            this._storeProcessingQueue.push({\n                invoke: publishProc,\n                cbStorePut: opts.cbStorePut,\n                callback,\n            });\n        }\n        return this;\n    }\n    publishAsync(topic, message, opts) {\n        return new Promise((resolve, reject) => {\n            this.publish(topic, message, opts, (err, packet) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(packet);\n                }\n            });\n        });\n    }\n    subscribe(topicObject, opts, callback) {\n        const version = this.options.protocolVersion;\n        if (typeof opts === 'function') {\n            callback = opts;\n        }\n        callback = callback || this.noop;\n        let resubscribe = false;\n        let topicsList = [];\n        if (typeof topicObject === 'string') {\n            topicObject = [topicObject];\n            topicsList = topicObject;\n        }\n        else if (Array.isArray(topicObject)) {\n            topicsList = topicObject;\n        }\n        else if (typeof topicObject === 'object') {\n            resubscribe = topicObject.resubscribe;\n            delete topicObject.resubscribe;\n            topicsList = Object.keys(topicObject);\n        }\n        const invalidTopic = validations.validateTopics(topicsList);\n        if (invalidTopic !== null) {\n            setImmediate(callback, new Error(`Invalid topic ${invalidTopic}`));\n            return this;\n        }\n        if (this._checkDisconnecting(callback)) {\n            this.log('subscribe: discconecting true');\n            return this;\n        }\n        const defaultOpts = {\n            qos: 0,\n        };\n        if (version === 5) {\n            defaultOpts.nl = false;\n            defaultOpts.rap = false;\n            defaultOpts.rh = 0;\n        }\n        opts = Object.assign(Object.assign({}, defaultOpts), opts);\n        const properties = opts.properties;\n        const subs = [];\n        const parseSub = (topic, subOptions) => {\n            subOptions = (subOptions || opts);\n            if (!Object.prototype.hasOwnProperty.call(this._resubscribeTopics, topic) ||\n                this._resubscribeTopics[topic].qos < subOptions.qos ||\n                resubscribe) {\n                const currentOpts = {\n                    topic,\n                    qos: subOptions.qos,\n                };\n                if (version === 5) {\n                    currentOpts.nl = subOptions.nl;\n                    currentOpts.rap = subOptions.rap;\n                    currentOpts.rh = subOptions.rh;\n                    currentOpts.properties = properties;\n                }\n                this.log('subscribe: pushing topic `%s` and qos `%s` to subs list', currentOpts.topic, currentOpts.qos);\n                subs.push(currentOpts);\n            }\n        };\n        if (Array.isArray(topicObject)) {\n            topicObject.forEach((topic) => {\n                this.log('subscribe: array topic %s', topic);\n                parseSub(topic);\n            });\n        }\n        else {\n            Object.keys(topicObject).forEach((topic) => {\n                this.log('subscribe: object topic %s, %o', topic, topicObject[topic]);\n                parseSub(topic, topicObject[topic]);\n            });\n        }\n        if (!subs.length) {\n            callback(null, []);\n            return this;\n        }\n        const subscribeProc = () => {\n            const messageId = this._nextId();\n            if (messageId === null) {\n                this.log('No messageId left');\n                return false;\n            }\n            const packet = {\n                cmd: 'subscribe',\n                subscriptions: subs,\n                messageId,\n            };\n            if (properties) {\n                packet.properties = properties;\n            }\n            if (this.options.resubscribe) {\n                this.log('subscribe :: resubscribe true');\n                const topics = [];\n                subs.forEach((sub) => {\n                    if (this.options.reconnectPeriod > 0) {\n                        const topic = { qos: sub.qos };\n                        if (version === 5) {\n                            topic.nl = sub.nl || false;\n                            topic.rap = sub.rap || false;\n                            topic.rh = sub.rh || 0;\n                            topic.properties = sub.properties;\n                        }\n                        this._resubscribeTopics[sub.topic] = topic;\n                        topics.push(sub.topic);\n                    }\n                });\n                this.messageIdToTopic[packet.messageId] = topics;\n            }\n            this.outgoing[packet.messageId] = {\n                volatile: true,\n                cb(err, packet2) {\n                    if (!err) {\n                        const { granted } = packet2;\n                        for (let i = 0; i < granted.length; i += 1) {\n                            subs[i].qos = granted[i];\n                        }\n                    }\n                    callback(err, subs, packet2);\n                },\n            };\n            this.log('subscribe :: call _sendPacket');\n            this._sendPacket(packet);\n            return true;\n        };\n        if (this._storeProcessing ||\n            this._storeProcessingQueue.length > 0 ||\n            !subscribeProc()) {\n            this._storeProcessingQueue.push({\n                invoke: subscribeProc,\n                callback,\n            });\n        }\n        return this;\n    }\n    subscribeAsync(topicObject, opts) {\n        return new Promise((resolve, reject) => {\n            this.subscribe(topicObject, opts, (err, granted) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(granted);\n                }\n            });\n        });\n    }\n    unsubscribe(topic, opts, callback) {\n        if (typeof topic === 'string') {\n            topic = [topic];\n        }\n        if (typeof opts === 'function') {\n            callback = opts;\n        }\n        callback = callback || this.noop;\n        const invalidTopic = validations.validateTopics(topic);\n        if (invalidTopic !== null) {\n            setImmediate(callback, new Error(`Invalid topic ${invalidTopic}`));\n            return this;\n        }\n        if (this._checkDisconnecting(callback)) {\n            return this;\n        }\n        const unsubscribeProc = () => {\n            const messageId = this._nextId();\n            if (messageId === null) {\n                this.log('No messageId left');\n                return false;\n            }\n            const packet = {\n                cmd: 'unsubscribe',\n                messageId,\n                unsubscriptions: [],\n            };\n            if (typeof topic === 'string') {\n                packet.unsubscriptions = [topic];\n            }\n            else if (Array.isArray(topic)) {\n                packet.unsubscriptions = topic;\n            }\n            if (this.options.resubscribe) {\n                packet.unsubscriptions.forEach((topic2) => {\n                    delete this._resubscribeTopics[topic2];\n                });\n            }\n            if (typeof opts === 'object' && opts.properties) {\n                packet.properties = opts.properties;\n            }\n            this.outgoing[packet.messageId] = {\n                volatile: true,\n                cb: callback,\n            };\n            this.log('unsubscribe: call _sendPacket');\n            this._sendPacket(packet);\n            return true;\n        };\n        if (this._storeProcessing ||\n            this._storeProcessingQueue.length > 0 ||\n            !unsubscribeProc()) {\n            this._storeProcessingQueue.push({\n                invoke: unsubscribeProc,\n                callback,\n            });\n        }\n        return this;\n    }\n    unsubscribeAsync(topic, opts) {\n        return new Promise((resolve, reject) => {\n            this.unsubscribe(topic, opts, (err, packet) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(packet);\n                }\n            });\n        });\n    }\n    end(force, opts, cb) {\n        this.log('end :: (%s)', this.options.clientId);\n        if (force == null || typeof force !== 'boolean') {\n            cb = cb || opts;\n            opts = force;\n            force = false;\n        }\n        if (typeof opts !== 'object') {\n            cb = cb || opts;\n            opts = null;\n        }\n        this.log('end :: cb? %s', !!cb);\n        if (!cb || typeof cb !== 'function') {\n            cb = this.noop;\n        }\n        const closeStores = () => {\n            this.log('end :: closeStores: closing incoming and outgoing stores');\n            this.disconnected = true;\n            this.incomingStore.close((e1) => {\n                this.outgoingStore.close((e2) => {\n                    this.log('end :: closeStores: emitting end');\n                    this.emit('end');\n                    if (cb) {\n                        const err = e1 || e2;\n                        this.log('end :: closeStores: invoking callback with args');\n                        cb(err);\n                    }\n                });\n            });\n            if (this._deferredReconnect) {\n                this._deferredReconnect();\n            }\n            else if (this.options.reconnectPeriod === 0 ||\n                this.options.manualConnect) {\n                this.disconnecting = false;\n            }\n        };\n        const finish = () => {\n            this.log('end :: (%s) :: finish :: calling _cleanUp with force %s', this.options.clientId, force);\n            this._cleanUp(force, () => {\n                this.log('end :: finish :: calling process.nextTick on closeStores');\n                (0, shared_1.nextTick)(closeStores);\n            }, opts);\n        };\n        if (this.disconnecting) {\n            cb();\n            return this;\n        }\n        this._clearReconnect();\n        this.disconnecting = true;\n        if (!force && Object.keys(this.outgoing).length > 0) {\n            this.log('end :: (%s) :: calling finish in 10ms once outgoing is empty', this.options.clientId);\n            this.once('outgoingEmpty', setTimeout.bind(null, finish, 10));\n        }\n        else {\n            this.log('end :: (%s) :: immediately calling finish', this.options.clientId);\n            finish();\n        }\n        return this;\n    }\n    endAsync(force, opts) {\n        return new Promise((resolve, reject) => {\n            this.end(force, opts, (err) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve();\n                }\n            });\n        });\n    }\n    removeOutgoingMessage(messageId) {\n        if (this.outgoing[messageId]) {\n            const { cb } = this.outgoing[messageId];\n            this._removeOutgoingAndStoreMessage(messageId, () => {\n                cb(new Error('Message removed'));\n            });\n        }\n        return this;\n    }\n    reconnect(opts) {\n        this.log('client reconnect');\n        const f = () => {\n            if (opts) {\n                this.options.incomingStore = opts.incomingStore;\n                this.options.outgoingStore = opts.outgoingStore;\n            }\n            else {\n                this.options.incomingStore = null;\n                this.options.outgoingStore = null;\n            }\n            this.incomingStore = this.options.incomingStore || new store_1.default();\n            this.outgoingStore = this.options.outgoingStore || new store_1.default();\n            this.disconnecting = false;\n            this.disconnected = false;\n            this._deferredReconnect = null;\n            this._reconnect();\n        };\n        if (this.disconnecting && !this.disconnected) {\n            this._deferredReconnect = f;\n        }\n        else {\n            f();\n        }\n        return this;\n    }\n    _flushVolatile() {\n        if (this.outgoing) {\n            this.log('_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function');\n            Object.keys(this.outgoing).forEach((messageId) => {\n                if (this.outgoing[messageId].volatile &&\n                    typeof this.outgoing[messageId].cb === 'function') {\n                    this.outgoing[messageId].cb(new Error('Connection closed'));\n                    delete this.outgoing[messageId];\n                }\n            });\n        }\n    }\n    _flush() {\n        if (this.outgoing) {\n            this.log('_flush: queue exists? %b', !!this.outgoing);\n            Object.keys(this.outgoing).forEach((messageId) => {\n                if (typeof this.outgoing[messageId].cb === 'function') {\n                    this.outgoing[messageId].cb(new Error('Connection closed'));\n                    delete this.outgoing[messageId];\n                }\n            });\n        }\n    }\n    _removeTopicAliasAndRecoverTopicName(packet) {\n        let alias;\n        if (packet.properties) {\n            alias = packet.properties.topicAlias;\n        }\n        let topic = packet.topic.toString();\n        this.log('_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o', alias, topic);\n        if (topic.length === 0) {\n            if (typeof alias === 'undefined') {\n                return new Error('Unregistered Topic Alias');\n            }\n            topic = this.topicAliasSend.getTopicByAlias(alias);\n            if (typeof topic === 'undefined') {\n                return new Error('Unregistered Topic Alias');\n            }\n            packet.topic = topic;\n        }\n        if (alias) {\n            delete packet.properties.topicAlias;\n        }\n    }\n    _checkDisconnecting(callback) {\n        if (this.disconnecting) {\n            if (callback && callback !== this.noop) {\n                callback(new Error('client disconnecting'));\n            }\n            else {\n                this.emit('error', new Error('client disconnecting'));\n            }\n        }\n        return this.disconnecting;\n    }\n    _reconnect() {\n        this.log('_reconnect: emitting reconnect to client');\n        this.emit('reconnect');\n        if (this.connected) {\n            this.end(() => {\n                this.connect();\n            });\n            this.log('client already connected. disconnecting first.');\n        }\n        else {\n            this.log('_reconnect: calling connect');\n            this.connect();\n        }\n    }\n    _setupReconnect() {\n        if (!this.disconnecting &&\n            !this.reconnectTimer &&\n            this.options.reconnectPeriod > 0) {\n            if (!this.reconnecting) {\n                this.log('_setupReconnect :: emit `offline` state');\n                this.emit('offline');\n                this.log('_setupReconnect :: set `reconnecting` to `true`');\n                this.reconnecting = true;\n            }\n            this.log('_setupReconnect :: setting reconnectTimer for %d ms', this.options.reconnectPeriod);\n            this.reconnectTimer = setInterval(() => {\n                this.log('reconnectTimer :: reconnect triggered!');\n                this._reconnect();\n            }, this.options.reconnectPeriod);\n        }\n        else {\n            this.log('_setupReconnect :: doing nothing...');\n        }\n    }\n    _clearReconnect() {\n        this.log('_clearReconnect : clearing reconnect timer');\n        if (this.reconnectTimer) {\n            clearInterval(this.reconnectTimer);\n            this.reconnectTimer = null;\n        }\n    }\n    _cleanUp(forced, done, opts = {}) {\n        if (done) {\n            this.log('_cleanUp :: done callback provided for on stream close');\n            this.stream.on('close', done);\n        }\n        this.log('_cleanUp :: forced? %s', forced);\n        if (forced) {\n            if (this.options.reconnectPeriod === 0 && this.options.clean) {\n                this._flush();\n            }\n            this.log('_cleanUp :: (%s) :: destroying stream', this.options.clientId);\n            this.stream.destroy();\n        }\n        else {\n            const packet = Object.assign({ cmd: 'disconnect' }, opts);\n            this.log('_cleanUp :: (%s) :: call _sendPacket with disconnect packet', this.options.clientId);\n            this._sendPacket(packet, () => {\n                this.log('_cleanUp :: (%s) :: destroying stream', this.options.clientId);\n                setImmediate(() => {\n                    this.stream.end(() => {\n                        this.log('_cleanUp :: (%s) :: stream destroyed', this.options.clientId);\n                    });\n                });\n            });\n        }\n        if (!this.disconnecting && !this.reconnecting) {\n            this.log('_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect.');\n            this._clearReconnect();\n            this._setupReconnect();\n        }\n        this._destroyKeepaliveManager();\n        if (done && !this.connected) {\n            this.log('_cleanUp :: (%s) :: removing stream `done` callback `close` listener', this.options.clientId);\n            this.stream.removeListener('close', done);\n            done();\n        }\n    }\n    _storeAndSend(packet, cb, cbStorePut) {\n        this.log('storeAndSend :: store packet with cmd %s to outgoingStore', packet.cmd);\n        let storePacket = packet;\n        let err;\n        if (storePacket.cmd === 'publish') {\n            storePacket = (0, default_1.default)(packet);\n            err = this._removeTopicAliasAndRecoverTopicName(storePacket);\n            if (err) {\n                return cb && cb(err);\n            }\n        }\n        this.outgoingStore.put(storePacket, (err2) => {\n            if (err2) {\n                return cb && cb(err2);\n            }\n            cbStorePut();\n            this._writePacket(packet, cb);\n        });\n    }\n    _applyTopicAlias(packet) {\n        if (this.options.protocolVersion === 5) {\n            if (packet.cmd === 'publish') {\n                let alias;\n                if (packet.properties) {\n                    alias = packet.properties.topicAlias;\n                }\n                const topic = packet.topic.toString();\n                if (this.topicAliasSend) {\n                    if (alias) {\n                        if (topic.length !== 0) {\n                            this.log('applyTopicAlias :: register topic: %s - alias: %d', topic, alias);\n                            if (!this.topicAliasSend.put(topic, alias)) {\n                                this.log('applyTopicAlias :: error out of range. topic: %s - alias: %d', topic, alias);\n                                return new Error('Sending Topic Alias out of range');\n                            }\n                        }\n                    }\n                    else if (topic.length !== 0) {\n                        if (this.options.autoAssignTopicAlias) {\n                            alias = this.topicAliasSend.getAliasByTopic(topic);\n                            if (alias) {\n                                packet.topic = '';\n                                packet.properties = Object.assign(Object.assign({}, packet.properties), { topicAlias: alias });\n                                this.log('applyTopicAlias :: auto assign(use) topic: %s - alias: %d', topic, alias);\n                            }\n                            else {\n                                alias = this.topicAliasSend.getLruAlias();\n                                this.topicAliasSend.put(topic, alias);\n                                packet.properties = Object.assign(Object.assign({}, packet.properties), { topicAlias: alias });\n                                this.log('applyTopicAlias :: auto assign topic: %s - alias: %d', topic, alias);\n                            }\n                        }\n                        else if (this.options.autoUseTopicAlias) {\n                            alias = this.topicAliasSend.getAliasByTopic(topic);\n                            if (alias) {\n                                packet.topic = '';\n                                packet.properties = Object.assign(Object.assign({}, packet.properties), { topicAlias: alias });\n                                this.log('applyTopicAlias :: auto use topic: %s - alias: %d', topic, alias);\n                            }\n                        }\n                    }\n                }\n                else if (alias) {\n                    this.log('applyTopicAlias :: error out of range. topic: %s - alias: %d', topic, alias);\n                    return new Error('Sending Topic Alias out of range');\n                }\n            }\n        }\n    }\n    _noop(err) {\n        this.log('noop ::', err);\n    }\n    _writePacket(packet, cb) {\n        this.log('_writePacket :: packet: %O', packet);\n        this.log('_writePacket :: emitting `packetsend`');\n        this.emit('packetsend', packet);\n        this.log('_writePacket :: writing to stream');\n        const result = mqtt_packet_1.default.writeToStream(packet, this.stream, this.options);\n        this.log('_writePacket :: writeToStream result %s', result);\n        if (!result && cb && cb !== this.noop) {\n            this.log('_writePacket :: handle events on `drain` once through callback.');\n            this.stream.once('drain', cb);\n        }\n        else if (cb) {\n            this.log('_writePacket :: invoking cb');\n            cb();\n        }\n    }\n    _sendPacket(packet, cb, cbStorePut, noStore) {\n        this.log('_sendPacket :: (%s) ::  start', this.options.clientId);\n        cbStorePut = cbStorePut || this.noop;\n        cb = cb || this.noop;\n        const err = this._applyTopicAlias(packet);\n        if (err) {\n            cb(err);\n            return;\n        }\n        if (!this.connected) {\n            if (packet.cmd === 'auth') {\n                this._writePacket(packet, cb);\n                return;\n            }\n            this.log('_sendPacket :: client not connected. Storing packet offline.');\n            this._storePacket(packet, cb, cbStorePut);\n            return;\n        }\n        if (noStore) {\n            this._writePacket(packet, cb);\n            return;\n        }\n        switch (packet.cmd) {\n            case 'publish':\n                break;\n            case 'pubrel':\n                this._storeAndSend(packet, cb, cbStorePut);\n                return;\n            default:\n                this._writePacket(packet, cb);\n                return;\n        }\n        switch (packet.qos) {\n            case 2:\n            case 1:\n                this._storeAndSend(packet, cb, cbStorePut);\n                break;\n            case 0:\n            default:\n                this._writePacket(packet, cb);\n                break;\n        }\n        this.log('_sendPacket :: (%s) ::  end', this.options.clientId);\n    }\n    _storePacket(packet, cb, cbStorePut) {\n        this.log('_storePacket :: packet: %o', packet);\n        this.log('_storePacket :: cb? %s', !!cb);\n        cbStorePut = cbStorePut || this.noop;\n        let storePacket = packet;\n        if (storePacket.cmd === 'publish') {\n            storePacket = (0, default_1.default)(packet);\n            const err = this._removeTopicAliasAndRecoverTopicName(storePacket);\n            if (err) {\n                return cb && cb(err);\n            }\n        }\n        const qos = storePacket.qos || 0;\n        if ((qos === 0 && this.queueQoSZero) || storePacket.cmd !== 'publish') {\n            this.queue.push({ packet: storePacket, cb });\n        }\n        else if (qos > 0) {\n            cb = this.outgoing[storePacket.messageId]\n                ? this.outgoing[storePacket.messageId].cb\n                : null;\n            this.outgoingStore.put(storePacket, (err) => {\n                if (err) {\n                    return cb && cb(err);\n                }\n                cbStorePut();\n            });\n        }\n        else if (cb) {\n            cb(new Error('No connection to broker'));\n        }\n    }\n    _setupKeepaliveManager() {\n        this.log('_setupKeepaliveManager :: keepalive %d (seconds)', this.options.keepalive);\n        if (!this.keepaliveManager && this.options.keepalive) {\n            this.keepaliveManager = new KeepaliveManager_1.default(this, this.options.timerVariant);\n        }\n    }\n    _destroyKeepaliveManager() {\n        if (this.keepaliveManager) {\n            this.log('_destroyKeepaliveManager :: destroying keepalive manager');\n            this.keepaliveManager.destroy();\n            this.keepaliveManager = null;\n        }\n    }\n    reschedulePing(force = false) {\n        if (this.keepaliveManager &&\n            this.options.keepalive &&\n            (force || this.options.reschedulePings)) {\n            this._reschedulePing();\n        }\n    }\n    _reschedulePing() {\n        this.log('_reschedulePing :: rescheduling ping');\n        this.keepaliveManager.reschedule();\n    }\n    sendPing() {\n        this.log('_sendPing :: sending pingreq');\n        this._sendPacket({ cmd: 'pingreq' });\n    }\n    onKeepaliveTimeout() {\n        this.emit('error', new Error('Keepalive timeout'));\n        this.log('onKeepaliveTimeout :: calling _cleanUp with force true');\n        this._cleanUp(true);\n    }\n    _resubscribe() {\n        this.log('_resubscribe');\n        const _resubscribeTopicsKeys = Object.keys(this._resubscribeTopics);\n        if (!this._firstConnection &&\n            (this.options.clean ||\n                (this.options.protocolVersion >= 4 &&\n                    !this.connackPacket.sessionPresent)) &&\n            _resubscribeTopicsKeys.length > 0) {\n            if (this.options.resubscribe) {\n                if (this.options.protocolVersion === 5) {\n                    this.log('_resubscribe: protocolVersion 5');\n                    for (let topicI = 0; topicI < _resubscribeTopicsKeys.length; topicI++) {\n                        const resubscribeTopic = {};\n                        resubscribeTopic[_resubscribeTopicsKeys[topicI]] =\n                            this._resubscribeTopics[_resubscribeTopicsKeys[topicI]];\n                        resubscribeTopic.resubscribe = true;\n                        this.subscribe(resubscribeTopic, {\n                            properties: resubscribeTopic[_resubscribeTopicsKeys[topicI]]\n                                .properties,\n                        });\n                    }\n                }\n                else {\n                    this._resubscribeTopics.resubscribe = true;\n                    this.subscribe(this._resubscribeTopics);\n                }\n            }\n            else {\n                this._resubscribeTopics = {};\n            }\n        }\n        this._firstConnection = false;\n    }\n    _onConnect(packet) {\n        if (this.disconnected) {\n            this.emit('connect', packet);\n            return;\n        }\n        this.connackPacket = packet;\n        this.messageIdProvider.clear();\n        this._setupKeepaliveManager();\n        this.connected = true;\n        const startStreamProcess = () => {\n            let outStore = this.outgoingStore.createStream();\n            const remove = () => {\n                outStore.destroy();\n                outStore = null;\n                this._flushStoreProcessingQueue();\n                clearStoreProcessing();\n            };\n            const clearStoreProcessing = () => {\n                this._storeProcessing = false;\n                this._packetIdsDuringStoreProcessing = {};\n            };\n            this.once('close', remove);\n            outStore.on('error', (err) => {\n                clearStoreProcessing();\n                this._flushStoreProcessingQueue();\n                this.removeListener('close', remove);\n                this.emit('error', err);\n            });\n            const storeDeliver = () => {\n                if (!outStore) {\n                    return;\n                }\n                const packet2 = outStore.read(1);\n                let cb;\n                if (!packet2) {\n                    outStore.once('readable', storeDeliver);\n                    return;\n                }\n                this._storeProcessing = true;\n                if (this._packetIdsDuringStoreProcessing[packet2.messageId]) {\n                    storeDeliver();\n                    return;\n                }\n                if (!this.disconnecting && !this.reconnectTimer) {\n                    cb = this.outgoing[packet2.messageId]\n                        ? this.outgoing[packet2.messageId].cb\n                        : null;\n                    this.outgoing[packet2.messageId] = {\n                        volatile: false,\n                        cb(err, status) {\n                            if (cb) {\n                                cb(err, status);\n                            }\n                            storeDeliver();\n                        },\n                    };\n                    this._packetIdsDuringStoreProcessing[packet2.messageId] =\n                        true;\n                    if (this.messageIdProvider.register(packet2.messageId)) {\n                        this._sendPacket(packet2, undefined, undefined, true);\n                    }\n                    else {\n                        this.log('messageId: %d has already used.', packet2.messageId);\n                    }\n                }\n                else if (outStore.destroy) {\n                    outStore.destroy();\n                }\n            };\n            outStore.on('end', () => {\n                let allProcessed = true;\n                for (const id in this._packetIdsDuringStoreProcessing) {\n                    if (!this._packetIdsDuringStoreProcessing[id]) {\n                        allProcessed = false;\n                        break;\n                    }\n                }\n                this.removeListener('close', remove);\n                if (allProcessed) {\n                    clearStoreProcessing();\n                    this._invokeAllStoreProcessingQueue();\n                    this.emit('connect', packet);\n                }\n                else {\n                    startStreamProcess();\n                }\n            });\n            storeDeliver();\n        };\n        startStreamProcess();\n    }\n    _invokeStoreProcessingQueue() {\n        if (!this._storeProcessing && this._storeProcessingQueue.length > 0) {\n            const f = this._storeProcessingQueue[0];\n            if (f && f.invoke()) {\n                this._storeProcessingQueue.shift();\n                return true;\n            }\n        }\n        return false;\n    }\n    _invokeAllStoreProcessingQueue() {\n        while (this._invokeStoreProcessingQueue()) {\n        }\n    }\n    _flushStoreProcessingQueue() {\n        for (const f of this._storeProcessingQueue) {\n            if (f.cbStorePut)\n                f.cbStorePut(new Error('Connection closed'));\n            if (f.callback)\n                f.callback(new Error('Connection closed'));\n        }\n        this._storeProcessingQueue.splice(0);\n    }\n    _removeOutgoingAndStoreMessage(messageId, cb) {\n        delete this.outgoing[messageId];\n        this.outgoingStore.del({ messageId }, (err, packet) => {\n            cb(err, packet);\n            this.messageIdProvider.deallocate(messageId);\n            this._invokeStoreProcessingQueue();\n        });\n    }\n}\nMqttClient.VERSION = shared_1.MQTTJS_VERSION;\nexports.default = MqttClient;\n//# sourceMappingURL=client.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst readable_stream_1 = require(\"readable-stream\");\nconst BufferedDuplex_1 = require(\"../BufferedDuplex\");\nlet my;\nlet proxy;\nlet stream;\nlet isInitialized = false;\nfunction buildProxy() {\n    const _proxy = new readable_stream_1.Transform();\n    _proxy._write = (chunk, encoding, next) => {\n        my.sendSocketMessage({\n            data: chunk.buffer,\n            success() {\n                next();\n            },\n            fail() {\n                next(new Error());\n            },\n        });\n    };\n    _proxy._flush = (done) => {\n        my.closeSocket({\n            success() {\n                done();\n            },\n        });\n    };\n    return _proxy;\n}\nfunction setDefaultOpts(opts) {\n    if (!opts.hostname) {\n        opts.hostname = 'localhost';\n    }\n    if (!opts.path) {\n        opts.path = '/';\n    }\n    if (!opts.wsOptions) {\n        opts.wsOptions = {};\n    }\n}\nfunction buildUrl(opts, client) {\n    const protocol = opts.protocol === 'alis' ? 'wss' : 'ws';\n    let url = `${protocol}://${opts.hostname}${opts.path}`;\n    if (opts.port && opts.port !== 80 && opts.port !== 443) {\n        url = `${protocol}://${opts.hostname}:${opts.port}${opts.path}`;\n    }\n    if (typeof opts.transformWsUrl === 'function') {\n        url = opts.transformWsUrl(url, opts, client);\n    }\n    return url;\n}\nfunction bindEventHandler() {\n    if (isInitialized)\n        return;\n    isInitialized = true;\n    my.onSocketOpen(() => {\n        stream.socketReady();\n    });\n    my.onSocketMessage((res) => {\n        if (typeof res.data === 'string') {\n            const buffer = buffer_1.Buffer.from(res.data, 'base64');\n            proxy.push(buffer);\n        }\n        else {\n            const reader = new FileReader();\n            reader.addEventListener('load', () => {\n                let data = reader.result;\n                if (data instanceof ArrayBuffer)\n                    data = buffer_1.Buffer.from(data);\n                else\n                    data = buffer_1.Buffer.from(data, 'utf8');\n                proxy.push(data);\n            });\n            reader.readAsArrayBuffer(res.data);\n        }\n    });\n    my.onSocketClose(() => {\n        stream.end();\n        stream.destroy();\n    });\n    my.onSocketError((err) => {\n        stream.destroy(err);\n    });\n}\nconst buildStream = (client, opts) => {\n    opts.hostname = opts.hostname || opts.host;\n    if (!opts.hostname) {\n        throw new Error('Could not determine host. Specify host manually.');\n    }\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    setDefaultOpts(opts);\n    const url = buildUrl(opts, client);\n    my = opts.my;\n    my.connectSocket({\n        url,\n        protocols: websocketSubProtocol,\n    });\n    proxy = buildProxy();\n    stream = new BufferedDuplex_1.BufferedDuplex(opts, proxy, my);\n    bindEventHandler();\n    return stream;\n};\nexports.default = buildStream;\n//# sourceMappingURL=ali.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connectAsync = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst client_1 = __importDefault(require(\"../client\"));\nconst is_browser_1 = __importDefault(require(\"../is-browser\"));\nif (typeof (process === null || process === void 0 ? void 0 : process.nextTick) !== 'function') {\n    process.nextTick = setImmediate;\n}\nconst debug = (0, debug_1.default)('mqttjs');\nlet protocols = null;\nfunction parseAuthOptions(opts) {\n    let matches;\n    if (opts.auth) {\n        matches = opts.auth.match(/^(.+):(.+)$/);\n        if (matches) {\n            opts.username = matches[1];\n            opts.password = matches[2];\n        }\n        else {\n            opts.username = opts.auth;\n        }\n    }\n}\nfunction connect(brokerUrl, opts) {\n    var _a, _b, _c, _d;\n    debug('connecting to an MQTT broker...');\n    if (typeof brokerUrl === 'object' && !opts) {\n        opts = brokerUrl;\n        brokerUrl = '';\n    }\n    opts = opts || {};\n    if (brokerUrl && typeof brokerUrl === 'string') {\n        const parsedUrl = url_1.default.parse(brokerUrl, true);\n        const parsedOptions = {};\n        if (parsedUrl.port != null) {\n            parsedOptions.port = Number(parsedUrl.port);\n        }\n        parsedOptions.host = parsedUrl.hostname;\n        parsedOptions.query = parsedUrl.query;\n        parsedOptions.auth = parsedUrl.auth;\n        parsedOptions.protocol = parsedUrl.protocol;\n        parsedOptions.path = parsedUrl.path;\n        parsedOptions.protocol = (_a = parsedOptions.protocol) === null || _a === void 0 ? void 0 : _a.replace(/:$/, '');\n        opts = Object.assign(Object.assign({}, parsedOptions), opts);\n        if (!opts.protocol) {\n            throw new Error('Missing protocol');\n        }\n    }\n    opts.unixSocket = opts.unixSocket || ((_b = opts.protocol) === null || _b === void 0 ? void 0 : _b.includes('+unix'));\n    if (opts.unixSocket) {\n        opts.protocol = opts.protocol.replace('+unix', '');\n    }\n    else if (!((_c = opts.protocol) === null || _c === void 0 ? void 0 : _c.startsWith('ws')) &&\n        !((_d = opts.protocol) === null || _d === void 0 ? void 0 : _d.startsWith('wx'))) {\n        delete opts.path;\n    }\n    parseAuthOptions(opts);\n    if (opts.query && typeof opts.query.clientId === 'string') {\n        opts.clientId = opts.query.clientId;\n    }\n    if (opts.cert && opts.key) {\n        if (opts.protocol) {\n            if (['mqtts', 'wss', 'wxs', 'alis'].indexOf(opts.protocol) === -1) {\n                switch (opts.protocol) {\n                    case 'mqtt':\n                        opts.protocol = 'mqtts';\n                        break;\n                    case 'ws':\n                        opts.protocol = 'wss';\n                        break;\n                    case 'wx':\n                        opts.protocol = 'wxs';\n                        break;\n                    case 'ali':\n                        opts.protocol = 'alis';\n                        break;\n                    default:\n                        throw new Error(`Unknown protocol for secure connection: \"${opts.protocol}\"!`);\n                }\n            }\n        }\n        else {\n            throw new Error('Missing secure protocol key');\n        }\n    }\n    if (!protocols) {\n        protocols = {};\n        if (!is_browser_1.default && !opts.forceNativeWebSocket) {\n            protocols.ws = require('./ws').streamBuilder;\n            protocols.wss = require('./ws').streamBuilder;\n            protocols.mqtt = require('./tcp').default;\n            protocols.tcp = require('./tcp').default;\n            protocols.ssl = require('./tls').default;\n            protocols.tls = protocols.ssl;\n            protocols.mqtts = require('./tls').default;\n        }\n        else {\n            protocols.ws = require('./ws').browserStreamBuilder;\n            protocols.wss = require('./ws').browserStreamBuilder;\n            protocols.wx = require('./wx').default;\n            protocols.wxs = require('./wx').default;\n            protocols.ali = require('./ali').default;\n            protocols.alis = require('./ali').default;\n        }\n    }\n    if (!protocols[opts.protocol]) {\n        const isSecure = ['mqtts', 'wss'].indexOf(opts.protocol) !== -1;\n        opts.protocol = [\n            'mqtt',\n            'mqtts',\n            'ws',\n            'wss',\n            'wx',\n            'wxs',\n            'ali',\n            'alis',\n        ].filter((key, index) => {\n            if (isSecure && index % 2 === 0) {\n                return false;\n            }\n            return typeof protocols[key] === 'function';\n        })[0];\n    }\n    if (opts.clean === false && !opts.clientId) {\n        throw new Error('Missing clientId for unclean clients');\n    }\n    if (opts.protocol) {\n        opts.defaultProtocol = opts.protocol;\n    }\n    function wrapper(client) {\n        if (opts.servers) {\n            if (!client._reconnectCount ||\n                client._reconnectCount === opts.servers.length) {\n                client._reconnectCount = 0;\n            }\n            opts.host = opts.servers[client._reconnectCount].host;\n            opts.port = opts.servers[client._reconnectCount].port;\n            opts.protocol = !opts.servers[client._reconnectCount].protocol\n                ? opts.defaultProtocol\n                : opts.servers[client._reconnectCount].protocol;\n            opts.hostname = opts.host;\n            client._reconnectCount++;\n        }\n        debug('calling streambuilder for', opts.protocol);\n        return protocols[opts.protocol](client, opts);\n    }\n    const client = new client_1.default(wrapper, opts);\n    client.on('error', () => {\n    });\n    return client;\n}\nfunction connectAsync(brokerUrl, opts, allowRetries = true) {\n    return new Promise((resolve, reject) => {\n        const client = connect(brokerUrl, opts);\n        const promiseResolutionListeners = {\n            connect: (connack) => {\n                removePromiseResolutionListeners();\n                resolve(client);\n            },\n            end: () => {\n                removePromiseResolutionListeners();\n                resolve(client);\n            },\n            error: (err) => {\n                removePromiseResolutionListeners();\n                client.end();\n                reject(err);\n            },\n        };\n        if (allowRetries === false) {\n            promiseResolutionListeners.close = () => {\n                promiseResolutionListeners.error(new Error(\"Couldn't connect to server\"));\n            };\n        }\n        function removePromiseResolutionListeners() {\n            Object.keys(promiseResolutionListeners).forEach((eventName) => {\n                client.off(eventName, promiseResolutionListeners[eventName]);\n            });\n        }\n        Object.keys(promiseResolutionListeners).forEach((eventName) => {\n            client.on(eventName, promiseResolutionListeners[eventName]);\n        });\n    });\n}\nexports.connectAsync = connectAsync;\nexports.default = connect;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst net_1 = __importDefault(require(\"net\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)('mqttjs:tcp');\nconst buildStream = (client, opts) => {\n    opts.port = opts.port || 1883;\n    opts.hostname = opts.hostname || opts.host || 'localhost';\n    const { port, path } = opts;\n    const host = opts.hostname;\n    debug('port %d and host %s', port, host);\n    return net_1.default.createConnection({ port, host, path });\n};\nexports.default = buildStream;\n//# sourceMappingURL=tcp.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tls_1 = __importDefault(require(\"tls\"));\nconst net_1 = __importDefault(require(\"net\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)('mqttjs:tls');\nconst buildStream = (client, opts) => {\n    opts.port = opts.port || 8883;\n    opts.host = opts.hostname || opts.host || 'localhost';\n    if (net_1.default.isIP(opts.host) === 0) {\n        opts.servername = opts.host;\n    }\n    opts.rejectUnauthorized = opts.rejectUnauthorized !== false;\n    delete opts.path;\n    debug('port %d host %s rejectUnauthorized %b', opts.port, opts.host, opts.rejectUnauthorized);\n    const connection = tls_1.default.connect(opts);\n    connection.on('secureConnect', () => {\n        if (opts.rejectUnauthorized && !connection.authorized) {\n            connection.emit('error', new Error('TLS not authorized'));\n        }\n        else {\n            connection.removeListener('error', handleTLSerrors);\n        }\n    });\n    function handleTLSerrors(err) {\n        if (opts.rejectUnauthorized) {\n            client.emit('error', err);\n        }\n        connection.end();\n    }\n    connection.on('error', handleTLSerrors);\n    return connection;\n};\nexports.default = buildStream;\n//# sourceMappingURL=tls.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.streamBuilder = exports.browserStreamBuilder = void 0;\nconst buffer_1 = require(\"buffer\");\nconst ws_1 = __importDefault(require(\"ws\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst readable_stream_1 = require(\"readable-stream\");\nconst is_browser_1 = __importDefault(require(\"../is-browser\"));\nconst BufferedDuplex_1 = require(\"../BufferedDuplex\");\nconst debug = (0, debug_1.default)('mqttjs:ws');\nconst WSS_OPTIONS = [\n    'rejectUnauthorized',\n    'ca',\n    'cert',\n    'key',\n    'pfx',\n    'passphrase',\n];\nfunction buildUrl(opts, client) {\n    let url = `${opts.protocol}://${opts.hostname}:${opts.port}${opts.path}`;\n    if (typeof opts.transformWsUrl === 'function') {\n        url = opts.transformWsUrl(url, opts, client);\n    }\n    return url;\n}\nfunction setDefaultOpts(opts) {\n    const options = opts;\n    if (!opts.port) {\n        if (opts.protocol === 'wss') {\n            options.port = 443;\n        }\n        else {\n            options.port = 80;\n        }\n    }\n    if (!opts.path) {\n        options.path = '/';\n    }\n    if (!opts.wsOptions) {\n        options.wsOptions = {};\n    }\n    if (!is_browser_1.default && !opts.forceNativeWebSocket && opts.protocol === 'wss') {\n        WSS_OPTIONS.forEach((prop) => {\n            if (Object.prototype.hasOwnProperty.call(opts, prop) &&\n                !Object.prototype.hasOwnProperty.call(opts.wsOptions, prop)) {\n                options.wsOptions[prop] = opts[prop];\n            }\n        });\n    }\n    return options;\n}\nfunction setDefaultBrowserOpts(opts) {\n    const options = setDefaultOpts(opts);\n    if (!options.hostname) {\n        options.hostname = options.host;\n    }\n    if (!options.hostname) {\n        if (typeof document === 'undefined') {\n            throw new Error('Could not determine host. Specify host manually.');\n        }\n        const parsed = new URL(document.URL);\n        options.hostname = parsed.hostname;\n        if (!options.port) {\n            options.port = Number(parsed.port);\n        }\n    }\n    if (options.objectMode === undefined) {\n        options.objectMode = !(options.binary === true || options.binary === undefined);\n    }\n    return options;\n}\nfunction createWebSocket(client, url, opts) {\n    debug('createWebSocket');\n    debug(`protocol: ${opts.protocolId} ${opts.protocolVersion}`);\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    debug(`creating new Websocket for url: ${url} and protocol: ${websocketSubProtocol}`);\n    let socket;\n    if (opts.createWebsocket) {\n        socket = opts.createWebsocket(url, [websocketSubProtocol], opts);\n    }\n    else {\n        socket = new ws_1.default(url, [websocketSubProtocol], opts.wsOptions);\n    }\n    return socket;\n}\nfunction createBrowserWebSocket(client, opts) {\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    const url = buildUrl(opts, client);\n    let socket;\n    if (opts.createWebsocket) {\n        socket = opts.createWebsocket(url, [websocketSubProtocol], opts);\n    }\n    else {\n        socket = new WebSocket(url, [websocketSubProtocol]);\n    }\n    socket.binaryType = 'arraybuffer';\n    return socket;\n}\nconst streamBuilder = (client, opts) => {\n    debug('streamBuilder');\n    const options = setDefaultOpts(opts);\n    options.hostname = options.hostname || options.host || 'localhost';\n    const url = buildUrl(options, client);\n    const socket = createWebSocket(client, url, options);\n    const webSocketStream = ws_1.default.createWebSocketStream(socket, options.wsOptions);\n    webSocketStream['url'] = url;\n    socket.on('close', () => {\n        webSocketStream.destroy();\n    });\n    return webSocketStream;\n};\nexports.streamBuilder = streamBuilder;\nconst browserStreamBuilder = (client, opts) => {\n    debug('browserStreamBuilder');\n    let stream;\n    const options = setDefaultBrowserOpts(opts);\n    const bufferSize = options.browserBufferSize || 1024 * 512;\n    const bufferTimeout = opts.browserBufferTimeout || 1000;\n    const coerceToBuffer = !opts.objectMode;\n    const socket = createBrowserWebSocket(client, opts);\n    const proxy = buildProxy(opts, socketWriteBrowser, socketEndBrowser);\n    if (!opts.objectMode) {\n        proxy._writev = BufferedDuplex_1.writev.bind(proxy);\n    }\n    proxy.on('close', () => {\n        socket.close();\n    });\n    const eventListenerSupport = typeof socket.addEventListener !== 'undefined';\n    if (socket.readyState === socket.OPEN) {\n        stream = proxy;\n        stream.socket = socket;\n    }\n    else {\n        stream = new BufferedDuplex_1.BufferedDuplex(opts, proxy, socket);\n        if (eventListenerSupport) {\n            socket.addEventListener('open', onOpen);\n        }\n        else {\n            socket.onopen = onOpen;\n        }\n    }\n    if (eventListenerSupport) {\n        socket.addEventListener('close', onClose);\n        socket.addEventListener('error', onError);\n        socket.addEventListener('message', onMessage);\n    }\n    else {\n        socket.onclose = onClose;\n        socket.onerror = onError;\n        socket.onmessage = onMessage;\n    }\n    function buildProxy(pOptions, socketWrite, socketEnd) {\n        const _proxy = new readable_stream_1.Transform({\n            objectMode: pOptions.objectMode,\n        });\n        _proxy._write = socketWrite;\n        _proxy._flush = socketEnd;\n        return _proxy;\n    }\n    function onOpen() {\n        debug('WebSocket onOpen');\n        if (stream instanceof BufferedDuplex_1.BufferedDuplex) {\n            stream.socketReady();\n        }\n    }\n    function onClose(event) {\n        debug('WebSocket onClose', event);\n        stream.end();\n        stream.destroy();\n    }\n    function onError(err) {\n        debug('WebSocket onError', err);\n        const error = new Error('WebSocket error');\n        error['event'] = err;\n        stream.destroy(error);\n    }\n    async function onMessage(event) {\n        let { data } = event;\n        if (data instanceof ArrayBuffer)\n            data = buffer_1.Buffer.from(data);\n        else if (data instanceof Blob)\n            data = buffer_1.Buffer.from(await new Response(data).arrayBuffer());\n        else\n            data = buffer_1.Buffer.from(data, 'utf8');\n        if (proxy && !proxy.destroyed) {\n            proxy.push(data);\n        }\n    }\n    function socketWriteBrowser(chunk, enc, next) {\n        if (socket.bufferedAmount > bufferSize) {\n            setTimeout(socketWriteBrowser, bufferTimeout, chunk, enc, next);\n            return;\n        }\n        if (coerceToBuffer && typeof chunk === 'string') {\n            chunk = buffer_1.Buffer.from(chunk, 'utf8');\n        }\n        try {\n            socket.send(chunk);\n        }\n        catch (err) {\n            return next(err);\n        }\n        next();\n    }\n    function socketEndBrowser(done) {\n        socket.close();\n        done();\n    }\n    return stream;\n};\nexports.browserStreamBuilder = browserStreamBuilder;\n//# sourceMappingURL=ws.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst readable_stream_1 = require(\"readable-stream\");\nconst BufferedDuplex_1 = require(\"../BufferedDuplex\");\nlet socketTask;\nlet proxy;\nlet stream;\nfunction buildProxy() {\n    const _proxy = new readable_stream_1.Transform();\n    _proxy._write = (chunk, encoding, next) => {\n        socketTask.send({\n            data: chunk.buffer,\n            success() {\n                next();\n            },\n            fail(errMsg) {\n                next(new Error(errMsg));\n            },\n        });\n    };\n    _proxy._flush = (done) => {\n        socketTask.close({\n            success() {\n                done();\n            },\n        });\n    };\n    return _proxy;\n}\nfunction setDefaultOpts(opts) {\n    if (!opts.hostname) {\n        opts.hostname = 'localhost';\n    }\n    if (!opts.path) {\n        opts.path = '/';\n    }\n    if (!opts.wsOptions) {\n        opts.wsOptions = {};\n    }\n}\nfunction buildUrl(opts, client) {\n    const protocol = opts.protocol === 'wxs' ? 'wss' : 'ws';\n    let url = `${protocol}://${opts.hostname}${opts.path}`;\n    if (opts.port && opts.port !== 80 && opts.port !== 443) {\n        url = `${protocol}://${opts.hostname}:${opts.port}${opts.path}`;\n    }\n    if (typeof opts.transformWsUrl === 'function') {\n        url = opts.transformWsUrl(url, opts, client);\n    }\n    return url;\n}\nfunction bindEventHandler() {\n    socketTask.onOpen(() => {\n        stream.socketReady();\n    });\n    socketTask.onMessage((res) => {\n        let { data } = res;\n        if (data instanceof ArrayBuffer)\n            data = buffer_1.Buffer.from(data);\n        else\n            data = buffer_1.Buffer.from(data, 'utf8');\n        proxy.push(data);\n    });\n    socketTask.onClose(() => {\n        stream.emit('close');\n        stream.end();\n        stream.destroy();\n    });\n    socketTask.onError((error) => {\n        const err = new Error(error.errMsg);\n        stream.destroy(err);\n    });\n}\nconst buildStream = (client, opts) => {\n    opts.hostname = opts.hostname || opts.host;\n    if (!opts.hostname) {\n        throw new Error('Could not determine host. Specify host manually.');\n    }\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    setDefaultOpts(opts);\n    const url = buildUrl(opts, client);\n    socketTask = wx.connectSocket({\n        url,\n        protocols: [websocketSubProtocol],\n    });\n    proxy = buildProxy();\n    stream = new BufferedDuplex_1.BufferedDuplex(opts, proxy, socketTask);\n    stream._destroy = (err, cb) => {\n        socketTask.close({\n            success() {\n                if (cb)\n                    cb(err);\n            },\n        });\n    };\n    const destroyRef = stream.destroy;\n    stream.destroy = (err, cb) => {\n        stream.destroy = destroyRef;\n        setTimeout(() => {\n            socketTask.close({\n                fail() {\n                    stream._destroy(err, cb);\n                },\n            });\n        }, 0);\n        return stream;\n    };\n    bindEventHandler();\n    return stream;\n};\nexports.default = buildStream;\n//# sourceMappingURL=wx.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass DefaultMessageIdProvider {\n    constructor() {\n        this.nextId = Math.max(1, Math.floor(Math.random() * 65535));\n    }\n    allocate() {\n        const id = this.nextId++;\n        if (this.nextId === 65536) {\n            this.nextId = 1;\n        }\n        return id;\n    }\n    getLastAllocated() {\n        return this.nextId === 1 ? 65535 : this.nextId - 1;\n    }\n    register(messageId) {\n        return true;\n    }\n    deallocate(messageId) { }\n    clear() { }\n}\nexports.default = DefaultMessageIdProvider;\n//# sourceMappingURL=default-message-id-provider.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_browser_1 = __importStar(require(\"./is-browser\"));\nconst worker_timers_1 = require(\"worker-timers\");\nconst workerTimer = {\n    set: worker_timers_1.setInterval,\n    clear: worker_timers_1.clearInterval,\n};\nconst nativeTimer = {\n    set: (func, time) => setInterval(func, time),\n    clear: (timerId) => clearInterval(timerId),\n};\nconst getTimer = (variant) => {\n    switch (variant) {\n        case 'native': {\n            return nativeTimer;\n        }\n        case 'worker': {\n            return workerTimer;\n        }\n        case 'auto':\n        default: {\n            return is_browser_1.default && !is_browser_1.isWebWorker && !is_browser_1.isReactNativeBrowser\n                ? workerTimer\n                : nativeTimer;\n        }\n    }\n};\nexports.default = getTimer;\n//# sourceMappingURL=get-timer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReasonCodes = void 0;\nconst shared_1 = require(\"../shared\");\nexports.ReasonCodes = {\n    0: '',\n    1: 'Unacceptable protocol version',\n    2: 'Identifier rejected',\n    3: 'Server unavailable',\n    4: 'Bad username or password',\n    5: 'Not authorized',\n    16: 'No matching subscribers',\n    17: 'No subscription existed',\n    128: 'Unspecified error',\n    129: 'Malformed Packet',\n    130: 'Protocol Error',\n    131: 'Implementation specific error',\n    132: 'Unsupported Protocol Version',\n    133: 'Client Identifier not valid',\n    134: 'Bad User Name or Password',\n    135: 'Not authorized',\n    136: 'Server unavailable',\n    137: 'Server busy',\n    138: 'Banned',\n    139: 'Server shutting down',\n    140: 'Bad authentication method',\n    141: 'Keep Alive timeout',\n    142: 'Session taken over',\n    143: 'Topic Filter invalid',\n    144: 'Topic Name invalid',\n    145: 'Packet identifier in use',\n    146: 'Packet Identifier not found',\n    147: 'Receive Maximum exceeded',\n    148: 'Topic Alias invalid',\n    149: 'Packet too large',\n    150: 'Message rate too high',\n    151: 'Quota exceeded',\n    152: 'Administrative action',\n    153: 'Payload format invalid',\n    154: 'Retain not supported',\n    155: 'QoS not supported',\n    156: 'Use another server',\n    157: 'Server moved',\n    158: 'Shared Subscriptions not supported',\n    159: 'Connection rate exceeded',\n    160: 'Maximum connect time',\n    161: 'Subscription Identifiers not supported',\n    162: 'Wildcard Subscriptions not supported',\n};\nconst handleAck = (client, packet) => {\n    const { messageId } = packet;\n    const type = packet.cmd;\n    let response = null;\n    const cb = client.outgoing[messageId] ? client.outgoing[messageId].cb : null;\n    let err = null;\n    if (!cb) {\n        client.log('_handleAck :: Server sent an ack in error. Ignoring.');\n        return;\n    }\n    client.log('_handleAck :: packet type', type);\n    switch (type) {\n        case 'pubcomp':\n        case 'puback': {\n            const pubackRC = packet.reasonCode;\n            if (pubackRC && pubackRC > 0 && pubackRC !== 16) {\n                err = new shared_1.ErrorWithReasonCode(`Publish error: ${exports.ReasonCodes[pubackRC]}`, pubackRC);\n                client['_removeOutgoingAndStoreMessage'](messageId, () => {\n                    cb(err, packet);\n                });\n            }\n            else {\n                client['_removeOutgoingAndStoreMessage'](messageId, cb);\n            }\n            break;\n        }\n        case 'pubrec': {\n            response = {\n                cmd: 'pubrel',\n                qos: 2,\n                messageId,\n            };\n            const pubrecRC = packet.reasonCode;\n            if (pubrecRC && pubrecRC > 0 && pubrecRC !== 16) {\n                err = new shared_1.ErrorWithReasonCode(`Publish error: ${exports.ReasonCodes[pubrecRC]}`, pubrecRC);\n                client['_removeOutgoingAndStoreMessage'](messageId, () => {\n                    cb(err, packet);\n                });\n            }\n            else {\n                client['_sendPacket'](response);\n            }\n            break;\n        }\n        case 'suback': {\n            delete client.outgoing[messageId];\n            client.messageIdProvider.deallocate(messageId);\n            const granted = packet.granted;\n            for (let grantedI = 0; grantedI < granted.length; grantedI++) {\n                const subackRC = granted[grantedI];\n                if ((subackRC & 0x80) !== 0) {\n                    err = new Error(`Subscribe error: ${exports.ReasonCodes[subackRC]}`);\n                    err.code = subackRC;\n                    const topics = client.messageIdToTopic[messageId];\n                    if (topics) {\n                        topics.forEach((topic) => {\n                            delete client['_resubscribeTopics'][topic];\n                        });\n                    }\n                }\n            }\n            delete client.messageIdToTopic[messageId];\n            client['_invokeStoreProcessingQueue']();\n            cb(err, packet);\n            break;\n        }\n        case 'unsuback': {\n            delete client.outgoing[messageId];\n            client.messageIdProvider.deallocate(messageId);\n            client['_invokeStoreProcessingQueue']();\n            cb(null, packet);\n            break;\n        }\n        default:\n            client.emit('error', new Error('unrecognized packet type'));\n    }\n    if (client.disconnecting && Object.keys(client.outgoing).length === 0) {\n        client.emit('outgoingEmpty');\n    }\n};\nexports.default = handleAck;\n//# sourceMappingURL=ack.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shared_1 = require(\"../shared\");\nconst ack_1 = require(\"./ack\");\nconst handleAuth = (client, packet) => {\n    const { options } = client;\n    const version = options.protocolVersion;\n    const rc = version === 5 ? packet.reasonCode : packet.returnCode;\n    if (version !== 5) {\n        const err = new shared_1.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${version}`, rc);\n        client.emit('error', err);\n        return;\n    }\n    client.handleAuth(packet, (err, packet2) => {\n        if (err) {\n            client.emit('error', err);\n            return;\n        }\n        if (rc === 24) {\n            client.reconnecting = false;\n            client['_sendPacket'](packet2);\n        }\n        else {\n            const error = new shared_1.ErrorWithReasonCode(`Connection refused: ${ack_1.ReasonCodes[rc]}`, rc);\n            client.emit('error', error);\n        }\n    });\n};\nexports.default = handleAuth;\n//# sourceMappingURL=auth.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ack_1 = require(\"./ack\");\nconst topic_alias_send_1 = __importDefault(require(\"../topic-alias-send\"));\nconst shared_1 = require(\"../shared\");\nconst handleConnack = (client, packet) => {\n    client.log('_handleConnack');\n    const { options } = client;\n    const version = options.protocolVersion;\n    const rc = version === 5 ? packet.reasonCode : packet.returnCode;\n    clearTimeout(client['connackTimer']);\n    delete client['topicAliasSend'];\n    if (packet.properties) {\n        if (packet.properties.topicAliasMaximum) {\n            if (packet.properties.topicAliasMaximum > 0xffff) {\n                client.emit('error', new Error('topicAliasMaximum from broker is out of range'));\n                return;\n            }\n            if (packet.properties.topicAliasMaximum > 0) {\n                client['topicAliasSend'] = new topic_alias_send_1.default(packet.properties.topicAliasMaximum);\n            }\n        }\n        if (packet.properties.serverKeepAlive && options.keepalive) {\n            options.keepalive = packet.properties.serverKeepAlive;\n        }\n        if (packet.properties.maximumPacketSize) {\n            if (!options.properties) {\n                options.properties = {};\n            }\n            options.properties.maximumPacketSize =\n                packet.properties.maximumPacketSize;\n        }\n    }\n    if (rc === 0) {\n        client.reconnecting = false;\n        client['_onConnect'](packet);\n    }\n    else if (rc > 0) {\n        const err = new shared_1.ErrorWithReasonCode(`Connection refused: ${ack_1.ReasonCodes[rc]}`, rc);\n        client.emit('error', err);\n    }\n};\nexports.default = handleConnack;\n//# sourceMappingURL=connack.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst publish_1 = __importDefault(require(\"./publish\"));\nconst auth_1 = __importDefault(require(\"./auth\"));\nconst connack_1 = __importDefault(require(\"./connack\"));\nconst ack_1 = __importDefault(require(\"./ack\"));\nconst pubrel_1 = __importDefault(require(\"./pubrel\"));\nconst handle = (client, packet, done) => {\n    const { options } = client;\n    if (options.protocolVersion === 5 &&\n        options.properties &&\n        options.properties.maximumPacketSize &&\n        options.properties.maximumPacketSize < packet.length) {\n        client.emit('error', new Error(`exceeding packets size ${packet.cmd}`));\n        client.end({\n            reasonCode: 149,\n            properties: { reasonString: 'Maximum packet size was exceeded' },\n        });\n        return client;\n    }\n    client.log('_handlePacket :: emitting packetreceive');\n    client.emit('packetreceive', packet);\n    switch (packet.cmd) {\n        case 'publish':\n            (0, publish_1.default)(client, packet, done);\n            break;\n        case 'puback':\n        case 'pubrec':\n        case 'pubcomp':\n        case 'suback':\n        case 'unsuback':\n            client.reschedulePing();\n            (0, ack_1.default)(client, packet);\n            done();\n            break;\n        case 'pubrel':\n            client.reschedulePing();\n            (0, pubrel_1.default)(client, packet, done);\n            break;\n        case 'connack':\n            (0, connack_1.default)(client, packet);\n            done();\n            break;\n        case 'auth':\n            client.reschedulePing();\n            (0, auth_1.default)(client, packet);\n            done();\n            break;\n        case 'pingresp':\n            client.log('_handlePacket :: received pingresp');\n            client.reschedulePing(true);\n            done();\n            break;\n        case 'disconnect':\n            client.emit('disconnect', packet);\n            done();\n            break;\n        default:\n            client.log('_handlePacket :: unknown command');\n            done();\n            break;\n    }\n};\nexports.default = handle;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validReasonCodes = [0, 16, 128, 131, 135, 144, 145, 151, 153];\nconst handlePublish = (client, packet, done) => {\n    client.log('handlePublish: packet %o', packet);\n    done = typeof done !== 'undefined' ? done : client.noop;\n    let topic = packet.topic.toString();\n    const message = packet.payload;\n    const { qos } = packet;\n    const { messageId } = packet;\n    const { options } = client;\n    if (client.options.protocolVersion === 5) {\n        let alias;\n        if (packet.properties) {\n            alias = packet.properties.topicAlias;\n        }\n        if (typeof alias !== 'undefined') {\n            if (topic.length === 0) {\n                if (alias > 0 && alias <= 0xffff) {\n                    const gotTopic = client['topicAliasRecv'].getTopicByAlias(alias);\n                    if (gotTopic) {\n                        topic = gotTopic;\n                        client.log('handlePublish :: topic complemented by alias. topic: %s - alias: %d', topic, alias);\n                    }\n                    else {\n                        client.log('handlePublish :: unregistered topic alias. alias: %d', alias);\n                        client.emit('error', new Error('Received unregistered Topic Alias'));\n                        return;\n                    }\n                }\n                else {\n                    client.log('handlePublish :: topic alias out of range. alias: %d', alias);\n                    client.emit('error', new Error('Received Topic Alias is out of range'));\n                    return;\n                }\n            }\n            else if (client['topicAliasRecv'].put(topic, alias)) {\n                client.log('handlePublish :: registered topic: %s - alias: %d', topic, alias);\n            }\n            else {\n                client.log('handlePublish :: topic alias out of range. alias: %d', alias);\n                client.emit('error', new Error('Received Topic Alias is out of range'));\n                return;\n            }\n        }\n    }\n    client.log('handlePublish: qos %d', qos);\n    switch (qos) {\n        case 2: {\n            options.customHandleAcks(topic, message, packet, (error, code) => {\n                if (typeof error === 'number') {\n                    code = error;\n                    error = null;\n                }\n                if (error) {\n                    return client.emit('error', error);\n                }\n                if (validReasonCodes.indexOf(code) === -1) {\n                    return client.emit('error', new Error('Wrong reason code for pubrec'));\n                }\n                if (code) {\n                    client['_sendPacket']({ cmd: 'pubrec', messageId, reasonCode: code }, done);\n                }\n                else {\n                    client.incomingStore.put(packet, () => {\n                        client['_sendPacket']({ cmd: 'pubrec', messageId }, done);\n                    });\n                }\n            });\n            break;\n        }\n        case 1: {\n            options.customHandleAcks(topic, message, packet, (error, code) => {\n                if (typeof error === 'number') {\n                    code = error;\n                    error = null;\n                }\n                if (error) {\n                    return client.emit('error', error);\n                }\n                if (validReasonCodes.indexOf(code) === -1) {\n                    return client.emit('error', new Error('Wrong reason code for puback'));\n                }\n                if (!code) {\n                    client.emit('message', topic, message, packet);\n                }\n                client.handleMessage(packet, (err) => {\n                    if (err) {\n                        return done && done(err);\n                    }\n                    client['_sendPacket']({ cmd: 'puback', messageId, reasonCode: code }, done);\n                });\n            });\n            break;\n        }\n        case 0:\n            client.emit('message', topic, message, packet);\n            client.handleMessage(packet, done);\n            break;\n        default:\n            client.log('handlePublish: unknown QoS. Doing nothing.');\n            break;\n    }\n};\nexports.default = handlePublish;\n//# sourceMappingURL=publish.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst handlePubrel = (client, packet, done) => {\n    client.log('handling pubrel packet');\n    const callback = typeof done !== 'undefined' ? done : client.noop;\n    const { messageId } = packet;\n    const comp = { cmd: 'pubcomp', messageId };\n    client.incomingStore.get(packet, (err, pub) => {\n        if (!err) {\n            client.emit('message', pub.topic, pub.payload, pub);\n            client.handleMessage(pub, (err2) => {\n                if (err2) {\n                    return callback(err2);\n                }\n                client.incomingStore.del(pub, client.noop);\n                client['_sendPacket'](comp, callback);\n            });\n        }\n        else {\n            client['_sendPacket'](comp, callback);\n        }\n    });\n};\nexports.default = handlePubrel;\n//# sourceMappingURL=pubrel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isReactNativeBrowser = exports.isWebWorker = void 0;\nconst isStandardBrowserEnv = () => {\n    var _a;\n    if (typeof window !== 'undefined') {\n        const electronRenderCheck = typeof navigator !== 'undefined' &&\n            ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.toLowerCase().indexOf(' electron/')) > -1;\n        if (electronRenderCheck && (process === null || process === void 0 ? void 0 : process.versions)) {\n            const electronMainCheck = Object.prototype.hasOwnProperty.call(process.versions, 'electron');\n            return !electronMainCheck;\n        }\n        return typeof window.document !== 'undefined';\n    }\n    return false;\n};\nconst isWebWorkerEnv = () => {\n    var _a, _b;\n    return Boolean(typeof self === 'object' &&\n        ((_b = (_a = self === null || self === void 0 ? void 0 : self.constructor) === null || _a === void 0 ? void 0 : _a.name) === null || _b === void 0 ? void 0 : _b.includes('WorkerGlobalScope')));\n};\nconst isReactNativeEnv = () => typeof navigator !== 'undefined' && navigator.product === 'ReactNative';\nconst isBrowser = isStandardBrowserEnv() || isWebWorkerEnv() || isReactNativeEnv();\nexports.isWebWorker = isWebWorkerEnv();\nexports.isReactNativeBrowser = isReactNativeEnv();\nexports.default = isBrowser;\n//# sourceMappingURL=is-browser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MQTTJS_VERSION = exports.nextTick = exports.applyMixin = exports.ErrorWithReasonCode = void 0;\nclass ErrorWithReasonCode extends Error {\n    constructor(message, code) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ErrorWithReasonCode.prototype);\n        Object.getPrototypeOf(this).name = 'ErrorWithReasonCode';\n    }\n}\nexports.ErrorWithReasonCode = ErrorWithReasonCode;\nfunction applyMixin(target, mixin, includeConstructor = false) {\n    var _a;\n    const inheritanceChain = [mixin];\n    while (true) {\n        const current = inheritanceChain[0];\n        const base = Object.getPrototypeOf(current);\n        if (base === null || base === void 0 ? void 0 : base.prototype) {\n            inheritanceChain.unshift(base);\n        }\n        else {\n            break;\n        }\n    }\n    for (const ctor of inheritanceChain) {\n        for (const prop of Object.getOwnPropertyNames(ctor.prototype)) {\n            if (includeConstructor || prop !== 'constructor') {\n                Object.defineProperty(target.prototype, prop, (_a = Object.getOwnPropertyDescriptor(ctor.prototype, prop)) !== null && _a !== void 0 ? _a : Object.create(null));\n            }\n        }\n    }\n}\nexports.applyMixin = applyMixin;\nexports.nextTick = typeof (process === null || process === void 0 ? void 0 : process.nextTick) === 'function'\n    ? process.nextTick\n    : (callback) => {\n        setTimeout(callback, 0);\n    };\nexports.MQTTJS_VERSION = require('../../package.json').version;\n//# sourceMappingURL=shared.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst readable_stream_1 = require(\"readable-stream\");\nconst streamsOpts = { objectMode: true };\nconst defaultStoreOptions = {\n    clean: true,\n};\nclass Store {\n    constructor(options) {\n        this.options = options || {};\n        this.options = Object.assign(Object.assign({}, defaultStoreOptions), options);\n        this._inflights = new Map();\n    }\n    put(packet, cb) {\n        this._inflights.set(packet.messageId, packet);\n        if (cb) {\n            cb();\n        }\n        return this;\n    }\n    createStream() {\n        const stream = new readable_stream_1.Readable(streamsOpts);\n        const values = [];\n        let destroyed = false;\n        let i = 0;\n        this._inflights.forEach((value, key) => {\n            values.push(value);\n        });\n        stream._read = () => {\n            if (!destroyed && i < values.length) {\n                stream.push(values[i++]);\n            }\n            else {\n                stream.push(null);\n            }\n        };\n        stream.destroy = (err) => {\n            if (destroyed) {\n                return;\n            }\n            destroyed = true;\n            setTimeout(() => {\n                stream.emit('close');\n            }, 0);\n            return stream;\n        };\n        return stream;\n    }\n    del(packet, cb) {\n        const toDelete = this._inflights.get(packet.messageId);\n        if (toDelete) {\n            this._inflights.delete(packet.messageId);\n            cb(null, toDelete);\n        }\n        else if (cb) {\n            cb(new Error('missing packet'));\n        }\n        return this;\n    }\n    get(packet, cb) {\n        const storedPacket = this._inflights.get(packet.messageId);\n        if (storedPacket) {\n            cb(null, storedPacket);\n        }\n        else if (cb) {\n            cb(new Error('missing packet'));\n        }\n        return this;\n    }\n    close(cb) {\n        if (this.options.clean) {\n            this._inflights = null;\n        }\n        if (cb) {\n            cb();\n        }\n    }\n}\nexports.default = Store;\n//# sourceMappingURL=store.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass TopicAliasRecv {\n    constructor(max) {\n        this.aliasToTopic = {};\n        this.max = max;\n    }\n    put(topic, alias) {\n        if (alias === 0 || alias > this.max) {\n            return false;\n        }\n        this.aliasToTopic[alias] = topic;\n        this.length = Object.keys(this.aliasToTopic).length;\n        return true;\n    }\n    getTopicByAlias(alias) {\n        return this.aliasToTopic[alias];\n    }\n    clear() {\n        this.aliasToTopic = {};\n    }\n}\nexports.default = TopicAliasRecv;\n//# sourceMappingURL=topic-alias-recv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lru_cache_1 = require(\"lru-cache\");\nconst number_allocator_1 = require(\"number-allocator\");\nclass TopicAliasSend {\n    constructor(max) {\n        if (max > 0) {\n            this.aliasToTopic = new lru_cache_1.LRUCache({ max });\n            this.topicToAlias = {};\n            this.numberAllocator = new number_allocator_1.NumberAllocator(1, max);\n            this.max = max;\n            this.length = 0;\n        }\n    }\n    put(topic, alias) {\n        if (alias === 0 || alias > this.max) {\n            return false;\n        }\n        const entry = this.aliasToTopic.get(alias);\n        if (entry) {\n            delete this.topicToAlias[entry];\n        }\n        this.aliasToTopic.set(alias, topic);\n        this.topicToAlias[topic] = alias;\n        this.numberAllocator.use(alias);\n        this.length = this.aliasToTopic.size;\n        return true;\n    }\n    getTopicByAlias(alias) {\n        return this.aliasToTopic.get(alias);\n    }\n    getAliasByTopic(topic) {\n        const alias = this.topicToAlias[topic];\n        if (typeof alias !== 'undefined') {\n            this.aliasToTopic.get(alias);\n        }\n        return alias;\n    }\n    clear() {\n        this.aliasToTopic.clear();\n        this.topicToAlias = {};\n        this.numberAllocator.clear();\n        this.length = 0;\n    }\n    getLruAlias() {\n        const alias = this.numberAllocator.firstVacant();\n        if (alias)\n            return alias;\n        return [...this.aliasToTopic.keys()][this.aliasToTopic.size - 1];\n    }\n}\nexports.default = TopicAliasSend;\n//# sourceMappingURL=topic-alias-send.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst number_allocator_1 = require(\"number-allocator\");\nclass UniqueMessageIdProvider {\n    constructor() {\n        this.numberAllocator = new number_allocator_1.NumberAllocator(1, 65535);\n    }\n    allocate() {\n        this.lastId = this.numberAllocator.alloc();\n        return this.lastId;\n    }\n    getLastAllocated() {\n        return this.lastId;\n    }\n    register(messageId) {\n        return this.numberAllocator.use(messageId);\n    }\n    deallocate(messageId) {\n        this.numberAllocator.free(messageId);\n    }\n    clear() {\n        this.numberAllocator.clear();\n    }\n}\nexports.default = UniqueMessageIdProvider;\n//# sourceMappingURL=unique-message-id-provider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTopics = exports.validateTopic = void 0;\nfunction validateTopic(topic) {\n    const parts = topic.split('/');\n    for (let i = 0; i < parts.length; i++) {\n        if (parts[i] === '+') {\n            continue;\n        }\n        if (parts[i] === '#') {\n            return i === parts.length - 1;\n        }\n        if (parts[i].indexOf('+') !== -1 || parts[i].indexOf('#') !== -1) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.validateTopic = validateTopic;\nfunction validateTopics(topics) {\n    if (topics.length === 0) {\n        return 'empty_topic_list';\n    }\n    for (let i = 0; i < topics.length; i++) {\n        if (!validateTopic(topics[i])) {\n            return topics[i];\n        }\n    }\n    return null;\n}\nexports.validateTopics = validateTopics;\n//# sourceMappingURL=validations.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReasonCodes = exports.KeepaliveManager = exports.UniqueMessageIdProvider = exports.DefaultMessageIdProvider = exports.Store = exports.MqttClient = exports.connectAsync = exports.connect = exports.Client = void 0;\nconst client_1 = __importDefault(require(\"./lib/client\"));\nexports.MqttClient = client_1.default;\nconst default_message_id_provider_1 = __importDefault(require(\"./lib/default-message-id-provider\"));\nexports.DefaultMessageIdProvider = default_message_id_provider_1.default;\nconst unique_message_id_provider_1 = __importDefault(require(\"./lib/unique-message-id-provider\"));\nexports.UniqueMessageIdProvider = unique_message_id_provider_1.default;\nconst store_1 = __importDefault(require(\"./lib/store\"));\nexports.Store = store_1.default;\nconst connect_1 = __importStar(require(\"./lib/connect\"));\nexports.connect = connect_1.default;\nObject.defineProperty(exports, \"connectAsync\", { enumerable: true, get: function () { return connect_1.connectAsync; } });\nconst KeepaliveManager_1 = __importDefault(require(\"./lib/KeepaliveManager\"));\nexports.KeepaliveManager = KeepaliveManager_1.default;\nexports.Client = client_1.default;\n__exportStar(require(\"./lib/client\"), exports);\n__exportStar(require(\"./lib/shared\"), exports);\nvar ack_1 = require(\"./lib/handlers/ack\");\nObject.defineProperty(exports, \"ReasonCodes\", { enumerable: true, get: function () { return ack_1.ReasonCodes; } });\n//# sourceMappingURL=mqtt.js.map","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","// Copyright Takatoshi Kondo 2021\n//\n// Distributed under the MIT License\n\nconst NumberAllocator = require('./lib/number-allocator.js')\n\nmodule.exports.NumberAllocator = NumberAllocator\n","// Copyright Takatoshi Kondo 2021\n//\n// Distributed under the MIT License\n\n'use strict'\n\nconst SortedSet = require('js-sdsl').OrderedSet\nconst debugTrace = require('debug')('number-allocator:trace')\nconst debugError = require('debug')('number-allocator:error')\n/**\n * Interval constructor\n * @constructor\n * @param {Number} low  - The lowest value of the interval\n * @param {Number} high - The highest value of the interval\n */\nfunction Interval (low, high) {\n  this.low = low\n  this.high = high\n}\n\nInterval.prototype.equals = function (other) {\n  return this.low === other.low && this.high === other.high\n}\n\nInterval.prototype.compare = function (other) {\n  if (this.low < other.low && this.high < other.low) return -1\n  if (other.low < this.low && other.high < this.low) return 1\n  return 0\n}\n\n/**\n * NumberAllocator constructor.\n * The all numbers are set to vacant status.\n * Time Complexity O(1)\n * @constructor\n * @param {Number} min  - The maximum number of allocatable. The number must be integer.\n * @param {Number} maxh - The minimum number of allocatable. The number must be integer.\n */\nfunction NumberAllocator (min, max) {\n  if (!(this instanceof NumberAllocator)) {\n    return new NumberAllocator(min, max)\n  }\n\n  this.min = min\n  this.max = max\n\n  this.ss = new SortedSet(\n    [],\n    (lhs, rhs) => {\n      return lhs.compare(rhs)\n    }\n  )\n  debugTrace('Create')\n  this.clear()\n}\n\n/**\n * Get the first vacant number. The status of the number is not updated.\n * Time Complexity O(1)\n * @return {Number} - The first vacant number. If all numbers are occupied, return null.\n *                    When alloc() is called then the same value will be allocated.\n */\nNumberAllocator.prototype.firstVacant = function () {\n  if (this.ss.size() === 0) return null\n  return this.ss.front().low\n}\n\n/**\n * Allocate the first vacant number. The number become occupied status.\n * Time Complexity O(1)\n * @return {Number} - The first vacant number. If all numbers are occupied, return null.\n */\nNumberAllocator.prototype.alloc = function () {\n  if (this.ss.size() === 0) {\n    debugTrace('alloc():empty')\n    return null\n  }\n  const it = this.ss.begin()\n  const low = it.pointer.low\n  const high = it.pointer.high\n  const num = low\n  if (num + 1 <= high) {\n    // x|----|\n    this.ss.updateKeyByIterator(it, new Interval(low + 1, high))\n  } else {\n    this.ss.eraseElementByPos(0)\n  }\n  debugTrace('alloc():' + num)\n  return num\n}\n\n/**\n * Use the number. The number become occupied status.\n * If the number has already been occupied, then return false.\n * Time Complexity O(logN) : N is the number of intervals (not numbers)\n * @param {Number} num - The number to request use.\n * @return {Boolean} - If `num` was not occupied, then return true, otherwise return false.\n */\nNumberAllocator.prototype.use = function (num) {\n  const key = new Interval(num, num)\n  const it = this.ss.lowerBound(key)\n  if (!it.equals(this.ss.end())) {\n    const low = it.pointer.low\n    const high = it.pointer.high\n    if (it.pointer.equals(key)) {\n      // |x|\n      this.ss.eraseElementByIterator(it)\n      debugTrace('use():' + num)\n      return true\n    }\n\n    // x |-----|\n    if (low > num) return false\n\n    // |x----|\n    if (low === num) {\n      // x|----|\n      this.ss.updateKeyByIterator(it, new Interval(low + 1, high))\n      debugTrace('use():' + num)\n      return true\n    }\n\n    // |----x|\n    if (high === num) {\n      // |----|x\n      this.ss.updateKeyByIterator(it, new Interval(low, high - 1))\n      debugTrace('use():' + num)\n      return true\n    }\n\n    // |--x--|\n    // x|--|\n    this.ss.updateKeyByIterator(it, new Interval(num + 1, high))\n    // |--|x|--|\n    this.ss.insert(new Interval(low, num - 1))\n    debugTrace('use():' + num)\n    return true\n  }\n\n  debugTrace('use():failed')\n  return false\n}\n\n/**\n * Deallocate the number. The number become vacant status.\n * Time Complexity O(logN) : N is the number of intervals (not numbers)\n * @param {Number} num - The number to deallocate. The number must be occupied status.\n *                       In other words, the number must be allocated by alloc() or occupied be use().\n */\nNumberAllocator.prototype.free = function (num) {\n  if (num < this.min || num > this.max) {\n    debugError('free():' + num + ' is out of range')\n    return\n  }\n  const key = new Interval(num, num)\n  const it = this.ss.upperBound(key)\n  if (it.equals(this.ss.end())) {\n    // ....v\n    if (it.equals(this.ss.begin())) {\n      // Insert new interval\n      this.ss.insert(key)\n      return\n    }\n    it.pre()\n    const low = it.pointer.high\n    const high = it.pointer.high\n    if (high + 1 === num) {\n      // Concat to left\n      this.ss.updateKeyByIterator(it, new Interval(low, num))\n    } else {\n      // Insert new interval\n      this.ss.insert(key)\n    }\n  } else {\n    if (it.equals(this.ss.begin())) {\n      // v....\n      if (num + 1 === it.pointer.low) {\n        // Concat to right\n        const high = it.pointer.high\n        this.ss.updateKeyByIterator(it, new Interval(num, high))\n      } else {\n        // Insert new interval\n        this.ss.insert(key)\n      }\n    } else {\n      // ..v..\n      const rLow = it.pointer.low\n      const rHigh = it.pointer.high\n      it.pre()\n      const lLow = it.pointer.low\n      const lHigh = it.pointer.high\n      if (lHigh + 1 === num) {\n        if (num + 1 === rLow) {\n          // Concat to left and right\n          this.ss.eraseElementByIterator(it)\n          this.ss.updateKeyByIterator(it, new Interval(lLow, rHigh))\n        } else {\n          // Concat to left\n          this.ss.updateKeyByIterator(it, new Interval(lLow, num))\n        }\n      } else {\n        if (num + 1 === rLow) {\n          // Concat to right\n          this.ss.eraseElementByIterator(it.next())\n          this.ss.insert(new Interval(num, rHigh))\n        } else {\n          // Insert new interval\n          this.ss.insert(key)\n        }\n      }\n    }\n  }\n  debugTrace('free():' + num)\n}\n\n/**\n * Clear all occupied numbers.\n * The all numbers are set to vacant status.\n * Time Complexity O(1)\n */\nNumberAllocator.prototype.clear = function () {\n  debugTrace('clear()')\n  this.ss.clear()\n  this.ss.insert(new Interval(this.min, this.max))\n}\n\n/**\n * Get the number of intervals. Interval is internal structure of this library.\n * This function is for debugging.\n * Time Complexity O(1)\n * @return {Number} - The number of intervals.\n */\nNumberAllocator.prototype.intervalCount = function () {\n  return this.ss.size()\n}\n\n/**\n * Dump the internal structor of the library.\n * This function is for debugging.\n * Time Complexity O(N) : N is the number of intervals (not numbers)\n */\nNumberAllocator.prototype.dump = function () {\n  console.log('length:' + this.ss.size())\n  for (const element of this.ss) {\n    console.log(element)\n  }\n}\n\nmodule.exports = NumberAllocator\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","// for now just expose the builtin process global from node.js\nmodule.exports = global.process;\n","'use strict';\n\nvar parseUrl = require('url').parse;\n\nvar DEFAULT_PORTS = {\n  ftp: 21,\n  gopher: 70,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443,\n};\n\nvar stringEndsWith = String.prototype.endsWith || function(s) {\n  return s.length <= this.length &&\n    this.indexOf(s, this.length - s.length) !== -1;\n};\n\n/**\n * @param {string|object} url - The URL, or the result from url.parse.\n * @return {string} The URL of the proxy that should handle the request to the\n *  given URL. If no proxy is set, this will be an empty string.\n */\nfunction getProxyForUrl(url) {\n  var parsedUrl = typeof url === 'string' ? parseUrl(url) : url || {};\n  var proto = parsedUrl.protocol;\n  var hostname = parsedUrl.host;\n  var port = parsedUrl.port;\n  if (typeof hostname !== 'string' || !hostname || typeof proto !== 'string') {\n    return '';  // Don't proxy URLs without a valid scheme or host.\n  }\n\n  proto = proto.split(':', 1)[0];\n  // Stripping ports in this way instead of using parsedUrl.hostname to make\n  // sure that the brackets around IPv6 addresses are kept.\n  hostname = hostname.replace(/:\\d*$/, '');\n  port = parseInt(port) || DEFAULT_PORTS[proto] || 0;\n  if (!shouldProxy(hostname, port)) {\n    return '';  // Don't proxy URLs that match NO_PROXY.\n  }\n\n  var proxy =\n    getEnv('npm_config_' + proto + '_proxy') ||\n    getEnv(proto + '_proxy') ||\n    getEnv('npm_config_proxy') ||\n    getEnv('all_proxy');\n  if (proxy && proxy.indexOf('://') === -1) {\n    // Missing scheme in proxy, default to the requested URL's scheme.\n    proxy = proto + '://' + proxy;\n  }\n  return proxy;\n}\n\n/**\n * Determines whether a given URL should be proxied.\n *\n * @param {string} hostname - The host name of the URL.\n * @param {number} port - The effective port of the URL.\n * @returns {boolean} Whether the given URL should be proxied.\n * @private\n */\nfunction shouldProxy(hostname, port) {\n  var NO_PROXY =\n    (getEnv('npm_config_no_proxy') || getEnv('no_proxy')).toLowerCase();\n  if (!NO_PROXY) {\n    return true;  // Always proxy if NO_PROXY is not set.\n  }\n  if (NO_PROXY === '*') {\n    return false;  // Never proxy if wildcard is set.\n  }\n\n  return NO_PROXY.split(/[,\\s]/).every(function(proxy) {\n    if (!proxy) {\n      return true;  // Skip zero-length hosts.\n    }\n    var parsedProxy = proxy.match(/^(.+):(\\d+)$/);\n    var parsedProxyHostname = parsedProxy ? parsedProxy[1] : proxy;\n    var parsedProxyPort = parsedProxy ? parseInt(parsedProxy[2]) : 0;\n    if (parsedProxyPort && parsedProxyPort !== port) {\n      return true;  // Skip if ports don't match.\n    }\n\n    if (!/^[.*]/.test(parsedProxyHostname)) {\n      // No wildcards, so stop proxying if there is an exact match.\n      return hostname !== parsedProxyHostname;\n    }\n\n    if (parsedProxyHostname.charAt(0) === '*') {\n      // Remove leading wildcard.\n      parsedProxyHostname = parsedProxyHostname.slice(1);\n    }\n    // Stop proxying if the hostname ends with the no_proxy host.\n    return !stringEndsWith.call(hostname, parsedProxyHostname);\n  });\n}\n\n/**\n * Get the value for an environment variable.\n *\n * @param {string} key - The name of the environment variable.\n * @return {string} The value of the environment variable.\n * @private\n */\nfunction getEnv(key) {\n  return process.env[key.toLowerCase()] || process.env[key.toUpperCase()] || '';\n}\n\nexports.getProxyForUrl = getProxyForUrl;\n","'use strict'\n\nconst { SymbolDispose } = require('../../ours/primordials')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { isNodeStream, isWebStream, kControllerErrorFunction } = require('./utils')\nconst eos = require('./end-of-stream')\nconst { ERR_INVALID_ARG_TYPE } = codes\nlet addAbortListener\n\n// This method is inlined here for readable-stream\n// It also does not allow for signal to not exist on the stream\n// https://github.com/nodejs/node/pull/36061#discussion_r533718029\nconst validateAbortSignal = (signal, name) => {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nmodule.exports.addAbortSignal = function addAbortSignal(signal, stream) {\n  validateAbortSignal(signal, 'signal')\n  if (!isNodeStream(stream) && !isWebStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  return module.exports.addAbortSignalNoValidate(signal, stream)\n}\nmodule.exports.addAbortSignalNoValidate = function (signal, stream) {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    return stream\n  }\n  const onAbort = isNodeStream(stream)\n    ? () => {\n        stream.destroy(\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n    : () => {\n        stream[kControllerErrorFunction](\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n  if (signal.aborted) {\n    onAbort()\n  } else {\n    addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n    const disposable = addAbortListener(signal, onAbort)\n    eos(stream, disposable[SymbolDispose])\n  }\n  return stream\n}\n","'use strict'\n\nconst { StringPrototypeSlice, SymbolIterator, TypedArrayPrototypeSet, Uint8Array } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { inspect } = require('../../ours/util')\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null\n    this.tail = null\n    this.length = 0\n  }\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    }\n    if (this.length > 0) this.tail.next = entry\n    else this.head = entry\n    this.tail = entry\n    ++this.length\n  }\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    }\n    if (this.length === 0) this.tail = entry\n    this.head = entry\n    ++this.length\n  }\n  shift() {\n    if (this.length === 0) return\n    const ret = this.head.data\n    if (this.length === 1) this.head = this.tail = null\n    else this.head = this.head.next\n    --this.length\n    return ret\n  }\n  clear() {\n    this.head = this.tail = null\n    this.length = 0\n  }\n  join(s) {\n    if (this.length === 0) return ''\n    let p = this.head\n    let ret = '' + p.data\n    while ((p = p.next) !== null) ret += s + p.data\n    return ret\n  }\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0)\n    const ret = Buffer.allocUnsafe(n >>> 0)\n    let p = this.head\n    let i = 0\n    while (p) {\n      TypedArrayPrototypeSet(ret, p.data, i)\n      i += p.data.length\n      p = p.next\n    }\n    return ret\n  }\n\n  // Consumes a specified amount of bytes or characters from the buffered data.\n  consume(n, hasStrings) {\n    const data = this.head.data\n    if (n < data.length) {\n      // `slice` is the same for buffers and strings.\n      const slice = data.slice(0, n)\n      this.head.data = data.slice(n)\n      return slice\n    }\n    if (n === data.length) {\n      // First chunk is a perfect match.\n      return this.shift()\n    }\n    // Result spans more than one buffer.\n    return hasStrings ? this._getString(n) : this._getBuffer(n)\n  }\n  first() {\n    return this.head.data\n  }\n  *[SymbolIterator]() {\n    for (let p = this.head; p; p = p.next) {\n      yield p.data\n    }\n  }\n\n  // Consumes a specified amount of characters from the buffered data.\n  _getString(n) {\n    let ret = ''\n    let p = this.head\n    let c = 0\n    do {\n      const str = p.data\n      if (n > str.length) {\n        ret += str\n        n -= str.length\n      } else {\n        if (n === str.length) {\n          ret += str\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          ret += StringPrototypeSlice(str, 0, n)\n          this.head = p\n          p.data = StringPrototypeSlice(str, n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Consumes a specified amount of bytes from the buffered data.\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n)\n    const retLen = n\n    let p = this.head\n    let c = 0\n    do {\n      const buf = p.data\n      if (n > buf.length) {\n        TypedArrayPrototypeSet(ret, buf, retLen - n)\n        n -= buf.length\n      } else {\n        if (n === buf.length) {\n          TypedArrayPrototypeSet(ret, buf, retLen - n)\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          TypedArrayPrototypeSet(ret, new Uint8Array(buf.buffer, buf.byteOffset, n), retLen - n)\n          this.head = p\n          p.data = buf.slice(n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Make sure the linked list only shows the minimal necessary information.\n  [Symbol.for('nodejs.util.inspect.custom')](_, options) {\n    return inspect(this, {\n      ...options,\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    })\n  }\n}\n","'use strict'\n\nconst { pipeline } = require('./pipeline')\nconst Duplex = require('./duplex')\nconst { destroyer } = require('./destroy')\nconst {\n  isNodeStream,\n  isReadable,\n  isWritable,\n  isWebStream,\n  isTransformStream,\n  isWritableStream,\n  isReadableStream\n} = require('./utils')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_VALUE, ERR_MISSING_ARGS }\n} = require('../../ours/errors')\nconst eos = require('./end-of-stream')\nmodule.exports = function compose(...streams) {\n  if (streams.length === 0) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  if (streams.length === 1) {\n    return Duplex.from(streams[0])\n  }\n  const orgStreams = [...streams]\n  if (typeof streams[0] === 'function') {\n    streams[0] = Duplex.from(streams[0])\n  }\n  if (typeof streams[streams.length - 1] === 'function') {\n    const idx = streams.length - 1\n    streams[idx] = Duplex.from(streams[idx])\n  }\n  for (let n = 0; n < streams.length; ++n) {\n    if (!isNodeStream(streams[n]) && !isWebStream(streams[n])) {\n      // TODO(ronag): Add checks for non streams.\n      continue\n    }\n    if (\n      n < streams.length - 1 &&\n      !(isReadable(streams[n]) || isReadableStream(streams[n]) || isTransformStream(streams[n]))\n    ) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be readable')\n    }\n    if (n > 0 && !(isWritable(streams[n]) || isWritableStream(streams[n]) || isTransformStream(streams[n]))) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be writable')\n    }\n  }\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  }\n  const head = streams[0]\n  const tail = pipeline(streams, onfinished)\n  const writable = !!(isWritable(head) || isWritableStream(head) || isTransformStream(head))\n  const readable = !!(isReadable(tail) || isReadableStream(tail) || isTransformStream(tail))\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplex({\n    // TODO (ronag): highWaterMark?\n    writableObjectMode: !!(head !== null && head !== undefined && head.writableObjectMode),\n    readableObjectMode: !!(tail !== null && tail !== undefined && tail.readableObjectMode),\n    writable,\n    readable\n  })\n  if (writable) {\n    if (isNodeStream(head)) {\n      d._write = function (chunk, encoding, callback) {\n        if (head.write(chunk, encoding)) {\n          callback()\n        } else {\n          ondrain = callback\n        }\n      }\n      d._final = function (callback) {\n        head.end()\n        onfinish = callback\n      }\n      head.on('drain', function () {\n        if (ondrain) {\n          const cb = ondrain\n          ondrain = null\n          cb()\n        }\n      })\n    } else if (isWebStream(head)) {\n      const writable = isTransformStream(head) ? head.writable : head\n      const writer = writable.getWriter()\n      d._write = async function (chunk, encoding, callback) {\n        try {\n          await writer.ready\n          writer.write(chunk).catch(() => {})\n          callback()\n        } catch (err) {\n          callback(err)\n        }\n      }\n      d._final = async function (callback) {\n        try {\n          await writer.ready\n          writer.close().catch(() => {})\n          onfinish = callback\n        } catch (err) {\n          callback(err)\n        }\n      }\n    }\n    const toRead = isTransformStream(tail) ? tail.readable : tail\n    eos(toRead, () => {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    if (isNodeStream(tail)) {\n      tail.on('readable', function () {\n        if (onreadable) {\n          const cb = onreadable\n          onreadable = null\n          cb()\n        }\n      })\n      tail.on('end', function () {\n        d.push(null)\n      })\n      d._read = function () {\n        while (true) {\n          const buf = tail.read()\n          if (buf === null) {\n            onreadable = d._read\n            return\n          }\n          if (!d.push(buf)) {\n            return\n          }\n        }\n      }\n    } else if (isWebStream(tail)) {\n      const readable = isTransformStream(tail) ? tail.readable : tail\n      const reader = readable.getReader()\n      d._read = async function () {\n        while (true) {\n          try {\n            const { value, done } = await reader.read()\n            if (!d.push(value)) {\n              return\n            }\n            if (done) {\n              d.push(null)\n              return\n            }\n          } catch {\n            return\n          }\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      if (isNodeStream(tail)) {\n        destroyer(tail, err)\n      }\n    }\n  }\n  return d\n}\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst {\n  aggregateTwoErrors,\n  codes: { ERR_MULTIPLE_CALLBACK },\n  AbortError\n} = require('../../ours/errors')\nconst { Symbol } = require('../../ours/primordials')\nconst { kIsDestroyed, isDestroyed, isFinished, isServerRequest } = require('./utils')\nconst kDestroy = Symbol('kDestroy')\nconst kConstruct = Symbol('kConstruct')\nfunction checkError(err, w, r) {\n  if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n  }\n}\n\n// Backwards compat. cb() is undocumented and unused in core but\n// unfortunately might be used by modules.\nfunction destroy(err, cb) {\n  const r = this._readableState\n  const w = this._writableState\n  // With duplex streams we use the writable side for state.\n  const s = w || r\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    if (typeof cb === 'function') {\n      cb()\n    }\n    return this\n  }\n\n  // We set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n  checkError(err, w, r)\n  if (w) {\n    w.destroyed = true\n  }\n  if (r) {\n    r.destroyed = true\n  }\n\n  // If still constructing then defer calling _destroy.\n  if (!s.constructed) {\n    this.once(kDestroy, function (er) {\n      _destroy(this, aggregateTwoErrors(er, err), cb)\n    })\n  } else {\n    _destroy(this, err, cb)\n  }\n  return this\n}\nfunction _destroy(self, err, cb) {\n  let called = false\n  function onDestroy(err) {\n    if (called) {\n      return\n    }\n    called = true\n    const r = self._readableState\n    const w = self._writableState\n    checkError(err, w, r)\n    if (w) {\n      w.closed = true\n    }\n    if (r) {\n      r.closed = true\n    }\n    if (typeof cb === 'function') {\n      cb(err)\n    }\n    if (err) {\n      process.nextTick(emitErrorCloseNT, self, err)\n    } else {\n      process.nextTick(emitCloseNT, self)\n    }\n  }\n  try {\n    self._destroy(err || null, onDestroy)\n  } catch (err) {\n    onDestroy(err)\n  }\n}\nfunction emitErrorCloseNT(self, err) {\n  emitErrorNT(self, err)\n  emitCloseNT(self)\n}\nfunction emitCloseNT(self) {\n  const r = self._readableState\n  const w = self._writableState\n  if (w) {\n    w.closeEmitted = true\n  }\n  if (r) {\n    r.closeEmitted = true\n  }\n  if ((w !== null && w !== undefined && w.emitClose) || (r !== null && r !== undefined && r.emitClose)) {\n    self.emit('close')\n  }\n}\nfunction emitErrorNT(self, err) {\n  const r = self._readableState\n  const w = self._writableState\n  if ((w !== null && w !== undefined && w.errorEmitted) || (r !== null && r !== undefined && r.errorEmitted)) {\n    return\n  }\n  if (w) {\n    w.errorEmitted = true\n  }\n  if (r) {\n    r.errorEmitted = true\n  }\n  self.emit('error', err)\n}\nfunction undestroy() {\n  const r = this._readableState\n  const w = this._writableState\n  if (r) {\n    r.constructed = true\n    r.closed = false\n    r.closeEmitted = false\n    r.destroyed = false\n    r.errored = null\n    r.errorEmitted = false\n    r.reading = false\n    r.ended = r.readable === false\n    r.endEmitted = r.readable === false\n  }\n  if (w) {\n    w.constructed = true\n    w.destroyed = false\n    w.closed = false\n    w.closeEmitted = false\n    w.errored = null\n    w.errorEmitted = false\n    w.finalCalled = false\n    w.prefinished = false\n    w.ended = w.writable === false\n    w.ending = w.writable === false\n    w.finished = w.writable === false\n  }\n}\nfunction errorOrDestroy(stream, err, sync) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  const r = stream._readableState\n  const w = stream._writableState\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    return this\n  }\n  if ((r !== null && r !== undefined && r.autoDestroy) || (w !== null && w !== undefined && w.autoDestroy))\n    stream.destroy(err)\n  else if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n    if (sync) {\n      process.nextTick(emitErrorNT, stream, err)\n    } else {\n      emitErrorNT(stream, err)\n    }\n  }\n}\nfunction construct(stream, cb) {\n  if (typeof stream._construct !== 'function') {\n    return\n  }\n  const r = stream._readableState\n  const w = stream._writableState\n  if (r) {\n    r.constructed = false\n  }\n  if (w) {\n    w.constructed = false\n  }\n  stream.once(kConstruct, cb)\n  if (stream.listenerCount(kConstruct) > 1) {\n    // Duplex\n    return\n  }\n  process.nextTick(constructNT, stream)\n}\nfunction constructNT(stream) {\n  let called = false\n  function onConstruct(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : new ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    const r = stream._readableState\n    const w = stream._writableState\n    const s = w || r\n    if (r) {\n      r.constructed = true\n    }\n    if (w) {\n      w.constructed = true\n    }\n    if (s.destroyed) {\n      stream.emit(kDestroy, err)\n    } else if (err) {\n      errorOrDestroy(stream, err, true)\n    } else {\n      process.nextTick(emitConstructNT, stream)\n    }\n  }\n  try {\n    stream._construct((err) => {\n      process.nextTick(onConstruct, err)\n    })\n  } catch (err) {\n    process.nextTick(onConstruct, err)\n  }\n}\nfunction emitConstructNT(stream) {\n  stream.emit(kConstruct)\n}\nfunction isRequest(stream) {\n  return (stream === null || stream === undefined ? undefined : stream.setHeader) && typeof stream.abort === 'function'\n}\nfunction emitCloseLegacy(stream) {\n  stream.emit('close')\n}\nfunction emitErrorCloseLegacy(stream, err) {\n  stream.emit('error', err)\n  process.nextTick(emitCloseLegacy, stream)\n}\n\n// Normalize destroy for legacy.\nfunction destroyer(stream, err) {\n  if (!stream || isDestroyed(stream)) {\n    return\n  }\n  if (!err && !isFinished(stream)) {\n    err = new AbortError()\n  }\n\n  // TODO: Remove isRequest branches.\n  if (isServerRequest(stream)) {\n    stream.socket = null\n    stream.destroy(err)\n  } else if (isRequest(stream)) {\n    stream.abort()\n  } else if (isRequest(stream.req)) {\n    stream.req.abort()\n  } else if (typeof stream.destroy === 'function') {\n    stream.destroy(err)\n  } else if (typeof stream.close === 'function') {\n    // TODO: Don't lose err?\n    stream.close()\n  } else if (err) {\n    process.nextTick(emitErrorCloseLegacy, stream, err)\n  } else {\n    process.nextTick(emitCloseLegacy, stream)\n  }\n  if (!stream.destroyed) {\n    stream[kIsDestroyed] = true\n  }\n}\nmodule.exports = {\n  construct,\n  destroyer,\n  destroy,\n  undestroy,\n  errorOrDestroy\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototype inheritance, this class\n// prototypically inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict'\n\nconst {\n  ObjectDefineProperties,\n  ObjectGetOwnPropertyDescriptor,\n  ObjectKeys,\n  ObjectSetPrototypeOf\n} = require('../../ours/primordials')\nmodule.exports = Duplex\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nObjectSetPrototypeOf(Duplex.prototype, Readable.prototype)\nObjectSetPrototypeOf(Duplex, Readable)\n{\n  const keys = ObjectKeys(Writable.prototype)\n  // Allow the keys array to be GC'ed.\n  for (let i = 0; i < keys.length; i++) {\n    const method = keys[i]\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method]\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options)\n  Readable.call(this, options)\n  Writable.call(this, options)\n  if (options) {\n    this.allowHalfOpen = options.allowHalfOpen !== false\n    if (options.readable === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if (options.writable === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  } else {\n    this.allowHalfOpen = true\n  }\n}\nObjectDefineProperties(Duplex.prototype, {\n  writable: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writable')\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableHighWaterMark')\n  },\n  writableObjectMode: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableObjectMode')\n  },\n  writableBuffer: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableBuffer')\n  },\n  writableLength: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableLength')\n  },\n  writableFinished: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableFinished')\n  },\n  writableCorked: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableCorked')\n  },\n  writableEnded: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableEnded')\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableNeedDrain')\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      if (this._readableState === undefined || this._writableState === undefined) {\n        return false\n      }\n      return this._readableState.destroyed && this._writableState.destroyed\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      if (this._readableState && this._writableState) {\n        this._readableState.destroyed = value\n        this._writableState.destroyed = value\n      }\n    }\n  }\n})\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nDuplex.fromWeb = function (pair, options) {\n  return lazyWebStreams().newStreamDuplexFromReadableWritablePair(pair, options)\n}\nDuplex.toWeb = function (duplex) {\n  return lazyWebStreams().newReadableWritablePairFromDuplex(duplex)\n}\nlet duplexify\nDuplex.from = function (body) {\n  if (!duplexify) {\n    duplexify = require('./duplexify')\n  }\n  return duplexify(body, 'body')\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\n;('use strict')\nconst bufferModule = require('buffer')\nconst {\n  isReadable,\n  isWritable,\n  isIterable,\n  isNodeStream,\n  isReadableNodeStream,\n  isWritableNodeStream,\n  isDuplexNodeStream,\n  isReadableStream,\n  isWritableStream\n} = require('./utils')\nconst eos = require('./end-of-stream')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_TYPE, ERR_INVALID_RETURN_VALUE }\n} = require('../../ours/errors')\nconst { destroyer } = require('./destroy')\nconst Duplex = require('./duplex')\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nconst { createDeferredPromise } = require('../../ours/util')\nconst from = require('./from')\nconst Blob = globalThis.Blob || bufferModule.Blob\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst { FunctionPrototypeCall } = require('../../ours/primordials')\n\n// This is needed for pre node 17.\nclass Duplexify extends Duplex {\n  constructor(options) {\n    super(options)\n\n    // https://github.com/nodejs/node/pull/34385\n\n    if ((options === null || options === undefined ? undefined : options.readable) === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if ((options === null || options === undefined ? undefined : options.writable) === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  }\n}\nmodule.exports = function duplexify(body, name) {\n  if (isDuplexNodeStream(body)) {\n    return body\n  }\n  if (isReadableNodeStream(body)) {\n    return _duplexify({\n      readable: body\n    })\n  }\n  if (isWritableNodeStream(body)) {\n    return _duplexify({\n      writable: body\n    })\n  }\n  if (isNodeStream(body)) {\n    return _duplexify({\n      writable: false,\n      readable: false\n    })\n  }\n  if (isReadableStream(body)) {\n    return _duplexify({\n      readable: Readable.fromWeb(body)\n    })\n  }\n  if (isWritableStream(body)) {\n    return _duplexify({\n      writable: Writable.fromWeb(body)\n    })\n  }\n  if (typeof body === 'function') {\n    const { value, write, final, destroy } = fromAsyncGen(body)\n    if (isIterable(value)) {\n      return from(Duplexify, value, {\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        write,\n        final,\n        destroy\n      })\n    }\n    const then = value === null || value === undefined ? undefined : value.then\n    if (typeof then === 'function') {\n      let d\n      const promise = FunctionPrototypeCall(\n        then,\n        value,\n        (val) => {\n          if (val != null) {\n            throw new ERR_INVALID_RETURN_VALUE('nully', 'body', val)\n          }\n        },\n        (err) => {\n          destroyer(d, err)\n        }\n      )\n      return (d = new Duplexify({\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        readable: false,\n        write,\n        final(cb) {\n          final(async () => {\n            try {\n              await promise\n              process.nextTick(cb, null)\n            } catch (err) {\n              process.nextTick(cb, err)\n            }\n          })\n        },\n        destroy\n      }))\n    }\n    throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or AsyncFunction', name, value)\n  }\n  if (isBlob(body)) {\n    return duplexify(body.arrayBuffer())\n  }\n  if (isIterable(body)) {\n    return from(Duplexify, body, {\n      // TODO (ronag): highWaterMark?\n      objectMode: true,\n      writable: false\n    })\n  }\n  if (\n    isReadableStream(body === null || body === undefined ? undefined : body.readable) &&\n    isWritableStream(body === null || body === undefined ? undefined : body.writable)\n  ) {\n    return Duplexify.fromWeb(body)\n  }\n  if (\n    typeof (body === null || body === undefined ? undefined : body.writable) === 'object' ||\n    typeof (body === null || body === undefined ? undefined : body.readable) === 'object'\n  ) {\n    const readable =\n      body !== null && body !== undefined && body.readable\n        ? isReadableNodeStream(body === null || body === undefined ? undefined : body.readable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.readable\n          : duplexify(body.readable)\n        : undefined\n    const writable =\n      body !== null && body !== undefined && body.writable\n        ? isWritableNodeStream(body === null || body === undefined ? undefined : body.writable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.writable\n          : duplexify(body.writable)\n        : undefined\n    return _duplexify({\n      readable,\n      writable\n    })\n  }\n  const then = body === null || body === undefined ? undefined : body.then\n  if (typeof then === 'function') {\n    let d\n    FunctionPrototypeCall(\n      then,\n      body,\n      (val) => {\n        if (val != null) {\n          d.push(val)\n        }\n        d.push(null)\n      },\n      (err) => {\n        destroyer(d, err)\n      }\n    )\n    return (d = new Duplexify({\n      objectMode: true,\n      writable: false,\n      read() {}\n    }))\n  }\n  throw new ERR_INVALID_ARG_TYPE(\n    name,\n    [\n      'Blob',\n      'ReadableStream',\n      'WritableStream',\n      'Stream',\n      'Iterable',\n      'AsyncIterable',\n      'Function',\n      '{ readable, writable } pair',\n      'Promise'\n    ],\n    body\n  )\n}\nfunction fromAsyncGen(fn) {\n  let { promise, resolve } = createDeferredPromise()\n  const ac = new AbortController()\n  const signal = ac.signal\n  const value = fn(\n    (async function* () {\n      while (true) {\n        const _promise = promise\n        promise = null\n        const { chunk, done, cb } = await _promise\n        process.nextTick(cb)\n        if (done) return\n        if (signal.aborted)\n          throw new AbortError(undefined, {\n            cause: signal.reason\n          })\n        ;({ promise, resolve } = createDeferredPromise())\n        yield chunk\n      }\n    })(),\n    {\n      signal\n    }\n  )\n  return {\n    value,\n    write(chunk, encoding, cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        chunk,\n        done: false,\n        cb\n      })\n    },\n    final(cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        done: true,\n        cb\n      })\n    },\n    destroy(err, cb) {\n      ac.abort()\n      cb(err)\n    }\n  }\n}\nfunction _duplexify(pair) {\n  const r = pair.readable && typeof pair.readable.read !== 'function' ? Readable.wrap(pair.readable) : pair.readable\n  const w = pair.writable\n  let readable = !!isReadable(r)\n  let writable = !!isWritable(w)\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    }\n  }\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplexify({\n    // TODO (ronag): highWaterMark?\n    readableObjectMode: !!(r !== null && r !== undefined && r.readableObjectMode),\n    writableObjectMode: !!(w !== null && w !== undefined && w.writableObjectMode),\n    readable,\n    writable\n  })\n  if (writable) {\n    eos(w, (err) => {\n      writable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    d._write = function (chunk, encoding, callback) {\n      if (w.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n    d._final = function (callback) {\n      w.end()\n      onfinish = callback\n    }\n    w.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    w.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    eos(r, (err) => {\n      readable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    r.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    r.on('end', function () {\n      d.push(null)\n    })\n    d._read = function () {\n      while (true) {\n        const buf = r.read()\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(w, err)\n      destroyer(r, err)\n    }\n  }\n  return d\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_PREMATURE_CLOSE } = codes\nconst { kEmptyObject, once } = require('../../ours/util')\nconst { validateAbortSignal, validateFunction, validateObject, validateBoolean } = require('../validators')\nconst { Promise, PromisePrototypeThen, SymbolDispose } = require('../../ours/primordials')\nconst {\n  isClosed,\n  isReadable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableFinished,\n  isReadableErrored,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableFinished,\n  isWritableErrored,\n  isNodeStream,\n  willEmitClose: _willEmitClose,\n  kIsClosedPromise\n} = require('./utils')\nlet addAbortListener\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function'\n}\nconst nop = () => {}\nfunction eos(stream, options, callback) {\n  var _options$readable, _options$writable\n  if (arguments.length === 2) {\n    callback = options\n    options = kEmptyObject\n  } else if (options == null) {\n    options = kEmptyObject\n  } else {\n    validateObject(options, 'options')\n  }\n  validateFunction(callback, 'callback')\n  validateAbortSignal(options.signal, 'options.signal')\n  callback = once(callback)\n  if (isReadableStream(stream) || isWritableStream(stream)) {\n    return eosWeb(stream, options, callback)\n  }\n  if (!isNodeStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  const readable =\n    (_options$readable = options.readable) !== null && _options$readable !== undefined\n      ? _options$readable\n      : isReadableNodeStream(stream)\n  const writable =\n    (_options$writable = options.writable) !== null && _options$writable !== undefined\n      ? _options$writable\n      : isWritableNodeStream(stream)\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const onlegacyfinish = () => {\n    if (!stream.writable) {\n      onfinish()\n    }\n  }\n\n  // TODO (ronag): Improve soft detection to include core modules and\n  // common ecosystem modules that do properly emit 'close' but fail\n  // this generic check.\n  let willEmitClose =\n    _willEmitClose(stream) && isReadableNodeStream(stream) === readable && isWritableNodeStream(stream) === writable\n  let writableFinished = isWritableFinished(stream, false)\n  const onfinish = () => {\n    writableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.readable || readable)) {\n      return\n    }\n    if (!readable || readableFinished) {\n      callback.call(stream)\n    }\n  }\n  let readableFinished = isReadableFinished(stream, false)\n  const onend = () => {\n    readableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.writable || writable)) {\n      return\n    }\n    if (!writable || writableFinished) {\n      callback.call(stream)\n    }\n  }\n  const onerror = (err) => {\n    callback.call(stream, err)\n  }\n  let closed = isClosed(stream)\n  const onclose = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    if (readable && !readableFinished && isReadableNodeStream(stream, true)) {\n      if (!isReadableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    if (writable && !writableFinished) {\n      if (!isWritableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    callback.call(stream)\n  }\n  const onclosed = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    callback.call(stream)\n  }\n  const onrequest = () => {\n    stream.req.on('finish', onfinish)\n  }\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish)\n    if (!willEmitClose) {\n      stream.on('abort', onclose)\n    }\n    if (stream.req) {\n      onrequest()\n    } else {\n      stream.on('request', onrequest)\n    }\n  } else if (writable && !wState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish)\n    stream.on('close', onlegacyfinish)\n  }\n\n  // Not all streams will emit 'close' after 'aborted'.\n  if (!willEmitClose && typeof stream.aborted === 'boolean') {\n    stream.on('aborted', onclose)\n  }\n  stream.on('end', onend)\n  stream.on('finish', onfinish)\n  if (options.error !== false) {\n    stream.on('error', onerror)\n  }\n  stream.on('close', onclose)\n  if (closed) {\n    process.nextTick(onclose)\n  } else if (\n    (wState !== null && wState !== undefined && wState.errorEmitted) ||\n    (rState !== null && rState !== undefined && rState.errorEmitted)\n  ) {\n    if (!willEmitClose) {\n      process.nextTick(onclosed)\n    }\n  } else if (\n    !readable &&\n    (!willEmitClose || isReadable(stream)) &&\n    (writableFinished || isWritable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (\n    !writable &&\n    (!willEmitClose || isWritable(stream)) &&\n    (readableFinished || isReadable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (rState && stream.req && stream.aborted) {\n    process.nextTick(onclosed)\n  }\n  const cleanup = () => {\n    callback = nop\n    stream.removeListener('aborted', onclose)\n    stream.removeListener('complete', onfinish)\n    stream.removeListener('abort', onclose)\n    stream.removeListener('request', onrequest)\n    if (stream.req) stream.req.removeListener('finish', onfinish)\n    stream.removeListener('end', onlegacyfinish)\n    stream.removeListener('close', onlegacyfinish)\n    stream.removeListener('finish', onfinish)\n    stream.removeListener('end', onend)\n    stream.removeListener('error', onerror)\n    stream.removeListener('close', onclose)\n  }\n  if (options.signal && !closed) {\n    const abort = () => {\n      // Keep it because cleanup removes it.\n      const endCallback = callback\n      cleanup()\n      endCallback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n      const disposable = addAbortListener(options.signal, abort)\n      const originalCallback = callback\n      callback = once((...args) => {\n        disposable[SymbolDispose]()\n        originalCallback.apply(stream, args)\n      })\n    }\n  }\n  return cleanup\n}\nfunction eosWeb(stream, options, callback) {\n  let isAborted = false\n  let abort = nop\n  if (options.signal) {\n    abort = () => {\n      isAborted = true\n      callback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n      const disposable = addAbortListener(options.signal, abort)\n      const originalCallback = callback\n      callback = once((...args) => {\n        disposable[SymbolDispose]()\n        originalCallback.apply(stream, args)\n      })\n    }\n  }\n  const resolverFn = (...args) => {\n    if (!isAborted) {\n      process.nextTick(() => callback.apply(stream, args))\n    }\n  }\n  PromisePrototypeThen(stream[kIsClosedPromise].promise, resolverFn, resolverFn)\n  return nop\n}\nfunction finished(stream, opts) {\n  var _opts\n  let autoCleanup = false\n  if (opts === null) {\n    opts = kEmptyObject\n  }\n  if ((_opts = opts) !== null && _opts !== undefined && _opts.cleanup) {\n    validateBoolean(opts.cleanup, 'cleanup')\n    autoCleanup = opts.cleanup\n  }\n  return new Promise((resolve, reject) => {\n    const cleanup = eos(stream, opts, (err) => {\n      if (autoCleanup) {\n        cleanup()\n      }\n      if (err) {\n        reject(err)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\nmodule.exports = eos\nmodule.exports.finished = finished\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst { PromisePrototypeThen, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_NULL_VALUES } = require('../../ours/errors').codes\nfunction from(Readable, iterable, opts) {\n  let iterator\n  if (typeof iterable === 'string' || iterable instanceof Buffer) {\n    return new Readable({\n      objectMode: true,\n      ...opts,\n      read() {\n        this.push(iterable)\n        this.push(null)\n      }\n    })\n  }\n  let isAsync\n  if (iterable && iterable[SymbolAsyncIterator]) {\n    isAsync = true\n    iterator = iterable[SymbolAsyncIterator]()\n  } else if (iterable && iterable[SymbolIterator]) {\n    isAsync = false\n    iterator = iterable[SymbolIterator]()\n  } else {\n    throw new ERR_INVALID_ARG_TYPE('iterable', ['Iterable'], iterable)\n  }\n  const readable = new Readable({\n    objectMode: true,\n    highWaterMark: 1,\n    // TODO(ronag): What options should be allowed?\n    ...opts\n  })\n\n  // Flag to protect against _read\n  // being called before last iteration completion.\n  let reading = false\n  readable._read = function () {\n    if (!reading) {\n      reading = true\n      next()\n    }\n  }\n  readable._destroy = function (error, cb) {\n    PromisePrototypeThen(\n      close(error),\n      () => process.nextTick(cb, error),\n      // nextTick is here in case cb throws\n      (e) => process.nextTick(cb, e || error)\n    )\n  }\n  async function close(error) {\n    const hadError = error !== undefined && error !== null\n    const hasThrow = typeof iterator.throw === 'function'\n    if (hadError && hasThrow) {\n      const { value, done } = await iterator.throw(error)\n      await value\n      if (done) {\n        return\n      }\n    }\n    if (typeof iterator.return === 'function') {\n      const { value } = await iterator.return()\n      await value\n    }\n  }\n  async function next() {\n    for (;;) {\n      try {\n        const { value, done } = isAsync ? await iterator.next() : iterator.next()\n        if (done) {\n          readable.push(null)\n        } else {\n          const res = value && typeof value.then === 'function' ? await value : value\n          if (res === null) {\n            reading = false\n            throw new ERR_STREAM_NULL_VALUES()\n          } else if (readable.push(res)) {\n            continue\n          } else {\n            reading = false\n          }\n        }\n      } catch (err) {\n        readable.destroy(err)\n      }\n      break\n    }\n  }\n  return readable\n}\nmodule.exports = from\n","'use strict'\n\nconst { ArrayIsArray, ObjectSetPrototypeOf } = require('../../ours/primordials')\nconst { EventEmitter: EE } = require('events')\nfunction Stream(opts) {\n  EE.call(this, opts)\n}\nObjectSetPrototypeOf(Stream.prototype, EE.prototype)\nObjectSetPrototypeOf(Stream, EE)\nStream.prototype.pipe = function (dest, options) {\n  const source = this\n  function ondata(chunk) {\n    if (dest.writable && dest.write(chunk) === false && source.pause) {\n      source.pause()\n    }\n  }\n  source.on('data', ondata)\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume()\n    }\n  }\n  dest.on('drain', ondrain)\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend)\n    source.on('close', onclose)\n  }\n  let didOnEnd = false\n  function onend() {\n    if (didOnEnd) return\n    didOnEnd = true\n    dest.end()\n  }\n  function onclose() {\n    if (didOnEnd) return\n    didOnEnd = true\n    if (typeof dest.destroy === 'function') dest.destroy()\n  }\n\n  // Don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup()\n    if (EE.listenerCount(this, 'error') === 0) {\n      this.emit('error', er)\n    }\n  }\n  prependListener(source, 'error', onerror)\n  prependListener(dest, 'error', onerror)\n\n  // Remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata)\n    dest.removeListener('drain', ondrain)\n    source.removeListener('end', onend)\n    source.removeListener('close', onclose)\n    source.removeListener('error', onerror)\n    dest.removeListener('error', onerror)\n    source.removeListener('end', cleanup)\n    source.removeListener('close', cleanup)\n    dest.removeListener('close', cleanup)\n  }\n  source.on('end', cleanup)\n  source.on('close', cleanup)\n  dest.on('close', cleanup)\n  dest.emit('pipe', source)\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest\n}\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn)\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn)\n  else if (ArrayIsArray(emitter._events[event])) emitter._events[event].unshift(fn)\n  else emitter._events[event] = [fn, emitter._events[event]]\n}\nmodule.exports = {\n  Stream,\n  prependListener\n}\n","'use strict'\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst {\n  codes: { ERR_INVALID_ARG_VALUE, ERR_INVALID_ARG_TYPE, ERR_MISSING_ARGS, ERR_OUT_OF_RANGE },\n  AbortError\n} = require('../../ours/errors')\nconst { validateAbortSignal, validateInteger, validateObject } = require('../validators')\nconst kWeakHandler = require('../../ours/primordials').Symbol('kWeak')\nconst kResistStopPropagation = require('../../ours/primordials').Symbol('kResistStopPropagation')\nconst { finished } = require('./end-of-stream')\nconst staticCompose = require('./compose')\nconst { addAbortSignalNoValidate } = require('./add-abort-signal')\nconst { isWritable, isNodeStream } = require('./utils')\nconst { deprecate } = require('../../ours/util')\nconst {\n  ArrayPrototypePush,\n  Boolean,\n  MathFloor,\n  Number,\n  NumberIsNaN,\n  Promise,\n  PromiseReject,\n  PromiseResolve,\n  PromisePrototypeThen,\n  Symbol\n} = require('../../ours/primordials')\nconst kEmpty = Symbol('kEmpty')\nconst kEof = Symbol('kEof')\nfunction compose(stream, options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  if (isNodeStream(stream) && !isWritable(stream)) {\n    throw new ERR_INVALID_ARG_VALUE('stream', stream, 'must be writable')\n  }\n  const composedStream = staticCompose(this, stream)\n  if (options !== null && options !== undefined && options.signal) {\n    // Not validating as we already validated before\n    addAbortSignalNoValidate(options.signal, composedStream)\n  }\n  return composedStream\n}\nfunction map(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let concurrency = 1\n  if ((options === null || options === undefined ? undefined : options.concurrency) != null) {\n    concurrency = MathFloor(options.concurrency)\n  }\n  let highWaterMark = concurrency - 1\n  if ((options === null || options === undefined ? undefined : options.highWaterMark) != null) {\n    highWaterMark = MathFloor(options.highWaterMark)\n  }\n  validateInteger(concurrency, 'options.concurrency', 1)\n  validateInteger(highWaterMark, 'options.highWaterMark', 0)\n  highWaterMark += concurrency\n  return async function* map() {\n    const signal = require('../../ours/util').AbortSignalAny(\n      [options === null || options === undefined ? undefined : options.signal].filter(Boolean)\n    )\n    const stream = this\n    const queue = []\n    const signalOpt = {\n      signal\n    }\n    let next\n    let resume\n    let done = false\n    let cnt = 0\n    function onCatch() {\n      done = true\n      afterItemProcessed()\n    }\n    function afterItemProcessed() {\n      cnt -= 1\n      maybeResume()\n    }\n    function maybeResume() {\n      if (resume && !done && cnt < concurrency && queue.length < highWaterMark) {\n        resume()\n        resume = null\n      }\n    }\n    async function pump() {\n      try {\n        for await (let val of stream) {\n          if (done) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          try {\n            val = fn(val, signalOpt)\n            if (val === kEmpty) {\n              continue\n            }\n            val = PromiseResolve(val)\n          } catch (err) {\n            val = PromiseReject(err)\n          }\n          cnt += 1\n          PromisePrototypeThen(val, afterItemProcessed, onCatch)\n          queue.push(val)\n          if (next) {\n            next()\n            next = null\n          }\n          if (!done && (queue.length >= highWaterMark || cnt >= concurrency)) {\n            await new Promise((resolve) => {\n              resume = resolve\n            })\n          }\n        }\n        queue.push(kEof)\n      } catch (err) {\n        const val = PromiseReject(err)\n        PromisePrototypeThen(val, afterItemProcessed, onCatch)\n        queue.push(val)\n      } finally {\n        done = true\n        if (next) {\n          next()\n          next = null\n        }\n      }\n    }\n    pump()\n    try {\n      while (true) {\n        while (queue.length > 0) {\n          const val = await queue[0]\n          if (val === kEof) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          if (val !== kEmpty) {\n            yield val\n          }\n          queue.shift()\n          maybeResume()\n        }\n        await new Promise((resolve) => {\n          next = resolve\n        })\n      }\n    } finally {\n      done = true\n      if (resume) {\n        resume()\n        resume = null\n      }\n    }\n  }.call(this)\n}\nfunction asIndexedPairs(options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  return async function* asIndexedPairs() {\n    let index = 0\n    for await (const val of this) {\n      var _options$signal\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal = options.signal) !== null &&\n        _options$signal !== undefined &&\n        _options$signal.aborted\n      ) {\n        throw new AbortError({\n          cause: options.signal.reason\n        })\n      }\n      yield [index++, val]\n    }\n  }.call(this)\n}\nasync function some(fn, options = undefined) {\n  for await (const unused of filter.call(this, fn, options)) {\n    return true\n  }\n  return false\n}\nasync function every(fn, options = undefined) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  // https://en.wikipedia.org/wiki/De_Morgan%27s_laws\n  return !(await some.call(\n    this,\n    async (...args) => {\n      return !(await fn(...args))\n    },\n    options\n  ))\n}\nasync function find(fn, options) {\n  for await (const result of filter.call(this, fn, options)) {\n    return result\n  }\n  return undefined\n}\nasync function forEach(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function forEachFn(value, options) {\n    await fn(value, options)\n    return kEmpty\n  }\n  // eslint-disable-next-line no-unused-vars\n  for await (const unused of map.call(this, forEachFn, options));\n}\nfunction filter(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function filterFn(value, options) {\n    if (await fn(value, options)) {\n      return value\n    }\n    return kEmpty\n  }\n  return map.call(this, filterFn, options)\n}\n\n// Specific to provide better error to reduce since the argument is only\n// missing if the stream has no items in it - but the code is still appropriate\nclass ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS {\n  constructor() {\n    super('reduce')\n    this.message = 'Reduce of an empty stream requires an initial value'\n  }\n}\nasync function reduce(reducer, initialValue, options) {\n  var _options$signal2\n  if (typeof reducer !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('reducer', ['Function', 'AsyncFunction'], reducer)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let hasInitialValue = arguments.length > 1\n  if (\n    options !== null &&\n    options !== undefined &&\n    (_options$signal2 = options.signal) !== null &&\n    _options$signal2 !== undefined &&\n    _options$signal2.aborted\n  ) {\n    const err = new AbortError(undefined, {\n      cause: options.signal.reason\n    })\n    this.once('error', () => {}) // The error is already propagated\n    await finished(this.destroy(err))\n    throw err\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  if (options !== null && options !== undefined && options.signal) {\n    const opts = {\n      once: true,\n      [kWeakHandler]: this,\n      [kResistStopPropagation]: true\n    }\n    options.signal.addEventListener('abort', () => ac.abort(), opts)\n  }\n  let gotAnyItemFromStream = false\n  try {\n    for await (const value of this) {\n      var _options$signal3\n      gotAnyItemFromStream = true\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal3 = options.signal) !== null &&\n        _options$signal3 !== undefined &&\n        _options$signal3.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (!hasInitialValue) {\n        initialValue = value\n        hasInitialValue = true\n      } else {\n        initialValue = await reducer(initialValue, value, {\n          signal\n        })\n      }\n    }\n    if (!gotAnyItemFromStream && !hasInitialValue) {\n      throw new ReduceAwareErrMissingArgs()\n    }\n  } finally {\n    ac.abort()\n  }\n  return initialValue\n}\nasync function toArray(options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  const result = []\n  for await (const val of this) {\n    var _options$signal4\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal4 = options.signal) !== null &&\n      _options$signal4 !== undefined &&\n      _options$signal4.aborted\n    ) {\n      throw new AbortError(undefined, {\n        cause: options.signal.reason\n      })\n    }\n    ArrayPrototypePush(result, val)\n  }\n  return result\n}\nfunction flatMap(fn, options) {\n  const values = map.call(this, fn, options)\n  return async function* flatMap() {\n    for await (const val of values) {\n      yield* val\n    }\n  }.call(this)\n}\nfunction toIntegerOrInfinity(number) {\n  // We coerce here to align with the spec\n  // https://github.com/tc39/proposal-iterator-helpers/issues/169\n  number = Number(number)\n  if (NumberIsNaN(number)) {\n    return 0\n  }\n  if (number < 0) {\n    throw new ERR_OUT_OF_RANGE('number', '>= 0', number)\n  }\n  return number\n}\nfunction drop(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* drop() {\n    var _options$signal5\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal5 = options.signal) !== null &&\n      _options$signal5 !== undefined &&\n      _options$signal5.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal6\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal6 = options.signal) !== null &&\n        _options$signal6 !== undefined &&\n        _options$signal6.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- <= 0) {\n        yield val\n      }\n    }\n  }.call(this)\n}\nfunction take(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* take() {\n    var _options$signal7\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal7 = options.signal) !== null &&\n      _options$signal7 !== undefined &&\n      _options$signal7.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal8\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal8 = options.signal) !== null &&\n        _options$signal8 !== undefined &&\n        _options$signal8.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- > 0) {\n        yield val\n      }\n\n      // Don't get another item from iterator in case we reached the end\n      if (number <= 0) {\n        return\n      }\n    }\n  }.call(this)\n}\nmodule.exports.streamReturningOperators = {\n  asIndexedPairs: deprecate(asIndexedPairs, 'readable.asIndexedPairs will be removed in a future version.'),\n  drop,\n  filter,\n  flatMap,\n  map,\n  take,\n  compose\n}\nmodule.exports.promiseReturningOperators = {\n  every,\n  forEach,\n  reduce,\n  toArray,\n  some,\n  find\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf } = require('../../ours/primordials')\nmodule.exports = PassThrough\nconst Transform = require('./transform')\nObjectSetPrototypeOf(PassThrough.prototype, Transform.prototype)\nObjectSetPrototypeOf(PassThrough, Transform)\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options)\n  Transform.call(this, options)\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk)\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { ArrayIsArray, Promise, SymbolAsyncIterator, SymbolDispose } = require('../../ours/primordials')\nconst eos = require('./end-of-stream')\nconst { once } = require('../../ours/util')\nconst destroyImpl = require('./destroy')\nconst Duplex = require('./duplex')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED,\n    ERR_STREAM_PREMATURE_CLOSE\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateFunction, validateAbortSignal } = require('../validators')\nconst {\n  isIterable,\n  isReadable,\n  isReadableNodeStream,\n  isNodeStream,\n  isTransformStream,\n  isWebStream,\n  isReadableStream,\n  isReadableFinished\n} = require('./utils')\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nlet PassThrough\nlet Readable\nlet addAbortListener\nfunction destroyer(stream, reading, writing) {\n  let finished = false\n  stream.on('close', () => {\n    finished = true\n  })\n  const cleanup = eos(\n    stream,\n    {\n      readable: reading,\n      writable: writing\n    },\n    (err) => {\n      finished = !err\n    }\n  )\n  return {\n    destroy: (err) => {\n      if (finished) return\n      finished = true\n      destroyImpl.destroyer(stream, err || new ERR_STREAM_DESTROYED('pipe'))\n    },\n    cleanup\n  }\n}\nfunction popCallback(streams) {\n  // Streams should never be an empty array. It should always contain at least\n  // a single stream. Therefore optimize for the average case instead of\n  // checking for length === 0 as well.\n  validateFunction(streams[streams.length - 1], 'streams[stream.length - 1]')\n  return streams.pop()\n}\nfunction makeAsyncIterable(val) {\n  if (isIterable(val)) {\n    return val\n  } else if (isReadableNodeStream(val)) {\n    // Legacy streams are not Iterable.\n    return fromReadable(val)\n  }\n  throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], val)\n}\nasync function* fromReadable(val) {\n  if (!Readable) {\n    Readable = require('./readable')\n  }\n  yield* Readable.prototype[SymbolAsyncIterator].call(val)\n}\nasync function pumpToNode(iterable, writable, finish, { end }) {\n  let error\n  let onresolve = null\n  const resume = (err) => {\n    if (err) {\n      error = err\n    }\n    if (onresolve) {\n      const callback = onresolve\n      onresolve = null\n      callback()\n    }\n  }\n  const wait = () =>\n    new Promise((resolve, reject) => {\n      if (error) {\n        reject(error)\n      } else {\n        onresolve = () => {\n          if (error) {\n            reject(error)\n          } else {\n            resolve()\n          }\n        }\n      }\n    })\n  writable.on('drain', resume)\n  const cleanup = eos(\n    writable,\n    {\n      readable: false\n    },\n    resume\n  )\n  try {\n    if (writable.writableNeedDrain) {\n      await wait()\n    }\n    for await (const chunk of iterable) {\n      if (!writable.write(chunk)) {\n        await wait()\n      }\n    }\n    if (end) {\n      writable.end()\n      await wait()\n    }\n    finish()\n  } catch (err) {\n    finish(error !== err ? aggregateTwoErrors(error, err) : err)\n  } finally {\n    cleanup()\n    writable.off('drain', resume)\n  }\n}\nasync function pumpToWeb(readable, writable, finish, { end }) {\n  if (isTransformStream(writable)) {\n    writable = writable.writable\n  }\n  // https://streams.spec.whatwg.org/#example-manual-write-with-backpressure\n  const writer = writable.getWriter()\n  try {\n    for await (const chunk of readable) {\n      await writer.ready\n      writer.write(chunk).catch(() => {})\n    }\n    await writer.ready\n    if (end) {\n      await writer.close()\n    }\n    finish()\n  } catch (err) {\n    try {\n      await writer.abort(err)\n      finish(err)\n    } catch (err) {\n      finish(err)\n    }\n  }\n}\nfunction pipeline(...streams) {\n  return pipelineImpl(streams, once(popCallback(streams)))\n}\nfunction pipelineImpl(streams, callback, opts) {\n  if (streams.length === 1 && ArrayIsArray(streams[0])) {\n    streams = streams[0]\n  }\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  const outerSignal = opts === null || opts === undefined ? undefined : opts.signal\n\n  // Need to cleanup event listeners if last stream is readable\n  // https://github.com/nodejs/node/issues/35452\n  const lastStreamCleanup = []\n  validateAbortSignal(outerSignal, 'options.signal')\n  function abort() {\n    finishImpl(new AbortError())\n  }\n  addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n  let disposable\n  if (outerSignal) {\n    disposable = addAbortListener(outerSignal, abort)\n  }\n  let error\n  let value\n  const destroys = []\n  let finishCount = 0\n  function finish(err) {\n    finishImpl(err, --finishCount === 0)\n  }\n  function finishImpl(err, final) {\n    var _disposable\n    if (err && (!error || error.code === 'ERR_STREAM_PREMATURE_CLOSE')) {\n      error = err\n    }\n    if (!error && !final) {\n      return\n    }\n    while (destroys.length) {\n      destroys.shift()(error)\n    }\n    ;(_disposable = disposable) === null || _disposable === undefined ? undefined : _disposable[SymbolDispose]()\n    ac.abort()\n    if (final) {\n      if (!error) {\n        lastStreamCleanup.forEach((fn) => fn())\n      }\n      process.nextTick(callback, error, value)\n    }\n  }\n  let ret\n  for (let i = 0; i < streams.length; i++) {\n    const stream = streams[i]\n    const reading = i < streams.length - 1\n    const writing = i > 0\n    const end = reading || (opts === null || opts === undefined ? undefined : opts.end) !== false\n    const isLastStream = i === streams.length - 1\n    if (isNodeStream(stream)) {\n      if (end) {\n        const { destroy, cleanup } = destroyer(stream, reading, writing)\n        destroys.push(destroy)\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n\n      // Catch stream errors that occur after pipe/pump has completed.\n      function onError(err) {\n        if (err && err.name !== 'AbortError' && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n          finish(err)\n        }\n      }\n      stream.on('error', onError)\n      if (isReadable(stream) && isLastStream) {\n        lastStreamCleanup.push(() => {\n          stream.removeListener('error', onError)\n        })\n      }\n    }\n    if (i === 0) {\n      if (typeof stream === 'function') {\n        ret = stream({\n          signal\n        })\n        if (!isIterable(ret)) {\n          throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or Stream', 'source', ret)\n        }\n      } else if (isIterable(stream) || isReadableNodeStream(stream) || isTransformStream(stream)) {\n        ret = stream\n      } else {\n        ret = Duplex.from(stream)\n      }\n    } else if (typeof stream === 'function') {\n      if (isTransformStream(ret)) {\n        var _ret\n        ret = makeAsyncIterable((_ret = ret) === null || _ret === undefined ? undefined : _ret.readable)\n      } else {\n        ret = makeAsyncIterable(ret)\n      }\n      ret = stream(ret, {\n        signal\n      })\n      if (reading) {\n        if (!isIterable(ret, true)) {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable', `transform[${i - 1}]`, ret)\n        }\n      } else {\n        var _ret2\n        if (!PassThrough) {\n          PassThrough = require('./passthrough')\n        }\n\n        // If the last argument to pipeline is not a stream\n        // we must create a proxy stream so that pipeline(...)\n        // always returns a stream which can be further\n        // composed through `.pipe(stream)`.\n\n        const pt = new PassThrough({\n          objectMode: true\n        })\n\n        // Handle Promises/A+ spec, `then` could be a getter that throws on\n        // second use.\n        const then = (_ret2 = ret) === null || _ret2 === undefined ? undefined : _ret2.then\n        if (typeof then === 'function') {\n          finishCount++\n          then.call(\n            ret,\n            (val) => {\n              value = val\n              if (val != null) {\n                pt.write(val)\n              }\n              if (end) {\n                pt.end()\n              }\n              process.nextTick(finish)\n            },\n            (err) => {\n              pt.destroy(err)\n              process.nextTick(finish, err)\n            }\n          )\n        } else if (isIterable(ret, true)) {\n          finishCount++\n          pumpToNode(ret, pt, finish, {\n            end\n          })\n        } else if (isReadableStream(ret) || isTransformStream(ret)) {\n          const toRead = ret.readable || ret\n          finishCount++\n          pumpToNode(toRead, pt, finish, {\n            end\n          })\n        } else {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable or Promise', 'destination', ret)\n        }\n        ret = pt\n        const { destroy, cleanup } = destroyer(ret, false, true)\n        destroys.push(destroy)\n        if (isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n    } else if (isNodeStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount += 2\n        const cleanup = pipe(ret, stream, finish, {\n          end\n        })\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } else if (isTransformStream(ret) || isReadableStream(ret)) {\n        const toRead = ret.readable || ret\n        finishCount++\n        pumpToNode(toRead, stream, finish, {\n          end\n        })\n      } else if (isIterable(ret)) {\n        finishCount++\n        pumpToNode(ret, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else if (isWebStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount++\n        pumpToWeb(makeAsyncIterable(ret), stream, finish, {\n          end\n        })\n      } else if (isReadableStream(ret) || isIterable(ret)) {\n        finishCount++\n        pumpToWeb(ret, stream, finish, {\n          end\n        })\n      } else if (isTransformStream(ret)) {\n        finishCount++\n        pumpToWeb(ret.readable, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else {\n      ret = Duplex.from(stream)\n    }\n  }\n  if (\n    (signal !== null && signal !== undefined && signal.aborted) ||\n    (outerSignal !== null && outerSignal !== undefined && outerSignal.aborted)\n  ) {\n    process.nextTick(abort)\n  }\n  return ret\n}\nfunction pipe(src, dst, finish, { end }) {\n  let ended = false\n  dst.on('close', () => {\n    if (!ended) {\n      // Finish if the destination closes before the source has completed.\n      finish(new ERR_STREAM_PREMATURE_CLOSE())\n    }\n  })\n  src.pipe(dst, {\n    end: false\n  }) // If end is true we already will have a listener to end dst.\n\n  if (end) {\n    // Compat. Before node v10.12.0 stdio used to throw an error so\n    // pipe() did/does not end() stdio destinations.\n    // Now they allow it but \"secretly\" don't close the underlying fd.\n\n    function endFn() {\n      ended = true\n      dst.end()\n    }\n    if (isReadableFinished(src)) {\n      // End the destination if the source has already ended.\n      process.nextTick(endFn)\n    } else {\n      src.once('end', endFn)\n    }\n  } else {\n    finish()\n  }\n  eos(\n    src,\n    {\n      readable: true,\n      writable: false\n    },\n    (err) => {\n      const rState = src._readableState\n      if (\n        err &&\n        err.code === 'ERR_STREAM_PREMATURE_CLOSE' &&\n        rState &&\n        rState.ended &&\n        !rState.errored &&\n        !rState.errorEmitted\n      ) {\n        // Some readable streams will emit 'close' before 'end'. However, since\n        // this is on the readable side 'end' should still be emitted if the\n        // stream has been ended and no error emitted. This should be allowed in\n        // favor of backwards compatibility. Since the stream is piped to a\n        // destination this should not result in any observable difference.\n        // We don't need to check if this is a writable premature close since\n        // eos will only fail with premature close on the reading side for\n        // duplex streams.\n        src.once('end', finish).once('error', finish)\n      } else {\n        finish(err)\n      }\n    }\n  )\n  return eos(\n    dst,\n    {\n      readable: false,\n      writable: true\n    },\n    finish\n  )\n}\nmodule.exports = {\n  pipelineImpl,\n  pipeline\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst {\n  ArrayPrototypeIndexOf,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberParseInt,\n  ObjectDefineProperties,\n  ObjectKeys,\n  ObjectSetPrototypeOf,\n  Promise,\n  SafeSet,\n  SymbolAsyncDispose,\n  SymbolAsyncIterator,\n  Symbol\n} = require('../../ours/primordials')\nmodule.exports = Readable\nReadable.ReadableState = ReadableState\nconst { EventEmitter: EE } = require('events')\nconst { Stream, prependListener } = require('./legacy')\nconst { Buffer } = require('buffer')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst eos = require('./end-of-stream')\nlet debug = require('../../ours/util').debuglog('stream', (fn) => {\n  debug = fn\n})\nconst BufferList = require('./buffer_list')\nconst destroyImpl = require('./destroy')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_OUT_OF_RANGE,\n    ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateObject } = require('../validators')\nconst kPaused = Symbol('kPaused')\nconst { StringDecoder } = require('string_decoder')\nconst from = require('./from')\nObjectSetPrototypeOf(Readable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Readable, Stream)\nconst nop = () => {}\nconst { errorOrDestroy } = destroyImpl\nconst kObjectMode = 1 << 0\nconst kEnded = 1 << 1\nconst kEndEmitted = 1 << 2\nconst kReading = 1 << 3\nconst kConstructed = 1 << 4\nconst kSync = 1 << 5\nconst kNeedReadable = 1 << 6\nconst kEmittedReadable = 1 << 7\nconst kReadableListening = 1 << 8\nconst kResumeScheduled = 1 << 9\nconst kErrorEmitted = 1 << 10\nconst kEmitClose = 1 << 11\nconst kAutoDestroy = 1 << 12\nconst kDestroyed = 1 << 13\nconst kClosed = 1 << 14\nconst kCloseEmitted = 1 << 15\nconst kMultiAwaitDrain = 1 << 16\nconst kReadingMore = 1 << 17\nconst kDataEmitted = 1 << 18\n\n// TODO(benjamingr) it is likely slower to do it this way than with free functions\nfunction makeBitMapDescriptor(bit) {\n  return {\n    enumerable: false,\n    get() {\n      return (this.state & bit) !== 0\n    },\n    set(value) {\n      if (value) this.state |= bit\n      else this.state &= ~bit\n    }\n  }\n}\nObjectDefineProperties(ReadableState.prototype, {\n  objectMode: makeBitMapDescriptor(kObjectMode),\n  ended: makeBitMapDescriptor(kEnded),\n  endEmitted: makeBitMapDescriptor(kEndEmitted),\n  reading: makeBitMapDescriptor(kReading),\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  constructed: makeBitMapDescriptor(kConstructed),\n  // A flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  sync: makeBitMapDescriptor(kSync),\n  // Whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  needReadable: makeBitMapDescriptor(kNeedReadable),\n  emittedReadable: makeBitMapDescriptor(kEmittedReadable),\n  readableListening: makeBitMapDescriptor(kReadableListening),\n  resumeScheduled: makeBitMapDescriptor(kResumeScheduled),\n  // True if the error was already emitted and should not be thrown again.\n  errorEmitted: makeBitMapDescriptor(kErrorEmitted),\n  emitClose: makeBitMapDescriptor(kEmitClose),\n  autoDestroy: makeBitMapDescriptor(kAutoDestroy),\n  // Has it been destroyed.\n  destroyed: makeBitMapDescriptor(kDestroyed),\n  // Indicates whether the stream has finished destroying.\n  closed: makeBitMapDescriptor(kClosed),\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  closeEmitted: makeBitMapDescriptor(kCloseEmitted),\n  multiAwaitDrain: makeBitMapDescriptor(kMultiAwaitDrain),\n  // If true, a maybeReadMore has been scheduled.\n  readingMore: makeBitMapDescriptor(kReadingMore),\n  dataEmitted: makeBitMapDescriptor(kDataEmitted)\n})\nfunction ReadableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Bit map field to store ReadableState more effciently with 1 bit per field\n  // instead of a V8 slot per field.\n  this.state = kEmitClose | kAutoDestroy | kConstructed | kSync\n  // Object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away.\n  if (options && options.objectMode) this.state |= kObjectMode\n  if (isDuplex && options && options.readableObjectMode) this.state |= kObjectMode\n\n  // The point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift().\n  this.buffer = new BufferList()\n  this.length = 0\n  this.pipes = []\n  this.flowing = null\n  this[kPaused] = null\n\n  // Should close be emitted on destroy. Defaults to true.\n  if (options && options.emitClose === false) this.state &= ~kEmitClose\n\n  // Should .destroy() be called after 'end' (and potentially 'finish').\n  if (options && options.autoDestroy === false) this.state &= ~kAutoDestroy\n\n  // Indicates whether the stream has errored. When true no further\n  // _read calls, 'data' or 'readable' events should occur. This is needed\n  // since when autoDestroy is disabled we need a way to tell whether the\n  // stream has failed.\n  this.errored = null\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Ref the piped dest which we need a drain event on it\n  // type: null | Writable | Set<Writable>.\n  this.awaitDrainWriters = null\n  this.decoder = null\n  this.encoding = null\n  if (options && options.encoding) {\n    this.decoder = new StringDecoder(options.encoding)\n    this.encoding = options.encoding\n  }\n}\nfunction Readable(options) {\n  if (!(this instanceof Readable)) return new Readable(options)\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  this._readableState = new ReadableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal && !isDuplex) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    if (this._readableState.needReadable) {\n      maybeReadMore(this, this._readableState)\n    }\n  })\n}\nReadable.prototype.destroy = destroyImpl.destroy\nReadable.prototype._undestroy = destroyImpl.undestroy\nReadable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nReadable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nReadable.prototype[SymbolAsyncDispose] = function () {\n  let error\n  if (!this.destroyed) {\n    error = this.readableEnded ? null : new AbortError()\n    this.destroy(error)\n  }\n  return new Promise((resolve, reject) => eos(this, (err) => (err && err !== error ? reject(err) : resolve(null))))\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, false)\n}\n\n// Unshift should *always* be something directly out of read().\nReadable.prototype.unshift = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, true)\n}\nfunction readableAddChunk(stream, chunk, encoding, addToFront) {\n  debug('readableAddChunk', chunk)\n  const state = stream._readableState\n  let err\n  if ((state.state & kObjectMode) === 0) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding\n      if (state.encoding !== encoding) {\n        if (addToFront && state.encoding) {\n          // When unshifting, if state.encoding is set, we have to save\n          // the string in the BufferList with the state encoding.\n          chunk = Buffer.from(chunk, encoding).toString(state.encoding)\n        } else {\n          chunk = Buffer.from(chunk, encoding)\n          encoding = ''\n        }\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = ''\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = ''\n    } else if (chunk != null) {\n      err = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  if (err) {\n    errorOrDestroy(stream, err)\n  } else if (chunk === null) {\n    state.state &= ~kReading\n    onEofChunk(stream, state)\n  } else if ((state.state & kObjectMode) !== 0 || (chunk && chunk.length > 0)) {\n    if (addToFront) {\n      if ((state.state & kEndEmitted) !== 0) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT())\n      else if (state.destroyed || state.errored) return false\n      else addChunk(stream, state, chunk, true)\n    } else if (state.ended) {\n      errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF())\n    } else if (state.destroyed || state.errored) {\n      return false\n    } else {\n      state.state &= ~kReading\n      if (state.decoder && !encoding) {\n        chunk = state.decoder.write(chunk)\n        if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false)\n        else maybeReadMore(stream, state)\n      } else {\n        addChunk(stream, state, chunk, false)\n      }\n    }\n  } else if (!addToFront) {\n    state.state &= ~kReading\n    maybeReadMore(stream, state)\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0)\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync && stream.listenerCount('data') > 0) {\n    // Use the guard to avoid creating `Set()` repeatedly\n    // when we have multiple pipes.\n    if ((state.state & kMultiAwaitDrain) !== 0) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n    state.dataEmitted = true\n    stream.emit('data', chunk)\n  } else {\n    // Update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length\n    if (addToFront) state.buffer.unshift(chunk)\n    else state.buffer.push(chunk)\n    if ((state.state & kNeedReadable) !== 0) emitReadable(stream)\n  }\n  maybeReadMore(stream, state)\n}\nReadable.prototype.isPaused = function () {\n  const state = this._readableState\n  return state[kPaused] === true || state.flowing === false\n}\n\n// Backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  const decoder = new StringDecoder(enc)\n  this._readableState.decoder = decoder\n  // If setEncoding(null), decoder.encoding equals utf8.\n  this._readableState.encoding = this._readableState.decoder.encoding\n  const buffer = this._readableState.buffer\n  // Iterate over current buffer to convert already stored Buffers:\n  let content = ''\n  for (const data of buffer) {\n    content += decoder.write(data)\n  }\n  buffer.clear()\n  if (content !== '') buffer.push(content)\n  this._readableState.length = content.length\n  return this\n}\n\n// Don't raise the hwm > 1GB.\nconst MAX_HWM = 0x40000000\nfunction computeNewHighWaterMark(n) {\n  if (n > MAX_HWM) {\n    throw new ERR_OUT_OF_RANGE('size', '<= 1GiB', n)\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts.\n    n--\n    n |= n >>> 1\n    n |= n >>> 2\n    n |= n >>> 4\n    n |= n >>> 8\n    n |= n >>> 16\n    n++\n  }\n  return n\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || (state.length === 0 && state.ended)) return 0\n  if ((state.state & kObjectMode) !== 0) return 1\n  if (NumberIsNaN(n)) {\n    // Only flow one buffer at a time.\n    if (state.flowing && state.length) return state.buffer.first().length\n    return state.length\n  }\n  if (n <= state.length) return n\n  return state.ended ? state.length : 0\n}\n\n// You can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n)\n  // Same as parseInt(undefined, 10), however V8 7.3 performance regressed\n  // in this scenario, so we are doing it manually.\n  if (n === undefined) {\n    n = NaN\n  } else if (!NumberIsInteger(n)) {\n    n = NumberParseInt(n, 10)\n  }\n  const state = this._readableState\n  const nOrig = n\n\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n)\n  if (n !== 0) state.state &= ~kEmittedReadable\n\n  // If we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (\n    n === 0 &&\n    state.needReadable &&\n    ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)\n  ) {\n    debug('read: emitReadable', state.length, state.ended)\n    if (state.length === 0 && state.ended) endReadable(this)\n    else emitReadable(this)\n    return null\n  }\n  n = howMuchToRead(n, state)\n\n  // If we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this)\n    return null\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  let doRead = (state.state & kNeedReadable) !== 0\n  debug('need readable', doRead)\n\n  // If we currently have less than the highWaterMark, then also read some.\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true\n    debug('length less than watermark', doRead)\n  }\n\n  // However, if we've ended, then there's no point, if we're already\n  // reading, then it's unnecessary, if we're constructing we have to wait,\n  // and if we're destroyed or errored, then it's not allowed,\n  if (state.ended || state.reading || state.destroyed || state.errored || !state.constructed) {\n    doRead = false\n    debug('reading, ended or constructing', doRead)\n  } else if (doRead) {\n    debug('do read')\n    state.state |= kReading | kSync\n    // If the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.state |= kNeedReadable\n\n    // Call internal read method\n    try {\n      this._read(state.highWaterMark)\n    } catch (err) {\n      errorOrDestroy(this, err)\n    }\n    state.state &= ~kSync\n\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state)\n  }\n  let ret\n  if (n > 0) ret = fromList(n, state)\n  else ret = null\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark\n    n = 0\n  } else {\n    state.length -= n\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this)\n  }\n  if (ret !== null && !state.errorEmitted && !state.closeEmitted) {\n    state.dataEmitted = true\n    this.emit('data', ret)\n  }\n  return ret\n}\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk')\n  if (state.ended) return\n  if (state.decoder) {\n    const chunk = state.decoder.end()\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk)\n      state.length += state.objectMode ? 1 : chunk.length\n    }\n  }\n  state.ended = true\n  if (state.sync) {\n    // If we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call.\n    emitReadable(stream)\n  } else {\n    // Emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false\n    state.emittedReadable = true\n    // We have to emit readable now that we are EOF. Modules\n    // in the ecosystem (e.g. dicer) rely on this event being sync.\n    emitReadable_(stream)\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  const state = stream._readableState\n  debug('emitReadable', state.needReadable, state.emittedReadable)\n  state.needReadable = false\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing)\n    state.emittedReadable = true\n    process.nextTick(emitReadable_, stream)\n  }\n}\nfunction emitReadable_(stream) {\n  const state = stream._readableState\n  debug('emitReadable_', state.destroyed, state.length, state.ended)\n  if (!state.destroyed && !state.errored && (state.length || state.ended)) {\n    stream.emit('readable')\n    state.emittedReadable = false\n  }\n\n  // The stream needs another readable event if:\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark\n  flow(stream)\n}\n\n// At this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore && state.constructed) {\n    state.readingMore = true\n    process.nextTick(maybeReadMore_, stream, state)\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (\n    !state.reading &&\n    !state.ended &&\n    (state.length < state.highWaterMark || (state.flowing && state.length === 0))\n  ) {\n    const len = state.length\n    debug('maybeReadMore read 0')\n    stream.read(0)\n    if (len === state.length)\n      // Didn't get any data, stop spinning.\n      break\n  }\n  state.readingMore = false\n}\n\n// Abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_read()')\n}\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  const src = this\n  const state = this._readableState\n  if (state.pipes.length === 1) {\n    if (!state.multiAwaitDrain) {\n      state.multiAwaitDrain = true\n      state.awaitDrainWriters = new SafeSet(state.awaitDrainWriters ? [state.awaitDrainWriters] : [])\n    }\n  }\n  state.pipes.push(dest)\n  debug('pipe count=%d opts=%j', state.pipes.length, pipeOpts)\n  const doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr\n  const endFn = doEnd ? onend : unpipe\n  if (state.endEmitted) process.nextTick(endFn)\n  else src.once('end', endFn)\n  dest.on('unpipe', onunpipe)\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe')\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true\n        cleanup()\n      }\n    }\n  }\n  function onend() {\n    debug('onend')\n    dest.end()\n  }\n  let ondrain\n  let cleanedUp = false\n  function cleanup() {\n    debug('cleanup')\n    // Cleanup event handlers once the pipe is broken.\n    dest.removeListener('close', onclose)\n    dest.removeListener('finish', onfinish)\n    if (ondrain) {\n      dest.removeListener('drain', ondrain)\n    }\n    dest.removeListener('error', onerror)\n    dest.removeListener('unpipe', onunpipe)\n    src.removeListener('end', onend)\n    src.removeListener('end', unpipe)\n    src.removeListener('data', ondata)\n    cleanedUp = true\n\n    // If the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (ondrain && state.awaitDrainWriters && (!dest._writableState || dest._writableState.needDrain)) ondrain()\n  }\n  function pause() {\n    // If the user unpiped during `dest.write()`, it is possible\n    // to get stuck in a permanently paused state if that write\n    // also returned false.\n    // => Check whether `dest` is still a piping destination.\n    if (!cleanedUp) {\n      if (state.pipes.length === 1 && state.pipes[0] === dest) {\n        debug('false write response, pause', 0)\n        state.awaitDrainWriters = dest\n        state.multiAwaitDrain = false\n      } else if (state.pipes.length > 1 && state.pipes.includes(dest)) {\n        debug('false write response, pause', state.awaitDrainWriters.size)\n        state.awaitDrainWriters.add(dest)\n      }\n      src.pause()\n    }\n    if (!ondrain) {\n      // When the dest drains, it reduces the awaitDrain counter\n      // on the source.  This would be more elegant with a .once()\n      // handler in flow(), but adding and removing repeatedly is\n      // too slow.\n      ondrain = pipeOnDrain(src, dest)\n      dest.on('drain', ondrain)\n    }\n  }\n  src.on('data', ondata)\n  function ondata(chunk) {\n    debug('ondata')\n    const ret = dest.write(chunk)\n    debug('dest.write', ret)\n    if (ret === false) {\n      pause()\n    }\n  }\n\n  // If the dest has an error, then stop piping into it.\n  // However, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er)\n    unpipe()\n    dest.removeListener('error', onerror)\n    if (dest.listenerCount('error') === 0) {\n      const s = dest._writableState || dest._readableState\n      if (s && !s.errorEmitted) {\n        // User incorrectly emitted 'error' directly on the stream.\n        errorOrDestroy(dest, er)\n      } else {\n        dest.emit('error', er)\n      }\n    }\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror)\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish)\n    unpipe()\n  }\n  dest.once('close', onclose)\n  function onfinish() {\n    debug('onfinish')\n    dest.removeListener('close', onclose)\n    unpipe()\n  }\n  dest.once('finish', onfinish)\n  function unpipe() {\n    debug('unpipe')\n    src.unpipe(dest)\n  }\n\n  // Tell the dest that it's being piped to.\n  dest.emit('pipe', src)\n\n  // Start the flow if it hasn't been started already.\n\n  if (dest.writableNeedDrain === true) {\n    pause()\n  } else if (!state.flowing) {\n    debug('pipe resume')\n    src.resume()\n  }\n  return dest\n}\nfunction pipeOnDrain(src, dest) {\n  return function pipeOnDrainFunctionResult() {\n    const state = src._readableState\n\n    // `ondrain` will call directly,\n    // `this` maybe not a reference to dest,\n    // so we use the real dest here.\n    if (state.awaitDrainWriters === dest) {\n      debug('pipeOnDrain', 1)\n      state.awaitDrainWriters = null\n    } else if (state.multiAwaitDrain) {\n      debug('pipeOnDrain', state.awaitDrainWriters.size)\n      state.awaitDrainWriters.delete(dest)\n    }\n    if ((!state.awaitDrainWriters || state.awaitDrainWriters.size === 0) && src.listenerCount('data')) {\n      src.resume()\n    }\n  }\n}\nReadable.prototype.unpipe = function (dest) {\n  const state = this._readableState\n  const unpipeInfo = {\n    hasUnpiped: false\n  }\n\n  // If we're not piping anywhere, then do nothing.\n  if (state.pipes.length === 0) return this\n  if (!dest) {\n    // remove all.\n    const dests = state.pipes\n    state.pipes = []\n    this.pause()\n    for (let i = 0; i < dests.length; i++)\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      })\n    return this\n  }\n\n  // Try to find the right one.\n  const index = ArrayPrototypeIndexOf(state.pipes, dest)\n  if (index === -1) return this\n  state.pipes.splice(index, 1)\n  if (state.pipes.length === 0) this.pause()\n  dest.emit('unpipe', this, unpipeInfo)\n  return this\n}\n\n// Set up data events if they are asked for\n// Ensure readable listeners eventually get something.\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn)\n  const state = this._readableState\n  if (ev === 'data') {\n    // Update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0\n\n    // Try start flowing on next tick if stream isn't explicitly paused.\n    if (state.flowing !== false) this.resume()\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true\n      state.flowing = false\n      state.emittedReadable = false\n      debug('on readable', state.length, state.reading)\n      if (state.length) {\n        emitReadable(this)\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this)\n      }\n    }\n  }\n  return res\n}\nReadable.prototype.addListener = Readable.prototype.on\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn)\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nReadable.prototype.off = Readable.prototype.removeListener\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments)\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nfunction updateReadableListening(self) {\n  const state = self._readableState\n  state.readableListening = self.listenerCount('readable') > 0\n  if (state.resumeScheduled && state[kPaused] === false) {\n    // Flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true\n\n    // Crude way to check if we should resume.\n  } else if (self.listenerCount('data') > 0) {\n    self.resume()\n  } else if (!state.readableListening) {\n    state.flowing = null\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0')\n  self.read(0)\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  const state = this._readableState\n  if (!state.flowing) {\n    debug('resume')\n    // We flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume().\n    state.flowing = !state.readableListening\n    resume(this, state)\n  }\n  state[kPaused] = false\n  return this\n}\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true\n    process.nextTick(resume_, stream, state)\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading)\n  if (!state.reading) {\n    stream.read(0)\n  }\n  state.resumeScheduled = false\n  stream.emit('resume')\n  flow(stream)\n  if (state.flowing && !state.reading) stream.read(0)\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing)\n  if (this._readableState.flowing !== false) {\n    debug('pause')\n    this._readableState.flowing = false\n    this.emit('pause')\n  }\n  this._readableState[kPaused] = true\n  return this\n}\nfunction flow(stream) {\n  const state = stream._readableState\n  debug('flow', state.flowing)\n  while (state.flowing && stream.read() !== null);\n}\n\n// Wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  let paused = false\n\n  // TODO (ronag): Should this.destroy(err) emit\n  // 'error' on the wrapped stream? Would require\n  // a static factory method, e.g. Readable.wrap(stream).\n\n  stream.on('data', (chunk) => {\n    if (!this.push(chunk) && stream.pause) {\n      paused = true\n      stream.pause()\n    }\n  })\n  stream.on('end', () => {\n    this.push(null)\n  })\n  stream.on('error', (err) => {\n    errorOrDestroy(this, err)\n  })\n  stream.on('close', () => {\n    this.destroy()\n  })\n  stream.on('destroy', () => {\n    this.destroy()\n  })\n  this._read = () => {\n    if (paused && stream.resume) {\n      paused = false\n      stream.resume()\n    }\n  }\n\n  // Proxy all the other methods. Important when wrapping filters and duplexes.\n  const streamKeys = ObjectKeys(stream)\n  for (let j = 1; j < streamKeys.length; j++) {\n    const i = streamKeys[j]\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = stream[i].bind(stream)\n    }\n  }\n  return this\n}\nReadable.prototype[SymbolAsyncIterator] = function () {\n  return streamToAsyncIterator(this)\n}\nReadable.prototype.iterator = function (options) {\n  if (options !== undefined) {\n    validateObject(options, 'options')\n  }\n  return streamToAsyncIterator(this, options)\n}\nfunction streamToAsyncIterator(stream, options) {\n  if (typeof stream.read !== 'function') {\n    stream = Readable.wrap(stream, {\n      objectMode: true\n    })\n  }\n  const iter = createAsyncIterator(stream, options)\n  iter.stream = stream\n  return iter\n}\nasync function* createAsyncIterator(stream, options) {\n  let callback = nop\n  function next(resolve) {\n    if (this === stream) {\n      callback()\n      callback = nop\n    } else {\n      callback = resolve\n    }\n  }\n  stream.on('readable', next)\n  let error\n  const cleanup = eos(\n    stream,\n    {\n      writable: false\n    },\n    (err) => {\n      error = err ? aggregateTwoErrors(error, err) : null\n      callback()\n      callback = nop\n    }\n  )\n  try {\n    while (true) {\n      const chunk = stream.destroyed ? null : stream.read()\n      if (chunk !== null) {\n        yield chunk\n      } else if (error) {\n        throw error\n      } else if (error === null) {\n        return\n      } else {\n        await new Promise(next)\n      }\n    }\n  } catch (err) {\n    error = aggregateTwoErrors(error, err)\n    throw error\n  } finally {\n    if (\n      (error || (options === null || options === undefined ? undefined : options.destroyOnReturn) !== false) &&\n      (error === undefined || stream._readableState.autoDestroy)\n    ) {\n      destroyImpl.destroyer(stream, null)\n    } else {\n      stream.off('readable', next)\n      cleanup()\n    }\n  }\n}\n\n// Making it explicit these properties are not enumerable\n// because otherwise some prototype manipulation in\n// userland will fail.\nObjectDefineProperties(Readable.prototype, {\n  readable: {\n    __proto__: null,\n    get() {\n      const r = this._readableState\n      // r.readable === false means that this is part of a Duplex stream\n      // where the readable side was disabled upon construction.\n      // Compat. The user might manually disable readable side through\n      // deprecated setter.\n      return !!r && r.readable !== false && !r.destroyed && !r.errorEmitted && !r.endEmitted\n    },\n    set(val) {\n      // Backwards compat.\n      if (this._readableState) {\n        this._readableState.readable = !!val\n      }\n    }\n  },\n  readableDidRead: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.dataEmitted\n    }\n  },\n  readableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._readableState.readable !== false &&\n        (this._readableState.destroyed || this._readableState.errored) &&\n        !this._readableState.endEmitted\n      )\n    }\n  },\n  readableHighWaterMark: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.highWaterMark\n    }\n  },\n  readableBuffer: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState && this._readableState.buffer\n    }\n  },\n  readableFlowing: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.flowing\n    },\n    set: function (state) {\n      if (this._readableState) {\n        this._readableState.flowing = state\n      }\n    }\n  },\n  readableLength: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState.length\n    }\n  },\n  readableObjectMode: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.objectMode : false\n    }\n  },\n  readableEncoding: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.encoding : null\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.errored : null\n    }\n  },\n  closed: {\n    __proto__: null,\n    get() {\n      return this._readableState ? this._readableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.destroyed : false\n    },\n    set(value) {\n      // We ignore the value if the stream\n      // has not been initialized yet.\n      if (!this._readableState) {\n        return\n      }\n\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      this._readableState.destroyed = value\n    }\n  },\n  readableEnded: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.endEmitted : false\n    }\n  }\n})\nObjectDefineProperties(ReadableState.prototype, {\n  // Legacy getter for `pipesCount`.\n  pipesCount: {\n    __proto__: null,\n    get() {\n      return this.pipes.length\n    }\n  },\n  // Legacy property for `paused`.\n  paused: {\n    __proto__: null,\n    get() {\n      return this[kPaused] !== false\n    },\n    set(value) {\n      this[kPaused] = !!value\n    }\n  }\n})\n\n// Exposed for testing purposes only.\nReadable._fromList = fromList\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered.\n  if (state.length === 0) return null\n  let ret\n  if (state.objectMode) ret = state.buffer.shift()\n  else if (!n || n >= state.length) {\n    // Read it all, truncate the list.\n    if (state.decoder) ret = state.buffer.join('')\n    else if (state.buffer.length === 1) ret = state.buffer.first()\n    else ret = state.buffer.concat(state.length)\n    state.buffer.clear()\n  } else {\n    // read part of list.\n    ret = state.buffer.consume(n, state.decoder)\n  }\n  return ret\n}\nfunction endReadable(stream) {\n  const state = stream._readableState\n  debug('endReadable', state.endEmitted)\n  if (!state.endEmitted) {\n    state.ended = true\n    process.nextTick(endReadableNT, state, stream)\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length)\n\n  // Check that we didn't get one last unshift.\n  if (!state.errored && !state.closeEmitted && !state.endEmitted && state.length === 0) {\n    state.endEmitted = true\n    stream.emit('end')\n    if (stream.writable && stream.allowHalfOpen === false) {\n      process.nextTick(endWritableNT, stream)\n    } else if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well.\n      const wState = stream._writableState\n      const autoDestroy =\n        !wState ||\n        (wState.autoDestroy &&\n          // We don't expect the writable to ever 'finish'\n          // if writable is explicitly set to false.\n          (wState.finished || wState.writable === false))\n      if (autoDestroy) {\n        stream.destroy()\n      }\n    }\n  }\n}\nfunction endWritableNT(stream) {\n  const writable = stream.writable && !stream.writableEnded && !stream.destroyed\n  if (writable) {\n    stream.end()\n  }\n}\nReadable.from = function (iterable, opts) {\n  return from(Readable, iterable, opts)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nReadable.fromWeb = function (readableStream, options) {\n  return lazyWebStreams().newStreamReadableFromReadableStream(readableStream, options)\n}\nReadable.toWeb = function (streamReadable, options) {\n  return lazyWebStreams().newReadableStreamFromStreamReadable(streamReadable, options)\n}\nReadable.wrap = function (src, options) {\n  var _ref, _src$readableObjectMo\n  return new Readable({\n    objectMode:\n      (_ref =\n        (_src$readableObjectMo = src.readableObjectMode) !== null && _src$readableObjectMo !== undefined\n          ? _src$readableObjectMo\n          : src.objectMode) !== null && _ref !== undefined\n        ? _ref\n        : true,\n    ...options,\n    destroy(err, callback) {\n      destroyImpl.destroyer(src, err)\n      callback(err)\n    }\n  }).wrap(src)\n}\n","'use strict'\n\nconst { MathFloor, NumberIsInteger } = require('../../ours/primordials')\nconst { validateInteger } = require('../validators')\nconst { ERR_INVALID_ARG_VALUE } = require('../../ours/errors').codes\nlet defaultHighWaterMarkBytes = 16 * 1024\nlet defaultHighWaterMarkObjectMode = 16\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null\n}\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? defaultHighWaterMarkObjectMode : defaultHighWaterMarkBytes\n}\nfunction setDefaultHighWaterMark(objectMode, value) {\n  validateInteger(value, 'value', 0)\n  if (objectMode) {\n    defaultHighWaterMarkObjectMode = value\n  } else {\n    defaultHighWaterMarkBytes = value\n  }\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey)\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark'\n      throw new ERR_INVALID_ARG_VALUE(name, hwm)\n    }\n    return MathFloor(hwm)\n  }\n\n  // Default value\n  return getDefaultHighWaterMark(state.objectMode)\n}\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark,\n  setDefaultHighWaterMark\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf, Symbol } = require('../../ours/primordials')\nmodule.exports = Transform\nconst { ERR_METHOD_NOT_IMPLEMENTED } = require('../../ours/errors').codes\nconst Duplex = require('./duplex')\nconst { getHighWaterMark } = require('./state')\nObjectSetPrototypeOf(Transform.prototype, Duplex.prototype)\nObjectSetPrototypeOf(Transform, Duplex)\nconst kCallback = Symbol('kCallback')\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options)\n\n  // TODO (ronag): This should preferably always be\n  // applied but would be semver-major. Or even better;\n  // make Transform a Readable with the Writable interface.\n  const readableHighWaterMark = options ? getHighWaterMark(this, options, 'readableHighWaterMark', true) : null\n  if (readableHighWaterMark === 0) {\n    // A Duplex will buffer both on the writable and readable side while\n    // a Transform just wants to buffer hwm number of elements. To avoid\n    // buffering twice we disable buffering on the writable side.\n    options = {\n      ...options,\n      highWaterMark: null,\n      readableHighWaterMark,\n      // TODO (ronag): 0 is not optimal since we have\n      // a \"bug\" where we check needDrain before calling _write and not after.\n      // Refs: https://github.com/nodejs/node/pull/32887\n      // Refs: https://github.com/nodejs/node/pull/35941\n      writableHighWaterMark: options.writableHighWaterMark || 0\n    }\n  }\n  Duplex.call(this, options)\n\n  // We have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false\n  this[kCallback] = null\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform\n    if (typeof options.flush === 'function') this._flush = options.flush\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  // Backwards compat. Some Transform streams incorrectly implement _final\n  // instead of or in addition to _flush. By using 'prefinish' instead of\n  // implementing _final we continue supporting this unfortunate use case.\n  this.on('prefinish', prefinish)\n}\nfunction final(cb) {\n  if (typeof this._flush === 'function' && !this.destroyed) {\n    this._flush((er, data) => {\n      if (er) {\n        if (cb) {\n          cb(er)\n        } else {\n          this.destroy(er)\n        }\n        return\n      }\n      if (data != null) {\n        this.push(data)\n      }\n      this.push(null)\n      if (cb) {\n        cb()\n      }\n    })\n  } else {\n    this.push(null)\n    if (cb) {\n      cb()\n    }\n  }\n}\nfunction prefinish() {\n  if (this._final !== final) {\n    final.call(this)\n  }\n}\nTransform.prototype._final = final\nTransform.prototype._transform = function (chunk, encoding, callback) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_transform()')\n}\nTransform.prototype._write = function (chunk, encoding, callback) {\n  const rState = this._readableState\n  const wState = this._writableState\n  const length = rState.length\n  this._transform(chunk, encoding, (err, val) => {\n    if (err) {\n      callback(err)\n      return\n    }\n    if (val != null) {\n      this.push(val)\n    }\n    if (\n      wState.ended ||\n      // Backwards compat.\n      length === rState.length ||\n      // Backwards compat.\n      rState.length < rState.highWaterMark\n    ) {\n      callback()\n    } else {\n      this[kCallback] = callback\n    }\n  })\n}\nTransform.prototype._read = function () {\n  if (this[kCallback]) {\n    const callback = this[kCallback]\n    this[kCallback] = null\n    callback()\n  }\n}\n","'use strict'\n\nconst { SymbolAsyncIterator, SymbolIterator, SymbolFor } = require('../../ours/primordials')\n\n// We need to use SymbolFor to make these globally available\n// for interopt with readable-stream, i.e. readable-stream\n// and node core needs to be able to read/write private state\n// from each other for proper interoperability.\nconst kIsDestroyed = SymbolFor('nodejs.stream.destroyed')\nconst kIsErrored = SymbolFor('nodejs.stream.errored')\nconst kIsReadable = SymbolFor('nodejs.stream.readable')\nconst kIsWritable = SymbolFor('nodejs.stream.writable')\nconst kIsDisturbed = SymbolFor('nodejs.stream.disturbed')\nconst kIsClosedPromise = SymbolFor('nodejs.webstream.isClosedPromise')\nconst kControllerErrorFunction = SymbolFor('nodejs.webstream.controllerErrorFunction')\nfunction isReadableNodeStream(obj, strict = false) {\n  var _obj$_readableState\n  return !!(\n    (\n      obj &&\n      typeof obj.pipe === 'function' &&\n      typeof obj.on === 'function' &&\n      (!strict || (typeof obj.pause === 'function' && typeof obj.resume === 'function')) &&\n      (!obj._writableState ||\n        ((_obj$_readableState = obj._readableState) === null || _obj$_readableState === undefined\n          ? undefined\n          : _obj$_readableState.readable) !== false) &&\n      // Duplex\n      (!obj._writableState || obj._readableState)\n    ) // Writable has .pipe.\n  )\n}\n\nfunction isWritableNodeStream(obj) {\n  var _obj$_writableState\n  return !!(\n    (\n      obj &&\n      typeof obj.write === 'function' &&\n      typeof obj.on === 'function' &&\n      (!obj._readableState ||\n        ((_obj$_writableState = obj._writableState) === null || _obj$_writableState === undefined\n          ? undefined\n          : _obj$_writableState.writable) !== false)\n    ) // Duplex\n  )\n}\n\nfunction isDuplexNodeStream(obj) {\n  return !!(\n    obj &&\n    typeof obj.pipe === 'function' &&\n    obj._readableState &&\n    typeof obj.on === 'function' &&\n    typeof obj.write === 'function'\n  )\n}\nfunction isNodeStream(obj) {\n  return (\n    obj &&\n    (obj._readableState ||\n      obj._writableState ||\n      (typeof obj.write === 'function' && typeof obj.on === 'function') ||\n      (typeof obj.pipe === 'function' && typeof obj.on === 'function'))\n  )\n}\nfunction isReadableStream(obj) {\n  return !!(\n    obj &&\n    !isNodeStream(obj) &&\n    typeof obj.pipeThrough === 'function' &&\n    typeof obj.getReader === 'function' &&\n    typeof obj.cancel === 'function'\n  )\n}\nfunction isWritableStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.getWriter === 'function' && typeof obj.abort === 'function')\n}\nfunction isTransformStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.readable === 'object' && typeof obj.writable === 'object')\n}\nfunction isWebStream(obj) {\n  return isReadableStream(obj) || isWritableStream(obj) || isTransformStream(obj)\n}\nfunction isIterable(obj, isAsync) {\n  if (obj == null) return false\n  if (isAsync === true) return typeof obj[SymbolAsyncIterator] === 'function'\n  if (isAsync === false) return typeof obj[SymbolIterator] === 'function'\n  return typeof obj[SymbolAsyncIterator] === 'function' || typeof obj[SymbolIterator] === 'function'\n}\nfunction isDestroyed(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return !!(stream.destroyed || stream[kIsDestroyed] || (state !== null && state !== undefined && state.destroyed))\n}\n\n// Have been end():d.\nfunction isWritableEnded(stream) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableEnded === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.ended) !== 'boolean') return null\n  return wState.ended\n}\n\n// Have emitted 'finish'.\nfunction isWritableFinished(stream, strict) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableFinished === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.finished) !== 'boolean') return null\n  return !!(wState.finished || (strict === false && wState.ended === true && wState.length === 0))\n}\n\n// Have been push(null):d.\nfunction isReadableEnded(stream) {\n  if (!isReadableNodeStream(stream)) return null\n  if (stream.readableEnded === true) return true\n  const rState = stream._readableState\n  if (!rState || rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.ended) !== 'boolean') return null\n  return rState.ended\n}\n\n// Have emitted 'end'.\nfunction isReadableFinished(stream, strict) {\n  if (!isReadableNodeStream(stream)) return null\n  const rState = stream._readableState\n  if (rState !== null && rState !== undefined && rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.endEmitted) !== 'boolean') return null\n  return !!(rState.endEmitted || (strict === false && rState.ended === true && rState.length === 0))\n}\nfunction isReadable(stream) {\n  if (stream && stream[kIsReadable] != null) return stream[kIsReadable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.readable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isReadableNodeStream(stream) && stream.readable && !isReadableFinished(stream)\n}\nfunction isWritable(stream) {\n  if (stream && stream[kIsWritable] != null) return stream[kIsWritable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.writable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isWritableNodeStream(stream) && stream.writable && !isWritableEnded(stream)\n}\nfunction isFinished(stream, opts) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (isDestroyed(stream)) {\n    return true\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.readable) !== false && isReadable(stream)) {\n    return false\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.writable) !== false && isWritable(stream)) {\n    return false\n  }\n  return true\n}\nfunction isWritableErrored(stream) {\n  var _stream$_writableStat, _stream$_writableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.writableErrored) {\n    return stream.writableErrored\n  }\n  return (_stream$_writableStat =\n    (_stream$_writableStat2 = stream._writableState) === null || _stream$_writableStat2 === undefined\n      ? undefined\n      : _stream$_writableStat2.errored) !== null && _stream$_writableStat !== undefined\n    ? _stream$_writableStat\n    : null\n}\nfunction isReadableErrored(stream) {\n  var _stream$_readableStat, _stream$_readableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.readableErrored) {\n    return stream.readableErrored\n  }\n  return (_stream$_readableStat =\n    (_stream$_readableStat2 = stream._readableState) === null || _stream$_readableStat2 === undefined\n      ? undefined\n      : _stream$_readableStat2.errored) !== null && _stream$_readableStat !== undefined\n    ? _stream$_readableStat\n    : null\n}\nfunction isClosed(stream) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (typeof stream.closed === 'boolean') {\n    return stream.closed\n  }\n  const wState = stream._writableState\n  const rState = stream._readableState\n  if (\n    typeof (wState === null || wState === undefined ? undefined : wState.closed) === 'boolean' ||\n    typeof (rState === null || rState === undefined ? undefined : rState.closed) === 'boolean'\n  ) {\n    return (\n      (wState === null || wState === undefined ? undefined : wState.closed) ||\n      (rState === null || rState === undefined ? undefined : rState.closed)\n    )\n  }\n  if (typeof stream._closed === 'boolean' && isOutgoingMessage(stream)) {\n    return stream._closed\n  }\n  return null\n}\nfunction isOutgoingMessage(stream) {\n  return (\n    typeof stream._closed === 'boolean' &&\n    typeof stream._defaultKeepAlive === 'boolean' &&\n    typeof stream._removedConnection === 'boolean' &&\n    typeof stream._removedContLen === 'boolean'\n  )\n}\nfunction isServerResponse(stream) {\n  return typeof stream._sent100 === 'boolean' && isOutgoingMessage(stream)\n}\nfunction isServerRequest(stream) {\n  var _stream$req\n  return (\n    typeof stream._consuming === 'boolean' &&\n    typeof stream._dumped === 'boolean' &&\n    ((_stream$req = stream.req) === null || _stream$req === undefined ? undefined : _stream$req.upgradeOrConnect) ===\n      undefined\n  )\n}\nfunction willEmitClose(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return (\n    (!state && isServerResponse(stream)) || !!(state && state.autoDestroy && state.emitClose && state.closed === false)\n  )\n}\nfunction isDisturbed(stream) {\n  var _stream$kIsDisturbed\n  return !!(\n    stream &&\n    ((_stream$kIsDisturbed = stream[kIsDisturbed]) !== null && _stream$kIsDisturbed !== undefined\n      ? _stream$kIsDisturbed\n      : stream.readableDidRead || stream.readableAborted)\n  )\n}\nfunction isErrored(stream) {\n  var _ref,\n    _ref2,\n    _ref3,\n    _ref4,\n    _ref5,\n    _stream$kIsErrored,\n    _stream$_readableStat3,\n    _stream$_writableStat3,\n    _stream$_readableStat4,\n    _stream$_writableStat4\n  return !!(\n    stream &&\n    ((_ref =\n      (_ref2 =\n        (_ref3 =\n          (_ref4 =\n            (_ref5 =\n              (_stream$kIsErrored = stream[kIsErrored]) !== null && _stream$kIsErrored !== undefined\n                ? _stream$kIsErrored\n                : stream.readableErrored) !== null && _ref5 !== undefined\n              ? _ref5\n              : stream.writableErrored) !== null && _ref4 !== undefined\n            ? _ref4\n            : (_stream$_readableStat3 = stream._readableState) === null || _stream$_readableStat3 === undefined\n            ? undefined\n            : _stream$_readableStat3.errorEmitted) !== null && _ref3 !== undefined\n          ? _ref3\n          : (_stream$_writableStat3 = stream._writableState) === null || _stream$_writableStat3 === undefined\n          ? undefined\n          : _stream$_writableStat3.errorEmitted) !== null && _ref2 !== undefined\n        ? _ref2\n        : (_stream$_readableStat4 = stream._readableState) === null || _stream$_readableStat4 === undefined\n        ? undefined\n        : _stream$_readableStat4.errored) !== null && _ref !== undefined\n      ? _ref\n      : (_stream$_writableStat4 = stream._writableState) === null || _stream$_writableStat4 === undefined\n      ? undefined\n      : _stream$_writableStat4.errored)\n  )\n}\nmodule.exports = {\n  isDestroyed,\n  kIsDestroyed,\n  isDisturbed,\n  kIsDisturbed,\n  isErrored,\n  kIsErrored,\n  isReadable,\n  kIsReadable,\n  kIsClosedPromise,\n  kControllerErrorFunction,\n  kIsWritable,\n  isClosed,\n  isDuplexNodeStream,\n  isFinished,\n  isIterable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableEnded,\n  isReadableFinished,\n  isReadableErrored,\n  isNodeStream,\n  isWebStream,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableEnded,\n  isWritableFinished,\n  isWritableErrored,\n  isServerRequest,\n  isServerResponse,\n  willEmitClose,\n  isTransformStream\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n;('use strict')\nconst {\n  ArrayPrototypeSlice,\n  Error,\n  FunctionPrototypeSymbolHasInstance,\n  ObjectDefineProperty,\n  ObjectDefineProperties,\n  ObjectSetPrototypeOf,\n  StringPrototypeToLowerCase,\n  Symbol,\n  SymbolHasInstance\n} = require('../../ours/primordials')\nmodule.exports = Writable\nWritable.WritableState = WritableState\nconst { EventEmitter: EE } = require('events')\nconst Stream = require('./legacy').Stream\nconst { Buffer } = require('buffer')\nconst destroyImpl = require('./destroy')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED,\n  ERR_STREAM_ALREADY_FINISHED,\n  ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING\n} = require('../../ours/errors').codes\nconst { errorOrDestroy } = destroyImpl\nObjectSetPrototypeOf(Writable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Writable, Stream)\nfunction nop() {}\nconst kOnFinished = Symbol('kOnFinished')\nfunction WritableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.writableObjectMode)\n\n  // The point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write().\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // if _final has been called.\n  this.finalCalled = false\n\n  // drain event flag.\n  this.needDrain = false\n  // At the start of calling end()\n  this.ending = false\n  // When end() has been called, and returned.\n  this.ended = false\n  // When 'finish' is emitted.\n  this.finished = false\n\n  // Has it been destroyed\n  this.destroyed = false\n\n  // Should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  const noDecode = !!(options && options.decodeStrings === false)\n  this.decodeStrings = !noDecode\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0\n\n  // A flag to see when we're in the middle of a write.\n  this.writing = false\n\n  // When true all writes will be buffered until .uncork() call.\n  this.corked = 0\n\n  // A flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true\n\n  // A flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false\n\n  // The callback that's passed to _write(chunk, cb).\n  this.onwrite = onwrite.bind(undefined, stream)\n\n  // The callback that the user supplies to write(chunk, encoding, cb).\n  this.writecb = null\n\n  // The amount that is being written when _write is called.\n  this.writelen = 0\n\n  // Storage for data passed to the afterWrite() callback in case of\n  // synchronous _write() completion.\n  this.afterWriteTickInfo = null\n  resetBuffer(this)\n\n  // Number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted.\n  this.pendingcb = 0\n\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  this.constructed = true\n\n  // Emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams.\n  this.prefinished = false\n\n  // True if the error was already emitted and should not be thrown again.\n  this.errorEmitted = false\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = !options || options.emitClose !== false\n\n  // Should .destroy() be called after 'finish' (and potentially 'end').\n  this.autoDestroy = !options || options.autoDestroy !== false\n\n  // Indicates whether the stream has errored. When true all write() calls\n  // should return false. This is needed since when autoDestroy\n  // is disabled we need a way to tell whether the stream has failed.\n  this.errored = null\n\n  // Indicates whether the stream has finished destroying.\n  this.closed = false\n\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  this.closeEmitted = false\n  this[kOnFinished] = []\n}\nfunction resetBuffer(state) {\n  state.buffered = []\n  state.bufferedIndex = 0\n  state.allBuffers = true\n  state.allNoop = true\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  return ArrayPrototypeSlice(this.buffered, this.bufferedIndex)\n}\nObjectDefineProperty(WritableState.prototype, 'bufferedRequestCount', {\n  __proto__: null,\n  get() {\n    return this.buffered.length - this.bufferedIndex\n  }\n})\nfunction Writable(options) {\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  if (!isDuplex && !FunctionPrototypeSymbolHasInstance(Writable, this)) return new Writable(options)\n  this._writableState = new WritableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write\n    if (typeof options.writev === 'function') this._writev = options.writev\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.final === 'function') this._final = options.final\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    const state = this._writableState\n    if (!state.writing) {\n      clearBuffer(this, state)\n    }\n    finishMaybe(this, state)\n  })\n}\nObjectDefineProperty(Writable, SymbolHasInstance, {\n  __proto__: null,\n  value: function (object) {\n    if (FunctionPrototypeSymbolHasInstance(this, object)) return true\n    if (this !== Writable) return false\n    return object && object._writableState instanceof WritableState\n  }\n})\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE())\n}\nfunction _write(stream, chunk, encoding, cb) {\n  const state = stream._writableState\n  if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = state.defaultEncoding\n  } else {\n    if (!encoding) encoding = state.defaultEncoding\n    else if (encoding !== 'buffer' && !Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n    if (typeof cb !== 'function') cb = nop\n  }\n  if (chunk === null) {\n    throw new ERR_STREAM_NULL_VALUES()\n  } else if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      if (state.decodeStrings !== false) {\n        chunk = Buffer.from(chunk, encoding)\n        encoding = 'buffer'\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = 'buffer'\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = 'buffer'\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  let err\n  if (state.ending) {\n    err = new ERR_STREAM_WRITE_AFTER_END()\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('write')\n  }\n  if (err) {\n    process.nextTick(cb, err)\n    errorOrDestroy(stream, err, true)\n    return err\n  }\n  state.pendingcb++\n  return writeOrBuffer(stream, state, chunk, encoding, cb)\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  return _write(this, chunk, encoding, cb) === true\n}\nWritable.prototype.cork = function () {\n  this._writableState.corked++\n}\nWritable.prototype.uncork = function () {\n  const state = this._writableState\n  if (state.corked) {\n    state.corked--\n    if (!state.writing) clearBuffer(this, state)\n  }\n}\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = StringPrototypeToLowerCase(encoding)\n  if (!Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n  this._writableState.defaultEncoding = encoding\n  return this\n}\n\n// If we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, callback) {\n  const len = state.objectMode ? 1 : chunk.length\n  state.length += len\n\n  // stream._write resets state.length\n  const ret = state.length < state.highWaterMark\n  // We must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true\n  if (state.writing || state.corked || state.errored || !state.constructed) {\n    state.buffered.push({\n      chunk,\n      encoding,\n      callback\n    })\n    if (state.allBuffers && encoding !== 'buffer') {\n      state.allBuffers = false\n    }\n    if (state.allNoop && callback !== nop) {\n      state.allNoop = false\n    }\n  } else {\n    state.writelen = len\n    state.writecb = callback\n    state.writing = true\n    state.sync = true\n    stream._write(chunk, encoding, state.onwrite)\n    state.sync = false\n  }\n\n  // Return false if errored or destroyed in order to break\n  // any synchronous while(stream.write(data)) loops.\n  return ret && !state.errored && !state.destroyed\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len\n  state.writecb = cb\n  state.writing = true\n  state.sync = true\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'))\n  else if (writev) stream._writev(chunk, state.onwrite)\n  else stream._write(chunk, encoding, state.onwrite)\n  state.sync = false\n}\nfunction onwriteError(stream, state, er, cb) {\n  --state.pendingcb\n  cb(er)\n  // Ensure callbacks are invoked even when autoDestroy is\n  // not enabled. Passing `er` here doesn't make sense since\n  // it's related to one specific write, not to the buffered\n  // writes.\n  errorBuffer(state)\n  // This can emit error, but error must always follow cb.\n  errorOrDestroy(stream, er)\n}\nfunction onwrite(stream, er) {\n  const state = stream._writableState\n  const sync = state.sync\n  const cb = state.writecb\n  if (typeof cb !== 'function') {\n    errorOrDestroy(stream, new ERR_MULTIPLE_CALLBACK())\n    return\n  }\n  state.writing = false\n  state.writecb = null\n  state.length -= state.writelen\n  state.writelen = 0\n  if (er) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    er.stack // eslint-disable-line no-unused-expressions\n\n    if (!state.errored) {\n      state.errored = er\n    }\n\n    // In case of duplex streams we need to notify the readable side of the\n    // error.\n    if (stream._readableState && !stream._readableState.errored) {\n      stream._readableState.errored = er\n    }\n    if (sync) {\n      process.nextTick(onwriteError, stream, state, er, cb)\n    } else {\n      onwriteError(stream, state, er, cb)\n    }\n  } else {\n    if (state.buffered.length > state.bufferedIndex) {\n      clearBuffer(stream, state)\n    }\n    if (sync) {\n      // It is a common case that the callback passed to .write() is always\n      // the same. In that case, we do not schedule a new nextTick(), but\n      // rather just increase a counter, to improve performance and avoid\n      // memory allocations.\n      if (state.afterWriteTickInfo !== null && state.afterWriteTickInfo.cb === cb) {\n        state.afterWriteTickInfo.count++\n      } else {\n        state.afterWriteTickInfo = {\n          count: 1,\n          cb,\n          stream,\n          state\n        }\n        process.nextTick(afterWriteTick, state.afterWriteTickInfo)\n      }\n    } else {\n      afterWrite(stream, state, 1, cb)\n    }\n  }\n}\nfunction afterWriteTick({ stream, state, count, cb }) {\n  state.afterWriteTickInfo = null\n  return afterWrite(stream, state, count, cb)\n}\nfunction afterWrite(stream, state, count, cb) {\n  const needDrain = !state.ending && !stream.destroyed && state.length === 0 && state.needDrain\n  if (needDrain) {\n    state.needDrain = false\n    stream.emit('drain')\n  }\n  while (count-- > 0) {\n    state.pendingcb--\n    cb()\n  }\n  if (state.destroyed) {\n    errorBuffer(state)\n  }\n  finishMaybe(stream, state)\n}\n\n// If there's something in the buffer waiting, then invoke callbacks.\nfunction errorBuffer(state) {\n  if (state.writing) {\n    return\n  }\n  for (let n = state.bufferedIndex; n < state.buffered.length; ++n) {\n    var _state$errored\n    const { chunk, callback } = state.buffered[n]\n    const len = state.objectMode ? 1 : chunk.length\n    state.length -= len\n    callback(\n      (_state$errored = state.errored) !== null && _state$errored !== undefined\n        ? _state$errored\n        : new ERR_STREAM_DESTROYED('write')\n    )\n  }\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    var _state$errored2\n    onfinishCallbacks[i](\n      (_state$errored2 = state.errored) !== null && _state$errored2 !== undefined\n        ? _state$errored2\n        : new ERR_STREAM_DESTROYED('end')\n    )\n  }\n  resetBuffer(state)\n}\n\n// If there's something in the buffer waiting, then process it.\nfunction clearBuffer(stream, state) {\n  if (state.corked || state.bufferProcessing || state.destroyed || !state.constructed) {\n    return\n  }\n  const { buffered, bufferedIndex, objectMode } = state\n  const bufferedLength = buffered.length - bufferedIndex\n  if (!bufferedLength) {\n    return\n  }\n  let i = bufferedIndex\n  state.bufferProcessing = true\n  if (bufferedLength > 1 && stream._writev) {\n    state.pendingcb -= bufferedLength - 1\n    const callback = state.allNoop\n      ? nop\n      : (err) => {\n          for (let n = i; n < buffered.length; ++n) {\n            buffered[n].callback(err)\n          }\n        }\n    // Make a copy of `buffered` if it's going to be used by `callback` above,\n    // since `doWrite` will mutate the array.\n    const chunks = state.allNoop && i === 0 ? buffered : ArrayPrototypeSlice(buffered, i)\n    chunks.allBuffers = state.allBuffers\n    doWrite(stream, state, true, state.length, chunks, '', callback)\n    resetBuffer(state)\n  } else {\n    do {\n      const { chunk, encoding, callback } = buffered[i]\n      buffered[i++] = null\n      const len = objectMode ? 1 : chunk.length\n      doWrite(stream, state, false, len, chunk, encoding, callback)\n    } while (i < buffered.length && !state.writing)\n    if (i === buffered.length) {\n      resetBuffer(state)\n    } else if (i > 256) {\n      buffered.splice(0, i)\n      state.bufferedIndex = 0\n    } else {\n      state.bufferedIndex = i\n    }\n  }\n  state.bufferProcessing = false\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  if (this._writev) {\n    this._writev(\n      [\n        {\n          chunk,\n          encoding\n        }\n      ],\n      cb\n    )\n  } else {\n    throw new ERR_METHOD_NOT_IMPLEMENTED('_write()')\n  }\n}\nWritable.prototype._writev = null\nWritable.prototype.end = function (chunk, encoding, cb) {\n  const state = this._writableState\n  if (typeof chunk === 'function') {\n    cb = chunk\n    chunk = null\n    encoding = null\n  } else if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = null\n  }\n  let err\n  if (chunk !== null && chunk !== undefined) {\n    const ret = _write(this, chunk, encoding)\n    if (ret instanceof Error) {\n      err = ret\n    }\n  }\n\n  // .end() fully uncorks.\n  if (state.corked) {\n    state.corked = 1\n    this.uncork()\n  }\n  if (err) {\n    // Do nothing...\n  } else if (!state.errored && !state.ending) {\n    // This is forgiving in terms of unnecessary calls to end() and can hide\n    // logic errors. However, usually such errors are harmless and causing a\n    // hard error can be disproportionately destructive. It is not always\n    // trivial for the user to determine whether end() needs to be called\n    // or not.\n\n    state.ending = true\n    finishMaybe(this, state, true)\n    state.ended = true\n  } else if (state.finished) {\n    err = new ERR_STREAM_ALREADY_FINISHED('end')\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('end')\n  }\n  if (typeof cb === 'function') {\n    if (err || state.finished) {\n      process.nextTick(cb, err)\n    } else {\n      state[kOnFinished].push(cb)\n    }\n  }\n  return this\n}\nfunction needFinish(state) {\n  return (\n    state.ending &&\n    !state.destroyed &&\n    state.constructed &&\n    state.length === 0 &&\n    !state.errored &&\n    state.buffered.length === 0 &&\n    !state.finished &&\n    !state.writing &&\n    !state.errorEmitted &&\n    !state.closeEmitted\n  )\n}\nfunction callFinal(stream, state) {\n  let called = false\n  function onFinish(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    state.pendingcb--\n    if (err) {\n      const onfinishCallbacks = state[kOnFinished].splice(0)\n      for (let i = 0; i < onfinishCallbacks.length; i++) {\n        onfinishCallbacks[i](err)\n      }\n      errorOrDestroy(stream, err, state.sync)\n    } else if (needFinish(state)) {\n      state.prefinished = true\n      stream.emit('prefinish')\n      // Backwards compat. Don't check state.sync here.\n      // Some streams assume 'finish' will be emitted\n      // asynchronously relative to _final callback.\n      state.pendingcb++\n      process.nextTick(finish, stream, state)\n    }\n  }\n  state.sync = true\n  state.pendingcb++\n  try {\n    stream._final(onFinish)\n  } catch (err) {\n    onFinish(err)\n  }\n  state.sync = false\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.finalCalled = true\n      callFinal(stream, state)\n    } else {\n      state.prefinished = true\n      stream.emit('prefinish')\n    }\n  }\n}\nfunction finishMaybe(stream, state, sync) {\n  if (needFinish(state)) {\n    prefinish(stream, state)\n    if (state.pendingcb === 0) {\n      if (sync) {\n        state.pendingcb++\n        process.nextTick(\n          (stream, state) => {\n            if (needFinish(state)) {\n              finish(stream, state)\n            } else {\n              state.pendingcb--\n            }\n          },\n          stream,\n          state\n        )\n      } else if (needFinish(state)) {\n        state.pendingcb++\n        finish(stream, state)\n      }\n    }\n  }\n}\nfunction finish(stream, state) {\n  state.pendingcb--\n  state.finished = true\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    onfinishCallbacks[i]()\n  }\n  stream.emit('finish')\n  if (state.autoDestroy) {\n    // In case of duplex streams we need a way to detect\n    // if the readable side is ready for autoDestroy as well.\n    const rState = stream._readableState\n    const autoDestroy =\n      !rState ||\n      (rState.autoDestroy &&\n        // We don't expect the readable to ever 'end'\n        // if readable is explicitly set to false.\n        (rState.endEmitted || rState.readable === false))\n    if (autoDestroy) {\n      stream.destroy()\n    }\n  }\n}\nObjectDefineProperties(Writable.prototype, {\n  closed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.destroyed : false\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly managing destroyed.\n      if (this._writableState) {\n        this._writableState.destroyed = value\n      }\n    }\n  },\n  writable: {\n    __proto__: null,\n    get() {\n      const w = this._writableState\n      // w.writable === false means that this is part of a Duplex stream\n      // where the writable side was disabled upon construction.\n      // Compat. The user might manually disable writable side through\n      // deprecated setter.\n      return !!w && w.writable !== false && !w.destroyed && !w.errored && !w.ending && !w.ended\n    },\n    set(val) {\n      // Backwards compatible.\n      if (this._writableState) {\n        this._writableState.writable = !!val\n      }\n    }\n  },\n  writableFinished: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.finished : false\n    }\n  },\n  writableObjectMode: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.objectMode : false\n    }\n  },\n  writableBuffer: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.getBuffer()\n    }\n  },\n  writableEnded: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.ending : false\n    }\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    get() {\n      const wState = this._writableState\n      if (!wState) return false\n      return !wState.destroyed && !wState.ending && wState.needDrain\n    }\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.highWaterMark\n    }\n  },\n  writableCorked: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.corked : 0\n    }\n  },\n  writableLength: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.length\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._writableState ? this._writableState.errored : null\n    }\n  },\n  writableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._writableState.writable !== false &&\n        (this._writableState.destroyed || this._writableState.errored) &&\n        !this._writableState.finished\n      )\n    }\n  }\n})\nconst destroy = destroyImpl.destroy\nWritable.prototype.destroy = function (err, cb) {\n  const state = this._writableState\n\n  // Invoke pending callbacks.\n  if (!state.destroyed && (state.bufferedIndex < state.buffered.length || state[kOnFinished].length)) {\n    process.nextTick(errorBuffer, state)\n  }\n  destroy.call(this, err, cb)\n  return this\n}\nWritable.prototype._undestroy = destroyImpl.undestroy\nWritable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nWritable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nWritable.fromWeb = function (writableStream, options) {\n  return lazyWebStreams().newStreamWritableFromWritableStream(writableStream, options)\n}\nWritable.toWeb = function (streamWritable) {\n  return lazyWebStreams().newWritableStreamFromStreamWritable(streamWritable)\n}\n","/* eslint jsdoc/require-jsdoc: \"error\" */\n\n'use strict'\n\nconst {\n  ArrayIsArray,\n  ArrayPrototypeIncludes,\n  ArrayPrototypeJoin,\n  ArrayPrototypeMap,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberMAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER,\n  NumberParseInt,\n  ObjectPrototypeHasOwnProperty,\n  RegExpPrototypeExec,\n  String,\n  StringPrototypeToUpperCase,\n  StringPrototypeTrim\n} = require('../ours/primordials')\nconst {\n  hideStackFrames,\n  codes: { ERR_SOCKET_BAD_PORT, ERR_INVALID_ARG_TYPE, ERR_INVALID_ARG_VALUE, ERR_OUT_OF_RANGE, ERR_UNKNOWN_SIGNAL }\n} = require('../ours/errors')\nconst { normalizeEncoding } = require('../ours/util')\nconst { isAsyncFunction, isArrayBufferView } = require('../ours/util').types\nconst signals = {}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isInt32(value) {\n  return value === (value | 0)\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isUint32(value) {\n  return value === value >>> 0\n}\nconst octalReg = /^[0-7]+$/\nconst modeDesc = 'must be a 32-bit unsigned integer or an octal string'\n\n/**\n * Parse and validate values that will be converted into mode_t (the S_*\n * constants). Only valid numbers and octal strings are allowed. They could be\n * converted to 32-bit unsigned integers or non-negative signed integers in the\n * C++ land, but any value higher than 0o777 will result in platform-specific\n * behaviors.\n * @param {*} value Values to be validated\n * @param {string} name Name of the argument\n * @param {number} [def] If specified, will be returned for invalid values\n * @returns {number}\n */\nfunction parseFileMode(value, name, def) {\n  if (typeof value === 'undefined') {\n    value = def\n  }\n  if (typeof value === 'string') {\n    if (RegExpPrototypeExec(octalReg, value) === null) {\n      throw new ERR_INVALID_ARG_VALUE(name, value, modeDesc)\n    }\n    value = NumberParseInt(value, 8)\n  }\n  validateUint32(value, name)\n  return value\n}\n\n/**\n * @callback validateInteger\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInteger} */\nconst validateInteger = hideStackFrames((value, name, min = NumberMIN_SAFE_INTEGER, max = NumberMAX_SAFE_INTEGER) => {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (!NumberIsInteger(value)) throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  if (value < min || value > max) throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n})\n\n/**\n * @callback validateInt32\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInt32} */\nconst validateInt32 = hideStackFrames((value, name, min = -2147483648, max = 2147483647) => {\n  // The defaults for min and max correspond to the limits of 32-bit integers.\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateUint32\n * @param {*} value\n * @param {string} name\n * @param {number|boolean} [positive=false]\n * @returns {asserts value is number}\n */\n\n/** @type {validateUint32} */\nconst validateUint32 = hideStackFrames((value, name, positive = false) => {\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  const min = positive ? 1 : 0\n  // 2 ** 32 === 4294967296\n  const max = 4294967295\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateString\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string}\n */\n\n/** @type {validateString} */\nfunction validateString(value, name) {\n  if (typeof value !== 'string') throw new ERR_INVALID_ARG_TYPE(name, 'string', value)\n}\n\n/**\n * @callback validateNumber\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateNumber} */\nfunction validateNumber(value, name, min = undefined, max) {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (\n    (min != null && value < min) ||\n    (max != null && value > max) ||\n    ((min != null || max != null) && NumberIsNaN(value))\n  ) {\n    throw new ERR_OUT_OF_RANGE(\n      name,\n      `${min != null ? `>= ${min}` : ''}${min != null && max != null ? ' && ' : ''}${max != null ? `<= ${max}` : ''}`,\n      value\n    )\n  }\n}\n\n/**\n * @callback validateOneOf\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} oneOf\n */\n\n/** @type {validateOneOf} */\nconst validateOneOf = hideStackFrames((value, name, oneOf) => {\n  if (!ArrayPrototypeIncludes(oneOf, value)) {\n    const allowed = ArrayPrototypeJoin(\n      ArrayPrototypeMap(oneOf, (v) => (typeof v === 'string' ? `'${v}'` : String(v))),\n      ', '\n    )\n    const reason = 'must be one of: ' + allowed\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateBoolean\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean}\n */\n\n/** @type {validateBoolean} */\nfunction validateBoolean(value, name) {\n  if (typeof value !== 'boolean') throw new ERR_INVALID_ARG_TYPE(name, 'boolean', value)\n}\n\n/**\n * @param {any} options\n * @param {string} key\n * @param {boolean} defaultValue\n * @returns {boolean}\n */\nfunction getOwnPropertyValueOrDefault(options, key, defaultValue) {\n  return options == null || !ObjectPrototypeHasOwnProperty(options, key) ? defaultValue : options[key]\n}\n\n/**\n * @callback validateObject\n * @param {*} value\n * @param {string} name\n * @param {{\n *   allowArray?: boolean,\n *   allowFunction?: boolean,\n *   nullable?: boolean\n * }} [options]\n */\n\n/** @type {validateObject} */\nconst validateObject = hideStackFrames((value, name, options = null) => {\n  const allowArray = getOwnPropertyValueOrDefault(options, 'allowArray', false)\n  const allowFunction = getOwnPropertyValueOrDefault(options, 'allowFunction', false)\n  const nullable = getOwnPropertyValueOrDefault(options, 'nullable', false)\n  if (\n    (!nullable && value === null) ||\n    (!allowArray && ArrayIsArray(value)) ||\n    (typeof value !== 'object' && (!allowFunction || typeof value !== 'function'))\n  ) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Object', value)\n  }\n})\n\n/**\n * @callback validateDictionary - We are using the Web IDL Standard definition\n *                                of \"dictionary\" here, which means any value\n *                                whose Type is either Undefined, Null, or\n *                                Object (which includes functions).\n * @param {*} value\n * @param {string} name\n * @see https://webidl.spec.whatwg.org/#es-dictionary\n * @see https://tc39.es/ecma262/#table-typeof-operator-results\n */\n\n/** @type {validateDictionary} */\nconst validateDictionary = hideStackFrames((value, name) => {\n  if (value != null && typeof value !== 'object' && typeof value !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'a dictionary', value)\n  }\n})\n\n/**\n * @callback validateArray\n * @param {*} value\n * @param {string} name\n * @param {number} [minLength]\n * @returns {asserts value is any[]}\n */\n\n/** @type {validateArray} */\nconst validateArray = hideStackFrames((value, name, minLength = 0) => {\n  if (!ArrayIsArray(value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Array', value)\n  }\n  if (value.length < minLength) {\n    const reason = `must be longer than ${minLength}`\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateStringArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string[]}\n */\n\n/** @type {validateStringArray} */\nfunction validateStringArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateString(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateBooleanArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean[]}\n */\n\n/** @type {validateBooleanArray} */\nfunction validateBooleanArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateBoolean(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateAbortSignalArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is AbortSignal[]}\n */\n\n/** @type {validateAbortSignalArray} */\nfunction validateAbortSignalArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    const signal = value[i]\n    const indexedName = `${name}[${i}]`\n    if (signal == null) {\n      throw new ERR_INVALID_ARG_TYPE(indexedName, 'AbortSignal', signal)\n    }\n    validateAbortSignal(signal, indexedName)\n  }\n}\n\n/**\n * @param {*} signal\n * @param {string} [name='signal']\n * @returns {asserts signal is keyof signals}\n */\nfunction validateSignalName(signal, name = 'signal') {\n  validateString(signal, name)\n  if (signals[signal] === undefined) {\n    if (signals[StringPrototypeToUpperCase(signal)] !== undefined) {\n      throw new ERR_UNKNOWN_SIGNAL(signal + ' (signals must use all capital letters)')\n    }\n    throw new ERR_UNKNOWN_SIGNAL(signal)\n  }\n}\n\n/**\n * @callback validateBuffer\n * @param {*} buffer\n * @param {string} [name='buffer']\n * @returns {asserts buffer is ArrayBufferView}\n */\n\n/** @type {validateBuffer} */\nconst validateBuffer = hideStackFrames((buffer, name = 'buffer') => {\n  if (!isArrayBufferView(buffer)) {\n    throw new ERR_INVALID_ARG_TYPE(name, ['Buffer', 'TypedArray', 'DataView'], buffer)\n  }\n})\n\n/**\n * @param {string} data\n * @param {string} encoding\n */\nfunction validateEncoding(data, encoding) {\n  const normalizedEncoding = normalizeEncoding(encoding)\n  const length = data.length\n  if (normalizedEncoding === 'hex' && length % 2 !== 0) {\n    throw new ERR_INVALID_ARG_VALUE('encoding', encoding, `is invalid for data of length ${length}`)\n  }\n}\n\n/**\n * Check that the port number is not NaN when coerced to a number,\n * is an integer and that it falls within the legal range of port numbers.\n * @param {*} port\n * @param {string} [name='Port']\n * @param {boolean} [allowZero=true]\n * @returns {number}\n */\nfunction validatePort(port, name = 'Port', allowZero = true) {\n  if (\n    (typeof port !== 'number' && typeof port !== 'string') ||\n    (typeof port === 'string' && StringPrototypeTrim(port).length === 0) ||\n    +port !== +port >>> 0 ||\n    port > 0xffff ||\n    (port === 0 && !allowZero)\n  ) {\n    throw new ERR_SOCKET_BAD_PORT(name, port, allowZero)\n  }\n  return port | 0\n}\n\n/**\n * @callback validateAbortSignal\n * @param {*} signal\n * @param {string} name\n */\n\n/** @type {validateAbortSignal} */\nconst validateAbortSignal = hideStackFrames((signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n})\n\n/**\n * @callback validateFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validateFunction} */\nconst validateFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validatePlainFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validatePlainFunction} */\nconst validatePlainFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function' || isAsyncFunction(value)) throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validateUndefined\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is undefined}\n */\n\n/** @type {validateUndefined} */\nconst validateUndefined = hideStackFrames((value, name) => {\n  if (value !== undefined) throw new ERR_INVALID_ARG_TYPE(name, 'undefined', value)\n})\n\n/**\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} union\n */\nfunction validateUnion(value, name, union) {\n  if (!ArrayPrototypeIncludes(union, value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, `('${ArrayPrototypeJoin(union, '|')}')`, value)\n  }\n}\n\n/*\n  The rules for the Link header field are described here:\n  https://www.rfc-editor.org/rfc/rfc8288.html#section-3\n\n  This regex validates any string surrounded by angle brackets\n  (not necessarily a valid URI reference) followed by zero or more\n  link-params separated by semicolons.\n*/\nconst linkValueRegExp = /^(?:<[^>]*>)(?:\\s*;\\s*[^;\"\\s]+(?:=(\")?[^;\"\\s]*\\1)?)*$/\n\n/**\n * @param {any} value\n * @param {string} name\n */\nfunction validateLinkHeaderFormat(value, name) {\n  if (typeof value === 'undefined' || !RegExpPrototypeExec(linkValueRegExp, value)) {\n    throw new ERR_INVALID_ARG_VALUE(\n      name,\n      value,\n      'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n    )\n  }\n}\n\n/**\n * @param {any} hints\n * @return {string}\n */\nfunction validateLinkHeaderValue(hints) {\n  if (typeof hints === 'string') {\n    validateLinkHeaderFormat(hints, 'hints')\n    return hints\n  } else if (ArrayIsArray(hints)) {\n    const hintsLength = hints.length\n    let result = ''\n    if (hintsLength === 0) {\n      return result\n    }\n    for (let i = 0; i < hintsLength; i++) {\n      const link = hints[i]\n      validateLinkHeaderFormat(link, 'hints')\n      result += link\n      if (i !== hintsLength - 1) {\n        result += ', '\n      }\n    }\n    return result\n  }\n  throw new ERR_INVALID_ARG_VALUE(\n    'hints',\n    hints,\n    'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n  )\n}\nmodule.exports = {\n  isInt32,\n  isUint32,\n  parseFileMode,\n  validateArray,\n  validateStringArray,\n  validateBooleanArray,\n  validateAbortSignalArray,\n  validateBoolean,\n  validateBuffer,\n  validateDictionary,\n  validateEncoding,\n  validateFunction,\n  validateInt32,\n  validateInteger,\n  validateNumber,\n  validateObject,\n  validateOneOf,\n  validatePlainFunction,\n  validatePort,\n  validateSignalName,\n  validateString,\n  validateUint32,\n  validateUndefined,\n  validateUnion,\n  validateAbortSignal,\n  validateLinkHeaderValue\n}\n","'use strict'\n\nconst { format, inspect, AggregateError: CustomAggregateError } = require('./util')\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/errors.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/errors.js\n\n  Don't try to replace with the original file and keep it up to date (starting from E(...) definitions)\n  with the upstream file.\n*/\n\nconst AggregateError = globalThis.AggregateError || CustomAggregateError\nconst kIsNodeError = Symbol('kIsNodeError')\nconst kTypes = [\n  'string',\n  'function',\n  'number',\n  'object',\n  // Accept 'Function' and 'Object' as alternative to the lower cased version.\n  'Function',\n  'Object',\n  'boolean',\n  'bigint',\n  'symbol'\n]\nconst classRegExp = /^([A-Z][a-z0-9]*)+$/\nconst nodeInternalPrefix = '__node_internal_'\nconst codes = {}\nfunction assert(value, message) {\n  if (!value) {\n    throw new codes.ERR_INTERNAL_ASSERTION(message)\n  }\n}\n\n// Only use this for integers! Decimal numbers do not work with this function.\nfunction addNumericalSeparator(val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\nfunction getMessage(key, msg, args) {\n  if (typeof msg === 'function') {\n    assert(\n      msg.length <= args.length,\n      // Default options do not count.\n      `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${msg.length}).`\n    )\n    return msg(...args)\n  }\n  const expectedLength = (msg.match(/%[dfijoOs]/g) || []).length\n  assert(\n    expectedLength === args.length,\n    `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`\n  )\n  if (args.length === 0) {\n    return msg\n  }\n  return format(msg, ...args)\n}\nfunction E(code, message, Base) {\n  if (!Base) {\n    Base = Error\n  }\n  class NodeError extends Base {\n    constructor(...args) {\n      super(getMessage(code, message, args))\n    }\n    toString() {\n      return `${this.name} [${code}]: ${this.message}`\n    }\n  }\n  Object.defineProperties(NodeError.prototype, {\n    name: {\n      value: Base.name,\n      writable: true,\n      enumerable: false,\n      configurable: true\n    },\n    toString: {\n      value() {\n        return `${this.name} [${code}]: ${this.message}`\n      },\n      writable: true,\n      enumerable: false,\n      configurable: true\n    }\n  })\n  NodeError.prototype.code = code\n  NodeError.prototype[kIsNodeError] = true\n  codes[code] = NodeError\n}\nfunction hideStackFrames(fn) {\n  // We rename the functions that will be hidden to cut off the stacktrace\n  // at the outermost one\n  const hidden = nodeInternalPrefix + fn.name\n  Object.defineProperty(fn, 'name', {\n    value: hidden\n  })\n  return fn\n}\nfunction aggregateTwoErrors(innerError, outerError) {\n  if (innerError && outerError && innerError !== outerError) {\n    if (Array.isArray(outerError.errors)) {\n      // If `outerError` is already an `AggregateError`.\n      outerError.errors.push(innerError)\n      return outerError\n    }\n    const err = new AggregateError([outerError, innerError], outerError.message)\n    err.code = outerError.code\n    return err\n  }\n  return innerError || outerError\n}\nclass AbortError extends Error {\n  constructor(message = 'The operation was aborted', options = undefined) {\n    if (options !== undefined && typeof options !== 'object') {\n      throw new codes.ERR_INVALID_ARG_TYPE('options', 'Object', options)\n    }\n    super(message, options)\n    this.code = 'ABORT_ERR'\n    this.name = 'AbortError'\n  }\n}\nE('ERR_ASSERTION', '%s', Error)\nE(\n  'ERR_INVALID_ARG_TYPE',\n  (name, expected, actual) => {\n    assert(typeof name === 'string', \"'name' must be a string\")\n    if (!Array.isArray(expected)) {\n      expected = [expected]\n    }\n    let msg = 'The '\n    if (name.endsWith(' argument')) {\n      // For cases like 'first argument'\n      msg += `${name} `\n    } else {\n      msg += `\"${name}\" ${name.includes('.') ? 'property' : 'argument'} `\n    }\n    msg += 'must be '\n    const types = []\n    const instances = []\n    const other = []\n    for (const value of expected) {\n      assert(typeof value === 'string', 'All expected entries have to be of type string')\n      if (kTypes.includes(value)) {\n        types.push(value.toLowerCase())\n      } else if (classRegExp.test(value)) {\n        instances.push(value)\n      } else {\n        assert(value !== 'object', 'The value \"object\" should be written as \"Object\"')\n        other.push(value)\n      }\n    }\n\n    // Special handle `object` in case other instances are allowed to outline\n    // the differences between each other.\n    if (instances.length > 0) {\n      const pos = types.indexOf('object')\n      if (pos !== -1) {\n        types.splice(types, pos, 1)\n        instances.push('Object')\n      }\n    }\n    if (types.length > 0) {\n      switch (types.length) {\n        case 1:\n          msg += `of type ${types[0]}`\n          break\n        case 2:\n          msg += `one of type ${types[0]} or ${types[1]}`\n          break\n        default: {\n          const last = types.pop()\n          msg += `one of type ${types.join(', ')}, or ${last}`\n        }\n      }\n      if (instances.length > 0 || other.length > 0) {\n        msg += ' or '\n      }\n    }\n    if (instances.length > 0) {\n      switch (instances.length) {\n        case 1:\n          msg += `an instance of ${instances[0]}`\n          break\n        case 2:\n          msg += `an instance of ${instances[0]} or ${instances[1]}`\n          break\n        default: {\n          const last = instances.pop()\n          msg += `an instance of ${instances.join(', ')}, or ${last}`\n        }\n      }\n      if (other.length > 0) {\n        msg += ' or '\n      }\n    }\n    switch (other.length) {\n      case 0:\n        break\n      case 1:\n        if (other[0].toLowerCase() !== other[0]) {\n          msg += 'an '\n        }\n        msg += `${other[0]}`\n        break\n      case 2:\n        msg += `one of ${other[0]} or ${other[1]}`\n        break\n      default: {\n        const last = other.pop()\n        msg += `one of ${other.join(', ')}, or ${last}`\n      }\n    }\n    if (actual == null) {\n      msg += `. Received ${actual}`\n    } else if (typeof actual === 'function' && actual.name) {\n      msg += `. Received function ${actual.name}`\n    } else if (typeof actual === 'object') {\n      var _actual$constructor\n      if (\n        (_actual$constructor = actual.constructor) !== null &&\n        _actual$constructor !== undefined &&\n        _actual$constructor.name\n      ) {\n        msg += `. Received an instance of ${actual.constructor.name}`\n      } else {\n        const inspected = inspect(actual, {\n          depth: -1\n        })\n        msg += `. Received ${inspected}`\n      }\n    } else {\n      let inspected = inspect(actual, {\n        colors: false\n      })\n      if (inspected.length > 25) {\n        inspected = `${inspected.slice(0, 25)}...`\n      }\n      msg += `. Received type ${typeof actual} (${inspected})`\n    }\n    return msg\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_ARG_VALUE',\n  (name, value, reason = 'is invalid') => {\n    let inspected = inspect(value)\n    if (inspected.length > 128) {\n      inspected = inspected.slice(0, 128) + '...'\n    }\n    const type = name.includes('.') ? 'property' : 'argument'\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_RETURN_VALUE',\n  (input, name, value) => {\n    var _value$constructor\n    const type =\n      value !== null &&\n      value !== undefined &&\n      (_value$constructor = value.constructor) !== null &&\n      _value$constructor !== undefined &&\n      _value$constructor.name\n        ? `instance of ${value.constructor.name}`\n        : `type ${typeof value}`\n    return `Expected ${input} to be returned from the \"${name}\"` + ` function but got ${type}.`\n  },\n  TypeError\n)\nE(\n  'ERR_MISSING_ARGS',\n  (...args) => {\n    assert(args.length > 0, 'At least one arg needs to be specified')\n    let msg\n    const len = args.length\n    args = (Array.isArray(args) ? args : [args]).map((a) => `\"${a}\"`).join(' or ')\n    switch (len) {\n      case 1:\n        msg += `The ${args[0]} argument`\n        break\n      case 2:\n        msg += `The ${args[0]} and ${args[1]} arguments`\n        break\n      default:\n        {\n          const last = args.pop()\n          msg += `The ${args.join(', ')}, and ${last} arguments`\n        }\n        break\n    }\n    return `${msg} must be specified`\n  },\n  TypeError\n)\nE(\n  'ERR_OUT_OF_RANGE',\n  (str, range, input) => {\n    assert(range, 'Missing \"range\" argument')\n    let received\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > 2n ** 32n || input < -(2n ** 32n)) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    } else {\n      received = inspect(input)\n    }\n    return `The value of \"${str}\" is out of range. It must be ${range}. Received ${received}`\n  },\n  RangeError\n)\nE('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times', Error)\nE('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented', Error)\nE('ERR_STREAM_ALREADY_FINISHED', 'Cannot call %s after a stream was finished', Error)\nE('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error)\nE('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed', Error)\nE('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError)\nE('ERR_STREAM_PREMATURE_CLOSE', 'Premature close', Error)\nE('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error)\nE('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event', Error)\nE('ERR_STREAM_WRITE_AFTER_END', 'write after end', Error)\nE('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s', TypeError)\nmodule.exports = {\n  AbortError,\n  aggregateTwoErrors: hideStackFrames(aggregateTwoErrors),\n  hideStackFrames,\n  codes\n}\n","'use strict'\n\nconst Stream = require('stream')\nif (Stream && process.env.READABLE_STREAM === 'disable') {\n  const promises = Stream.promises\n\n  // Explicit export naming is needed for ESM\n  module.exports._uint8ArrayToBuffer = Stream._uint8ArrayToBuffer\n  module.exports._isUint8Array = Stream._isUint8Array\n  module.exports.isDisturbed = Stream.isDisturbed\n  module.exports.isErrored = Stream.isErrored\n  module.exports.isReadable = Stream.isReadable\n  module.exports.Readable = Stream.Readable\n  module.exports.Writable = Stream.Writable\n  module.exports.Duplex = Stream.Duplex\n  module.exports.Transform = Stream.Transform\n  module.exports.PassThrough = Stream.PassThrough\n  module.exports.addAbortSignal = Stream.addAbortSignal\n  module.exports.finished = Stream.finished\n  module.exports.destroy = Stream.destroy\n  module.exports.pipeline = Stream.pipeline\n  module.exports.compose = Stream.compose\n  Object.defineProperty(Stream, 'promises', {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return promises\n    }\n  })\n  module.exports.Stream = Stream.Stream\n} else {\n  const CustomStream = require('../stream')\n  const promises = require('../stream/promises')\n  const originalDestroy = CustomStream.Readable.destroy\n  module.exports = CustomStream.Readable\n\n  // Explicit export naming is needed for ESM\n  module.exports._uint8ArrayToBuffer = CustomStream._uint8ArrayToBuffer\n  module.exports._isUint8Array = CustomStream._isUint8Array\n  module.exports.isDisturbed = CustomStream.isDisturbed\n  module.exports.isErrored = CustomStream.isErrored\n  module.exports.isReadable = CustomStream.isReadable\n  module.exports.Readable = CustomStream.Readable\n  module.exports.Writable = CustomStream.Writable\n  module.exports.Duplex = CustomStream.Duplex\n  module.exports.Transform = CustomStream.Transform\n  module.exports.PassThrough = CustomStream.PassThrough\n  module.exports.addAbortSignal = CustomStream.addAbortSignal\n  module.exports.finished = CustomStream.finished\n  module.exports.destroy = CustomStream.destroy\n  module.exports.destroy = originalDestroy\n  module.exports.pipeline = CustomStream.pipeline\n  module.exports.compose = CustomStream.compose\n  Object.defineProperty(CustomStream, 'promises', {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return promises\n    }\n  })\n  module.exports.Stream = CustomStream.Stream\n}\n\n// Allow default importing\nmodule.exports.default = module.exports\n","'use strict'\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/per_context/primordials.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/per_context/primordials.js\n\n  Don't try to replace with the original file and keep it up to date with the upstream file.\n*/\nmodule.exports = {\n  ArrayIsArray(self) {\n    return Array.isArray(self)\n  },\n  ArrayPrototypeIncludes(self, el) {\n    return self.includes(el)\n  },\n  ArrayPrototypeIndexOf(self, el) {\n    return self.indexOf(el)\n  },\n  ArrayPrototypeJoin(self, sep) {\n    return self.join(sep)\n  },\n  ArrayPrototypeMap(self, fn) {\n    return self.map(fn)\n  },\n  ArrayPrototypePop(self, el) {\n    return self.pop(el)\n  },\n  ArrayPrototypePush(self, el) {\n    return self.push(el)\n  },\n  ArrayPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  Error,\n  FunctionPrototypeCall(fn, thisArgs, ...args) {\n    return fn.call(thisArgs, ...args)\n  },\n  FunctionPrototypeSymbolHasInstance(self, instance) {\n    return Function.prototype[Symbol.hasInstance].call(self, instance)\n  },\n  MathFloor: Math.floor,\n  Number,\n  NumberIsInteger: Number.isInteger,\n  NumberIsNaN: Number.isNaN,\n  NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,\n  NumberParseInt: Number.parseInt,\n  ObjectDefineProperties(self, props) {\n    return Object.defineProperties(self, props)\n  },\n  ObjectDefineProperty(self, name, prop) {\n    return Object.defineProperty(self, name, prop)\n  },\n  ObjectGetOwnPropertyDescriptor(self, name) {\n    return Object.getOwnPropertyDescriptor(self, name)\n  },\n  ObjectKeys(obj) {\n    return Object.keys(obj)\n  },\n  ObjectSetPrototypeOf(target, proto) {\n    return Object.setPrototypeOf(target, proto)\n  },\n  Promise,\n  PromisePrototypeCatch(self, fn) {\n    return self.catch(fn)\n  },\n  PromisePrototypeThen(self, thenFn, catchFn) {\n    return self.then(thenFn, catchFn)\n  },\n  PromiseReject(err) {\n    return Promise.reject(err)\n  },\n  PromiseResolve(val) {\n    return Promise.resolve(val)\n  },\n  ReflectApply: Reflect.apply,\n  RegExpPrototypeTest(self, value) {\n    return self.test(value)\n  },\n  SafeSet: Set,\n  String,\n  StringPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  StringPrototypeToLowerCase(self) {\n    return self.toLowerCase()\n  },\n  StringPrototypeToUpperCase(self) {\n    return self.toUpperCase()\n  },\n  StringPrototypeTrim(self) {\n    return self.trim()\n  },\n  Symbol,\n  SymbolFor: Symbol.for,\n  SymbolAsyncIterator: Symbol.asyncIterator,\n  SymbolHasInstance: Symbol.hasInstance,\n  SymbolIterator: Symbol.iterator,\n  SymbolDispose: Symbol.dispose || Symbol('Symbol.dispose'),\n  SymbolAsyncDispose: Symbol.asyncDispose || Symbol('Symbol.asyncDispose'),\n  TypedArrayPrototypeSet(self, buf, len) {\n    return self.set(buf, len)\n  },\n  Boolean: Boolean,\n  Uint8Array\n}\n","'use strict'\n\nconst bufferModule = require('buffer')\nconst { kResistStopPropagation, SymbolDispose } = require('./primordials')\nconst AbortSignal = globalThis.AbortSignal || require('abort-controller').AbortSignal\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst AsyncFunction = Object.getPrototypeOf(async function () {}).constructor\nconst Blob = globalThis.Blob || bufferModule.Blob\n/* eslint-disable indent */\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        // eslint-disable-next-line indent\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n/* eslint-enable indent */\n\nconst validateAbortSignal = (signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nconst validateFunction = (value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n}\n\n// This is a simplified version of AggregateError\nclass AggregateError extends Error {\n  constructor(errors) {\n    if (!Array.isArray(errors)) {\n      throw new TypeError(`Expected input to be an Array, got ${typeof errors}`)\n    }\n    let message = ''\n    for (let i = 0; i < errors.length; i++) {\n      message += `    ${errors[i].stack}\\n`\n    }\n    super(message)\n    this.name = 'AggregateError'\n    this.errors = errors\n  }\n}\nmodule.exports = {\n  AggregateError,\n  kEmptyObject: Object.freeze({}),\n  once(callback) {\n    let called = false\n    return function (...args) {\n      if (called) {\n        return\n      }\n      called = true\n      callback.apply(this, args)\n    }\n  },\n  createDeferredPromise: function () {\n    let resolve\n    let reject\n\n    // eslint-disable-next-line promise/param-names\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    return {\n      promise,\n      resolve,\n      reject\n    }\n  },\n  promisify(fn) {\n    return new Promise((resolve, reject) => {\n      fn((err, ...args) => {\n        if (err) {\n          return reject(err)\n        }\n        return resolve(...args)\n      })\n    })\n  },\n  debuglog() {\n    return function () {}\n  },\n  format(format, ...args) {\n    // Simplified version of https://nodejs.org/api/util.html#utilformatformat-args\n    return format.replace(/%([sdifj])/g, function (...[_unused, type]) {\n      const replacement = args.shift()\n      if (type === 'f') {\n        return replacement.toFixed(6)\n      } else if (type === 'j') {\n        return JSON.stringify(replacement)\n      } else if (type === 's' && typeof replacement === 'object') {\n        const ctor = replacement.constructor !== Object ? replacement.constructor.name : ''\n        return `${ctor} {}`.trim()\n      } else {\n        return replacement.toString()\n      }\n    })\n  },\n  inspect(value) {\n    // Vastly simplified version of https://nodejs.org/api/util.html#utilinspectobject-options\n    switch (typeof value) {\n      case 'string':\n        if (value.includes(\"'\")) {\n          if (!value.includes('\"')) {\n            return `\"${value}\"`\n          } else if (!value.includes('`') && !value.includes('${')) {\n            return `\\`${value}\\``\n          }\n        }\n        return `'${value}'`\n      case 'number':\n        if (isNaN(value)) {\n          return 'NaN'\n        } else if (Object.is(value, -0)) {\n          return String(value)\n        }\n        return value\n      case 'bigint':\n        return `${String(value)}n`\n      case 'boolean':\n      case 'undefined':\n        return String(value)\n      case 'object':\n        return '{}'\n    }\n  },\n  types: {\n    isAsyncFunction(fn) {\n      return fn instanceof AsyncFunction\n    },\n    isArrayBufferView(arr) {\n      return ArrayBuffer.isView(arr)\n    }\n  },\n  isBlob,\n  deprecate(fn, message) {\n    return fn\n  },\n  addAbortListener:\n    require('events').addAbortListener ||\n    function addAbortListener(signal, listener) {\n      if (signal === undefined) {\n        throw new ERR_INVALID_ARG_TYPE('signal', 'AbortSignal', signal)\n      }\n      validateAbortSignal(signal, 'signal')\n      validateFunction(listener, 'listener')\n      let removeEventListener\n      if (signal.aborted) {\n        queueMicrotask(() => listener())\n      } else {\n        signal.addEventListener('abort', listener, {\n          __proto__: null,\n          once: true,\n          [kResistStopPropagation]: true\n        })\n        removeEventListener = () => {\n          signal.removeEventListener('abort', listener)\n        }\n      }\n      return {\n        __proto__: null,\n        [SymbolDispose]() {\n          var _removeEventListener\n          ;(_removeEventListener = removeEventListener) === null || _removeEventListener === undefined\n            ? undefined\n            : _removeEventListener()\n        }\n      }\n    },\n  AbortSignalAny:\n    AbortSignal.any ||\n    function AbortSignalAny(signals) {\n      // Fast path if there is only one signal.\n      if (signals.length === 1) {\n        return signals[0]\n      }\n      const ac = new AbortController()\n      const abort = () => ac.abort()\n      signals.forEach((signal) => {\n        validateAbortSignal(signal, 'signals')\n        signal.addEventListener('abort', abort, {\n          once: true\n        })\n      })\n      ac.signal.addEventListener(\n        'abort',\n        () => {\n          signals.forEach((signal) => signal.removeEventListener('abort', abort))\n        },\n        {\n          once: true\n        }\n      )\n      return ac.signal\n    }\n}\nmodule.exports.promisify.custom = Symbol.for('nodejs.util.promisify.custom')\n","/* replacement start */\n\nconst { Buffer } = require('buffer')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst { ObjectDefineProperty, ObjectKeys, ReflectApply } = require('./ours/primordials')\nconst {\n  promisify: { custom: customPromisify }\n} = require('./ours/util')\nconst { streamReturningOperators, promiseReturningOperators } = require('./internal/streams/operators')\nconst {\n  codes: { ERR_ILLEGAL_CONSTRUCTOR }\n} = require('./ours/errors')\nconst compose = require('./internal/streams/compose')\nconst { setDefaultHighWaterMark, getDefaultHighWaterMark } = require('./internal/streams/state')\nconst { pipeline } = require('./internal/streams/pipeline')\nconst { destroyer } = require('./internal/streams/destroy')\nconst eos = require('./internal/streams/end-of-stream')\nconst internalBuffer = {}\nconst promises = require('./stream/promises')\nconst utils = require('./internal/streams/utils')\nconst Stream = (module.exports = require('./internal/streams/legacy').Stream)\nStream.isDestroyed = utils.isDestroyed\nStream.isDisturbed = utils.isDisturbed\nStream.isErrored = utils.isErrored\nStream.isReadable = utils.isReadable\nStream.isWritable = utils.isWritable\nStream.Readable = require('./internal/streams/readable')\nfor (const key of ObjectKeys(streamReturningOperators)) {\n  const op = streamReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return Stream.Readable.from(ReflectApply(op, this, args))\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nfor (const key of ObjectKeys(promiseReturningOperators)) {\n  const op = promiseReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return ReflectApply(op, this, args)\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nStream.Writable = require('./internal/streams/writable')\nStream.Duplex = require('./internal/streams/duplex')\nStream.Transform = require('./internal/streams/transform')\nStream.PassThrough = require('./internal/streams/passthrough')\nStream.pipeline = pipeline\nconst { addAbortSignal } = require('./internal/streams/add-abort-signal')\nStream.addAbortSignal = addAbortSignal\nStream.finished = eos\nStream.destroy = destroyer\nStream.compose = compose\nStream.setDefaultHighWaterMark = setDefaultHighWaterMark\nStream.getDefaultHighWaterMark = getDefaultHighWaterMark\nObjectDefineProperty(Stream, 'promises', {\n  __proto__: null,\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nObjectDefineProperty(pipeline, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.pipeline\n  }\n})\nObjectDefineProperty(eos, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.finished\n  }\n})\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream\nStream._isUint8Array = function isUint8Array(value) {\n  return value instanceof Uint8Array\n}\nStream._uint8ArrayToBuffer = function _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength)\n}\n","'use strict'\n\nconst { ArrayPrototypePop, Promise } = require('../ours/primordials')\nconst { isIterable, isNodeStream, isWebStream } = require('../internal/streams/utils')\nconst { pipelineImpl: pl } = require('../internal/streams/pipeline')\nconst { finished } = require('../internal/streams/end-of-stream')\nrequire('../../lib/stream.js')\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal\n    let end\n    const lastArg = streams[streams.length - 1]\n    if (\n      lastArg &&\n      typeof lastArg === 'object' &&\n      !isNodeStream(lastArg) &&\n      !isIterable(lastArg) &&\n      !isWebStream(lastArg)\n    ) {\n      const options = ArrayPrototypePop(streams)\n      signal = options.signal\n      end = options.end\n    }\n    pl(\n      streams,\n      (err, value) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(value)\n        }\n      },\n      {\n        signal,\n        end\n      }\n    )\n  })\n}\nmodule.exports = {\n  finished,\n  pipeline\n}\n","'use strict'\n\nmodule.exports = require('./index.js')()\n","'use strict'\nmodule.exports = rfdc\n\nfunction copyBuffer (cur) {\n  if (cur instanceof Buffer) {\n    return Buffer.from(cur)\n  }\n\n  return new cur.constructor(cur.buffer.slice(), cur.byteOffset, cur.length)\n}\n\nfunction rfdc (opts) {\n  opts = opts || {}\n  if (opts.circles) return rfdcCircles(opts)\n\n  const constructorHandlers = new Map()\n  constructorHandlers.set(Date, (o) => new Date(o))\n  constructorHandlers.set(Map, (o, fn) => new Map(cloneArray(Array.from(o), fn)))\n  constructorHandlers.set(Set, (o, fn) => new Set(cloneArray(Array.from(o), fn)))\n  if (opts.constructorHandlers) {\n    for (const handler of opts.constructorHandlers) {\n      constructorHandlers.set(handler[0], handler[1])\n    }\n  }\n\n  let handler = null\n\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    const keys = Object.keys(a)\n    const a2 = new Array(keys.length)\n    for (let i = 0; i < keys.length; i++) {\n      const k = keys[i]\n      const cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        a2[k] = handler(cur, fn)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        a2[k] = fn(cur)\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, clone)\n    }\n    const o2 = {}\n    for (const k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, clone)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = clone(cur)\n      }\n    }\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, cloneProto)\n    }\n    const o2 = {}\n    for (const k in o) {\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, cloneProto)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = cloneProto(cur)\n      }\n    }\n    return o2\n  }\n}\n\nfunction rfdcCircles (opts) {\n  const refs = []\n  const refsNew = []\n\n  const constructorHandlers = new Map()\n  constructorHandlers.set(Date, (o) => new Date(o))\n  constructorHandlers.set(Map, (o, fn) => new Map(cloneArray(Array.from(o), fn)))\n  constructorHandlers.set(Set, (o, fn) => new Set(cloneArray(Array.from(o), fn)))\n  if (opts.constructorHandlers) {\n    for (const handler of opts.constructorHandlers) {\n      constructorHandlers.set(handler[0], handler[1])\n    }\n  }\n\n  let handler = null\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    const keys = Object.keys(a)\n    const a2 = new Array(keys.length)\n    for (let i = 0; i < keys.length; i++) {\n      const k = keys[i]\n      const cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        a2[k] = handler(cur, fn)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        const index = refs.indexOf(cur)\n        if (index !== -1) {\n          a2[k] = refsNew[index]\n        } else {\n          a2[k] = fn(cur)\n        }\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, clone)\n    }\n    const o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (const k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, clone)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        const i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = clone(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, cloneProto)\n    }\n    const o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (const k in o) {\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, cloneProto)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        const i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = cloneProto(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n}\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","export const createAddUniqueNumber = (generateUniqueNumber) => {\n    return (set) => {\n        const number = generateUniqueNumber(set);\n        set.add(number);\n        return number;\n    };\n};\n//# sourceMappingURL=add-unique-number.js.map","/*\n * The value of the constant Number.MAX_SAFE_INTEGER equals (2 ** 53 - 1) but it\n * is fairly new.\n */\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER === undefined ? 9007199254740991 : Number.MAX_SAFE_INTEGER;\nconst TWO_TO_THE_POWER_OF_TWENTY_NINE = 536870912;\nconst TWO_TO_THE_POWER_OF_THIRTY = TWO_TO_THE_POWER_OF_TWENTY_NINE * 2;\nexport const createGenerateUniqueNumber = (cache, lastNumberWeakMap) => {\n    return (collection) => {\n        const lastNumber = lastNumberWeakMap.get(collection);\n        /*\n         * Let's try the cheapest algorithm first. It might fail to produce a new\n         * number, but it is so cheap that it is okay to take the risk. Just\n         * increase the last number by one or reset it to 0 if we reached the upper\n         * bound of SMIs (which stands for small integers). When the last number is\n         * unknown it is assumed that the collection contains zero based consecutive\n         * numbers.\n         */\n        let nextNumber = lastNumber === undefined ? collection.size : lastNumber < TWO_TO_THE_POWER_OF_THIRTY ? lastNumber + 1 : 0;\n        if (!collection.has(nextNumber)) {\n            return cache(collection, nextNumber);\n        }\n        /*\n         * If there are less than half of 2 ** 30 numbers stored in the collection,\n         * the chance to generate a new random number in the range from 0 to 2 ** 30\n         * is at least 50%. It's benifitial to use only SMIs because they perform\n         * much better in any environment based on V8.\n         */\n        if (collection.size < TWO_TO_THE_POWER_OF_TWENTY_NINE) {\n            while (collection.has(nextNumber)) {\n                nextNumber = Math.floor(Math.random() * TWO_TO_THE_POWER_OF_THIRTY);\n            }\n            return cache(collection, nextNumber);\n        }\n        // Quickly check if there is a theoretical chance to generate a new number.\n        if (collection.size > MAX_SAFE_INTEGER) {\n            throw new Error('Congratulations, you created a collection of unique numbers which uses all available integers!');\n        }\n        // Otherwise use the full scale of safely usable integers.\n        while (collection.has(nextNumber)) {\n            nextNumber = Math.floor(Math.random() * MAX_SAFE_INTEGER);\n        }\n        return cache(collection, nextNumber);\n    };\n};\n//# sourceMappingURL=generate-unique-number.js.map","import { createAddUniqueNumber } from './factories/add-unique-number';\nimport { createCache } from './factories/cache';\nimport { createGenerateUniqueNumber } from './factories/generate-unique-number';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './types/index';\nconst LAST_NUMBER_WEAK_MAP = new WeakMap();\nconst cache = createCache(LAST_NUMBER_WEAK_MAP);\nconst generateUniqueNumber = createGenerateUniqueNumber(cache, LAST_NUMBER_WEAK_MAP);\nconst addUniqueNumber = createAddUniqueNumber(generateUniqueNumber);\nexport { addUniqueNumber, generateUniqueNumber };\n//# sourceMappingURL=module.js.map","export const createCache = (lastNumberWeakMap) => {\n    return (collection, nextNumber) => {\n        lastNumberWeakMap.set(collection, nextNumber);\n        return nextNumber;\n    };\n};\n//# sourceMappingURL=cache.js.map","import { load } from 'worker-timers-broker';\nimport { createLoadOrReturnBroker } from './factories/load-or-return-broker';\nimport { worker } from './worker/worker';\nconst loadOrReturnBroker = createLoadOrReturnBroker(load, worker);\nexport const clearInterval = (timerId) => loadOrReturnBroker().clearInterval(timerId);\nexport const clearTimeout = (timerId) => loadOrReturnBroker().clearTimeout(timerId);\nexport const setInterval = (...args) => loadOrReturnBroker().setInterval(...args);\nexport const setTimeout = (...args) => loadOrReturnBroker().setTimeout(...args);\n//# sourceMappingURL=module.js.map","export const createLoadOrReturnBroker = (loadBroker, worker) => {\n    let broker = null;\n    return () => {\n        if (broker !== null) {\n            return broker;\n        }\n        const blob = new Blob([worker], { type: 'application/javascript; charset=utf-8' });\n        const url = URL.createObjectURL(blob);\n        broker = loadBroker(url);\n        // Bug #1: Edge up until v18 didn't like the URL to be revoked directly.\n        setTimeout(() => URL.revokeObjectURL(url));\n        return broker;\n    };\n};\n//# sourceMappingURL=load-or-return-broker.js.map","import { generateUniqueNumber } from 'fast-unique-numbers';\nimport { isCallNotification } from './guards/call-notification';\nimport { isClearResponse } from './guards/clear-response';\nexport const load = (url) => {\n    // Prefilling the Maps with a function indexed by zero is necessary to be compliant with the specification.\n    const scheduledIntervalFunctions = new Map([[0, () => { }]]); // tslint:disable-line no-empty\n    const scheduledTimeoutFunctions = new Map([[0, () => { }]]); // tslint:disable-line no-empty\n    const unrespondedRequests = new Map();\n    const worker = new Worker(url);\n    worker.addEventListener('message', ({ data }) => {\n        if (isCallNotification(data)) {\n            const { params: { timerId, timerType } } = data;\n            if (timerType === 'interval') {\n                const idOrFunc = scheduledIntervalFunctions.get(timerId);\n                if (typeof idOrFunc === 'number') {\n                    const timerIdAndTimerType = unrespondedRequests.get(idOrFunc);\n                    if (timerIdAndTimerType === undefined ||\n                        timerIdAndTimerType.timerId !== timerId ||\n                        timerIdAndTimerType.timerType !== timerType) {\n                        throw new Error('The timer is in an undefined state.');\n                    }\n                }\n                else if (typeof idOrFunc !== 'undefined') {\n                    idOrFunc();\n                }\n                else {\n                    throw new Error('The timer is in an undefined state.');\n                }\n            }\n            else if (timerType === 'timeout') {\n                const idOrFunc = scheduledTimeoutFunctions.get(timerId);\n                if (typeof idOrFunc === 'number') {\n                    const timerIdAndTimerType = unrespondedRequests.get(idOrFunc);\n                    if (timerIdAndTimerType === undefined ||\n                        timerIdAndTimerType.timerId !== timerId ||\n                        timerIdAndTimerType.timerType !== timerType) {\n                        throw new Error('The timer is in an undefined state.');\n                    }\n                }\n                else if (typeof idOrFunc !== 'undefined') {\n                    idOrFunc();\n                    // A timeout can be savely deleted because it is only called once.\n                    scheduledTimeoutFunctions.delete(timerId);\n                }\n                else {\n                    throw new Error('The timer is in an undefined state.');\n                }\n            }\n        }\n        else if (isClearResponse(data)) {\n            const { id } = data;\n            const timerIdAndTimerType = unrespondedRequests.get(id);\n            if (timerIdAndTimerType === undefined) {\n                throw new Error('The timer is in an undefined state.');\n            }\n            const { timerId, timerType } = timerIdAndTimerType;\n            unrespondedRequests.delete(id);\n            if (timerType === 'interval') {\n                scheduledIntervalFunctions.delete(timerId);\n            }\n            else {\n                scheduledTimeoutFunctions.delete(timerId);\n            }\n        }\n        else {\n            const { error: { message } } = data;\n            throw new Error(message);\n        }\n    });\n    const clearInterval = (timerId) => {\n        const id = generateUniqueNumber(unrespondedRequests);\n        unrespondedRequests.set(id, { timerId, timerType: 'interval' });\n        scheduledIntervalFunctions.set(timerId, id);\n        worker.postMessage({\n            id,\n            method: 'clear',\n            params: { timerId, timerType: 'interval' }\n        });\n    };\n    const clearTimeout = (timerId) => {\n        const id = generateUniqueNumber(unrespondedRequests);\n        unrespondedRequests.set(id, { timerId, timerType: 'timeout' });\n        scheduledTimeoutFunctions.set(timerId, id);\n        worker.postMessage({\n            id,\n            method: 'clear',\n            params: { timerId, timerType: 'timeout' }\n        });\n    };\n    const setInterval = (func, delay = 0) => {\n        const timerId = generateUniqueNumber(scheduledIntervalFunctions);\n        scheduledIntervalFunctions.set(timerId, () => {\n            func();\n            // Doublecheck if the interval should still be rescheduled because it could have been cleared inside of func().\n            if (typeof scheduledIntervalFunctions.get(timerId) === 'function') {\n                worker.postMessage({\n                    id: null,\n                    method: 'set',\n                    params: {\n                        delay,\n                        now: performance.now(),\n                        timerId,\n                        timerType: 'interval'\n                    }\n                });\n            }\n        });\n        worker.postMessage({\n            id: null,\n            method: 'set',\n            params: {\n                delay,\n                now: performance.now(),\n                timerId,\n                timerType: 'interval'\n            }\n        });\n        return timerId;\n    };\n    const setTimeout = (func, delay = 0) => {\n        const timerId = generateUniqueNumber(scheduledTimeoutFunctions);\n        scheduledTimeoutFunctions.set(timerId, func);\n        worker.postMessage({\n            id: null,\n            method: 'set',\n            params: {\n                delay,\n                now: performance.now(),\n                timerId,\n                timerType: 'timeout'\n            }\n        });\n        return timerId;\n    };\n    return {\n        clearInterval,\n        clearTimeout,\n        setInterval,\n        setTimeout\n    };\n};\n//# sourceMappingURL=module.js.map","export const isCallNotification = (message) => {\n    return message.method !== undefined && message.method === 'call';\n};\n//# sourceMappingURL=call-notification.js.map","export const isClearResponse = (message) => {\n    return message.error === null && typeof message.id === 'number';\n};\n//# sourceMappingURL=clear-response.js.map","// This is the minified and stringified code of the worker-timers-worker package.\nexport const worker = `(()=>{\"use strict\";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:\"call\",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener(\"message\",(i=>{let{data:s}=i;try{if(\"clear\"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if(\"interval\"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id \"'.concat(t,'\".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if(\"timeout\"!==i)throw new Error('The given type \"'.concat(i,'\" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id \"'.concat(e,'\".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if(\"set\"!==s.method)throw new Error('The given method \"'.concat(s.method,'\" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if(\"interval\"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,\"interval\"))})(i,a,n);else{if(\"timeout\"!==d)throw new Error('The given type \"'.concat(d,'\" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,\"timeout\"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`; // tslint:disable-line:max-line-length\n//# sourceMappingURL=worker.js.map","'use strict';\n\nconst WebSocket = require('./lib/websocket');\n\nWebSocket.createWebSocketStream = require('./lib/stream');\nWebSocket.Server = require('./lib/websocket-server');\nWebSocket.Receiver = require('./lib/receiver');\nWebSocket.Sender = require('./lib/sender');\n\nWebSocket.WebSocket = WebSocket;\nWebSocket.WebSocketServer = WebSocket.Server;\n\nmodule.exports = WebSocket;\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) {\n    return new FastBuffer(target.buffer, target.byteOffset, offset);\n  }\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.length === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = new FastBuffer(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = new FastBuffer(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nconst BINARY_TYPES = ['nodebuffer', 'arraybuffer', 'fragments'];\nconst hasBlob = typeof Blob !== 'undefined';\n\nif (hasBlob) BINARY_TYPES.push('blob');\n\nmodule.exports = {\n  BINARY_TYPES,\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  hasBlob,\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) {\n        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n      }\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst FastBuffer = Buffer[Symbol.species];\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\nconst DEFER_EVENT = 6;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._allowSynchronousEvents =\n      options.allowSynchronousEvents !== undefined\n        ? options.allowSynchronousEvents\n        : true;\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._errored = false;\n    this._loop = false;\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = new FastBuffer(\n        buf.buffer,\n        buf.byteOffset + n,\n        buf.length - n\n      );\n\n      return new FastBuffer(buf.buffer, buf.byteOffset, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = new FastBuffer(\n          buf.buffer,\n          buf.byteOffset + n,\n          buf.length - n\n        );\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          this.getInfo(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          this.getPayloadLength16(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          this.getPayloadLength64(cb);\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          this.getData(cb);\n          break;\n        case INFLATING:\n        case DEFER_EVENT:\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    if (!this._errored) cb();\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getInfo(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      const error = this.createError(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n\n      cb(error);\n      return;\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      const error = this.createError(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (!this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        const error = this.createError(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (\n        this._payloadLength > 0x7d ||\n        (this._opcode === 0x08 && this._payloadLength === 1)\n      ) {\n        const error = this.createError(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    } else {\n      const error = this.createError(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        const error = this.createError(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n\n        cb(error);\n        return;\n      }\n    } else if (this._masked) {\n      const error = this.createError(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength16(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength64(cb) {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      const error = this.createError(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  haveLength(cb) {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        const error = this.createError(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) {\n      this.controlMessage(data, cb);\n      return;\n    }\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    this.dataMessage(cb);\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          const error = this.createError(\n            RangeError,\n            'Max payload size exceeded',\n            false,\n            1009,\n            'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._fragments.push(buf);\n      }\n\n      this.dataMessage(cb);\n      if (this._state === GET_INFO) this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  dataMessage(cb) {\n    if (!this._fin) {\n      this._state = GET_INFO;\n      return;\n    }\n\n    const messageLength = this._messageLength;\n    const fragments = this._fragments;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragmented = 0;\n    this._fragments = [];\n\n    if (this._opcode === 2) {\n      let data;\n\n      if (this._binaryType === 'nodebuffer') {\n        data = concat(fragments, messageLength);\n      } else if (this._binaryType === 'arraybuffer') {\n        data = toArrayBuffer(concat(fragments, messageLength));\n      } else if (this._binaryType === 'blob') {\n        data = new Blob(fragments);\n      } else {\n        data = fragments;\n      }\n\n      if (this._allowSynchronousEvents) {\n        this.emit('message', data, true);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', data, true);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    } else {\n      const buf = concat(fragments, messageLength);\n\n      if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n        const error = this.createError(\n          Error,\n          'invalid UTF-8 sequence',\n          true,\n          1007,\n          'WS_ERR_INVALID_UTF8'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (this._state === INFLATING || this._allowSynchronousEvents) {\n        this.emit('message', buf, false);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', buf, false);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    }\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data, cb) {\n    if (this._opcode === 0x08) {\n      if (data.length === 0) {\n        this._loop = false;\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          const error = this.createError(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n\n          cb(error);\n          return;\n        }\n\n        const buf = new FastBuffer(\n          data.buffer,\n          data.byteOffset + 2,\n          data.length - 2\n        );\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          const error = this.createError(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._loop = false;\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n\n      this._state = GET_INFO;\n      return;\n    }\n\n    if (this._allowSynchronousEvents) {\n      this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n      this._state = GET_INFO;\n    } else {\n      this._state = DEFER_EVENT;\n      setImmediate(() => {\n        this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n        this._state = GET_INFO;\n        this.startLoop(cb);\n      });\n    }\n  }\n\n  /**\n   * Builds an error object.\n   *\n   * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n   * @param {String} message The error message\n   * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n   *     `message`\n   * @param {Number} statusCode The status code\n   * @param {String} errorCode The exposed error code\n   * @return {(Error|RangeError)} The error\n   * @private\n   */\n  createError(ErrorCtor, message, prefix, statusCode, errorCode) {\n    this._loop = false;\n    this._errored = true;\n\n    const err = new ErrorCtor(\n      prefix ? `Invalid WebSocket frame: ${message}` : message\n    );\n\n    Error.captureStackTrace(err, this.createError);\n    err.code = errorCode;\n    err[kStatusCode] = statusCode;\n    return err;\n  }\n}\n\nmodule.exports = Receiver;\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex\" }] */\n\n'use strict';\n\nconst { Duplex } = require('stream');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER, kWebSocket, NOOP } = require('./constants');\nconst { isBlob, isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\nconst RANDOM_POOL_SIZE = 8 * 1024;\nlet randomPool;\nlet randomPoolPointer = RANDOM_POOL_SIZE;\n\nconst DEFAULT = 0;\nconst DEFLATING = 1;\nconst GET_BLOB_DATA = 2;\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {Duplex} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._queue = [];\n    this._state = DEFAULT;\n    this.onerror = NOOP;\n    this[kWebSocket] = undefined;\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        if (randomPoolPointer === RANDOM_POOL_SIZE) {\n          /* istanbul ignore else  */\n          if (randomPool === undefined) {\n            //\n            // This is lazily initialized because server-sent frames must not\n            // be masked so it may never be used.\n            //\n            randomPool = Buffer.alloc(RANDOM_POOL_SIZE);\n          }\n\n          randomFillSync(randomPool, 0, RANDOM_POOL_SIZE);\n          randomPoolPointer = 0;\n        }\n\n        mask[0] = randomPool[randomPoolPointer++];\n        mask[1] = randomPool[randomPoolPointer++];\n        mask[2] = randomPool[randomPoolPointer++];\n        mask[3] = randomPool[randomPoolPointer++];\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    const opts = {\n      [kByteLength]: byteLength,\n      fin: options.fin,\n      generateMask: this._generateMask,\n      mask: options.mask,\n      maskBuffer: this._maskBuffer,\n      opcode,\n      readOnly,\n      rsv1\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, this._compress, opts, cb]);\n      } else {\n        this.getBlobData(data, this._compress, opts, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n    } else {\n      this.dispatch(data, this._compress, opts, cb);\n    }\n  }\n\n  /**\n   * Gets the contents of a blob as binary data.\n   *\n   * @param {Blob} blob The blob\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     the data\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  getBlobData(blob, compress, options, cb) {\n    this._bufferedBytes += options[kByteLength];\n    this._state = GET_BLOB_DATA;\n\n    blob\n      .arrayBuffer()\n      .then((arrayBuffer) => {\n        if (this._socket.destroyed) {\n          const err = new Error(\n            'The socket was closed while the blob was being read'\n          );\n\n          //\n          // `callCallbacks` is called in the next tick to ensure that errors\n          // that might be thrown in the callbacks behave like errors thrown\n          // outside the promise chain.\n          //\n          process.nextTick(callCallbacks, this, err, cb);\n          return;\n        }\n\n        this._bufferedBytes -= options[kByteLength];\n        const data = toBuffer(arrayBuffer);\n\n        if (!compress) {\n          this._state = DEFAULT;\n          this.sendFrame(Sender.frame(data, options), cb);\n          this.dequeue();\n        } else {\n          this.dispatch(data, compress, options, cb);\n        }\n      })\n      .catch((err) => {\n        //\n        // `onError` is called in the next tick for the same reason that\n        // `callCallbacks` above is.\n        //\n        process.nextTick(onError, this, err, cb);\n      });\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._state = DEFLATING;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        callCallbacks(this, err, cb);\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._state = DEFAULT;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (this._state === DEFAULT && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n\n/**\n * Calls queued callbacks with an error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error to call the callbacks with\n * @param {Function} [cb] The first callback\n * @private\n */\nfunction callCallbacks(sender, err, cb) {\n  if (typeof cb === 'function') cb(err);\n\n  for (let i = 0; i < sender._queue.length; i++) {\n    const params = sender._queue[i];\n    const callback = params[params.length - 1];\n\n    if (typeof callback === 'function') callback(err);\n  }\n}\n\n/**\n * Handles a `Sender` error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error\n * @param {Function} [cb] The first pending callback\n * @private\n */\nfunction onError(sender, err, cb) {\n  callCallbacks(sender, err, cb);\n  sender.onerror(err);\n}\n","'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","'use strict';\n\nconst { isUtf8 } = require('buffer');\n\nconst { hasBlob } = require('./constants');\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Determines whether a value is a `Blob`.\n *\n * @param {*} value The value to be tested\n * @return {Boolean} `true` if `value` is a `Blob`, else `false`\n * @private\n */\nfunction isBlob(value) {\n  return (\n    hasBlob &&\n    typeof value === 'object' &&\n    typeof value.arrayBuffer === 'function' &&\n    typeof value.type === 'string' &&\n    typeof value.stream === 'function' &&\n    (value[Symbol.toStringTag] === 'Blob' ||\n      value[Symbol.toStringTag] === 'File')\n  );\n}\n\nmodule.exports = {\n  isBlob,\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\nif (isUtf8) {\n  module.exports.isValidUTF8 = function (buf) {\n    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\n  };\n} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst { Duplex } = require('stream');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n   *     automatically send a pong in response to a ping\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      allowSynchronousEvents: true,\n      autoPong: true,\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const upgrade = req.headers.upgrade;\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (key === undefined || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null, undefined, this.options);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      allowSynchronousEvents: this.options.allowSynchronousEvents,\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex|Readable$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Duplex, Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst { isBlob } = require('./validation');\n\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._errorEmitted = false;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._autoPong = options.autoPong;\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * For historical reasons, the custom \"nodebuffer\" type is used by the default\n   * instead of \"blob\".\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Boolean} [options.allowSynchronousEvents=false] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      allowSynchronousEvents: options.allowSynchronousEvents,\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    const sender = new Sender(socket, this._extensions, options.generateMask);\n\n    this._receiver = receiver;\n    this._sender = sender;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    sender[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    sender.onerror = senderOnError;\n\n    //\n    // These methods may not be available if `socket` is just a `Duplex`.\n    //\n    if (socket.setTimeout) socket.setTimeout(0);\n    if (socket.setNoDelay) socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    setCloseTimer(this);\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether any\n *     of the `'message'`, `'ping'`, and `'pong'` events can be emitted multiple\n *     times in the same tick\n * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n *     automatically send a pong in response to a ping\n * @param {Function} [options.finishRequest] A function which can be used to\n *     customize the headers of each http request before it is sent\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    allowSynchronousEvents: true,\n    autoPong: true,\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  websocket._autoPong = opts.autoPong;\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n  }\n\n  if (parsedUrl.protocol === 'http:') {\n    parsedUrl.protocol = 'ws:';\n  } else if (parsedUrl.protocol === 'https:') {\n    parsedUrl.protocol = 'wss:';\n  }\n\n  websocket._url = parsedUrl.href;\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", ' +\n      '\"http:\", \"https\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection =\n    opts.createConnection || (isSecure ? tlsConnect : netConnect);\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n          ? false\n          : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    const upgrade = res.headers.upgrade;\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      allowSynchronousEvents: opts.allowSynchronousEvents,\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  if (opts.finishRequest) {\n    opts.finishRequest(req, websocket);\n  } else {\n    req.end();\n  }\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  //\n  // The following assignment is practically useless and is done only for\n  // consistency.\n  //\n  websocket._errorEmitted = true;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = isBlob(data) ? data.size : toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    process.nextTick(cb, err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._autoPong) websocket.pong(data, !this._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The `Sender` error event handler.\n *\n * @param {Error} The error\n * @private\n */\nfunction senderOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket.readyState === WebSocket.CLOSED) return;\n  if (websocket.readyState === WebSocket.OPEN) {\n    websocket._readyState = WebSocket.CLOSING;\n    setCloseTimer(websocket);\n  }\n\n  //\n  // `socket.end()` is used instead of `socket.destroy()` to allow the other\n  // peer to finish sending queued data. There is no need to set a timer here\n  // because `CLOSING` means that it is already set or not needed.\n  //\n  this._socket.end();\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * Set a timer to destroy the underlying raw socket of a WebSocket.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @private\n */\nfunction setCloseTimer(websocket) {\n  websocket._closeTimer = setTimeout(\n    websocket._socket.destroy.bind(websocket._socket),\n    closeTimeout\n  );\n}\n\n/**\n * The listener of the socket `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the socket `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the socket `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the socket `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst index_1 = require(\"../types/gen/index\");\nconst module_1 = require(\"module\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = exports.sdk.deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = exports.sdk.deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = exports.sdk.deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = exports.sdk.systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = exports.sdk.deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = exports.sdk.deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (exports.sdk.deviceManager.getMixinConsole)\n                this._console = exports.sdk.deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = exports.sdk.deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let loaded = false;\n    try {\n        // todo: remove usage of process.env.SCRYPTED_SDK_MODULE, only existed in prerelease builds.\n        // import.meta is not a reliable way to detect es module support in webpack since webpack\n        // evaluates that to true at runtime.\n        const esModule = process.env.SCRYPTED_SDK_ES_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        const cjsModule = process.env.SCRYPTED_SDK_CJS_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        // @ts-expect-error\n        if (esModule && typeof import.meta !== 'undefined') {\n            // @ts-expect-error\n            const require = (0, module_1.createRequire)(import.meta.url);\n            const sdkModule = require(esModule);\n            Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n            loaded = true;\n        }\n        else if (cjsModule) {\n            // @ts-expect-error\n            if (typeof __non_webpack_require__ !== 'undefined') {\n                // @ts-expect-error\n                const sdkModule = __non_webpack_require__(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n            else {\n                const sdkModule = require(cjsModule);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n        }\n    }\n    catch (e) {\n        console.warn(\"failed to load sdk module\", e);\n        throw e;\n    }\n    if (!loaded) {\n        let runtimeAPI;\n        try {\n            runtimeAPI = pluginRuntimeAPI;\n        }\n        catch (e) {\n        }\n        Object.assign(exports.sdk, {\n            log: deviceManager.getDeviceLogger(undefined),\n            deviceManager,\n            endpointManager,\n            mediaManager,\n            systemManager,\n            pluginHostAPI,\n            ...runtimeAPI,\n        });\n    }\n    try {\n        exports.sdk.systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, index_1.ScryptedInterfaceDescriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingsMixinDeviceBase = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { deviceManager } = _1.default;\nclass SettingsMixinDeviceBase extends _1.MixinDeviceBase {\n    constructor(options) {\n        super(options);\n        this.settingsGroup = options.group;\n        this.settingsGroupKey = options.groupKey;\n        process.nextTick(() => deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null));\n    }\n    async getSettings() {\n        const settingsPromise = this.mixinDeviceInterfaces.includes(_1.ScryptedInterface.Settings) ? this.mixinDevice.getSettings() : undefined;\n        const mixinSettingsPromise = this.getMixinSettings();\n        const allSettings = [];\n        try {\n            const settings = (await settingsPromise) || [];\n            allSettings.push(...settings);\n        }\n        catch (e) {\n            const name = this.name;\n            const description = `${name} Extension settings failed to load.`;\n            this.console.error(description, e);\n            allSettings.push({\n                key: Math.random().toString(),\n                title: name,\n                value: 'Settings Error',\n                group: 'Errors',\n                description,\n                readonly: true,\n            });\n        }\n        try {\n            const mixinSettings = (await mixinSettingsPromise) || [];\n            for (const setting of mixinSettings) {\n                setting.group = setting.group || this.settingsGroup;\n                setting.key = this.settingsGroupKey + ':' + setting.key;\n            }\n            allSettings.push(...mixinSettings);\n        }\n        catch (e) {\n            const name = deviceManager.getDeviceState(this.mixinProviderNativeId).name;\n            const description = `${name} Extension settings failed to load.`;\n            this.console.error(description, e);\n            allSettings.push({\n                key: Math.random().toString(),\n                title: name,\n                value: 'Settings Error',\n                group: 'Errors',\n                description,\n                readonly: true,\n            });\n        }\n        return allSettings;\n    }\n    async putSetting(key, value) {\n        const prefix = this.settingsGroupKey + ':';\n        if (!key?.startsWith(prefix)) {\n            return this.mixinDevice.putSetting(key, value);\n        }\n        if (!await this.putMixinSetting(key.substring(prefix.length), value))\n            deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null);\n    }\n    async release() {\n        await deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null);\n    }\n}\nexports.SettingsMixinDeviceBase = SettingsMixinDeviceBase;\n//# sourceMappingURL=settings-mixin.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageSettings = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { systemManager } = _1.default;\nfunction parseValue(value, setting, readDefaultValue, rawDevice) {\n    if (value === null || value === undefined) {\n        return readDefaultValue();\n    }\n    const type = setting.multiple ? 'array' : setting.type;\n    if (type === 'boolean') {\n        if (value === 'true')\n            return true;\n        if (value === 'false')\n            return false;\n        return readDefaultValue() || false;\n    }\n    if (type === 'number') {\n        const n = parseFloat(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'integer') {\n        const n = parseInt(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'array') {\n        if (!value)\n            return readDefaultValue() || [];\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue() || [];\n        }\n    }\n    if (type === 'device') {\n        if (rawDevice)\n            return value;\n        return systemManager.getDeviceById(value) || systemManager.getDeviceById(readDefaultValue());\n    }\n    // string type, so check if it is json.\n    if (value && setting.json) {\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue();\n        }\n    }\n    return value || readDefaultValue();\n}\nclass StorageSettings {\n    constructor(device, settings) {\n        this.device = device;\n        this.settings = settings;\n        this.values = {};\n        this.hasValue = {};\n        for (const key of Object.keys(settings)) {\n            const setting = settings[key];\n            const rawGet = () => this.getItem(key);\n            let get;\n            if (setting.type !== 'clippath') {\n                get = rawGet;\n            }\n            else {\n                // maybe need a mapPut. clippath is the only complex type at the moment.\n                get = () => {\n                    try {\n                        return JSON.parse(rawGet());\n                    }\n                    catch (e) {\n                    }\n                };\n            }\n            Object.defineProperty(this.values, key, {\n                get,\n                set: value => this.putSetting(key, value),\n                enumerable: true,\n            });\n            Object.defineProperty(this.hasValue, key, {\n                get: () => this.device.storage.getItem(key) != null,\n                enumerable: true,\n            });\n        }\n    }\n    get keys() {\n        const ret = {};\n        for (const key of Object.keys(this.settings)) {\n            ret[key] = key;\n        }\n        return ret;\n    }\n    async getSettings() {\n        const onGet = await this.options?.onGet?.();\n        const ret = [];\n        for (const [key, setting] of Object.entries(this.settings)) {\n            let s = Object.assign({}, setting);\n            if (onGet?.[key])\n                s = Object.assign(s, onGet[key]);\n            if (s.onGet)\n                s = Object.assign(s, await s.onGet());\n            if (s.hide || await this.options?.hide?.[key]?.())\n                continue;\n            s.key = key;\n            s.value = this.getItemInternal(key, s, true);\n            if (typeof s.deviceFilter === 'function')\n                s.deviceFilter = s.deviceFilter.toString();\n            ret.push(s);\n            delete s.onPut;\n            delete s.onGet;\n            delete s.mapPut;\n            delete s.mapGet;\n        }\n        return ret;\n    }\n    async putSetting(key, value) {\n        const setting = this.settings[key];\n        let oldValue;\n        if (setting)\n            oldValue = this.getItemInternal(key, setting);\n        return this.putSettingInternal(setting, oldValue, key, value);\n    }\n    putSettingInternal(setting, oldValue, key, value) {\n        if (!setting?.noStore) {\n            if (setting?.mapPut)\n                value = setting.mapPut(oldValue, value);\n            // nullish values should be removed, since Storage can't persist them correctly.\n            if (value == null)\n                this.device.storage.removeItem(key);\n            else if (typeof value === 'object')\n                this.device.storage.setItem(key, JSON.stringify(value));\n            else\n                this.device.storage.setItem(key, value?.toString());\n        }\n        setting?.onPut?.(oldValue, value);\n        if (!setting?.hide)\n            this.device.onDeviceEvent(_1.ScryptedInterface.Settings, undefined);\n    }\n    getItemInternal(key, setting, rawDevice) {\n        if (!setting)\n            return this.device.storage.getItem(key);\n        const readDefaultValue = () => {\n            if (setting.persistedDefaultValue != null) {\n                this.putSettingInternal(setting, undefined, key, setting.persistedDefaultValue);\n                return setting.persistedDefaultValue;\n            }\n            return setting.defaultValue;\n        };\n        const ret = parseValue(this.device.storage.getItem(key), setting, readDefaultValue, rawDevice);\n        return setting.mapGet ? setting.mapGet(ret) : ret;\n    }\n    getItem(key) {\n        return this.getItemInternal(key, this.settings[key]);\n    }\n}\nexports.StorageSettings = StorageSettings;\n//# sourceMappingURL=storage-settings.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 3891;\nmodule.exports = webpackEmptyContext;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.3.113\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"buttons\"] = \"buttons\";\n    ScryptedInterfaceProperty[\"sensors\"] = \"sensors\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"sleeping\"] = \"sleeping\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"pressButton\"] = \"pressButton\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getVideoTextOverlays\"] = \"getVideoTextOverlays\";\n    ScryptedInterfaceMethod[\"setVideoTextOverlay\"] = \"setVideoTextOverlay\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"forkInterface\"] = \"forkInterface\";\n    ScryptedInterfaceMethod[\"trackObjects\"] = \"trackObjects\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    \"ScryptedDevice\": {\n        \"name\": \"ScryptedDevice\",\n        \"methods\": [\n            \"listen\",\n            \"probe\",\n            \"setMixins\",\n            \"setName\",\n            \"setRoom\",\n            \"setType\"\n        ],\n        \"properties\": [\n            \"id\",\n            \"info\",\n            \"interfaces\",\n            \"mixins\",\n            \"name\",\n            \"nativeId\",\n            \"pluginId\",\n            \"providedInterfaces\",\n            \"providedName\",\n            \"providedRoom\",\n            \"providedType\",\n            \"providerId\",\n            \"room\",\n            \"type\"\n        ]\n    },\n    \"ScryptedPlugin\": {\n        \"name\": \"ScryptedPlugin\",\n        \"methods\": [\n            \"getPluginJson\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedPluginRuntime\": {\n        \"name\": \"ScryptedPluginRuntime\",\n        \"methods\": [],\n        \"properties\": [\n            \"scryptedRuntimeArguments\"\n        ]\n    },\n    \"OnOff\": {\n        \"name\": \"OnOff\",\n        \"methods\": [\n            \"turnOff\",\n            \"turnOn\"\n        ],\n        \"properties\": [\n            \"on\"\n        ]\n    },\n    \"Brightness\": {\n        \"name\": \"Brightness\",\n        \"methods\": [\n            \"setBrightness\"\n        ],\n        \"properties\": [\n            \"brightness\"\n        ]\n    },\n    \"ColorSettingTemperature\": {\n        \"name\": \"ColorSettingTemperature\",\n        \"methods\": [\n            \"getTemperatureMaxK\",\n            \"getTemperatureMinK\",\n            \"setColorTemperature\"\n        ],\n        \"properties\": [\n            \"colorTemperature\"\n        ]\n    },\n    \"ColorSettingRgb\": {\n        \"name\": \"ColorSettingRgb\",\n        \"methods\": [\n            \"setRgb\"\n        ],\n        \"properties\": [\n            \"rgb\"\n        ]\n    },\n    \"ColorSettingHsv\": {\n        \"name\": \"ColorSettingHsv\",\n        \"methods\": [\n            \"setHsv\"\n        ],\n        \"properties\": [\n            \"hsv\"\n        ]\n    },\n    \"Buttons\": {\n        \"name\": \"Buttons\",\n        \"methods\": [],\n        \"properties\": [\n            \"buttons\"\n        ]\n    },\n    \"PressButtons\": {\n        \"name\": \"PressButtons\",\n        \"methods\": [\n            \"pressButton\"\n        ],\n        \"properties\": []\n    },\n    \"Sensors\": {\n        \"name\": \"Sensors\",\n        \"methods\": [],\n        \"properties\": [\n            \"sensors\"\n        ]\n    },\n    \"Notifier\": {\n        \"name\": \"Notifier\",\n        \"methods\": [\n            \"sendNotification\"\n        ],\n        \"properties\": []\n    },\n    \"StartStop\": {\n        \"name\": \"StartStop\",\n        \"methods\": [\n            \"start\",\n            \"stop\"\n        ],\n        \"properties\": [\n            \"running\"\n        ]\n    },\n    \"Pause\": {\n        \"name\": \"Pause\",\n        \"methods\": [\n            \"pause\",\n            \"resume\"\n        ],\n        \"properties\": [\n            \"paused\"\n        ]\n    },\n    \"Dock\": {\n        \"name\": \"Dock\",\n        \"methods\": [\n            \"dock\"\n        ],\n        \"properties\": [\n            \"docked\"\n        ]\n    },\n    \"TemperatureSetting\": {\n        \"name\": \"TemperatureSetting\",\n        \"methods\": [\n            \"setTemperature\"\n        ],\n        \"properties\": [\n            \"temperatureSetting\"\n        ]\n    },\n    \"Thermometer\": {\n        \"name\": \"Thermometer\",\n        \"methods\": [\n            \"setTemperatureUnit\"\n        ],\n        \"properties\": [\n            \"temperature\",\n            \"temperatureUnit\"\n        ]\n    },\n    \"HumiditySensor\": {\n        \"name\": \"HumiditySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"humidity\"\n        ]\n    },\n    \"Camera\": {\n        \"name\": \"Camera\",\n        \"methods\": [\n            \"getPictureOptions\",\n            \"takePicture\"\n        ],\n        \"properties\": []\n    },\n    \"Microphone\": {\n        \"name\": \"Microphone\",\n        \"methods\": [\n            \"getAudioStream\"\n        ],\n        \"properties\": []\n    },\n    \"AudioVolumeControl\": {\n        \"name\": \"AudioVolumeControl\",\n        \"methods\": [\n            \"setAudioVolumes\"\n        ],\n        \"properties\": [\n            \"audioVolumes\"\n        ]\n    },\n    \"Display\": {\n        \"name\": \"Display\",\n        \"methods\": [\n            \"startDisplay\",\n            \"stopDisplay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCamera\": {\n        \"name\": \"VideoCamera\",\n        \"methods\": [\n            \"getVideoStream\",\n            \"getVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraMask\": {\n        \"name\": \"VideoCameraMask\",\n        \"methods\": [\n            \"getPrivacyMasks\",\n            \"setPrivacyMasks\"\n        ],\n        \"properties\": []\n    },\n    \"VideoTextOverlays\": {\n        \"name\": \"VideoTextOverlays\",\n        \"methods\": [\n            \"getVideoTextOverlays\",\n            \"setVideoTextOverlay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoRecorder\": {\n        \"name\": \"VideoRecorder\",\n        \"methods\": [\n            \"getRecordingStream\",\n            \"getRecordingStreamCurrentTime\",\n            \"getRecordingStreamOptions\",\n            \"getRecordingStreamThumbnail\"\n        ],\n        \"properties\": [\n            \"recordingActive\"\n        ]\n    },\n    \"VideoRecorderManagement\": {\n        \"name\": \"VideoRecorderManagement\",\n        \"methods\": [\n            \"deleteRecordingStream\",\n            \"setRecordingActive\"\n        ],\n        \"properties\": []\n    },\n    \"PanTiltZoom\": {\n        \"name\": \"PanTiltZoom\",\n        \"methods\": [\n            \"ptzCommand\"\n        ],\n        \"properties\": [\n            \"ptzCapabilities\"\n        ]\n    },\n    \"EventRecorder\": {\n        \"name\": \"EventRecorder\",\n        \"methods\": [\n            \"getRecordedEvents\"\n        ],\n        \"properties\": []\n    },\n    \"VideoClips\": {\n        \"name\": \"VideoClips\",\n        \"methods\": [\n            \"getVideoClip\",\n            \"getVideoClips\",\n            \"getVideoClipThumbnail\",\n            \"removeVideoClips\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraConfiguration\": {\n        \"name\": \"VideoCameraConfiguration\",\n        \"methods\": [\n            \"setVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"Intercom\": {\n        \"name\": \"Intercom\",\n        \"methods\": [\n            \"startIntercom\",\n            \"stopIntercom\"\n        ],\n        \"properties\": []\n    },\n    \"Lock\": {\n        \"name\": \"Lock\",\n        \"methods\": [\n            \"lock\",\n            \"unlock\"\n        ],\n        \"properties\": [\n            \"lockState\"\n        ]\n    },\n    \"PasswordStore\": {\n        \"name\": \"PasswordStore\",\n        \"methods\": [\n            \"addPassword\",\n            \"getPasswords\",\n            \"removePassword\"\n        ],\n        \"properties\": []\n    },\n    \"Scene\": {\n        \"name\": \"Scene\",\n        \"methods\": [\n            \"activate\",\n            \"deactivate\",\n            \"isReversible\"\n        ],\n        \"properties\": []\n    },\n    \"Entry\": {\n        \"name\": \"Entry\",\n        \"methods\": [\n            \"closeEntry\",\n            \"openEntry\"\n        ],\n        \"properties\": []\n    },\n    \"EntrySensor\": {\n        \"name\": \"EntrySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"entryOpen\"\n        ]\n    },\n    \"DeviceProvider\": {\n        \"name\": \"DeviceProvider\",\n        \"methods\": [\n            \"getDevice\",\n            \"releaseDevice\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceDiscovery\": {\n        \"name\": \"DeviceDiscovery\",\n        \"methods\": [\n            \"adoptDevice\",\n            \"discoverDevices\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceCreator\": {\n        \"name\": \"DeviceCreator\",\n        \"methods\": [\n            \"createDevice\",\n            \"getCreateDeviceSettings\"\n        ],\n        \"properties\": []\n    },\n    \"Battery\": {\n        \"name\": \"Battery\",\n        \"methods\": [],\n        \"properties\": [\n            \"batteryLevel\"\n        ]\n    },\n    \"Charger\": {\n        \"name\": \"Charger\",\n        \"methods\": [],\n        \"properties\": [\n            \"chargeState\"\n        ]\n    },\n    \"Reboot\": {\n        \"name\": \"Reboot\",\n        \"methods\": [\n            \"reboot\"\n        ],\n        \"properties\": []\n    },\n    \"Refresh\": {\n        \"name\": \"Refresh\",\n        \"methods\": [\n            \"getRefreshFrequency\",\n            \"refresh\"\n        ],\n        \"properties\": []\n    },\n    \"MediaPlayer\": {\n        \"name\": \"MediaPlayer\",\n        \"methods\": [\n            \"getMediaStatus\",\n            \"load\",\n            \"seek\",\n            \"skipNext\",\n            \"skipPrevious\"\n        ],\n        \"properties\": []\n    },\n    \"Online\": {\n        \"name\": \"Online\",\n        \"methods\": [],\n        \"properties\": [\n            \"online\"\n        ]\n    },\n    \"BufferConverter\": {\n        \"name\": \"BufferConverter\",\n        \"methods\": [\n            \"convert\"\n        ],\n        \"properties\": [\n            \"fromMimeType\",\n            \"toMimeType\"\n        ]\n    },\n    \"MediaConverter\": {\n        \"name\": \"MediaConverter\",\n        \"methods\": [\n            \"convertMedia\"\n        ],\n        \"properties\": [\n            \"converters\"\n        ]\n    },\n    \"Settings\": {\n        \"name\": \"Settings\",\n        \"methods\": [\n            \"getSettings\",\n            \"putSetting\"\n        ],\n        \"properties\": []\n    },\n    \"BinarySensor\": {\n        \"name\": \"BinarySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"binaryState\"\n        ]\n    },\n    \"TamperSensor\": {\n        \"name\": \"TamperSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"tampered\"\n        ]\n    },\n    \"Sleep\": {\n        \"name\": \"Sleep\",\n        \"methods\": [],\n        \"properties\": [\n            \"sleeping\"\n        ]\n    },\n    \"PowerSensor\": {\n        \"name\": \"PowerSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"powerDetected\"\n        ]\n    },\n    \"AudioSensor\": {\n        \"name\": \"AudioSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"audioDetected\"\n        ]\n    },\n    \"MotionSensor\": {\n        \"name\": \"MotionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"motionDetected\"\n        ]\n    },\n    \"AmbientLightSensor\": {\n        \"name\": \"AmbientLightSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ambientLight\"\n        ]\n    },\n    \"OccupancySensor\": {\n        \"name\": \"OccupancySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"occupied\"\n        ]\n    },\n    \"FloodSensor\": {\n        \"name\": \"FloodSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"flooded\"\n        ]\n    },\n    \"UltravioletSensor\": {\n        \"name\": \"UltravioletSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ultraviolet\"\n        ]\n    },\n    \"LuminanceSensor\": {\n        \"name\": \"LuminanceSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"luminance\"\n        ]\n    },\n    \"PositionSensor\": {\n        \"name\": \"PositionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"position\"\n        ]\n    },\n    \"SecuritySystem\": {\n        \"name\": \"SecuritySystem\",\n        \"methods\": [\n            \"armSecuritySystem\",\n            \"disarmSecuritySystem\"\n        ],\n        \"properties\": [\n            \"securitySystemState\"\n        ]\n    },\n    \"PM10Sensor\": {\n        \"name\": \"PM10Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm10Density\"\n        ]\n    },\n    \"PM25Sensor\": {\n        \"name\": \"PM25Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm25Density\"\n        ]\n    },\n    \"VOCSensor\": {\n        \"name\": \"VOCSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"vocDensity\"\n        ]\n    },\n    \"NOXSensor\": {\n        \"name\": \"NOXSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"noxDensity\"\n        ]\n    },\n    \"CO2Sensor\": {\n        \"name\": \"CO2Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"co2ppm\"\n        ]\n    },\n    \"AirQualitySensor\": {\n        \"name\": \"AirQualitySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"airQuality\"\n        ]\n    },\n    \"AirPurifier\": {\n        \"name\": \"AirPurifier\",\n        \"methods\": [\n            \"setAirPurifierState\"\n        ],\n        \"properties\": [\n            \"airPurifierState\"\n        ]\n    },\n    \"FilterMaintenance\": {\n        \"name\": \"FilterMaintenance\",\n        \"methods\": [],\n        \"properties\": [\n            \"filterChangeIndication\",\n            \"filterLifeLevel\"\n        ]\n    },\n    \"Readme\": {\n        \"name\": \"Readme\",\n        \"methods\": [\n            \"getReadmeMarkdown\"\n        ],\n        \"properties\": []\n    },\n    \"OauthClient\": {\n        \"name\": \"OauthClient\",\n        \"methods\": [\n            \"getOauthUrl\",\n            \"onOauthCallback\"\n        ],\n        \"properties\": []\n    },\n    \"MixinProvider\": {\n        \"name\": \"MixinProvider\",\n        \"methods\": [\n            \"canMixin\",\n            \"getMixin\",\n            \"releaseMixin\"\n        ],\n        \"properties\": []\n    },\n    \"HttpRequestHandler\": {\n        \"name\": \"HttpRequestHandler\",\n        \"methods\": [\n            \"onRequest\"\n        ],\n        \"properties\": []\n    },\n    \"EngineIOHandler\": {\n        \"name\": \"EngineIOHandler\",\n        \"methods\": [\n            \"onConnection\"\n        ],\n        \"properties\": []\n    },\n    \"PushHandler\": {\n        \"name\": \"PushHandler\",\n        \"methods\": [\n            \"onPush\"\n        ],\n        \"properties\": []\n    },\n    \"Program\": {\n        \"name\": \"Program\",\n        \"methods\": [\n            \"run\"\n        ],\n        \"properties\": []\n    },\n    \"Scriptable\": {\n        \"name\": \"Scriptable\",\n        \"methods\": [\n            \"eval\",\n            \"loadScripts\",\n            \"saveScript\"\n        ],\n        \"properties\": []\n    },\n    \"ClusterForkInterface\": {\n        \"name\": \"ClusterForkInterface\",\n        \"methods\": [\n            \"forkInterface\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectTracker\": {\n        \"name\": \"ObjectTracker\",\n        \"methods\": [\n            \"trackObjects\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetector\": {\n        \"name\": \"ObjectDetector\",\n        \"methods\": [\n            \"getDetectionInput\",\n            \"getObjectTypes\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetection\": {\n        \"name\": \"ObjectDetection\",\n        \"methods\": [\n            \"detectObjects\",\n            \"generateObjectDetections\",\n            \"getDetectionModel\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetectionPreview\": {\n        \"name\": \"ObjectDetectionPreview\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ObjectDetectionGenerator\": {\n        \"name\": \"ObjectDetectionGenerator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"HumiditySetting\": {\n        \"name\": \"HumiditySetting\",\n        \"methods\": [\n            \"setHumidity\"\n        ],\n        \"properties\": [\n            \"humiditySetting\"\n        ]\n    },\n    \"Fan\": {\n        \"name\": \"Fan\",\n        \"methods\": [\n            \"setFan\"\n        ],\n        \"properties\": [\n            \"fan\"\n        ]\n    },\n    \"RTCSignalingChannel\": {\n        \"name\": \"RTCSignalingChannel\",\n        \"methods\": [\n            \"startRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"RTCSignalingClient\": {\n        \"name\": \"RTCSignalingClient\",\n        \"methods\": [\n            \"createRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"LauncherApplication\": {\n        \"name\": \"LauncherApplication\",\n        \"methods\": [],\n        \"properties\": [\n            \"applicationInfo\"\n        ]\n    },\n    \"ScryptedUser\": {\n        \"name\": \"ScryptedUser\",\n        \"methods\": [\n            \"getScryptedUserAccessControl\"\n        ],\n        \"properties\": []\n    },\n    \"VideoFrameGenerator\": {\n        \"name\": \"VideoFrameGenerator\",\n        \"methods\": [\n            \"generateVideoFrames\"\n        ],\n        \"properties\": []\n    },\n    \"StreamService\": {\n        \"name\": \"StreamService\",\n        \"methods\": [\n            \"connectStream\"\n        ],\n        \"properties\": []\n    },\n    \"TTY\": {\n        \"name\": \"TTY\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"TTYSettings\": {\n        \"name\": \"TTYSettings\",\n        \"methods\": [\n            \"getTTYSettings\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedSystemDevice\": {\n        \"name\": \"ScryptedSystemDevice\",\n        \"methods\": [],\n        \"properties\": [\n            \"systemDevice\"\n        ]\n    },\n    \"ScryptedDeviceCreator\": {\n        \"name\": \"ScryptedDeviceCreator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ScryptedSettings\": {\n        \"name\": \"ScryptedSettings\",\n        \"methods\": [],\n        \"properties\": []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    /**\n     * @deprecated\n     */\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    /**\n     * Internal devices will not show up in device lists unless explicitly searched.\n     */\n    ScryptedDeviceType[\"Internal\"] = \"Internal\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Buttons\"] = \"Buttons\";\n    ScryptedInterface[\"PressButtons\"] = \"PressButtons\";\n    ScryptedInterface[\"Sensors\"] = \"Sensors\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoTextOverlays\"] = \"VideoTextOverlays\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"Sleep\"] = \"Sleep\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ClusterForkInterface\"] = \"ClusterForkInterface\";\n    ScryptedInterface[\"ObjectTracker\"] = \"ObjectTracker\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildFullPath = require('../core/buildFullPath');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar VERSION = require('./../env/data').version;\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\nvar isHttps = /https:?/;\n\n/**\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} proxy\n * @param {string} location\n */\nfunction setProxy(options, proxy, location) {\n  options.hostname = proxy.host;\n  options.host = proxy.host;\n  options.port = proxy.port;\n  options.path = location;\n\n  // Basic proxy authorization\n  if (proxy.auth) {\n    var base64 = Buffer.from(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n    options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n  }\n\n  // If a proxy is used, any redirects must also pass through the proxy\n  options.beforeRedirect = function beforeRedirect(redirection) {\n    redirection.headers.host = redirection.host;\n    setProxy(redirection, proxy, redirection.href);\n  };\n}\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolvePromise, rejectPromise) {\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n    var resolve = function resolve(value) {\n      done();\n      resolvePromise(value);\n    };\n    var reject = function reject(value) {\n      done();\n      rejectPromise(value);\n    };\n    var data = config.data;\n    var headers = config.headers;\n    var headerNames = {};\n\n    Object.keys(headers).forEach(function storeLowerName(name) {\n      headerNames[name.toLowerCase()] = name;\n    });\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    if ('user-agent' in headerNames) {\n      // User-Agent is specified; handle case where no UA header is desired\n      if (!headers[headerNames['user-agent']]) {\n        delete headers[headerNames['user-agent']];\n      }\n      // Otherwise, use specified value\n    } else {\n      // Only set header if it hasn't been set in config\n      headers['User-Agent'] = 'axios/' + VERSION;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      if (!headerNames['content-length']) {\n        headers['Content-Length'] = data.length;\n      }\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    var parsed = url.parse(fullPath);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth && headerNames.authorization) {\n      delete headers[headerNames.authorization];\n    }\n\n    var isHttpsRequest = isHttps.test(protocol);\n    var agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method.toUpperCase(),\n      headers: headers,\n      agent: agent,\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        var noProxyEnv = process.env.no_proxy || process.env.NO_PROXY;\n        var shouldProxy = true;\n\n        if (noProxyEnv) {\n          var noProxy = noProxyEnv.split(',').map(function trim(s) {\n            return s.trim();\n          });\n\n          shouldProxy = !noProxy.some(function proxyMatch(proxyElement) {\n            if (!proxyElement) {\n              return false;\n            }\n            if (proxyElement === '*') {\n              return true;\n            }\n            if (proxyElement[0] === '.' &&\n                parsed.hostname.substr(parsed.hostname.length - proxyElement.length) === proxyElement) {\n              return true;\n            }\n\n            return parsed.hostname === proxyElement;\n          });\n        }\n\n        if (shouldProxy) {\n          proxy = {\n            host: parsedProxyUrl.hostname,\n            port: parsedProxyUrl.port,\n            protocol: parsedProxyUrl.protocol\n          };\n\n          if (parsedProxyUrl.auth) {\n            var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n            proxy.auth = {\n              username: proxyUrlAuth[0],\n              password: proxyUrlAuth[1]\n            };\n          }\n        }\n      }\n    }\n\n    if (proxy) {\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      setProxy(options, proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    var transport;\n    var isHttpsProxy = isHttpsRequest && (proxy ? isHttps.test(proxy.protocol) : true);\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsProxy ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttpsProxy ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n\n      // if no content, is HEAD request or decompress disabled we should not decompress\n      if (res.statusCode !== 204 && lastRequest.method !== 'HEAD' && config.decompress !== false) {\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'compress':\n        case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n          stream = stream.pipe(zlib.createUnzip());\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        }\n      }\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        var totalResponseBytes = 0;\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString(config.responseEncoding);\n            if (!config.responseEncoding || config.responseEncoding === 'utf8') {\n              responseData = utils.stripBOM(responseData);\n            }\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted && err.code !== 'ERR_FR_TOO_MANY_REDIRECTS') return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      var timeout = parseInt(config.timeout, 10);\n\n      if (isNaN(timeout)) {\n        reject(createError(\n          'error trying to parse `config.timeout` to int',\n          config,\n          'ERR_PARSE_TIMEOUT',\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devoring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        req.abort();\n        var transitional = config.transitional || defaults.transitional;\n        reject(createError(\n          'timeout of ' + timeout + 'ms exceeded',\n          config,\n          transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n          req\n        ));\n      });\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.on('error', function handleStreamError(err) {\n        reject(enhanceError(err, config, null, req));\n      }).pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || defaults.transitional;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","module.exports = {\n  \"version\": \"0.23.0\"\n};","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(' ', ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC7230§5.3.1: When making a request directly to an origin server, […]\n  // a client MUST send only the absolute path […] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, […]\n    // a client MUST send the target URI in absolute-form […].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC7231§6.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC7231§6.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, […]\n  // RFC7231§6.4.2–3: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC7231§6.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource […]\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) […]\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","export enum DetectionClass {\n    Motion = 'motion',\n    Person = 'person',\n    Vehicle = 'vehicle',\n    Animal = 'animal',\n    Audio = 'audio',\n    AnyObject = 'any_object',\n    Face = 'face',\n    Plate = 'plate',\n    Package = 'package',\n    Doorbell = 'doorbell',\n}\n\nexport const classnamePrio: Partial<Record<DetectionClass, number>> = {\n    [DetectionClass.Face]: 1,\n    [DetectionClass.Plate]: 1,\n    [DetectionClass.Person]: 2,\n    [DetectionClass.Vehicle]: 3,\n    [DetectionClass.Animal]: 4,\n    [DetectionClass.Package]: 5,\n    [DetectionClass.Motion]: 6,\n}\n\nexport const basicDetectionClasses = [\n    DetectionClass.Vehicle,\n    DetectionClass.Person,\n    DetectionClass.Animal,\n];\n\nexport const defaultDetectionClasses = Object.values(DetectionClass);\n\nexport const animalClasses = [\n    // General\n    DetectionClass.Animal,\n\n    // Camera specific\n    'dog_cat',\n\n    // Mammals\n    'dog',\n    'cat',\n    'horse',\n    'sheep',\n    'cow',\n    'elephant',\n    'bear',\n    'zebra',\n    'giraffe',\n    'mouse',\n    'rabbit',\n    'deer',\n    'lion',\n    'tiger',\n\n    // Birds\n    'bird',\n    'eagle',\n    'owl',\n    'pigeon',\n\n    // Marine Animals\n    'fish',\n    'whale',\n    'dolphin',\n\n    // Reptiles/Amphibians\n    'snake',\n    'turtle',\n    'lizard'\n];\n\nexport const personClasses = [\n    // General\n    DetectionClass.Person,\n\n    // Camera specific\n    'people',\n\n    // Activities\n    'pedestrian',\n    'rider',\n    'driver',\n    'cyclist',\n    'skier',\n    'skateboarder',\n\n    // Body Parts\n    'face',\n    'hand',\n    'head',\n    'body'\n];\n\nexport const vehicleClasses = [\n    // General\n    DetectionClass.Vehicle,\n\n    // Road Vehicles\n    'car',\n    'truck',\n    'bus',\n    'motorcycle',\n    'bicycle',\n    'van',\n\n    // Special Vehicles\n    'ambulance',\n    'police_car',\n    'fire_truck',\n\n    // Public Transportation\n    'train',\n    'subway',\n    'tram',\n\n    // Others\n    'airplane',\n    'boat',\n    'ship',\n    'helicopter'\n];\n\nexport const faceClasses = [\n    DetectionClass.Face,\n\n    // Main Face Components\n    'eyes',\n    'nose',\n    'mouth',\n    'ears',\n    'eyebrows',\n\n    // Detailed Eye Features\n    'left_eye',\n    'right_eye',\n    'pupil',\n    'iris',\n    'eyelid',\n    'eye_corner',\n\n    // Detailed Mouth Features\n    'upper_lip',\n    'lower_lip',\n    'teeth',\n\n    // Other Facial Features\n    'chin',\n    'cheek',\n    'forehead',\n    'jaw',\n\n    // Facial Accessories\n    'glasses',\n    'sunglasses',\n    'facial_hair',\n    'beard',\n    'mustache',\n\n    // Facial Landmarks\n    'facial_landmark',\n    'facial_keypoint'\n];\n\nexport const licensePlateClasses = [\n    DetectionClass.Plate,\n\n    // Plate Types\n    'license_plate',\n    'front_plate',\n    'rear_plate',\n    'motorcycle_plate',\n    'temporary_plate',\n    'dealer_plate',\n\n    // Plate Components\n    'plate_number',\n    'plate_character',\n    'plate_digit',\n    'plate_letter',\n    'plate_symbol',\n    'plate_region',\n    'plate_country_identifier',\n\n    // Plate Features\n    'plate_frame',\n    'plate_bolt',\n    'plate_sticker',\n    'plate_validation_tag',\n\n    // Plate Conditions\n    'damaged_plate',\n    'obscured_plate',\n    'dirty_plate'\n];\n\nexport const motionClasses = [\n    DetectionClass.Motion,\n    'movement',\n\n    // Reolink battery cams\n    'other',\n]\n\nexport const packageClasses = [\n    DetectionClass.Package,\n    'packet',\n]\n\nexport const objectClasses = [\n    DetectionClass.AnyObject,\n    'object',\n]\n\nexport const audioLabels = [\n    \"speech\", \"babbling\", \"yell\", \"bellow\", \"whoop\", \"whispering\", \"laughter\", \"snicker\",\n    \"crying\", \"sigh\", \"singing\", \"choir\", \"sodeling\", \"chant\", \"mantra\", \"child_singing\",\n    \"synthetic_singing\", \"rapping\", \"humming\", \"groan\", \"grunt\", \"whistling\", \"breathing\",\n    \"wheeze\", \"snoring\", \"gasp\", \"pant\", \"snort\", \"cough\", \"throat_clearing\", \"sneeze\",\n    \"sniff\", \"run\", \"shuffle\", \"footsteps\", \"chewing\", \"biting\", \"gargling\", \"stomach_rumble\",\n    \"burping\", \"hiccup\", \"fart\", \"hands\", \"finger_snapping\", \"clapping\", \"heartbeat\",\n    \"heart_murmur\", \"cheering\", \"applause\", \"chatter\", \"crowd\", \"children_playing\", \"animal\",\n    \"pets\", \"dog\", \"bark\", \"yip\", \"howl\", \"bow-wow\", \"growling\", \"whimper_dog\", \"cat\", \"purr\",\n    \"meow\", \"hiss\", \"caterwaul\", \"livestock\", \"horse\", \"clip-clop\", \"neigh\", \"cattle\", \"moo\",\n    \"cowbell\", \"pig\", \"oink\", \"goat\", \"bleat\", \"sheep\", \"fowl\", \"chicken\", \"cluck\",\n    \"cock-a-doodle-doo\", \"turkey\", \"gobble\", \"duck\", \"quack\", \"goose\", \"honk\", \"wild_animals\",\n    \"roaring_cats\", \"roar\", \"bird\", \"chird\", \"chirp\", \"squawk\", \"pigeon\", \"coo\", \"crow\", \"caw\",\n    \"owl\", \"hoot\", \"flapping_wings\", \"dogs\", \"rats\", \"mouse\", \"patter\", \"insect\", \"cricket\",\n    \"mosquito\", \"fly\", \"buzz\", \"frog\", \"croak\", \"snake\", \"rattle\", \"whale_vocalization\",\n    \"music\", \"musical_instrument\", \"plucked_string_instrument\", \"guitar\", \"electric_guitar\",\n    \"bass_guitar\", \"acoustic_guitar\", \"steel_guitar\", \"tapping\", \"strum\", \"banjo\", \"sitar\",\n    \"mandolin\", \"zither\", \"ukulele\", \"keyboard\", \"piano\", \"electric_piano\", \"organ\",\n    \"electronic_organ\", \"hammond_organ\", \"synthesizer\", \"sampler\", \"harpsichord\", \"percussion\",\n    \"drum_kit\", \"drum_machine\", \"drum\", \"snare_drum\", \"rimshot\", \"drum_roll\", \"bass_drum\",\n    \"timpani\", \"tabla\", \"cymbal\", \"hi-hat\", \"wood_block\", \"tambourine\", \"maraca\", \"gong\",\n    \"tubular_bells\", \"mallet_percussion\", \"marimba\", \"glockenspiel\", \"vibraphone\", \"steelpan\",\n    \"orchestra\", \"brass_instrument\", \"french_horn\", \"trumpet\", \"trombone\",\n    \"bowed_string_instrument\", \"string_section\", \"violin\", \"pizzicato\", \"cello\", \"double_bass\",\n    \"wind_instrument\", \"flute\", \"saxophone\", \"clarinet\", \"harp\", \"bell\", \"church_bell\",\n    \"jingle_bell\", \"bicycle_bell\", \"tuning_fork\", \"chime\", \"wind_chime\", \"change_ringing\",\n    \"harmonica\", \"accordion\", \"bagpipes\", \"didgeridoo\", \"shofar\", \"theremin\", \"singing_bowl\",\n    \"scratching\", \"pop_music\", \"hip_hop_music\", \"beatboxing\", \"rock_music\", \"heavy_metal\",\n    \"punk_rock\", \"grunge\", \"progressive_rock\", \"rock_and_roll\", \"psychedelic_rock\",\n    \"rhythm_and_blues\", \"soul_music\", \"reggae\", \"country\", \"swing_music\", \"bluegrass\", \"funk\",\n    \"folk_music\", \"middle_eastern_music\", \"jazz\", \"disco\", \"classical_music\", \"opera\",\n    \"electronic_music\", \"house_music\", \"techno\", \"dubstep\", \"drum_and_bass\", \"electronica\",\n    \"electronic_dance_music\", \"ambient_music\", \"trance_music\", \"music_of_latin_america\",\n    \"salsa_music\", \"flamenco\", \"blues\", \"music_for_children\", \"new-age_music\", \"vocal_music\",\n    \"a_capella\", \"music_of_africa\", \"afrobeat\", \"christian_music\", \"gospel_music\",\n    \"music_of_asia\", \"carnatic_music\", \"music_of_bollywood\", \"ska\", \"traditional_music\",\n    \"independent_music\", \"song\", \"background_music\", \"theme_music\", \"jingle\", \"soundtrack_music\",\n    \"lullaby\", \"video_game_music\", \"christmas_music\", \"dance_music\", \"wedding_music\",\n    \"happy_music\", \"sad_music\", \"tender_music\", \"exciting_music\", \"angry_music\", \"scary_music\",\n    \"wind\", \"rustling_leaves\", \"wind_noise\", \"thunderstorm\", \"thunder\", \"water\", \"rain\",\n    \"raindrop\", \"rain_on_surface\", \"stream\", \"waterfall\", \"ocean\", \"waves\", \"steam\", \"gurgling\",\n    \"fire\", \"crackle\", \"vehicle\", \"boat\", \"sailboat\", \"rowboat\", \"motorboat\", \"ship\",\n    \"motor_vehicle\", \"car\", \"toot\", \"car_alarm\", \"power_windows\", \"skidding\", \"tire_squeal\",\n    \"car_passing_by\", \"race_car\", \"truck\", \"air_brake\", \"air_horn\", \"reversing_beeps\",\n    \"ice_cream_truck\", \"bus\", \"emergency_vehicle\", \"police_car\", \"ambulance\", \"fire_engine\",\n    \"motorcycle\", \"traffic_noise\", \"rail_transport\", \"train\", \"train_whistle\", \"train_horn\",\n    \"railroad_car\", \"train_wheels_squealing\", \"subway\", \"aircraft\", \"aircraft_engine\",\n    \"jet_engine\", \"propeller\", \"helicopter\", \"fixed-wing_aircraft\", \"bicycle\", \"skateboard\",\n    \"engine\", \"light_engine\", \"dental_drill's_drill\", \"lawn_mower\", \"chainsaw\", \"medium_engine\",\n    \"heavy_engine\", \"engine_knocking\", \"engine_starting\", \"idling\", \"accelerating\", \"door\",\n    \"doorbell\", \"ding-dong\", \"sliding_door\", \"slam\", \"knock\", \"tap\", \"squeak\",\n    \"cupboard_open_or_close\", \"drawer_open_or_close\", \"dishes\", \"cutlery\", \"chopping\", \"frying\",\n    \"microwave_oven\", \"blender\", \"water_tap\", \"sink\", \"bathtub\", \"hair_dryer\", \"toilet_flush\",\n    \"toothbrush\", \"electric_toothbrush\", \"vacuum_cleaner\", \"zipper\", \"keys_jangling\", \"coin\",\n    \"scissors\", \"electric_shaver\", \"shuffling_cards\", \"typing\", \"typewriter\", \"computer_keyboard\",\n    \"writing\", \"alarm\", \"telephone\", \"telephone_bell_ringing\", \"ringtone\", \"telephone_dialing\",\n    \"dial_tone\", \"busy_signal\", \"alarm_clock\", \"siren\", \"civil_defense_siren\", \"buzzer\",\n    \"smoke_detector\", \"fire_alarm\", \"foghorn\", \"whistle\", \"steam_whistle\", \"mechanisms\", \"ratchet\",\n    \"clock\", \"tick\", \"tick-tock\", \"gears\", \"pulleys\", \"sewing_machine\", \"mechanical_fan\",\n    \"air_conditioning\", \"cash_register\", \"printer\", \"camera\", \"single-lens_reflex_camera\",\n    \"tools\", \"hammer\", \"jackhammer\", \"sawing\", \"filing\", \"sanding\", \"power_tool\", \"drill\",\n    \"explosion\", \"gunshot\", \"machine_gun\", \"fusillade\", \"artillery_fire\", \"cap_gun\", \"fireworks\",\n    \"firecracker\", \"burst\", \"eruption\", \"boom\", \"wood\", \"chop\", \"splinter\", \"crack\", \"glass\",\n    \"chink\", \"shatter\", \"liquid\", \"splash\", \"slosh\", \"squish\", \"drip\", \"pour\", \"trickle\", \"gush\",\n    \"fill\", \"spray\", \"pump\", \"stir\", \"boiling\", \"sonar\", \"arrow\", \"whoosh\", \"thump\", \"thunk\",\n    \"electronic_tuner\", \"effects_unit\", \"chorus_effect\", \"basketball_bounce\", \"bang\", \"slap\",\n    \"whack\", \"smash\", \"breaking\", \"bouncing\", \"whip\", \"flap\", \"scratch\", \"scrape\", \"rub\", \"roll\",\n    \"crushing\", \"crumpling\", \"tearing\", \"beep\", \"ping\", \"ding\", \"clang\", \"squeal\", \"creak\",\n    \"rustle\", \"whir\", \"clatter\", \"sizzle\", \"clicking\", \"clickety-clack\", \"rumble\", \"plop\",\n    \"jingle\", \"hum\", \"zing\", \"boing\", \"crunch\", \"silence\", \"sine_wave\", \"harmonic\", \"chirp_tone\",\n    \"sound_effect\", \"pulse\", \"inside\", \"outside\", \"reverberation\", \"echo\", \"noise\",\n    \"environmental_noise\", \"static\", \"mains_hum\", \"distortion\", \"sidetone\", \"cacophony\",\n    \"white_noise\", \"pink_noise\", \"throbbing\", \"vibration\", \"television\", \"radio\", \"field_recording\"\n];\nexport const audioClasses = [\n    DetectionClass.Audio,\n];\nexport const doorbellClasses = [\n    DetectionClass.Doorbell,\n\n    'ring',\n];\n\nexport const isFaceClassname = (classname: string) => faceClasses.includes(classname);\nexport const isPlateClassname = (classname: string) => licensePlateClasses.includes(classname);\nexport const isAnimalClassname = (classname: string) => animalClasses.includes(classname);\nexport const isPersonClassname = (classname: string) => personClasses.includes(classname);\nexport const isVehicleClassname = (classname: string) => vehicleClasses.includes(classname);\nexport const isMotionClassname = (classname: string) => motionClasses.includes(classname);\nexport const isDoorbellClassname = (classname: string) => doorbellClasses.includes(classname);\nexport const isPackageClassname = (classname: string) => packageClasses.includes(classname);\nexport const isLabelDetection = (classname: string) => isFaceClassname(classname) || isPlateClassname(classname);\nexport const isObjectClassname = (classname: string) =>\n    isPackageClassname(classname) ||\n    isAnimalClassname(classname) ||\n    isPersonClassname(classname) ||\n    isVehicleClassname(classname);\n\nexport const detectionClassesDefaultMap: Record<string, DetectionClass> = {\n    ...animalClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Animal }), {}),\n    ...personClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Person }), {}),\n    ...vehicleClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Vehicle }), {}),\n    ...motionClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Motion }), {}),\n    ...packageClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Package }), {}),\n    ...faceClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Face }), {}),\n    ...licensePlateClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Plate }), {}),\n    ...objectClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.AnyObject }), {}),\n    ...audioClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Audio }), {}),\n    ...doorbellClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Doorbell }), {}),\n}\n\nexport const parentDetectionClassMap: Partial<Record<DetectionClass, DetectionClass>> = {\n    [DetectionClass.Face]: DetectionClass.Person,\n    [DetectionClass.Plate]: DetectionClass.Vehicle,\n}\n\n// visual similarity\nconst similarCharacters = [\n    ['0', 'O', 'D'],\n    ['1', 'I'],\n    ['2', 'Z'],\n    ['4', 'A'],\n    ['5', 'S'],\n    ['8', 'B'],\n    ['6', 'G'],\n    // not sure about this one.\n    ['A', '4'],\n    ['C', 'G'],\n    ['E', 'F'],\n];\n\nconst similarCharactersMap = new Map<string, Set<string>>();\nfor (const similarCharacter of similarCharacters) {\n    for (const character of similarCharacter) {\n        if (!similarCharactersMap.has(character)) {\n            similarCharactersMap.set(character, new Set());\n        }\n        for (const similar of similarCharacter) {\n            similarCharactersMap.get(character)!.add(similar);\n        }\n    }\n}\n\nconst isSameCharacter = (c1: string, c2: string) => {\n    if (c1 === c2)\n        return true;\n\n    return similarCharactersMap.get(c1)?.has(c2);\n}\n\nexport const levenshteinDistance = (str1: string, str2: string): number => {\n    // todo: handle lower/uppercase similarity in similarCharacters above.\n    // ie, b is visualy similar to 6, but does not really look like B.\n    // others include e and C. v, u and Y. l, i, 1.\n    str1 = str1.toUpperCase();\n    str2 = str2.toUpperCase();\n\n    const len1 = str1.length;\n    const len2 = str2.length;\n\n    // If either string is empty, the distance is the length of the other string\n    if (len1 === 0) return len2;\n    if (len2 === 0) return len1;\n\n    let prev: number[] = new Array(len2 + 1);\n    let curr: number[] = new Array(len2 + 1);\n\n    // Initialize the first row of the matrix to be the index of the second string\n    for (let i = 0; i <= len2; i++) {\n        prev[i] = i;\n    }\n\n    for (let i = 1; i <= len1; i++) {\n        // Initialize the current row with the distance from the previous row's first element\n        curr[0] = i;\n\n        for (let j = 1; j <= len2; j++) {\n            let cost = isSameCharacter(str1.charAt(i - 1), str2.charAt(j - 1)) ? 0 : 1;\n\n            // Compute the minimum of three possible operations: insertion, deletion, or substitution\n            curr[j] = Math.min(prev[j] + 1, curr[j - 1] + 1, prev[j - 1] + cost);\n        }\n\n        // Swap the previous and current rows for the next iteration\n        const temp = prev;\n        prev = curr;\n        curr = temp;\n    }\n\n    return prev[len2];\n}","import sdk, { ScryptedDeviceBase, ScryptedDeviceType, Setting, Settings, SettingValue } from \"@scrypted/sdk\";\nimport { StorageSetting, StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport axios from \"axios\";\nimport https from 'https';\nimport MqttClient from './mqtt-client';\nimport { LogLevel } from '../../scrypted-syslog/src/utils';\n\nconst { systemManager } = sdk;\n\ninterface HaEntityState {\n    entity_id: string,\n    state: string,\n    last_reported: string,\n    attributes: {\n        device_class: string,\n        friendly_name: string,\n        unit_of_measurement: string,\n        last_seen: string\n    }\n}\n\nconst httpsAgent = new https.Agent({\n    rejectUnauthorized: false,\n});\n\n\nexport const applySettingsShow = (storageSettings: StorageSettings<any>) => {\n    const { mqttEnabled, useMqttPluginCredentials, haEnabled, useHaPluginCredentials } = storageSettings.values;\n    const { haEnabled: haEnabledSetting, mqttEnabled: mqttEnabledSetting } = storageSettings.settings;\n    if (mqttEnabledSetting?.hide || !mqttEnabled) {\n        storageSettings.settings.mqttHost && (storageSettings.settings.mqttHost.hide = true);\n        storageSettings.settings.mqttPassword && (storageSettings.settings.mqttPassword.hide = true);\n        storageSettings.settings.mqttUsename && (storageSettings.settings.mqttUsename.hide = true);\n        storageSettings.settings.useMqttPluginCredentials && (storageSettings.settings.useMqttPluginCredentials.hide = true);\n    } else {\n        storageSettings.settings.mqttHost.hide = useMqttPluginCredentials;\n        storageSettings.settings.mqttPassword.hide = useMqttPluginCredentials;\n        storageSettings.settings.mqttUsename.hide = useMqttPluginCredentials;\n        storageSettings.settings.useMqttPluginCredentials.hide = false;\n    }\n\n    if (haEnabledSetting?.hide || !haEnabled) {\n        storageSettings.settings.haAccessToken && (storageSettings.settings.haAccessToken.hide = true);\n        storageSettings.settings.haProtocol && (storageSettings.settings.haProtocol.hide = true);\n        storageSettings.settings.haAddress && (storageSettings.settings.haAddress.hide = true);\n        storageSettings.settings.useHaPluginCredentials && (storageSettings.settings.useHaPluginCredentials.hide = true);\n    } else {\n        storageSettings.settings.haAccessToken.hide = useHaPluginCredentials;\n        storageSettings.settings.haProtocol.hide = useHaPluginCredentials;\n        storageSettings.settings.haAddress.hide = useHaPluginCredentials;\n        storageSettings.settings.useHaPluginCredentials.hide = false;\n    }\n}\n\nexport const getBaseLogger = (props: {\n    deviceConsole: Console,\n    storage: StorageSettings<any>,\n    friendlyName?: string\n}) => {\n    const { deviceConsole, storage, friendlyName } = props;\n\n    const log = (type: 'log' | 'debug' | 'error' | 'warn' | 'info', message?: any, ...optionalParams: any[]) => {\n        const now = new Date().toLocaleString();\n\n        let canLog = false;\n        let severity = LogLevel.NOTICE;\n        if (type === 'debug') {\n            canLog = storage.getItem('debug');\n            severity = LogLevel.DEBUG;\n        } else if (type === 'info') {\n            severity = LogLevel.INFO;\n            canLog = storage.getItem('info')\n        } else {\n            canLog = true;\n            if (type === 'error') {\n                severity = LogLevel.ERROR;\n            } else if (type === 'warn') {\n                severity = LogLevel.WARN;\n            }\n        }\n\n        if (canLog) {\n            deviceConsole.log(`${now} - [${severity}]:`, message, ...optionalParams);\n        }\n\n        if (type === 'error' && storage.values.devNotifier) {\n            storage.values.devNotifier.sendNotification(friendlyName, {\n                body: `${message}${optionalParams?.map(param => '\\n' + param)}`,\n                data: {\n                    pushover: {\n                        priority: 1\n                    }\n                }\n            })\n        }\n    };\n\n    const newLogger = {\n        log: (message?: any, ...optionalParams: any[]) => log('log', message, ...optionalParams),\n        info: (message?: any, ...optionalParams: any[]) => log('info', message, ...optionalParams),\n        debug: (message?: any, ...optionalParams: any[]) => log('debug', message, ...optionalParams),\n        error: (message?: any, ...optionalParams: any[]) => log('error', message, ...optionalParams),\n        warn: (message?: any, ...optionalParams: any[]) => log('warn', message, ...optionalParams),\n    } as Console\n\n    return newLogger;\n}\n\nexport type BaseSettingsKey = 'pluginEnabled'\n    | 'mqttEnabled'\n    | 'debug'\n    | 'info'\n    | 'devNotifier'\n    | 'useMqttPluginCredentials'\n    | 'mqttHost'\n    | 'mqttUsename'\n    | 'mqttPassword'\n    | 'haEnabled'\n    | 'useHaPluginCredentials'\n    | 'haAccessToken'\n    | 'haAddress'\n    | 'haProtocol'\n\nexport const getBaseSettings = (props: {\n    onPluginSwitch?: StorageSetting['onPut'],\n    hideMqtt?: boolean,\n    hideHa?: boolean,\n    mqttAlwaysEnabled?: boolean,\n    baseGroupName?: string\n}) => {\n    const { onPluginSwitch, hideMqtt, mqttAlwaysEnabled, hideHa = true, baseGroupName = 'Base' } = props;\n    const group = baseGroupName === '' ? undefined : baseGroupName;\n    const settings: StorageSettingsDict<BaseSettingsKey> = {\n        pluginEnabled: {\n            title: 'Plugin enabled',\n            type: 'boolean',\n            defaultValue: true,\n            immediate: true,\n            group,\n            onPut: onPluginSwitch\n        },\n        mqttEnabled: {\n            title: 'MQTT enabled',\n            type: 'boolean',\n            defaultValue: true,\n            immediate: true,\n            group,\n            hide: hideMqtt,\n            readonly: mqttAlwaysEnabled,\n        },\n        debug: {\n            title: 'Log debug messages',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n            group,\n        },\n        info: {\n            title: 'Log info messages',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n            group,\n        },\n        devNotifier: {\n            title: 'DEV notifier',\n            type: 'device',\n            deviceFilter: `(type === '${ScryptedDeviceType.Notifier}')`,\n            group,\n        },\n        useMqttPluginCredentials: {\n            title: 'Use MQTT plugin credentials',\n            subgroup: 'MQTT',\n            type: 'boolean',\n            immediate: true,\n            group,\n            defaultValue: true,\n            hide: hideMqtt\n        },\n        mqttHost: {\n            title: 'Host',\n            subgroup: 'MQTT',\n            description: 'Specify the mqtt address.',\n            placeholder: 'mqtt://192.168.1.100',\n            group,\n            hide: hideMqtt\n        },\n        mqttUsename: {\n            title: 'Username',\n            subgroup: 'MQTT',\n            description: 'Specify the mqtt username.',\n            group,\n            hide: hideMqtt\n        },\n        mqttPassword: {\n            title: 'Password',\n            subgroup: 'MQTT',\n            description: 'Specify the mqtt password.',\n            type: 'password',\n            group,\n            hide: hideMqtt\n        },\n        haEnabled: {\n            title: 'Homeassistent enabled',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n            hide: hideHa,\n            group,\n        },\n        useHaPluginCredentials: {\n            group,\n            subgroup: 'Homeassistant',\n            title: 'Use HA plugin credentials',\n            type: 'boolean',\n            defaultValue: true,\n            immediate: true,\n            hide: hideHa\n        },\n        haAccessToken: {\n            group,\n            subgroup: 'Homeassistant',\n            title: 'HAPersonal access token',\n            type: 'string',\n            hide: hideHa\n        },\n        haProtocol: {\n            group,\n            subgroup: 'Homeassistant',\n            title: 'Protocol',\n            type: 'string',\n            choices: ['http', 'https'],\n            defaultValue: ['http'],\n            hide: hideHa\n        },\n        haAddress: {\n            group,\n            subgroup: 'Homeassistant',\n            title: 'Address',\n            placeholder: 'https://192.168.1.1',\n            type: 'string',\n            hide: hideHa\n        },\n    };\n\n    return settings;\n};\n\nexport const getMqttBasicClient = async (\n    props: {\n        logger: Console,\n        useMqttPluginCredentials?: boolean,\n        mqttHost?: string,\n        mqttUsename?: string,\n        mqttPassword?: string,\n        clientId?: string,\n        configTopicPattern?: string,\n    },\n) => {\n    const { useMqttPluginCredentials, logger, clientId, configTopicPattern } = props;\n    let mqttHost: string;\n    let mqttUsename: string;\n    let mqttPassword: string;\n\n    let client: MqttClient;\n\n    if (useMqttPluginCredentials) {\n        logger.debug(`Using MQTT plugin credentials.`);\n        const mqttDevice = systemManager.getDeviceByName('MQTT') as unknown as Settings;\n        const mqttSettings = await mqttDevice.getSettings();\n\n        const isInternalBroker = (JSON.parse(mqttSettings.find(setting => setting.key === 'enableBroker')?.value as string || 'false')) as boolean;\n\n        if (isInternalBroker) {\n            logger.debug(`Internal MQTT broker not supported yet. Please disable useMqttPluginCredentials.`);\n        } else {\n            mqttHost = mqttSettings.find(setting => setting.key === 'externalBroker')?.value as string;\n            mqttUsename = mqttSettings.find(setting => setting.key === 'username')?.value as string;\n            mqttPassword = mqttSettings.find(setting => setting.key === 'password')?.value as string;\n        }\n    } else {\n        logger.debug(`Using provided credentials.`);\n\n        mqttHost = props.mqttHost;\n        mqttUsename = props.mqttUsename;\n        mqttPassword = props.mqttPassword;\n    }\n\n    if (!mqttHost || !mqttUsename || !mqttPassword) {\n        logger.debug('MQTT params not provided');\n    }\n\n    client = new MqttClient(mqttHost, mqttUsename, mqttPassword, logger, clientId, configTopicPattern);\n\n    return client;\n}\n\nexport class BasePlugin extends ScryptedDeviceBase implements Settings {\n    public mqttClient: MqttClient;\n    private mainLogger: Console;\n    // public currentMixinsMap: Record<string, BaseMixin> = {};\n    public storageSettings: StorageSettings<string>;\n    initializingMqtt = false;\n\n\n    constructor(nativeId: string, public opts: {\n        pluginFriendlyName: string,\n        mixinGroup?: string,\n        mixinKey?: string,\n    }) {\n        super(nativeId);\n    }\n\n    async getSettings(): Promise<Setting[]> {\n        applySettingsShow(this.storageSettings);\n        const settings = await this.storageSettings.getSettings();\n\n        return settings;\n    }\n\n    getHaApiUrl = async () => {\n        const { haAccessToken, haAddress, haProtocol, useHaPluginCredentials } = this.storageSettings.values;\n\n        let accessToken = haAccessToken;\n        let protocol = haProtocol;\n        let address = haAddress;\n\n        if (useHaPluginCredentials) {\n            const haDevice = systemManager.getDeviceByName('Home Assistant') as unknown as Settings;\n            const haSettings = await haDevice.getSettings();\n\n            accessToken = haSettings.find(setting => setting.key === 'personalAccessToken')?.value as string;\n            address = haSettings.find(setting => setting.key === 'address')?.value as string;\n            protocol = haSettings.find(setting => setting.key === 'protocol')?.value as string;\n        }\n\n        if (!accessToken || !address || !protocol) {\n            throw new Error(`HA access params not set correctly: AccessToken: ${accessToken}, Address: ${address}, Protocol: ${protocol}`);\n        }\n\n        const url = `${protocol}://${address}`;\n\n        return {\n            accessToken,\n            address,\n            protocol,\n            url,\n        }\n    }\n\n    async getHaApi() {\n        const { accessToken, url } = await this.getHaApiUrl();\n\n        const getTemplateData = (template: string) => axios.post<string>(`${url}/api/template`,\n            { \"template\": template },\n            {\n                headers: {\n                    'Authorization': 'Bearer ' + accessToken,\n                },\n                httpsAgent\n            });\n\n        const getStatesData = () => axios.get<HaEntityState[]>(`${url}/api/states`,\n            {\n                headers: {\n                    'Authorization': 'Bearer ' + accessToken,\n                },\n                httpsAgent\n            });\n\n        const getCalendarEvents = (entityId: string, fromDate: string, toDate: string) => {\n            return axios.post<{ service_response: Record<string, { events: { start: string, end: string, summary: string }[] }> }>(`${url}/api/services/calendar/get_events?return_response`,\n                {\n                    start_date_time: fromDate,\n                    end_date_time: toDate,\n                    entity_id: entityId\n                },\n                {\n                    headers: {\n                        'Authorization': 'Bearer ' + accessToken,\n                    },\n                    httpsAgent\n                })\n        }\n\n        const postAutomation = (automationId: string, automation: any) => {\n            return axios.post(`${url}/api/config/automation/config/${automationId}`,\n                automation,\n                {\n                    headers: {\n                        'Authorization': 'Bearer ' + accessToken,\n                    },\n                    httpsAgent\n                })\n        }\n\n        return {\n            getTemplateData,\n            getStatesData,\n            getCalendarEvents,\n            postAutomation,\n        }\n    }\n\n    putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    private async setupMqttClient(clientId?: string) {\n        const { mqttEnabled, useMqttPluginCredentials, pluginEnabled } = this.storageSettings.values;\n        if (mqttEnabled && pluginEnabled) {\n            this.initializingMqtt = true;\n            const logger = this.getLogger();\n\n            if (this.mqttClient) {\n                this.mqttClient.disconnect();\n                this.mqttClient = undefined;\n            }\n\n            try {\n                this.mqttClient = await getMqttBasicClient({\n                    logger,\n                    useMqttPluginCredentials,\n                    mqttHost: this.storageSettings.getItem('mqttHost'),\n                    mqttUsename: this.storageSettings.getItem('mqttUsename'),\n                    mqttPassword: this.storageSettings.getItem('mqttPassword'),\n                    clientId,\n                });\n            } catch (e) {\n                logger.log('Error setting up MQTT client', e);\n            } finally {\n                this.initializingMqtt = false;\n            }\n        }\n    }\n\n    async getMqttClient(clientId?: string) {\n        if (!this.mqttClient && !this.initializingMqtt) {\n            await this.setupMqttClient(clientId);\n        }\n\n        return this.mqttClient;\n    }\n\n    // async getMixin(mixinDevice: any, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n    //     const props = {\n    //         mixinDevice,\n    //         mixinDeviceInterfaces,\n    //         mixinDeviceState,\n    //         mixinProviderNativeId: this.nativeId,\n    //         group: this.opts.mixinGroup,\n    //         groupKey: this.opts.mixinKey,\n    //     };\n\n    //     if (\n    //         [ScryptedInterface.Camera, ScryptedInterface.VideoCamera,].some(int => mixinDeviceInterfaces.includes(int))\n    //     ) {\n    //         return new BaseMixin(\n    //             props,\n    //             this\n    //         );\n    //     } else if (\n    //         [ScryptedInterface.BinarySensor, ScryptedInterface.Lock].some(int => mixinDeviceInterfaces.includes(int))\n    //     ) {\n    //         return new BaseMixin(\n    //             props,\n    //             this\n    //         );\n    //     } else if (mixinDeviceInterfaces.includes(ScryptedInterface.Notifier)) {\n    //         return new BaseMixin(\n    //             props,\n    //             this\n    //         );\n    //     }\n    // }\n\n    // async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n    //     await mixinDevice.release();\n    // }\n\n    getLogger(): Console {\n        if (!this.mainLogger) {\n            this.mainLogger = getBaseLogger({\n                deviceConsole: this.console,\n                storage: this.storageSettings,\n                friendlyName: this.opts.pluginFriendlyName\n            });\n        }\n\n        return this.mainLogger\n    }\n}\n\n","import { connectAsync, MqttClient as Client, IPublishPacket } from 'mqtt';\nimport { ScryptedDeviceBase } from '@scrypted/sdk';\nimport { sleep } from \"../../scrypted/server/src/sleep\";\n\nexport type MqttMessageCb = (topic: string, message: string, data: IPublishPacket) => Promise<void>\n\nconst topicMatches = (pattern: string, topic: string): boolean => {\n    const patternLevels = pattern.split('/');\n    const topicLevels = topic.split('/');\n\n    for (let i = 0; i < patternLevels.length; i++) {\n        if (patternLevels[i] === '#') return true;\n        if (patternLevels[i] === '+') continue;\n        if (patternLevels[i] !== topicLevels[i]) return false;\n    }\n\n    return patternLevels.length === topicLevels.length;\n}\n\nexport default class MqttClient {\n    mqttClient: Client;\n    mqttPathmame: string;\n    host: string;\n    username: string;\n    password: string;\n    clientId?: string;\n    topicLastValue: Record<string, any> = {};\n    logger: Console;\n    topicCbMap: Record<string, MqttMessageCb[]> = {};\n    connecting: boolean;\n    configTopicPattern: string;\n    currentAutodiscoveryTopics: string[] = [];\n\n    constructor(\n        host: string,\n        username: string,\n        password: string,\n        logger: Console,\n        clientId?: string,\n        configTopicPattern?: string,\n    ) {\n        this.host = host;\n        this.username = username;\n        this.password = password;\n        this.logger = logger;\n        this.clientId = clientId;\n        this.configTopicPattern = configTopicPattern;\n    }\n\n    async disconnect() {\n        if (this.mqttClient) {\n            try {\n                this.logger.log('Disconnecting mqtt client');\n                await this.mqttClient.endAsync(true);\n            } catch (e) {\n                this.logger.log('Error closing MQTT connection', e);\n            }\n        }\n    }\n\n    async getMqttClient(forceReconnect?: boolean): Promise<Client> {\n        if (this.connecting) {\n            return this.mqttClient;\n        }\n\n        const _connect = async () => {\n            try {\n                this.connecting = true;\n                const client = await connectAsync(this.mqttPathmame, {\n                    rejectUnauthorized: false,\n                    username: this.username,\n                    password: this.password,\n                    clientId: this.clientId,\n                    reschedulePings: true,\n                }, true);\n\n                if (this.configTopicPattern) {\n                    await client.subscribeAsync([this.configTopicPattern]);\n                }\n\n                client.on('message', async (messageTopic, message, data) => {\n                    const cbs: MqttMessageCb[] = [];\n                    for (const [key, data] of Object.entries(this.topicCbMap)) {\n                        if (topicMatches(key, messageTopic)) {\n                            cbs.push(...data)\n                        }\n                    }\n                    const messageString = message.toString();\n\n                    if (cbs?.length) {\n                        this.logger.info(`Topic ${messageTopic} sent with data ${message}: ${JSON.stringify(data)}`);\n                        for (const cb of cbs) {\n                            await cb(messageTopic, messageString, data);\n                        }\n                    }\n\n                    if (this.configTopicPattern) {\n                        !!message &&\n                            messageTopic.endsWith('/config') &&\n                            !this.currentAutodiscoveryTopics.includes(messageTopic) &&\n                            this.currentAutodiscoveryTopics.push(messageTopic);\n                    }\n                });\n\n                client.setMaxListeners(Infinity);\n\n                this.logger.log('Connected to MQTT', this.mqttPathmame, this.username, this.clientId);\n                this.mqttClient = client;\n            } catch (e) {\n                this.logger.log('Error connecting to mqtt. Waiting before trying again. Client id is ', this.clientId, e);\n                await this.mqttClient?.endAsync(true);\n                await sleep(5000);\n            } finally {\n                this.connecting = false;\n            }\n        }\n\n        if (!this.mqttClient || forceReconnect) {\n            if (forceReconnect && this.mqttClient) {\n                try {\n                    await this.mqttClient.endAsync();\n                } catch (e) { }\n            }\n            const url = this.host;\n            const urlWithoutPath = new URL(url);\n            urlWithoutPath.pathname = '';\n\n            this.mqttPathmame = urlWithoutPath.toString();\n            if (!this.mqttPathmame.endsWith('/')) {\n                this.mqttPathmame = `${this.mqttPathmame}/`;\n            }\n            this.logger.log('Starting MQTT connection', this.mqttPathmame, this.username, this.clientId);\n\n            await _connect();\n\n            // if (this.mqttClient) {\n            //     this.mqttClient.onKeepaliveTimeout = async () => {\n            //         this.logger.log('keepalive timeout. Reconnecting');\n            //         this.mqttClient.reconnect();\n            //     }\n            // }\n            return this.mqttClient;\n            // } else if (!this.mqttClient.connected) {\n            //     this.logger.log('MQTT disconnected. Reconnecting', this.host, this.username, this.mqttPathmame);\n\n            //     await _connect();\n            //     return this.mqttClient;\n        } else {\n            return this.mqttClient;\n        }\n    }\n\n    async publish(topic: string, inputValue: any, retain = true) {\n        let value: string | Buffer<ArrayBufferLike>;\n        try {\n            if (typeof inputValue === 'object')\n                value = JSON.stringify(inputValue);\n            if (inputValue.constructor.name !== Buffer.name)\n                value = inputValue.toString();\n        } catch (e) {\n            this.logger.log(`Error parsing publish values: ${JSON.stringify({ topic, value })}`, e);\n            return;\n        }\n\n        if (this.topicLastValue[topic] === value) {\n            this.logger.debug(`Skipping publish, same as previous value: ${JSON.stringify({ topic, value, previousValue: this.topicLastValue[topic] })}`);\n\n            return;\n        }\n\n        this.logger.debug(`Publishing ${JSON.stringify({ topic, value })}`);\n        const client = await this.getMqttClient();\n        if (client) {\n            try {\n                await client.publishAsync(topic, value, { retain });\n            } catch (e) {\n                this.logger.log(`Error publishing to MQTT. Reconnecting. ${JSON.stringify({ topic, value })}`, e);\n                await this.getMqttClient(true);\n                await client.publishAsync(topic, value, { retain }).catch(e => this.logger.log(`Error publish retry. ${JSON.stringify({ topic, value })}`, e));\n            } finally {\n                this.topicLastValue[topic] = value;\n            }\n        }\n    }\n\n    public getMqttTopicTopics<Domain extends string = string>(pluginName: string, device: ScryptedDeviceBase) {\n        const deviceId = device.id;\n\n        const getEntityTopic = (entity: string) => `scrypted/${pluginName}/${deviceId}/${entity}`;\n        const getInfoTopic = (entity: string) => `${getEntityTopic(entity)}/info`;\n        const getDiscoveryTopic = (domain: Domain, entity: string) => `homeassistant/${domain}/${pluginName}-${deviceId}/${entity}/config`;\n\n        return {\n            getEntityTopic,\n            getDiscoveryTopic,\n            getInfoTopic,\n        }\n    }\n\n    async subscribe(topics: string[], cb: MqttMessageCb) {\n        await this.unsubscribe(topics);\n        const client = await this.getMqttClient();\n\n        if (client) {\n            await client.subscribeAsync(topics);\n\n            for (const topic of topics) {\n                if (!this.topicCbMap[topic]) {\n                    this.topicCbMap[topic] = [];\n                }\n\n                this.topicCbMap[topic].push(cb);\n            }\n        }\n    }\n\n    async unsubscribe(topics: string[]) {\n        const client = await this.getMqttClient();\n        if (client) {\n            await client.unsubscribeAsync(topics);\n\n            for (const topic of topics) {\n                delete this.topicCbMap[topic];\n            }\n        }\n    }\n\n    async removeAllListeners() {\n        const mqttClient = await this.getMqttClient();\n\n        if (mqttClient) {\n            mqttClient.removeAllListeners();\n        }\n    }\n\n    async cleanupAutodiscoveryTopics(activeTopics: string[]) {\n        const topicsToDelete = this.currentAutodiscoveryTopics.filter(topic => !activeTopics.includes(topic));\n        if (topicsToDelete.length > 0) {\n            for (const topic of topicsToDelete) {\n                await this.publish(topic, '', true);\n            }\n            this.logger.log(`${topicsToDelete.length} topics to delete found: ${topicsToDelete.join(', ')}`);\n        }\n    }\n}\n","import sdk, { DeviceProvider, HttpRequest, HttpRequestHandler, HttpResponse, ScryptedDeviceType, ScryptedInterface, SettingValue } from \"@scrypted/sdk\";\nimport { StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport { BasePlugin } from '../../scrypted-apocaliss-base/src/basePlugin';\nimport FrigateBridgeObjectDetector from \"./objectDetector\";\nimport FrigateBridgeVideoclips from \"./videoclips\";\nimport { FrigateBridgeVideoclipsMixin } from \"./videoclipsMixin\";\nimport http from 'http';\nimport { baseFrigateApi } from \"./utils\";\n\nconst objectDetectorNativeId = 'frigateObjectDetector'\nconst videoclipsNativeId = 'frigateVideoclips'\nconst cameraNativeId = 'frigateBirdseyeCamera'\n\nexport default class FrigateBridgePlugin extends BasePlugin implements DeviceProvider, HttpRequestHandler {\n    initStorage: StorageSettingsDict<string> = {\n        serverUrl: {\n            title: 'Frigate server API URL',\n            description: 'URL to the Frigate server. Example: http://192.168.1.100:5000/api',\n            type: 'string',\n        },\n        importBirdseyeCamera: {\n            title: 'Import Birdseye camera',\n            type: 'boolean',\n            immediate: true,\n            onPut: async (_, active) => await this.executeCameraDiscovery(active)\n        },\n    };\n    storageSettings = new StorageSettings(this, this.initStorage);\n\n    objectDetectorDevice: FrigateBridgeObjectDetector;\n    videoclipsDevice: FrigateBridgeVideoclips;\n    mainInterval: NodeJS.Timeout;\n    labels: string[];\n\n    constructor(nativeId: string) {\n        super(nativeId, {\n            pluginFriendlyName: 'Frigate Bridge',\n        });\n        const logger = this.getLogger();\n\n        this.initData().catch(logger.log);\n    }\n\n    async initData() {\n        const fn = async () => {\n            const res = await baseFrigateApi({\n                apiUrl: this.storageSettings.values.serverUrl,\n                service: 'labels',\n            });\n\n            const labels = res.data as string[];\n            this.labels = [...labels, 'dBFS', 'rms'];\n        }\n\n        this.mainInterval = setInterval(async () => await fn(), 60 * 1000);\n        await fn();\n\n        await sdk.deviceManager.onDeviceDiscovered(\n            {\n                name: 'Frigate Object Detector',\n                nativeId: objectDetectorNativeId,\n                interfaces: [ScryptedInterface.MixinProvider, ScryptedInterface.Settings],\n                type: ScryptedDeviceType.API,\n            }\n        );\n        await sdk.deviceManager.onDeviceDiscovered(\n            {\n                name: 'Frigate Videoclips',\n                nativeId: videoclipsNativeId,\n                interfaces: [ScryptedInterface.MixinProvider, ScryptedInterface.Settings],\n                type: ScryptedDeviceType.API,\n            }\n        );\n        //     await sdk.deviceManager.onDeviceDiscovered(\n        //         {\n        //             name: 'Advanced notifier NVR notifier',\n        //             nativeId: defaultNotifierNativeId,\n        //             interfaces: [ScryptedInterface.Notifier],\n        //             type: ScryptedDeviceType.Notifier,\n        //         },\n        //     );\n\n        //     await this.executeCameraDiscovery(this.storageSettings.values.enableCameraDevice);\n    }\n\n    async executeCameraDiscovery(active: boolean) {\n        const interfaces: ScryptedInterface[] = [ScryptedInterface.Camera, ScryptedInterface.VideoClips];\n\n        if (active) {\n            interfaces.push(ScryptedInterface.VideoCamera);\n        }\n\n        await sdk.deviceManager.onDeviceDiscovered(\n            {\n                name: 'Frigate Birdseye',\n                nativeId: cameraNativeId,\n                interfaces,\n                type: ScryptedDeviceType.Camera,\n            }\n        );\n    }\n\n    async onRequest(request: HttpRequest, response: HttpResponse): Promise<void> {\n        const url = new URL(`http://localhost${request.url}`);\n        const params = url.searchParams.get('params') ?? '{}';\n\n        try {\n            const [_, __, ___, ____, _____, webhook] = url.pathname.split('/');\n            // const [_, __, ___, ____, webhook] = url.pathname.split('/');\n            const { deviceId, eventId, parameters } = JSON.parse(params);\n            const dev: FrigateBridgeVideoclipsMixin = this.videoclipsDevice.currentMixinsMap[deviceId];\n            const devConsole = dev.getLogger();\n            devConsole.debug(`Request with parameters: ${JSON.stringify({\n                webhook,\n                deviceId,\n                eventId,\n                parameters\n            })}`);\n\n            try {\n                if (webhook === 'videoclip') {\n                    devConsole\n                    const range = request.headers.range;\n                    devConsole.log('range is ', range);\n\n                    // if (range) {\n                    //     const parts = range.replace(/bytes=/, \"\").split(\"-\");\n                    //     const start = parseInt(parts[0], 10);\n                    //     const end = parts[1] ? parseInt(parts[1], 10) : fileSize - 1;\n\n                    //     const chunksize = (end - start) + 1;\n                    //     const file = fs.createReadStream(videoClipPath, { start, end });\n\n                    //     const sendVideo = async () => {\n                    //         return new Promise<void>((resolve, reject) => {\n                    //             try {\n                    //                 response.sendStream((async function* () {\n                    //                     for await (const chunk of file) {\n                    //                         yield chunk;\n                    //                     }\n                    //                 })(), {\n                    //                     code: 206,\n                    //                     headers: {\n                    //                         'Content-Range': `bytes ${start}-${end}/${fileSize}`,\n                    //                         'Accept-Ranges': 'bytes',\n                    //                         'Content-Length': chunksize,\n                    //                         'Content-Type': 'video/mp4',\n                    //                     }\n                    //                 });\n\n                    //                 resolve();\n                    //             } catch (err) {\n                    //                 reject(err);\n                    //             }\n                    //         });\n                    //     };\n\n                    //     try {\n                    //         await sendVideo();\n                    //         return;\n                    //     } catch (e) {\n                    //         devConsole.log('Error fetching videoclip', e);\n                    //     }\n                    // } else {\n                    // devConsole.log(`Videoclip requested via API: ${JSON.stringify({\n                    //     videoclipPath,\n                    //     deviceId,\n                    //     playbackPathWithHost,\n                    // })}`);\n\n                    const { videoUrl } = dev.getVideoclipUrls(eventId);\n                    const sendVideo = async () => {\n                        return new Promise<void>((resolve, reject) => {\n                            http.get(videoUrl, { headers: request.headers }, (httpResponse) => {\n                                if (httpResponse.statusCode[0] === 400) {\n                                    reject(new Error(`Error loading the video: ${httpResponse.statusCode} - ${httpResponse.statusMessage}. Headers: ${JSON.stringify(request.headers)}`));\n                                    return;\n                                }\n\n                                try {\n                                    response.sendStream((async function* () {\n                                        for await (const chunk of httpResponse) {\n                                            yield chunk;\n                                        }\n                                    })(), {\n                                        headers: httpResponse.headers\n                                    });\n\n                                    resolve();\n                                } catch (err) {\n                                    reject(err);\n                                }\n                            }).on('error', (e) => {\n                                devConsole.log('Error fetching videoclip', e);\n                                reject(e)\n                            });\n                        });\n                    };\n\n                    try {\n                        await sendVideo();\n                        return;\n                    } catch (e) {\n                        devConsole.log('Error fetching videoclip', e);\n                    }\n                    // }\n\n                    return;\n                } else\n                    if (webhook === 'thumbnail') {\n                        const thumbnailMo = await dev.getVideoClipThumbnail(eventId);\n                        const jpeg = await sdk.mediaManager.convertMediaObjectToBuffer(thumbnailMo, 'image/jpeg');\n                        response.send(jpeg, {\n                            headers: {\n                                'Content-Type': 'image/jpeg',\n                            }\n                        });\n                        return;\n                    }\n            } catch (e) {\n                devConsole.log(`Error in webhook`, e);\n                response.send(`${JSON.stringify(e)}, ${e.message}`, {\n                    code: 400,\n                });\n\n                return;\n            }\n\n            response.send(`Webhook not found: ${url.pathname}`, {\n                code: 404,\n            });\n\n            return;\n        } catch (e) {\n            this.console.log('Error in data parsing for webhook', e);\n            response.send(`Error in data parsing for webhook: ${JSON.stringify({\n                params,\n                url: request.url\n            })}`, {\n                code: 500,\n            });\n        }\n    }\n\n    async getDevice(nativeId: string) {\n        if (nativeId === objectDetectorNativeId)\n            return this.objectDetectorDevice ||= new FrigateBridgeObjectDetector(objectDetectorNativeId, this);\n        if (nativeId === videoclipsNativeId)\n            return this.videoclipsDevice ||= new FrigateBridgeVideoclips(videoclipsNativeId, this);\n        // TODO: Implement birdseye camera\n    }\n\n    async releaseDevice(id: string, nativeId: string): Promise<void> {\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    async getMqttClient() {\n        return await super.getMqttClient('scrypted_frigate_object_detector');\n    }\n\n    async getSettings() {\n        try {\n            const settings = await super.getSettings();\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getSettings', e);\n            return [];\n        }\n    }\n}\n\n","import { MixinProvider, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, SettingValue, WritableDeviceState } from \"@scrypted/sdk\";\nimport { StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport { BasePlugin, getBaseSettings } from '../../scrypted-apocaliss-base/src/basePlugin';\nimport FrigateBridgePlugin from \"./main\";\nimport { FrigateBridgeObjectDetectorMixin } from \"./objectDetectorMixin\";\nimport { FRIGATE_OBJECT_DETECTOR_INTERFACE, FrigateEvent } from \"./utils\";\n\nexport default class FrigateBridgeObjectDetector extends BasePlugin implements MixinProvider {\n    initStorage: StorageSettingsDict<string> = {\n        ...getBaseSettings({\n            onPluginSwitch: (_, enabled) => {\n                this.startStop(enabled);\n            },\n            hideHa: true,\n            baseGroupName: '',\n            mqttAlwaysEnabled: true\n        }),\n        eventsTopic: {\n            title: 'Events topic',\n            defaultValue: 'frigate/events',\n            type: 'string',\n            onPut: async () => await this.startMqttListener(),\n        },\n    };\n    storageSettings = new StorageSettings(this, this.initStorage);\n    currentMixinsMap: Record<string, FrigateBridgeObjectDetectorMixin> = {};\n    plugin: FrigateBridgePlugin;\n\n    constructor(nativeId: string, plugin: FrigateBridgePlugin) {\n        super(nativeId, {\n            pluginFriendlyName: 'Frigate Object Detector',\n        });\n        this.plugin = plugin;\n\n        this.startStop(this.storageSettings.values.pluginEnabled).then().catch(this.getLogger().log);\n    }\n\n    async startStop(enabled: boolean) {\n        if (enabled) {\n            await this.start();\n        } else {\n            await this.stop();\n        }\n    }\n\n    async stop() {\n        await this.mqttClient?.disconnect();\n    }\n\n    async start() {\n        try {\n            await this.startMqttListener();\n        } catch (e) {\n            this.getLogger().log(`Error in initFlow`, e);\n        }\n    }\n\n    async startMqttListener() {\n        const { eventsTopic } = this.storageSettings.values;\n        const mqttClient = await this.getMqttClient();\n        const logger = this.getLogger();\n        const audioTopic = `frigate/+/audio/+`;\n\n        await mqttClient.subscribe([eventsTopic, audioTopic], async (messageTopic, message) => {\n            if (messageTopic === eventsTopic) {\n                const obj: FrigateEvent = JSON.parse(message.toString());\n                logger.debug(`Event received: ${JSON.stringify(obj)}`);\n\n                const foundMixin = Object.values(this.currentMixinsMap).find(mixin => {\n                    const { cameraName } = mixin.storageSettings.values;\n\n                    return cameraName === obj.after.camera;\n                });\n\n                if (foundMixin) {\n                    await foundMixin.onFrigateDetectionEvent(obj);\n                }\n            } else {\n                // frigate/salone/audio/speec rms dBFS\n                const [_, camera, __, type] = messageTopic.split('/');\n                logger.debug(`Audio message received ${messageTopic} ${message}: ${camera} ${type}`);\n\n                const foundMixin = Object.values(this.currentMixinsMap).find(mixin => {\n                    const { cameraName } = mixin.storageSettings.values;\n\n                    return cameraName === camera;\n                });\n\n                if (foundMixin) {\n                    await foundMixin.onFrigateAudioEvent(type, message);\n                }\n            }\n        });\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    async getMqttClient() {\n        return await super.getMqttClient('scrypted_frigate_object_detector');\n    }\n\n    getLogger(device?: ScryptedDeviceBase) {\n        let logger = super.getLogger();\n        if (device) {\n            logger = this.currentMixinsMap[device.id]?.getLogger() ?? logger;\n        }\n\n        return logger;\n    }\n\n    async getSettings() {\n        try {\n            this.storageSettings.settings.info.hide = true;\n            this.storageSettings.settings.devNotifier.hide = true;\n            const settings = await super.getSettings();\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getSettings', e);\n            return [];\n        }\n    }\n\n    async canMixin(type: ScryptedDeviceType, interfaces: string[]): Promise<string[]> {\n        if ((type === ScryptedDeviceType.Camera || type === ScryptedDeviceType.Doorbell) &&\n            (interfaces.includes(ScryptedInterface.VideoCamera) || interfaces.includes(ScryptedInterface.Camera))) {\n            return [\n                ScryptedInterface.Settings,\n                // ScryptedInterface.ObjectDetector,\n                FRIGATE_OBJECT_DETECTOR_INTERFACE]\n        }\n\n        return undefined;\n    }\n\n    async getMixin(mixinDevice: any, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n        return new FrigateBridgeObjectDetectorMixin({\n            mixinDevice,\n            mixinDeviceInterfaces,\n            mixinDeviceState,\n            mixinProviderNativeId: this.nativeId,\n            group: 'Frigate Object Detector',\n            groupKey: 'frigateObjectDetector',\n        }, this)\n    }\n\n    async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n        await mixinDevice.release();\n    }\n}\n\n","import sdk, { MediaObject, ObjectDetectionResult, ObjectDetectionTypes, ObjectDetector, ObjectsDetected, ScryptedInterface, Setting, Settings, SettingValue } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport { DetectionClass, detectionClassesDefaultMap } from \"../../scrypted-advanced-notifier/src/detectionClasses\";\nimport FrigateBridgeObjectDetector from \"./objectDetector\";\nimport { AudioType, baseFrigateApi, convertFrigateBoxToScryptedBox, FrigateEvent, FrigateObjectDetection } from \"./utils\";\nimport MqttClient from \"../../scrypted-apocaliss-base/src/mqtt-client\";\nimport { getBaseLogger, getMqttBasicClient } from \"../../scrypted-apocaliss-base/src/basePlugin\";\n\nexport class FrigateBridgeObjectDetectorMixin extends SettingsMixinDeviceBase<any> implements Settings, ObjectDetector {\n    storageSettings = new StorageSettings(this, {\n        cameraName: {\n            title: 'Frigate camera name',\n            type: 'string',\n        },\n        labels: {\n            title: 'Labels to import',\n            type: 'string',\n            multiple: true,\n            combobox: true,\n            choices: [],\n            defaultValue: [],\n            onGet: async () => {\n                return {\n                    choices: this.plugin.plugin.labels\n                };\n            }\n        },\n        eventTypes: {\n            title: 'Event types',\n            type: 'string',\n            multiple: true,\n            combobox: true,\n            choices: ['new', 'update', 'end'],\n            defaultValue: ['end']\n        },\n    });\n\n    logger: Console;\n\n    constructor(\n        options: SettingsMixinDeviceOptions<any>,\n        public plugin: FrigateBridgeObjectDetector\n    ) {\n        super(options);\n\n        this.plugin.currentMixinsMap[this.id] = this;\n    }\n\n    getDetectionInput(detectionId: string, eventId?: any): Promise<MediaObject> {\n        const logger = this.getLogger();\n        logger.log('getDetectionInput', detectionId);\n\n        const mo = sdk.mediaManager.createMediaObjectFromUrl(`${this.plugin.plugin.storageSettings.values.serverUrl}/events/${detectionId}/snapshot.jpg`);\n        return mo;\n    }\n\n    async getObjectTypes(): Promise<ObjectDetectionTypes> {\n        return {\n            classes: this.plugin.plugin.labels\n        };\n    }\n\n    async onFrigateDetectionEvent(event: FrigateEvent) {\n        const { eventTypes, labels } = this.storageSettings.values;\n        const boundingBox: ObjectDetectionResult['boundingBox'] = convertFrigateBoxToScryptedBox(event.after.box);\n        const className = detectionClassesDefaultMap[event.after.label] || event.after.label;\n        let label;\n        if (className !== event.after.label) {\n            label = event.after.label;\n        }\n\n        const logger = this.getLogger();\n\n        if (\n            !eventTypes?.length ||\n            !labels?.length ||\n            !labels.includes(event.after.label) ||\n            !eventTypes.includes(event.type)) {\n\n            logger.debug('Event skipped', JSON.stringify(event));\n            return;\n        }\n\n        const detection: FrigateObjectDetection = {\n            frigateEvent: event,\n            timestamp: event.after.start_time * 1000,\n            detectionId: event.after.id,\n            inputDimensions: [0, 0],\n            detections: [\n                { className: 'motion', score: 1, boundingBox },\n                {\n                    className,\n                    score: event.after.score,\n                    boundingBox,\n                    label,\n                    movement: {\n                        moving: event.after.active,\n                        firstSeen: event.after.start_time * 1000,\n                        lastSeen: event.after.end_time * 1000,\n                    },\n                    zones: event.after.current_zones,\n                },\n            ]\n        };\n\n        logger.log('Detection event kept', JSON.stringify(detection));\n        this.onDeviceEvent(ScryptedInterface.ObjectDetector, detection);\n    }\n\n    async onFrigateAudioEvent(audioType: AudioType, value: any) {\n        const { labels } = this.storageSettings.values;\n        const className = DetectionClass.Audio;\n\n        const isAudioLevelValue = ['dBFS', 'rms'].includes(audioType);\n\n        const logger = this.getLogger();\n        const parsedValue = isAudioLevelValue ? JSON.parse(value) : value;\n        if (labels?.includes(audioType) && (isAudioLevelValue || parsedValue === 'ON')) {\n            const now = Date.now();\n            const detection: FrigateObjectDetection = {\n                frigateEvent: { type: 'new' } as FrigateEvent,\n                timestamp: now,\n                inputDimensions: [0, 0],\n                detections: [\n                    {\n                        className,\n                        score: 1,\n                        label: audioType\n                    },\n                ]\n            };\n\n            const logMessage = `Audio event kept: ${JSON.stringify(detection)}`;\n            if (isAudioLevelValue) {\n                logger.debug(logMessage);\n            } else {\n                logger.log(logMessage);\n            }\n            this.onDeviceEvent(ScryptedInterface.ObjectDetector, detection);\n        } else {\n            logger.debug('Event skipped', audioType, value);\n        }\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        try {\n            const classes = await this.getObjectTypes();\n            this.storageSettings.settings.labels.choices = classes.classes;\n            return this.storageSettings.getSettings();\n        } catch (e) {\n            this.getLogger().log('Error in getMixinSettings', e);\n            return [];\n        }\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        const [group, ...rest] = key.split(':');\n        if (group === this.settingsGroupKey) {\n            this.storageSettings.putSetting(rest.join(':'), value);\n        } else {\n            super.putSetting(key, value);\n        }\n    }\n\n    async putMixinSetting(key: string, value: string) {\n        this.storageSettings.putSetting(key, value);\n    }\n\n    async release() {\n        const logger = this.getLogger();\n        logger.info('Releasing mixin');\n    }\n\n    public getLogger() {\n        if (!this.logger) {\n            const newLogger = getBaseLogger({\n                deviceConsole: this.console,\n                storage: this.storageSettings,\n            });\n\n            this.logger = newLogger;\n        }\n\n        return this.logger;\n    }\n}\n","import axios from 'axios';\nimport { name } from '../package.json';\nimport sdk, { ObjectsDetected } from '@scrypted/sdk';\n\nexport const FRIGATE_OBJECT_DETECTOR_INTERFACE = `${name}:objectDetector`;\nexport const FRIGATE_VIDEOCLIPS_INTERFACE = `${name}:videoclips`;\n\nexport type FrigateObjectDetection = ObjectsDetected & { frigateEvent: FrigateEvent };\n\ninterface Snapshot {\n    frame_time: number;\n    box: [number, number, number, number];\n    area: number;\n    region: [number, number, number, number];\n    score: number;\n    attributes: any[]; // Lista vuota o altri attributi se servono più dettagli\n}\n\ninterface AttributeDetail {\n    label: string;\n    box: [number, number, number, number];\n    score: number;\n}\n\ninterface DetectionData {\n    id: string;\n    camera: string;\n    frame_time: number;\n    snapshot: Snapshot;\n    label: string;\n    sub_label: [string, number] | null;\n    top_score: number;\n    false_positive: boolean;\n    start_time: number;\n    end_time: number | null;\n    score: number;\n    box: [number, number, number, number];\n    area: number;\n    ratio: number;\n    region: [number, number, number, number];\n    current_zones: string[];\n    entered_zones: string[];\n    thumbnail: string | null;\n    has_snapshot: boolean;\n    has_clip: boolean;\n    active: boolean;\n    stationary: boolean;\n    motionless_count: number;\n    position_changes: number;\n    attributes: Record<string, number>; // esempio: { face: 0.86 }\n    current_attributes: AttributeDetail[];\n}\n\nexport interface FrigateEvent {\n    type: 'new' | 'update' | 'end';\n    before: DetectionData;\n    after: DetectionData;\n}\n\nexport interface FrigateVideoClip {\n    id: string;\n    camera: string;\n    label: string;\n    zones: string[];\n    start_time: number;\n    end_time: number;\n    has_clip: boolean;\n    has_snapshot: boolean;\n    plus_id: string | null;\n    retain_indefinitely: boolean;\n    sub_label: string | null;\n    top_score: number | null;\n    false_positive: boolean | null;\n    box: number[] | null;\n    data: {\n        box: number[];\n        region: number[];\n        score: number;\n        top_score: number;\n        attributes: string[];\n        type: 'object';\n        max_severity: 'alert' | 'detection'; // se \"alert\" è l'unico valore possibile, lascialo così\n    };\n    thumbnail: string; // base64 stringa dell'immagine\n}\n\nexport const convertFrigateBoxToScryptedBox = (frigateBox: [number, number, number, number]): [number, number, number, number] => {\n    const [xMin, yMin, xMax, yMax] = frigateBox;\n    const width = xMax - xMin;\n    const height = yMax - yMin;\n    return [xMin, yMin, width, height];\n}\n\nexport const baseFrigateApi = (props: {\n    apiUrl: string;\n    service: string;\n    params?: any;\n}) => {\n    const { apiUrl, service, params } = props;\n\n    const url = `${apiUrl}/${service}`;\n    return axios.get(url.toString(), {\n        params\n    });\n}\n\nexport type AudioType = 'dBFS' | 'rms' | string;","import { MixinProvider, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, SettingValue, WritableDeviceState } from \"@scrypted/sdk\";\nimport { StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport { BasePlugin, getBaseLogger } from '../../scrypted-apocaliss-base/src/basePlugin';\nimport FrigateBridgePlugin from \"./main\";\nimport { FRIGATE_VIDEOCLIPS_INTERFACE } from \"./utils\";\nimport { FrigateBridgeVideoclipsMixin } from \"./videoclipsMixin\";\n\nexport default class FrigateBridgeVideoclips extends BasePlugin implements MixinProvider {\n    initStorage: StorageSettingsDict<string> = {\n        debug: {\n            title: 'Log debug messages',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n        },\n    };\n    storageSettings = new StorageSettings(this, this.initStorage);\n    currentMixinsMap: Record<string, FrigateBridgeVideoclipsMixin> = {};\n    plugin: FrigateBridgePlugin;\n\n    constructor(nativeId: string, plugin: FrigateBridgePlugin) {\n        super(nativeId, {\n            pluginFriendlyName: 'Frigate Videoclips',\n        });\n        this.plugin = plugin;\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    public getLogger(device?: ScryptedDeviceBase) {\n        const newLogger = getBaseLogger({\n            deviceConsole: device ? this.currentMixinsMap[device.id].console : this.console,\n            storage: this.storageSettings,\n            friendlyName: `scrypted_frigate_videoclips_${device ? device?.id : 'device'}`\n        });\n\n        return newLogger;\n    }\n\n    async getSettings() {\n        try {\n            const settings = await super.getSettings();\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getSettings', e);\n            return [];\n        }\n    }\n\n    async canMixin(type: ScryptedDeviceType, interfaces: string[]): Promise<string[]> {\n        if ((type === ScryptedDeviceType.Camera || type === ScryptedDeviceType.Doorbell) &&\n            (interfaces.includes(ScryptedInterface.VideoCamera) || interfaces.includes(ScryptedInterface.Camera))) {\n            return [\n                ScryptedInterface.Settings,\n                ScryptedInterface.VideoClips,\n                FRIGATE_VIDEOCLIPS_INTERFACE\n            ];\n        }\n\n        return undefined;\n    }\n\n    async getMixin(mixinDevice: any, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n        return new FrigateBridgeVideoclipsMixin({\n            mixinDevice,\n            mixinDeviceInterfaces,\n            mixinDeviceState,\n            mixinProviderNativeId: this.nativeId,\n            group: 'Frigate Videoclips',\n            groupKey: 'frigateVideoclips',\n        }, this)\n    }\n\n    async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n        await mixinDevice.release();\n    }\n}\n\n","import sdk, { MediaObject, ScryptedDeviceBase, Setting, Settings, SettingValue, VideoClip, VideoClipOptions, VideoClips, VideoClipThumbnailOptions } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport { detectionClassesDefaultMap } from \"../../scrypted-advanced-notifier/src/detectionClasses\";\nimport { baseFrigateApi, FrigateVideoClip } from \"./utils\";\nimport FrigateBridgeVideoclips from \"./videoclips\";\nconst { systemManager } = sdk;\n\nexport class FrigateBridgeVideoclipsMixin extends SettingsMixinDeviceBase<any> implements Settings, VideoClips {\n    storageSettings = new StorageSettings(this, {\n        cameraName: {\n            title: 'Frigate camera name',\n            type: 'string',\n        },\n    });\n\n    logger: Console;\n    cameraDevice: ScryptedDeviceBase;\n\n    constructor(\n        options: SettingsMixinDeviceOptions<any>,\n        public plugin: FrigateBridgeVideoclips\n    ) {\n        super(options);\n        this.cameraDevice = sdk.systemManager.getDeviceById<ScryptedDeviceBase>(this.id);\n\n        this.plugin.currentMixinsMap[this.id] = this;\n    }\n\n    getLogger() {\n        return this.plugin.getLogger(this.cameraDevice);\n    }\n\n    getVideoclipUrls(eventId: string) {\n        const videoUrl = `${this.plugin.plugin.storageSettings.values.serverUrl}/events/${eventId}/clip.mp4`;\n        const snapshotCleanUrl = `${this.plugin.plugin.storageSettings.values.serverUrl}/events/${eventId}/snapshot-clean.png`;\n        const thumbnailUrl = `${this.plugin.plugin.storageSettings.values.serverUrl}/events/${eventId}/thumbnail.jpg`;\n\n        return {\n            videoUrl,\n            thumbnailUrl,\n            snapshotCleanUrl,\n        };\n    }\n\n    async getVideoclipWebhookUrls(eventId: string) {\n        const cloudEndpoint = await sdk.endpointManager.getCloudEndpoint(undefined, { public: true });\n        const [endpoint, parameters] = cloudEndpoint.split('?') ?? '';\n        const params = {\n            deviceId: this.id,\n            eventId,\n        }\n\n        const videoclipUrl = `${endpoint}videoclip?params=${JSON.stringify(params)}&${parameters}`;\n        const thumbnailUrl = `${endpoint}thumbnail?params=${JSON.stringify(params)}&${parameters}`;\n\n        return { videoclipUrl, thumbnailUrl };\n    }\n\n    async getVideoClips(options?: VideoClipOptions): Promise<VideoClip[]> {\n        const { count, endTime, startTime } = options;\n        const logger = this.getLogger();\n\n        try {\n            const service = `events`;\n\n            const params = {\n                camera: this.storageSettings.values.cameraName,\n                after: startTime / 1000,\n                before: endTime / 1000,\n                limit: count || 10000,\n                // has_clip: true,\n                // has_snapshot: true,\n                // in_progress: false,\n                // include_thumbnails: false,\n            };\n\n            const res = await baseFrigateApi({\n                apiUrl: this.plugin.plugin.storageSettings.values.serverUrl,\n                service,\n                params\n            });\n\n            logger.debug('getFrigateEvents', options, res.data);\n\n            const events = res.data as FrigateVideoClip[];\n            const filteredEvents = events\n                .filter(event => event.has_clip && event.has_snapshot && event.data.type === 'object');\n                // .filter(event => event.has_clip && event.has_snapshot && event.data.max_severity === 'alert');\n\n            const videoclips: VideoClip[] = [];\n            for (const event of filteredEvents) {\n\n                const startTime = event.start_time * 1000;\n                const endTime = event.end_time * 1000;\n                const { thumbnailUrl, videoclipUrl } = await this.getVideoclipWebhookUrls(event.id);\n\n                const videoclip: VideoClip = {\n                    id: event.id,\n                    startTime,\n                    duration: endTime - startTime,\n                    detectionClasses: [detectionClassesDefaultMap[event.label]],\n                    event: event.label,\n                    thumbnailId: event.id,\n                    videoId: event.id,\n                    resources: {\n                        video: {\n                            href: videoclipUrl,\n                        },\n                        thumbnail: {\n                            href: thumbnailUrl,\n                        },\n                    }\n                };\n\n                videoclips.push(videoclip);\n            }\n\n            return videoclips;\n\n        } catch (e) {\n            logger.error('Error in getRecordedEvents', e);\n            return [];\n        }\n    }\n\n    async getVideoClip(videoId: string): Promise<MediaObject> {\n        const logger = this.getLogger();\n\n        try {\n            const { videoUrl } = this.getVideoclipUrls(videoId);\n            const mo = await sdk.mediaManager.createMediaObjectFromUrl(videoUrl);\n\n            return mo;\n        } catch (e) {\n            logger.error('Error in getVideoClip', videoId, e);\n        }\n    }\n\n    async getVideoClipThumbnail(thumbnailId: string, options?: VideoClipThumbnailOptions): Promise<MediaObject> {\n        const logger = this.getLogger();\n\n        try {\n            const { thumbnailUrl } = this.getVideoclipUrls(thumbnailId);\n            const mo = await sdk.mediaManager.createMediaObjectFromUrl(thumbnailUrl);\n\n            return mo;\n        } catch (e) {\n            logger.error('Error in getVideoClip', thumbnailId, e);\n        }\n    }\n\n    removeVideoClips(...videoClipIds: string[]): Promise<void> {\n        throw new Error(\"Method not implemented.\");\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        try {\n            return this.storageSettings.getSettings();\n        } catch (e) {\n            this.getLogger().log('Error in getMixinSettings', e);\n            return [];\n        }\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        const [group, ...rest] = key.split(':');\n        if (group === this.settingsGroupKey) {\n            this.storageSettings.putSetting(rest.join(':'), value);\n        } else {\n            super.putSetting(key, value);\n        }\n    }\n\n    async putMixinSetting(key: string, value: string) {\n        this.storageSettings.putSetting(key, value);\n    }\n\n    async release() {\n        const logger = this.getLogger();\n        logger.info('Releasing mixin');\n    }\n}\n","import sdk, { DeviceProvider, StreamService } from \"@scrypted/sdk\";\nimport { createAsyncQueue, createAsyncQueueFromGenerator } from '../../scrypted/common/src/async-queue';\nimport net from 'net';\nimport { once } from 'events';\n\nexport interface RemoteLogService {\n    console: Console;\n\n    disconnect(): Promise<void>;\n    push(props: { level: LogLevel, plugin: string, message: string, timestamp: Date }): Promise<void>;\n}\n\nexport enum RemoteLogServiceEnum {\n    Syslog = 'Syslog',\n}\n\nexport enum LogLevel {\n    ERROR = 'ERROR',\n    WARN = 'WARN',\n    NOTICE = 'NOTICE',\n    INFO = 'INFO',\n    DEBUG = 'DEBUG',\n}\n\nexport const getPluginConsole = async (props: {\n    pluginId: string,\n    onClosed: () => void,\n}) => {\n    const { pluginId, onClosed } = props;\n\n    const dataQueue = createAsyncQueue<Buffer>();\n    const hello = Buffer.from('undefined', 'utf8');\n    dataQueue.enqueue(hello);\n\n    async function* localGenerator() {\n        while (true) {\n            const dataBuffers = dataQueue.clear();\n            if (dataBuffers.length === 0) {\n                const buf = await dataQueue.dequeue();\n                if (buf.length)\n                    yield buf;\n                continue;\n            }\n\n            const concat = Buffer.concat(dataBuffers);\n            if (concat.length)\n                yield concat;\n        }\n    }\n\n    const localQueue = createAsyncQueueFromGenerator(localGenerator());\n\n    const plugin = sdk.systemManager.getDeviceByName<DeviceProvider>(\"@scrypted/core\");\n    const streamSvc = await plugin.getDevice('consoleservice') as StreamService<Buffer | string, Buffer>;\n    const streamSvcDirect = await sdk.connectRPCObject(streamSvc);\n    const remoteGenerator = await streamSvcDirect.connectStream(localQueue.queue as AsyncGenerator<Buffer | string>, {\n        pluginId\n    });\n\n    const plugins = await sdk.systemManager.getComponent('plugins');\n    const servicePort = await plugins.getRemoteServicePort(pluginId, 'console') as number | [number, string];\n    const [port, host] = Array.isArray(servicePort) ? servicePort : [servicePort, undefined];\n\n    const socket = net.connect({\n        port,\n        host,\n    });\n    await once(socket, 'connect');\n\n    socket.on('close', onClosed);\n    // socket.on('end', () => queue.end());\n\n    return { remoteGenerator };\n}\n\nexport const parseLog = (lineParent: string) => {\n    const line = lineParent.replaceAll('\\n', '');\n    const cameraRegex = /^(\\[.*\\]) .*, .* - \\[(.*)\\]: (.*)$/;\n    const matchCamera = line.match(cameraRegex);\n\n    if (matchCamera) {\n        const cameraName = matchCamera[1];\n        const severity = matchCamera[2] as LogLevel;\n        const messageBody = matchCamera[3];\n\n        const message = `[${severity}]: ${cameraName} - ${messageBody}`;\n\n        return { severity, message };\n    } else {\n        const pluginRegex = /^.*, .* - \\[(.*)\\]: (.*)$/;\n        const matchPlugin = line.match(pluginRegex);\n\n        if (matchPlugin) {\n            const severity = matchPlugin[1] as LogLevel;\n            const messageBody = matchPlugin[2];\n\n            const message = `[${severity}]: ${messageBody}`;\n\n            return { severity, message };\n        }\n    }\n\n    return { message: line, severity: LogLevel.NOTICE };\n}","import { Deferred } from \"./deferred\";\n\nclass EndError extends Error {\n}\n\nexport function createAsyncQueue<T>() {\n    let ended: Error | undefined;\n    const endDeferred = new Deferred<void>();\n    const waiting: Deferred<T>[] = [];\n    const queued: { item: T, dequeued?: Deferred<void> }[] = [];\n\n    const dequeue = async () => {\n        if (queued.length) {\n            const { item, dequeued: enqueue } = queued.shift()!;\n            enqueue?.resolve();\n            return item;\n        }\n\n        if (ended)\n            throw ended;\n\n        const deferred = new Deferred<T>();\n        waiting.push(deferred);\n        return deferred.promise;\n    }\n\n    const take = () => {\n        if (queued.length) {\n            const { item, dequeued: enqueue } = queued.shift()!;\n            enqueue?.resolve();\n            return item;\n        }\n\n        if (ended)\n            throw ended;\n    }\n\n    const submit = (item: T, dequeued?: Deferred<void>, signal?: AbortSignal) => {\n        if (ended)\n            return false;\n\n        if (waiting.length) {\n            const deferred = waiting.shift()!;\n            dequeued?.resolve();\n            deferred.resolve(item);\n            return true;\n        }\n\n        if (signal)\n            dequeued ||= new Deferred();\n\n        const qi = {\n            item,\n            dequeued,\n        };\n        queued!.push(qi);\n\n        if (!signal)\n            return true;\n\n        const h = () => {\n            const index = queued.indexOf(qi);\n            if (index === -1)\n                return;\n            queued.splice(index, 1);\n            dequeued?.reject(new Error('abort'));\n        };\n\n        dequeued?.promise.catch(() => {}).finally(() => signal.removeEventListener('abort', h));\n        signal.addEventListener('abort', h);\n\n        return true;\n    }\n\n    function end(e?: Error) {\n        if (ended)\n            return false;\n        // catch to prevent unhandled rejection.\n        ended = e || new EndError();\n        endDeferred.resolve();\n        while (waiting.length) {\n            waiting.shift()!.reject(ended);\n        }\n        return true;\n    }\n\n    function queue() {\n        return (async function* () {\n            try {\n                while (true) {\n                    try {\n                        const item = await dequeue();\n                        yield item;\n                    }\n                    catch (e) {\n                        // the yield above may raise an error, and the queue should be ended.\n                        end(e as Error);\n                        if (e instanceof EndError)\n                            return;\n                        throw e;\n                    }\n                }\n            }\n            finally {\n                // the yield above may cause an iterator return, and the queue should be ended.\n                end();\n            }\n        })();\n    }\n\n    function clear(error?: Error) {\n        const ret: T[] = [];\n        const items = queued.splice(0, queued.length);\n        for (const item of items) {\n            if (error)\n                item.dequeued?.reject(error)\n            else\n                item.dequeued?.resolve(undefined);\n            ret.push(item.item);\n        }\n\n        return ret;\n    }\n\n    return {\n        [Symbol.dispose]() {\n            end(new Error('async queue disposed'));\n        },\n        get ended() {\n            return ended;\n        },\n        endPromise: endDeferred.promise,\n        take,\n        clear() {\n            return clear();\n        },\n        queued,\n        async pipe(callback: (i: T) => void) {\n            for await (const i of queue()) {\n                callback(i as any);\n            }\n        },\n        submit(item: T, signal?: AbortSignal) {\n            return submit(item, undefined, signal);\n        },\n        end,\n        async enqueue(item: T, signal?: AbortSignal) {\n            const dequeued = new Deferred<void>();\n            if (!submit(item, dequeued, signal))\n                return false;\n            await dequeued.promise;\n            return true;\n        },\n        dequeue,\n        get queue() {\n            return queue();\n        }\n    }\n}\n\nexport function createAsyncQueueFromGenerator<T>(generator: AsyncGenerator<T>) {\n    const q = createAsyncQueue<T>();\n    (async() => {\n        try {\n            for await (const i of generator) {\n                await q.enqueue(i);\n            }\n        }\n        catch (e) {\n            q.end(e as Error);\n        }\n        q.end();\n    })();\n\n    return q;\n}\n\n// async function testSlowEnqueue() {\n//     const asyncQueue = createAsyncQueue<number>();\n\n//     asyncQueue.submit(-1);\n//     asyncQueue.submit(-1);\n//     asyncQueue.submit(-1);\n//     asyncQueue.submit(-1);\n\n//     (async () => {\n//         console.log('go');\n//         for (let i = 0; i < 10; i++) {\n//             asyncQueue.submit(i);\n//             await sleep(100);\n//         }\n//         asyncQueue.end(new Error('fail'));\n//     })();\n\n\n//     const runQueue = async (str?: string) => {\n//         for await (const n of asyncQueue.queue) {\n//             console.log(str, n);\n//         }\n//     }\n\n//     runQueue('start');\n\n//     setTimeout(runQueue, 400);\n// }\n\n\n\n// async function testSlowDequeue() {\n//     const asyncQueue = createAsyncQueue<number>();\n\n//     const runQueue = async (str?: string) => {\n//         for await (const n of asyncQueue.queue) {\n//             await sleep(100);\n//         }\n//     }\n\n//     runQueue()\n//     .catch(e => console.error('queue threw', e));\n\n//     console.log('go');\n//     for (let i = 0; i < 10; i++) {\n//         console.log(await asyncQueue.enqueue(i));\n//         console.log(i);\n//     }\n//     asyncQueue.end(new Error('fail'));\n//     console.log(await asyncQueue.enqueue(555));\n// }\n\n// testSlowDequeue();\n","export class Deferred<T> {\n    finished = false;\n    resolve!: (value: T) => this;\n    reject!: (error: Error) => this;\n\n    [Symbol.dispose]() {\n        if (!this.finished)\n            this.reject(new Error('deferred disposed without being resolved'));\n    }\n\n    async resolvePromise(p: Promise<T>) {\n        try {\n            this.resolve(await p);\n        }\n        catch (e) {\n            this.reject(e as Error);\n        }\n    }\n    promise = new Promise<T>((resolve, reject) => {\n        this.resolve = v => {\n            this.finished = true;\n            resolve(v);\n            return this;\n        };\n        this.reject = e => {\n            this.finished = true;\n            reject(e);\n            return this;\n        };\n    });\n}\n","export async function sleep(ms: number) {\n    await new Promise(resolve => setTimeout(resolve, ms));\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst index_1 = require(\"../types/gen/index\");\nconst module_1 = require(\"module\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = exports.sdk.deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = exports.sdk.deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = exports.sdk.deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = exports.sdk.systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = exports.sdk.deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = exports.sdk.deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (exports.sdk.deviceManager.getMixinConsole)\n                this._console = exports.sdk.deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = exports.sdk.deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let loaded = false;\n    try {\n        // todo: remove usage of process.env.SCRYPTED_SDK_MODULE, only existed in prerelease builds.\n        // import.meta is not a reliable way to detect es module support in webpack since webpack\n        // evaluates that to true at runtime.\n        const esModule = process.env.SCRYPTED_SDK_ES_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        const cjsModule = process.env.SCRYPTED_SDK_CJS_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        // @ts-expect-error\n        if (esModule && typeof import.meta !== 'undefined') {\n            // @ts-expect-error\n            const require = (0, module_1.createRequire)(import.meta.url);\n            const sdkModule = require(esModule);\n            Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n            loaded = true;\n        }\n        else if (cjsModule) {\n            // @ts-expect-error\n            if (typeof __non_webpack_require__ !== 'undefined') {\n                // @ts-expect-error\n                const sdkModule = __non_webpack_require__(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n            else {\n                const sdkModule = require(cjsModule);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n        }\n    }\n    catch (e) {\n        console.warn(\"failed to load sdk module\", e);\n        throw e;\n    }\n    if (!loaded) {\n        let runtimeAPI;\n        try {\n            runtimeAPI = pluginRuntimeAPI;\n        }\n        catch (e) {\n        }\n        Object.assign(exports.sdk, {\n            log: deviceManager.getDeviceLogger(undefined),\n            deviceManager,\n            endpointManager,\n            mediaManager,\n            systemManager,\n            pluginHostAPI,\n            ...runtimeAPI,\n        });\n    }\n    try {\n        exports.sdk.systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, index_1.ScryptedInterfaceDescriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 1832;\nmodule.exports = webpackEmptyContext;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.3.114\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"buttons\"] = \"buttons\";\n    ScryptedInterfaceProperty[\"sensors\"] = \"sensors\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"sleeping\"] = \"sleeping\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"pressButton\"] = \"pressButton\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getVideoTextOverlays\"] = \"getVideoTextOverlays\";\n    ScryptedInterfaceMethod[\"setVideoTextOverlay\"] = \"setVideoTextOverlay\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"forkInterface\"] = \"forkInterface\";\n    ScryptedInterfaceMethod[\"trackObjects\"] = \"trackObjects\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    \"ScryptedDevice\": {\n        \"name\": \"ScryptedDevice\",\n        \"methods\": [\n            \"listen\",\n            \"probe\",\n            \"setMixins\",\n            \"setName\",\n            \"setRoom\",\n            \"setType\"\n        ],\n        \"properties\": [\n            \"id\",\n            \"info\",\n            \"interfaces\",\n            \"mixins\",\n            \"name\",\n            \"nativeId\",\n            \"pluginId\",\n            \"providedInterfaces\",\n            \"providedName\",\n            \"providedRoom\",\n            \"providedType\",\n            \"providerId\",\n            \"room\",\n            \"type\"\n        ]\n    },\n    \"ScryptedPlugin\": {\n        \"name\": \"ScryptedPlugin\",\n        \"methods\": [\n            \"getPluginJson\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedPluginRuntime\": {\n        \"name\": \"ScryptedPluginRuntime\",\n        \"methods\": [],\n        \"properties\": [\n            \"scryptedRuntimeArguments\"\n        ]\n    },\n    \"OnOff\": {\n        \"name\": \"OnOff\",\n        \"methods\": [\n            \"turnOff\",\n            \"turnOn\"\n        ],\n        \"properties\": [\n            \"on\"\n        ]\n    },\n    \"Brightness\": {\n        \"name\": \"Brightness\",\n        \"methods\": [\n            \"setBrightness\"\n        ],\n        \"properties\": [\n            \"brightness\"\n        ]\n    },\n    \"ColorSettingTemperature\": {\n        \"name\": \"ColorSettingTemperature\",\n        \"methods\": [\n            \"getTemperatureMaxK\",\n            \"getTemperatureMinK\",\n            \"setColorTemperature\"\n        ],\n        \"properties\": [\n            \"colorTemperature\"\n        ]\n    },\n    \"ColorSettingRgb\": {\n        \"name\": \"ColorSettingRgb\",\n        \"methods\": [\n            \"setRgb\"\n        ],\n        \"properties\": [\n            \"rgb\"\n        ]\n    },\n    \"ColorSettingHsv\": {\n        \"name\": \"ColorSettingHsv\",\n        \"methods\": [\n            \"setHsv\"\n        ],\n        \"properties\": [\n            \"hsv\"\n        ]\n    },\n    \"Buttons\": {\n        \"name\": \"Buttons\",\n        \"methods\": [],\n        \"properties\": [\n            \"buttons\"\n        ]\n    },\n    \"PressButtons\": {\n        \"name\": \"PressButtons\",\n        \"methods\": [\n            \"pressButton\"\n        ],\n        \"properties\": []\n    },\n    \"Sensors\": {\n        \"name\": \"Sensors\",\n        \"methods\": [],\n        \"properties\": [\n            \"sensors\"\n        ]\n    },\n    \"Notifier\": {\n        \"name\": \"Notifier\",\n        \"methods\": [\n            \"sendNotification\"\n        ],\n        \"properties\": []\n    },\n    \"StartStop\": {\n        \"name\": \"StartStop\",\n        \"methods\": [\n            \"start\",\n            \"stop\"\n        ],\n        \"properties\": [\n            \"running\"\n        ]\n    },\n    \"Pause\": {\n        \"name\": \"Pause\",\n        \"methods\": [\n            \"pause\",\n            \"resume\"\n        ],\n        \"properties\": [\n            \"paused\"\n        ]\n    },\n    \"Dock\": {\n        \"name\": \"Dock\",\n        \"methods\": [\n            \"dock\"\n        ],\n        \"properties\": [\n            \"docked\"\n        ]\n    },\n    \"TemperatureSetting\": {\n        \"name\": \"TemperatureSetting\",\n        \"methods\": [\n            \"setTemperature\"\n        ],\n        \"properties\": [\n            \"temperatureSetting\"\n        ]\n    },\n    \"Thermometer\": {\n        \"name\": \"Thermometer\",\n        \"methods\": [\n            \"setTemperatureUnit\"\n        ],\n        \"properties\": [\n            \"temperature\",\n            \"temperatureUnit\"\n        ]\n    },\n    \"HumiditySensor\": {\n        \"name\": \"HumiditySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"humidity\"\n        ]\n    },\n    \"Camera\": {\n        \"name\": \"Camera\",\n        \"methods\": [\n            \"getPictureOptions\",\n            \"takePicture\"\n        ],\n        \"properties\": []\n    },\n    \"Microphone\": {\n        \"name\": \"Microphone\",\n        \"methods\": [\n            \"getAudioStream\"\n        ],\n        \"properties\": []\n    },\n    \"AudioVolumeControl\": {\n        \"name\": \"AudioVolumeControl\",\n        \"methods\": [\n            \"setAudioVolumes\"\n        ],\n        \"properties\": [\n            \"audioVolumes\"\n        ]\n    },\n    \"Display\": {\n        \"name\": \"Display\",\n        \"methods\": [\n            \"startDisplay\",\n            \"stopDisplay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCamera\": {\n        \"name\": \"VideoCamera\",\n        \"methods\": [\n            \"getVideoStream\",\n            \"getVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraMask\": {\n        \"name\": \"VideoCameraMask\",\n        \"methods\": [\n            \"getPrivacyMasks\",\n            \"setPrivacyMasks\"\n        ],\n        \"properties\": []\n    },\n    \"VideoTextOverlays\": {\n        \"name\": \"VideoTextOverlays\",\n        \"methods\": [\n            \"getVideoTextOverlays\",\n            \"setVideoTextOverlay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoRecorder\": {\n        \"name\": \"VideoRecorder\",\n        \"methods\": [\n            \"getRecordingStream\",\n            \"getRecordingStreamCurrentTime\",\n            \"getRecordingStreamOptions\",\n            \"getRecordingStreamThumbnail\"\n        ],\n        \"properties\": [\n            \"recordingActive\"\n        ]\n    },\n    \"VideoRecorderManagement\": {\n        \"name\": \"VideoRecorderManagement\",\n        \"methods\": [\n            \"deleteRecordingStream\",\n            \"setRecordingActive\"\n        ],\n        \"properties\": []\n    },\n    \"PanTiltZoom\": {\n        \"name\": \"PanTiltZoom\",\n        \"methods\": [\n            \"ptzCommand\"\n        ],\n        \"properties\": [\n            \"ptzCapabilities\"\n        ]\n    },\n    \"EventRecorder\": {\n        \"name\": \"EventRecorder\",\n        \"methods\": [\n            \"getRecordedEvents\"\n        ],\n        \"properties\": []\n    },\n    \"VideoClips\": {\n        \"name\": \"VideoClips\",\n        \"methods\": [\n            \"getVideoClip\",\n            \"getVideoClips\",\n            \"getVideoClipThumbnail\",\n            \"removeVideoClips\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraConfiguration\": {\n        \"name\": \"VideoCameraConfiguration\",\n        \"methods\": [\n            \"setVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"Intercom\": {\n        \"name\": \"Intercom\",\n        \"methods\": [\n            \"startIntercom\",\n            \"stopIntercom\"\n        ],\n        \"properties\": []\n    },\n    \"Lock\": {\n        \"name\": \"Lock\",\n        \"methods\": [\n            \"lock\",\n            \"unlock\"\n        ],\n        \"properties\": [\n            \"lockState\"\n        ]\n    },\n    \"PasswordStore\": {\n        \"name\": \"PasswordStore\",\n        \"methods\": [\n            \"addPassword\",\n            \"getPasswords\",\n            \"removePassword\"\n        ],\n        \"properties\": []\n    },\n    \"Scene\": {\n        \"name\": \"Scene\",\n        \"methods\": [\n            \"activate\",\n            \"deactivate\",\n            \"isReversible\"\n        ],\n        \"properties\": []\n    },\n    \"Entry\": {\n        \"name\": \"Entry\",\n        \"methods\": [\n            \"closeEntry\",\n            \"openEntry\"\n        ],\n        \"properties\": []\n    },\n    \"EntrySensor\": {\n        \"name\": \"EntrySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"entryOpen\"\n        ]\n    },\n    \"DeviceProvider\": {\n        \"name\": \"DeviceProvider\",\n        \"methods\": [\n            \"getDevice\",\n            \"releaseDevice\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceDiscovery\": {\n        \"name\": \"DeviceDiscovery\",\n        \"methods\": [\n            \"adoptDevice\",\n            \"discoverDevices\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceCreator\": {\n        \"name\": \"DeviceCreator\",\n        \"methods\": [\n            \"createDevice\",\n            \"getCreateDeviceSettings\"\n        ],\n        \"properties\": []\n    },\n    \"Battery\": {\n        \"name\": \"Battery\",\n        \"methods\": [],\n        \"properties\": [\n            \"batteryLevel\"\n        ]\n    },\n    \"Charger\": {\n        \"name\": \"Charger\",\n        \"methods\": [],\n        \"properties\": [\n            \"chargeState\"\n        ]\n    },\n    \"Reboot\": {\n        \"name\": \"Reboot\",\n        \"methods\": [\n            \"reboot\"\n        ],\n        \"properties\": []\n    },\n    \"Refresh\": {\n        \"name\": \"Refresh\",\n        \"methods\": [\n            \"getRefreshFrequency\",\n            \"refresh\"\n        ],\n        \"properties\": []\n    },\n    \"MediaPlayer\": {\n        \"name\": \"MediaPlayer\",\n        \"methods\": [\n            \"getMediaStatus\",\n            \"load\",\n            \"seek\",\n            \"skipNext\",\n            \"skipPrevious\"\n        ],\n        \"properties\": []\n    },\n    \"Online\": {\n        \"name\": \"Online\",\n        \"methods\": [],\n        \"properties\": [\n            \"online\"\n        ]\n    },\n    \"BufferConverter\": {\n        \"name\": \"BufferConverter\",\n        \"methods\": [\n            \"convert\"\n        ],\n        \"properties\": [\n            \"fromMimeType\",\n            \"toMimeType\"\n        ]\n    },\n    \"MediaConverter\": {\n        \"name\": \"MediaConverter\",\n        \"methods\": [\n            \"convertMedia\"\n        ],\n        \"properties\": [\n            \"converters\"\n        ]\n    },\n    \"Settings\": {\n        \"name\": \"Settings\",\n        \"methods\": [\n            \"getSettings\",\n            \"putSetting\"\n        ],\n        \"properties\": []\n    },\n    \"BinarySensor\": {\n        \"name\": \"BinarySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"binaryState\"\n        ]\n    },\n    \"TamperSensor\": {\n        \"name\": \"TamperSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"tampered\"\n        ]\n    },\n    \"Sleep\": {\n        \"name\": \"Sleep\",\n        \"methods\": [],\n        \"properties\": [\n            \"sleeping\"\n        ]\n    },\n    \"PowerSensor\": {\n        \"name\": \"PowerSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"powerDetected\"\n        ]\n    },\n    \"AudioSensor\": {\n        \"name\": \"AudioSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"audioDetected\"\n        ]\n    },\n    \"MotionSensor\": {\n        \"name\": \"MotionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"motionDetected\"\n        ]\n    },\n    \"AmbientLightSensor\": {\n        \"name\": \"AmbientLightSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ambientLight\"\n        ]\n    },\n    \"OccupancySensor\": {\n        \"name\": \"OccupancySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"occupied\"\n        ]\n    },\n    \"FloodSensor\": {\n        \"name\": \"FloodSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"flooded\"\n        ]\n    },\n    \"UltravioletSensor\": {\n        \"name\": \"UltravioletSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ultraviolet\"\n        ]\n    },\n    \"LuminanceSensor\": {\n        \"name\": \"LuminanceSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"luminance\"\n        ]\n    },\n    \"PositionSensor\": {\n        \"name\": \"PositionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"position\"\n        ]\n    },\n    \"SecuritySystem\": {\n        \"name\": \"SecuritySystem\",\n        \"methods\": [\n            \"armSecuritySystem\",\n            \"disarmSecuritySystem\"\n        ],\n        \"properties\": [\n            \"securitySystemState\"\n        ]\n    },\n    \"PM10Sensor\": {\n        \"name\": \"PM10Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm10Density\"\n        ]\n    },\n    \"PM25Sensor\": {\n        \"name\": \"PM25Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm25Density\"\n        ]\n    },\n    \"VOCSensor\": {\n        \"name\": \"VOCSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"vocDensity\"\n        ]\n    },\n    \"NOXSensor\": {\n        \"name\": \"NOXSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"noxDensity\"\n        ]\n    },\n    \"CO2Sensor\": {\n        \"name\": \"CO2Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"co2ppm\"\n        ]\n    },\n    \"AirQualitySensor\": {\n        \"name\": \"AirQualitySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"airQuality\"\n        ]\n    },\n    \"AirPurifier\": {\n        \"name\": \"AirPurifier\",\n        \"methods\": [\n            \"setAirPurifierState\"\n        ],\n        \"properties\": [\n            \"airPurifierState\"\n        ]\n    },\n    \"FilterMaintenance\": {\n        \"name\": \"FilterMaintenance\",\n        \"methods\": [],\n        \"properties\": [\n            \"filterChangeIndication\",\n            \"filterLifeLevel\"\n        ]\n    },\n    \"Readme\": {\n        \"name\": \"Readme\",\n        \"methods\": [\n            \"getReadmeMarkdown\"\n        ],\n        \"properties\": []\n    },\n    \"OauthClient\": {\n        \"name\": \"OauthClient\",\n        \"methods\": [\n            \"getOauthUrl\",\n            \"onOauthCallback\"\n        ],\n        \"properties\": []\n    },\n    \"MixinProvider\": {\n        \"name\": \"MixinProvider\",\n        \"methods\": [\n            \"canMixin\",\n            \"getMixin\",\n            \"releaseMixin\"\n        ],\n        \"properties\": []\n    },\n    \"HttpRequestHandler\": {\n        \"name\": \"HttpRequestHandler\",\n        \"methods\": [\n            \"onRequest\"\n        ],\n        \"properties\": []\n    },\n    \"EngineIOHandler\": {\n        \"name\": \"EngineIOHandler\",\n        \"methods\": [\n            \"onConnection\"\n        ],\n        \"properties\": []\n    },\n    \"PushHandler\": {\n        \"name\": \"PushHandler\",\n        \"methods\": [\n            \"onPush\"\n        ],\n        \"properties\": []\n    },\n    \"Program\": {\n        \"name\": \"Program\",\n        \"methods\": [\n            \"run\"\n        ],\n        \"properties\": []\n    },\n    \"Scriptable\": {\n        \"name\": \"Scriptable\",\n        \"methods\": [\n            \"eval\",\n            \"loadScripts\",\n            \"saveScript\"\n        ],\n        \"properties\": []\n    },\n    \"ClusterForkInterface\": {\n        \"name\": \"ClusterForkInterface\",\n        \"methods\": [\n            \"forkInterface\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectTracker\": {\n        \"name\": \"ObjectTracker\",\n        \"methods\": [\n            \"trackObjects\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetector\": {\n        \"name\": \"ObjectDetector\",\n        \"methods\": [\n            \"getDetectionInput\",\n            \"getObjectTypes\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetection\": {\n        \"name\": \"ObjectDetection\",\n        \"methods\": [\n            \"detectObjects\",\n            \"generateObjectDetections\",\n            \"getDetectionModel\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetectionPreview\": {\n        \"name\": \"ObjectDetectionPreview\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ObjectDetectionGenerator\": {\n        \"name\": \"ObjectDetectionGenerator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"HumiditySetting\": {\n        \"name\": \"HumiditySetting\",\n        \"methods\": [\n            \"setHumidity\"\n        ],\n        \"properties\": [\n            \"humiditySetting\"\n        ]\n    },\n    \"Fan\": {\n        \"name\": \"Fan\",\n        \"methods\": [\n            \"setFan\"\n        ],\n        \"properties\": [\n            \"fan\"\n        ]\n    },\n    \"RTCSignalingChannel\": {\n        \"name\": \"RTCSignalingChannel\",\n        \"methods\": [\n            \"startRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"RTCSignalingClient\": {\n        \"name\": \"RTCSignalingClient\",\n        \"methods\": [\n            \"createRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"LauncherApplication\": {\n        \"name\": \"LauncherApplication\",\n        \"methods\": [],\n        \"properties\": [\n            \"applicationInfo\"\n        ]\n    },\n    \"ScryptedUser\": {\n        \"name\": \"ScryptedUser\",\n        \"methods\": [\n            \"getScryptedUserAccessControl\"\n        ],\n        \"properties\": []\n    },\n    \"VideoFrameGenerator\": {\n        \"name\": \"VideoFrameGenerator\",\n        \"methods\": [\n            \"generateVideoFrames\"\n        ],\n        \"properties\": []\n    },\n    \"StreamService\": {\n        \"name\": \"StreamService\",\n        \"methods\": [\n            \"connectStream\"\n        ],\n        \"properties\": []\n    },\n    \"TTY\": {\n        \"name\": \"TTY\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"TTYSettings\": {\n        \"name\": \"TTYSettings\",\n        \"methods\": [\n            \"getTTYSettings\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedSystemDevice\": {\n        \"name\": \"ScryptedSystemDevice\",\n        \"methods\": [],\n        \"properties\": [\n            \"systemDevice\"\n        ]\n    },\n    \"ScryptedDeviceCreator\": {\n        \"name\": \"ScryptedDeviceCreator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ScryptedSettings\": {\n        \"name\": \"ScryptedSettings\",\n        \"methods\": [],\n        \"properties\": []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    /**\n     * @deprecated\n     */\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    /**\n     * Internal devices will not show up in device lists unless explicitly searched.\n     */\n    ScryptedDeviceType[\"Internal\"] = \"Internal\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Buttons\"] = \"Buttons\";\n    ScryptedInterface[\"PressButtons\"] = \"PressButtons\";\n    ScryptedInterface[\"Sensors\"] = \"Sensors\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoTextOverlays\"] = \"VideoTextOverlays\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"Sleep\"] = \"Sleep\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ClusterForkInterface\"] = \"ClusterForkInterface\";\n    ScryptedInterface[\"ObjectTracker\"] = \"ObjectTracker\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","module.exports = require(\"assert\");","module.exports = require(\"buffer\");","module.exports = require(\"crypto\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"module\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"string_decoder\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","// Axios v1.7.9 Copyright (c) 2024 Matt Zabriskie and contributors\n'use strict';\n\nconst FormData$1 = require('form-data');\nconst url = require('url');\nconst proxyFromEnv = require('proxy-from-env');\nconst http = require('http');\nconst https = require('https');\nconst util = require('util');\nconst followRedirects = require('follow-redirects');\nconst zlib = require('zlib');\nconst stream = require('stream');\nconst events = require('events');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nconst FormData__default = /*#__PURE__*/_interopDefaultLegacy(FormData$1);\nconst url__default = /*#__PURE__*/_interopDefaultLegacy(url);\nconst proxyFromEnv__default = /*#__PURE__*/_interopDefaultLegacy(proxyFromEnv);\nconst http__default = /*#__PURE__*/_interopDefaultLegacy(http);\nconst https__default = /*#__PURE__*/_interopDefaultLegacy(https);\nconst util__default = /*#__PURE__*/_interopDefaultLegacy(util);\nconst followRedirects__default = /*#__PURE__*/_interopDefaultLegacy(followRedirects);\nconst zlib__default = /*#__PURE__*/_interopDefaultLegacy(zlib);\nconst stream__default = /*#__PURE__*/_interopDefaultLegacy(stream);\n\nfunction bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n};\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n};\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n};\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  };\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n};\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n};\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n};\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n};\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n};\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n};\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n};\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n};\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n};\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n};\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  };\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n};\n\nconst noop = () => {};\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n};\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz';\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n};\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0];\n  }\n\n  return str;\n};\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  };\n\n  return visit(obj, 0);\n};\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\nconst utils$1 = {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap\n};\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils$1.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils$1.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype$1 = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype$1, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype$1);\n\n  utils$1.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils$1.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (FormData__default[\"default\"] || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils$1.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils$1.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);\n\n  if (!utils$1.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils$1.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils$1.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils$1.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils$1.isArray(value) && isFlatArray(value)) ||\n        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils$1.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils$1.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils$1.forEach(value, function each(el, key) {\n      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode$1(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode$1);\n  } : encode$1;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nfunction buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils$1.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils$1.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils$1.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nconst InterceptorManager$1 = InterceptorManager;\n\nconst transitionalDefaults = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\nconst URLSearchParams = url__default[\"default\"].URLSearchParams;\n\nconst platform$1 = {\n  isNode: true,\n  classes: {\n    URLSearchParams,\n    FormData: FormData__default[\"default\"],\n    Blob: typeof Blob !== 'undefined' && Blob || null\n  },\n  protocols: [ 'http', 'https', 'file', 'data' ]\n};\n\nconst hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nconst utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  hasBrowserEnv: hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv: hasStandardBrowserEnv,\n  navigator: _navigator,\n  origin: origin\n});\n\nconst platform = {\n  ...utils,\n  ...platform$1\n};\n\nfunction toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils$1.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils$1.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils$1.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils$1.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils$1.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils$1.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils$1.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils$1.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils$1.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils$1.isObject(data);\n\n    if (isObjectPayload && utils$1.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils$1.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils$1.isArrayBuffer(data) ||\n      utils$1.isBuffer(data) ||\n      utils$1.isStream(data) ||\n      utils$1.isFile(data) ||\n      utils$1.isBlob(data) ||\n      utils$1.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils$1.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils$1.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nconst defaults$1 = defaults;\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils$1.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nconst parseHeaders = rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils$1.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils$1.isString(value)) return;\n\n  if (utils$1.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils$1.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils$1.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils$1.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite);\n    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils$1.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils$1.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils$1.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils$1.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils$1.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils$1.forEach(this, (value, header) => {\n      const key = utils$1.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils$1.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils$1.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils$1.freezeMethods(AxiosHeaders);\n\nconst AxiosHeaders$1 = AxiosHeaders;\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nfunction transformData(fns, response) {\n  const config = this || defaults$1;\n  const context = response || config;\n  const headers = AxiosHeaders$1.from(context.headers);\n  let data = context.data;\n\n  utils$1.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils$1.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nfunction settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nfunction buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n\nconst VERSION = \"1.7.9\";\n\nfunction parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nfunction fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n\n    const match = DATA_URL_PATTERN.exec(uri);\n\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n\n      return new _Blob([buffer], {type: mime});\n    }\n\n    return buffer;\n  }\n\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}\n\nconst kInternals = Symbol('internals');\n\nclass AxiosTransformStream extends stream__default[\"default\"].Transform{\n  constructor(options) {\n    options = utils$1.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, (prop, source) => {\n      return !utils$1.isUndefined(source[prop]);\n    });\n\n    super({\n      readableHighWaterMark: options.chunkSize\n    });\n\n    const internals = this[kInternals] = {\n      timeWindow: options.timeWindow,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    this.on('newListener', event => {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n  }\n\n  _read(size) {\n    const internals = this[kInternals];\n\n    if (internals.onReadCallback) {\n      internals.onReadCallback();\n    }\n\n    return super._read(size);\n  }\n\n  _transform(chunk, encoding, callback) {\n    const internals = this[kInternals];\n    const maxRate = internals.maxRate;\n\n    const readableHighWaterMark = this.readableHighWaterMark;\n\n    const timeWindow = internals.timeWindow;\n\n    const divider = 1000 / timeWindow;\n    const bytesThreshold = (maxRate / divider);\n    const minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n    const pushChunk = (_chunk, _callback) => {\n      const bytes = Buffer.byteLength(_chunk);\n      internals.bytesSeen += bytes;\n      internals.bytes += bytes;\n\n      internals.isCaptured && this.emit('progress', internals.bytesSeen);\n\n      if (this.push(_chunk)) {\n        process.nextTick(_callback);\n      } else {\n        internals.onReadCallback = () => {\n          internals.onReadCallback = null;\n          process.nextTick(_callback);\n        };\n      }\n    };\n\n    const transformChunk = (_chunk, _callback) => {\n      const chunkSize = Buffer.byteLength(_chunk);\n      let chunkRemainder = null;\n      let maxChunkSize = readableHighWaterMark;\n      let bytesLeft;\n      let passed = 0;\n\n      if (maxRate) {\n        const now = Date.now();\n\n        if (!internals.ts || (passed = (now - internals.ts)) >= timeWindow) {\n          internals.ts = now;\n          bytesLeft = bytesThreshold - internals.bytes;\n          internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n          passed = 0;\n        }\n\n        bytesLeft = bytesThreshold - internals.bytes;\n      }\n\n      if (maxRate) {\n        if (bytesLeft <= 0) {\n          // next time window\n          return setTimeout(() => {\n            _callback(null, _chunk);\n          }, timeWindow - passed);\n        }\n\n        if (bytesLeft < maxChunkSize) {\n          maxChunkSize = bytesLeft;\n        }\n      }\n\n      if (maxChunkSize && chunkSize > maxChunkSize && (chunkSize - maxChunkSize) > minChunkSize) {\n        chunkRemainder = _chunk.subarray(maxChunkSize);\n        _chunk = _chunk.subarray(0, maxChunkSize);\n      }\n\n      pushChunk(_chunk, chunkRemainder ? () => {\n        process.nextTick(_callback, null, chunkRemainder);\n      } : _callback);\n    };\n\n    transformChunk(chunk, function transformNextChunk(err, _chunk) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_chunk) {\n        transformChunk(_chunk, transformNextChunk);\n      } else {\n        callback(null);\n      }\n    });\n  }\n}\n\nconst AxiosTransformStream$1 = AxiosTransformStream;\n\nconst {asyncIterator} = Symbol;\n\nconst readBlob = async function* (blob) {\n  if (blob.stream) {\n    yield* blob.stream();\n  } else if (blob.arrayBuffer) {\n    yield await blob.arrayBuffer();\n  } else if (blob[asyncIterator]) {\n    yield* blob[asyncIterator]();\n  } else {\n    yield blob;\n  }\n};\n\nconst readBlob$1 = readBlob;\n\nconst BOUNDARY_ALPHABET = utils$1.ALPHABET.ALPHA_DIGIT + '-_';\n\nconst textEncoder = typeof TextEncoder === 'function' ? new TextEncoder() : new util__default[\"default\"].TextEncoder();\n\nconst CRLF = '\\r\\n';\nconst CRLF_BYTES = textEncoder.encode(CRLF);\nconst CRLF_BYTES_COUNT = 2;\n\nclass FormDataPart {\n  constructor(name, value) {\n    const {escapeName} = this.constructor;\n    const isStringValue = utils$1.isString(value);\n\n    let headers = `Content-Disposition: form-data; name=\"${escapeName(name)}\"${\n      !isStringValue && value.name ? `; filename=\"${escapeName(value.name)}\"` : ''\n    }${CRLF}`;\n\n    if (isStringValue) {\n      value = textEncoder.encode(String(value).replace(/\\r?\\n|\\r\\n?/g, CRLF));\n    } else {\n      headers += `Content-Type: ${value.type || \"application/octet-stream\"}${CRLF}`;\n    }\n\n    this.headers = textEncoder.encode(headers + CRLF);\n\n    this.contentLength = isStringValue ? value.byteLength : value.size;\n\n    this.size = this.headers.byteLength + this.contentLength + CRLF_BYTES_COUNT;\n\n    this.name = name;\n    this.value = value;\n  }\n\n  async *encode(){\n    yield this.headers;\n\n    const {value} = this;\n\n    if(utils$1.isTypedArray(value)) {\n      yield value;\n    } else {\n      yield* readBlob$1(value);\n    }\n\n    yield CRLF_BYTES;\n  }\n\n  static escapeName(name) {\n      return String(name).replace(/[\\r\\n\"]/g, (match) => ({\n        '\\r' : '%0D',\n        '\\n' : '%0A',\n        '\"' : '%22',\n      }[match]));\n  }\n}\n\nconst formDataToStream = (form, headersHandler, options) => {\n  const {\n    tag = 'form-data-boundary',\n    size = 25,\n    boundary = tag + '-' + utils$1.generateString(size, BOUNDARY_ALPHABET)\n  } = options || {};\n\n  if(!utils$1.isFormData(form)) {\n    throw TypeError('FormData instance required');\n  }\n\n  if (boundary.length < 1 || boundary.length > 70) {\n    throw Error('boundary must be 10-70 characters long')\n  }\n\n  const boundaryBytes = textEncoder.encode('--' + boundary + CRLF);\n  const footerBytes = textEncoder.encode('--' + boundary + '--' + CRLF + CRLF);\n  let contentLength = footerBytes.byteLength;\n\n  const parts = Array.from(form.entries()).map(([name, value]) => {\n    const part = new FormDataPart(name, value);\n    contentLength += part.size;\n    return part;\n  });\n\n  contentLength += boundaryBytes.byteLength * parts.length;\n\n  contentLength = utils$1.toFiniteNumber(contentLength);\n\n  const computedHeaders = {\n    'Content-Type': `multipart/form-data; boundary=${boundary}`\n  };\n\n  if (Number.isFinite(contentLength)) {\n    computedHeaders['Content-Length'] = contentLength;\n  }\n\n  headersHandler && headersHandler(computedHeaders);\n\n  return stream.Readable.from((async function *() {\n    for(const part of parts) {\n      yield boundaryBytes;\n      yield* part.encode();\n    }\n\n    yield footerBytes;\n  })());\n};\n\nconst formDataToStream$1 = formDataToStream;\n\nclass ZlibHeaderTransformStream extends stream__default[\"default\"].Transform {\n  __transform(chunk, encoding, callback) {\n    this.push(chunk);\n    callback();\n  }\n\n  _transform(chunk, encoding, callback) {\n    if (chunk.length !== 0) {\n      this._transform = this.__transform;\n\n      // Add Default Compression headers if no zlib headers are present\n      if (chunk[0] !== 120) { // Hex: 78\n        const header = Buffer.alloc(2);\n        header[0] = 120; // Hex: 78\n        header[1] = 156; // Hex: 9C \n        this.push(header, encoding);\n      }\n    }\n\n    this.__transform(chunk, encoding, callback);\n  }\n}\n\nconst ZlibHeaderTransformStream$1 = ZlibHeaderTransformStream;\n\nconst callbackify = (fn, reducer) => {\n  return utils$1.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n};\n\nconst callbackify$1 = callbackify;\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  };\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs);\n        }, threshold - passed);\n      }\n    }\n  };\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nconst progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n};\n\nconst progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n};\n\nconst asyncDecorator = (fn) => (...args) => utils$1.asap(() => fn(...args));\n\nconst zlibOptions = {\n  flush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH\n};\n\nconst brotliOptions = {\n  flush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH\n};\n\nconst isBrotliSupported = utils$1.isFunction(zlib__default[\"default\"].createBrotliDecompress);\n\nconst {http: httpFollow, https: httpsFollow} = followRedirects__default[\"default\"];\n\nconst isHttps = /https:?/;\n\nconst supportedProtocols = platform.protocols.map(protocol => {\n  return protocol + ':';\n});\n\nconst flushOnFinish = (stream, [throttled, flush]) => {\n  stream\n    .on('end', flush)\n    .on('error', flush);\n\n  return throttled;\n};\n\n/**\n * If the proxy or config beforeRedirects functions are defined, call them with the options\n * object.\n *\n * @param {Object<string, any>} options - The options object that was passed to the request.\n *\n * @returns {Object<string, any>}\n */\nfunction dispatchBeforeRedirect(options, responseDetails) {\n  if (options.beforeRedirects.proxy) {\n    options.beforeRedirects.proxy(options);\n  }\n  if (options.beforeRedirects.config) {\n    options.beforeRedirects.config(options, responseDetails);\n  }\n}\n\n/**\n * If the proxy or config afterRedirects functions are defined, call them with the options\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} configProxy configuration from Axios options object\n * @param {string} location\n *\n * @returns {http.ClientRequestArgs}\n */\nfunction setProxy(options, configProxy, location) {\n  let proxy = configProxy;\n  if (!proxy && proxy !== false) {\n    const proxyUrl = proxyFromEnv__default[\"default\"].getProxyForUrl(location);\n    if (proxyUrl) {\n      proxy = new URL(proxyUrl);\n    }\n  }\n  if (proxy) {\n    // Basic proxy authorization\n    if (proxy.username) {\n      proxy.auth = (proxy.username || '') + ':' + (proxy.password || '');\n    }\n\n    if (proxy.auth) {\n      // Support proxy auth object form\n      if (proxy.auth.username || proxy.auth.password) {\n        proxy.auth = (proxy.auth.username || '') + ':' + (proxy.auth.password || '');\n      }\n      const base64 = Buffer\n        .from(proxy.auth, 'utf8')\n        .toString('base64');\n      options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n    }\n\n    options.headers.host = options.hostname + (options.port ? ':' + options.port : '');\n    const proxyHost = proxy.hostname || proxy.host;\n    options.hostname = proxyHost;\n    // Replace 'host' since options is not a URL object\n    options.host = proxyHost;\n    options.port = proxy.port;\n    options.path = location;\n    if (proxy.protocol) {\n      options.protocol = proxy.protocol.includes(':') ? proxy.protocol : `${proxy.protocol}:`;\n    }\n  }\n\n  options.beforeRedirects.proxy = function beforeRedirect(redirectOptions) {\n    // Configure proxy for redirected request, passing the original config proxy to apply\n    // the exact same logic as if the redirected request was performed by axios directly.\n    setProxy(redirectOptions, configProxy, redirectOptions.href);\n  };\n}\n\nconst isHttpAdapterSupported = typeof process !== 'undefined' && utils$1.kindOf(process) === 'process';\n\n// temporary hotfix\n\nconst wrapAsync = (asyncExecutor) => {\n  return new Promise((resolve, reject) => {\n    let onDone;\n    let isDone;\n\n    const done = (value, isRejected) => {\n      if (isDone) return;\n      isDone = true;\n      onDone && onDone(value, isRejected);\n    };\n\n    const _resolve = (value) => {\n      done(value);\n      resolve(value);\n    };\n\n    const _reject = (reason) => {\n      done(reason, true);\n      reject(reason);\n    };\n\n    asyncExecutor(_resolve, _reject, (onDoneHandler) => (onDone = onDoneHandler)).catch(_reject);\n  })\n};\n\nconst resolveFamily = ({address, family}) => {\n  if (!utils$1.isString(address)) {\n    throw TypeError('address must be a string');\n  }\n  return ({\n    address,\n    family: family || (address.indexOf('.') < 0 ? 6 : 4)\n  });\n};\n\nconst buildAddressEntry = (address, family) => resolveFamily(utils$1.isObject(address) ? address : {address, family});\n\n/*eslint consistent-return:0*/\nconst httpAdapter = isHttpAdapterSupported && function httpAdapter(config) {\n  return wrapAsync(async function dispatchHttpRequest(resolve, reject, onDone) {\n    let {data, lookup, family} = config;\n    const {responseType, responseEncoding} = config;\n    const method = config.method.toUpperCase();\n    let isDone;\n    let rejected = false;\n    let req;\n\n    if (lookup) {\n      const _lookup = callbackify$1(lookup, (value) => utils$1.isArray(value) ? value : [value]);\n      // hotfix to support opt.all option which is required for node 20.x\n      lookup = (hostname, opt, cb) => {\n        _lookup(hostname, opt, (err, arg0, arg1) => {\n          if (err) {\n            return cb(err);\n          }\n\n          const addresses = utils$1.isArray(arg0) ? arg0.map(addr => buildAddressEntry(addr)) : [buildAddressEntry(arg0, arg1)];\n\n          opt.all ? cb(err, addresses) : cb(err, addresses[0].address, addresses[0].family);\n        });\n      };\n    }\n\n    // temporary internal emitter until the AxiosRequest class will be implemented\n    const emitter = new events.EventEmitter();\n\n    const onFinished = () => {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(abort);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', abort);\n      }\n\n      emitter.removeAllListeners();\n    };\n\n    onDone((value, isRejected) => {\n      isDone = true;\n      if (isRejected) {\n        rejected = true;\n        onFinished();\n      }\n    });\n\n    function abort(reason) {\n      emitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n    }\n\n    emitter.once('abort', reject);\n\n    if (config.cancelToken || config.signal) {\n      config.cancelToken && config.cancelToken.subscribe(abort);\n      if (config.signal) {\n        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n      }\n    }\n\n    // Parse url\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    const parsed = new URL(fullPath, platform.hasBrowserEnv ? platform.origin : undefined);\n    const protocol = parsed.protocol || supportedProtocols[0];\n\n    if (protocol === 'data:') {\n      let convertedData;\n\n      if (method !== 'GET') {\n        return settle(resolve, reject, {\n          status: 405,\n          statusText: 'method not allowed',\n          headers: {},\n          config\n        });\n      }\n\n      try {\n        convertedData = fromDataURI(config.url, responseType === 'blob', {\n          Blob: config.env && config.env.Blob\n        });\n      } catch (err) {\n        throw AxiosError.from(err, AxiosError.ERR_BAD_REQUEST, config);\n      }\n\n      if (responseType === 'text') {\n        convertedData = convertedData.toString(responseEncoding);\n\n        if (!responseEncoding || responseEncoding === 'utf8') {\n          convertedData = utils$1.stripBOM(convertedData);\n        }\n      } else if (responseType === 'stream') {\n        convertedData = stream__default[\"default\"].Readable.from(convertedData);\n      }\n\n      return settle(resolve, reject, {\n        data: convertedData,\n        status: 200,\n        statusText: 'OK',\n        headers: new AxiosHeaders$1(),\n        config\n      });\n    }\n\n    if (supportedProtocols.indexOf(protocol) === -1) {\n      return reject(new AxiosError(\n        'Unsupported protocol ' + protocol,\n        AxiosError.ERR_BAD_REQUEST,\n        config\n      ));\n    }\n\n    const headers = AxiosHeaders$1.from(config.headers).normalize();\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    // User-Agent is specified; handle case where no UA header is desired\n    // Only set header if it hasn't been set in config\n    headers.set('User-Agent', 'axios/' + VERSION, false);\n\n    const {onUploadProgress, onDownloadProgress} = config;\n    const maxRate = config.maxRate;\n    let maxUploadRate = undefined;\n    let maxDownloadRate = undefined;\n\n    // support for spec compliant FormData objects\n    if (utils$1.isSpecCompliantForm(data)) {\n      const userBoundary = headers.getContentType(/boundary=([-_\\w\\d]{10,70})/i);\n\n      data = formDataToStream$1(data, (formHeaders) => {\n        headers.set(formHeaders);\n      }, {\n        tag: `axios-${VERSION}-boundary`,\n        boundary: userBoundary && userBoundary[1] || undefined\n      });\n      // support for https://www.npmjs.com/package/form-data api\n    } else if (utils$1.isFormData(data) && utils$1.isFunction(data.getHeaders)) {\n      headers.set(data.getHeaders());\n\n      if (!headers.hasContentLength()) {\n        try {\n          const knownLength = await util__default[\"default\"].promisify(data.getLength).call(data);\n          Number.isFinite(knownLength) && knownLength >= 0 && headers.setContentLength(knownLength);\n          /*eslint no-empty:0*/\n        } catch (e) {\n        }\n      }\n    } else if (utils$1.isBlob(data) || utils$1.isFile(data)) {\n      data.size && headers.setContentType(data.type || 'application/octet-stream');\n      headers.setContentLength(data.size || 0);\n      data = stream__default[\"default\"].Readable.from(readBlob$1(data));\n    } else if (data && !utils$1.isStream(data)) {\n      if (Buffer.isBuffer(data)) ; else if (utils$1.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils$1.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(new AxiosError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers.setContentLength(data.length, false);\n\n      if (config.maxBodyLength > -1 && data.length > config.maxBodyLength) {\n        return reject(new AxiosError(\n          'Request body larger than maxBodyLength limit',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n    }\n\n    const contentLength = utils$1.toFiniteNumber(headers.getContentLength());\n\n    if (utils$1.isArray(maxRate)) {\n      maxUploadRate = maxRate[0];\n      maxDownloadRate = maxRate[1];\n    } else {\n      maxUploadRate = maxDownloadRate = maxRate;\n    }\n\n    if (data && (onUploadProgress || maxUploadRate)) {\n      if (!utils$1.isStream(data)) {\n        data = stream__default[\"default\"].Readable.from(data, {objectMode: false});\n      }\n\n      data = stream__default[\"default\"].pipeline([data, new AxiosTransformStream$1({\n        maxRate: utils$1.toFiniteNumber(maxUploadRate)\n      })], utils$1.noop);\n\n      onUploadProgress && data.on('progress', flushOnFinish(\n        data,\n        progressEventDecorator(\n          contentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress), false, 3)\n        )\n      ));\n    }\n\n    // HTTP basic authentication\n    let auth = undefined;\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    if (!auth && parsed.username) {\n      const urlUsername = parsed.username;\n      const urlPassword = parsed.password;\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    auth && headers.delete('authorization');\n\n    let path;\n\n    try {\n      path = buildURL(\n        parsed.pathname + parsed.search,\n        config.params,\n        config.paramsSerializer\n      ).replace(/^\\?/, '');\n    } catch (err) {\n      const customErr = new Error(err.message);\n      customErr.config = config;\n      customErr.url = config.url;\n      customErr.exists = true;\n      return reject(customErr);\n    }\n\n    headers.set(\n      'Accept-Encoding',\n      'gzip, compress, deflate' + (isBrotliSupported ? ', br' : ''), false\n      );\n\n    const options = {\n      path,\n      method: method,\n      headers: headers.toJSON(),\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth,\n      protocol,\n      family,\n      beforeRedirect: dispatchBeforeRedirect,\n      beforeRedirects: {}\n    };\n\n    // cacheable-lookup integration hotfix\n    !utils$1.isUndefined(lookup) && (options.lookup = lookup);\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname.startsWith(\"[\") ? parsed.hostname.slice(1, -1) : parsed.hostname;\n      options.port = parsed.port;\n      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    let transport;\n    const isHttpsRequest = isHttps.test(options.protocol);\n    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsRequest ? https__default[\"default\"] : http__default[\"default\"];\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      if (config.beforeRedirect) {\n        options.beforeRedirects.config = config.beforeRedirect;\n      }\n      transport = isHttpsRequest ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    } else {\n      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n      options.maxBodyLength = Infinity;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    req = transport.request(options, function handleResponse(res) {\n      if (req.destroyed) return;\n\n      const streams = [res];\n\n      const responseLength = +res.headers['content-length'];\n\n      if (onDownloadProgress || maxDownloadRate) {\n        const transformStream = new AxiosTransformStream$1({\n          maxRate: utils$1.toFiniteNumber(maxDownloadRate)\n        });\n\n        onDownloadProgress && transformStream.on('progress', flushOnFinish(\n          transformStream,\n          progressEventDecorator(\n            responseLength,\n            progressEventReducer(asyncDecorator(onDownloadProgress), true, 3)\n          )\n        ));\n\n        streams.push(transformStream);\n      }\n\n      // decompress the response body transparently if required\n      let responseStream = res;\n\n      // return the last request in case of redirects\n      const lastRequest = res.req || req;\n\n      // if decompress disabled we should not decompress\n      if (config.decompress !== false && res.headers['content-encoding']) {\n        // if no content, but headers still say that it is encoded,\n        // remove the header not confuse downstream operations\n        if (method === 'HEAD' || res.statusCode === 204) {\n          delete res.headers['content-encoding'];\n        }\n\n        switch ((res.headers['content-encoding'] || '').toLowerCase()) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'x-gzip':\n        case 'compress':\n        case 'x-compress':\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'deflate':\n          streams.push(new ZlibHeaderTransformStream$1());\n\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'br':\n          if (isBrotliSupported) {\n            streams.push(zlib__default[\"default\"].createBrotliDecompress(brotliOptions));\n            delete res.headers['content-encoding'];\n          }\n        }\n      }\n\n      responseStream = streams.length > 1 ? stream__default[\"default\"].pipeline(streams, utils$1.noop) : streams[0];\n\n      const offListeners = stream__default[\"default\"].finished(responseStream, () => {\n        offListeners();\n        onFinished();\n      });\n\n      const response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: new AxiosHeaders$1(res.headers),\n        config,\n        request: lastRequest\n      };\n\n      if (responseType === 'stream') {\n        response.data = responseStream;\n        settle(resolve, reject, response);\n      } else {\n        const responseBuffer = [];\n        let totalResponseBytes = 0;\n\n        responseStream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n            rejected = true;\n            responseStream.destroy();\n            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n          }\n        });\n\n        responseStream.on('aborted', function handlerStreamAborted() {\n          if (rejected) {\n            return;\n          }\n\n          const err = new AxiosError(\n            'stream has been aborted',\n            AxiosError.ERR_BAD_RESPONSE,\n            config,\n            lastRequest\n          );\n          responseStream.destroy(err);\n          reject(err);\n        });\n\n        responseStream.on('error', function handleStreamError(err) {\n          if (req.destroyed) return;\n          reject(AxiosError.from(err, null, config, lastRequest));\n        });\n\n        responseStream.on('end', function handleStreamEnd() {\n          try {\n            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n            if (responseType !== 'arraybuffer') {\n              responseData = responseData.toString(responseEncoding);\n              if (!responseEncoding || responseEncoding === 'utf8') {\n                responseData = utils$1.stripBOM(responseData);\n              }\n            }\n            response.data = responseData;\n          } catch (err) {\n            return reject(AxiosError.from(err, null, config, response.request, response));\n          }\n          settle(resolve, reject, response);\n        });\n      }\n\n      emitter.once('abort', err => {\n        if (!responseStream.destroyed) {\n          responseStream.emit('error', err);\n          responseStream.destroy();\n        }\n      });\n    });\n\n    emitter.once('abort', err => {\n      reject(err);\n      req.destroy(err);\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      // @todo remove\n      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n      reject(AxiosError.from(err, null, config, req));\n    });\n\n    // set tcp keep alive to prevent drop connection by peer\n    req.on('socket', function handleRequestSocket(socket) {\n      // default interval of sending ack packet is 1 minute\n      socket.setKeepAlive(true, 1000 * 60);\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      const timeout = parseInt(config.timeout, 10);\n\n      if (Number.isNaN(timeout)) {\n        reject(new AxiosError(\n          'error trying to parse `config.timeout` to int',\n          AxiosError.ERR_BAD_OPTION_VALUE,\n          config,\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devouring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        if (isDone) return;\n        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n        const transitional = config.transitional || transitionalDefaults;\n        if (config.timeoutErrorMessage) {\n          timeoutErrorMessage = config.timeoutErrorMessage;\n        }\n        reject(new AxiosError(\n          timeoutErrorMessage,\n          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n          config,\n          req\n        ));\n        abort();\n      });\n    }\n\n\n    // Send the request\n    if (utils$1.isStream(data)) {\n      let ended = false;\n      let errored = false;\n\n      data.on('end', () => {\n        ended = true;\n      });\n\n      data.once('error', err => {\n        errored = true;\n        req.destroy(err);\n      });\n\n      data.on('close', () => {\n        if (!ended && !errored) {\n          abort(new CanceledError('Request stream has been aborted', config, req));\n        }\n      });\n\n      data.pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n\nconst isURLSameOrigin = platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n\nconst cookies = platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils$1.isString(path) && cookie.push('path=' + path);\n\n      utils$1.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nfunction mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {\n      return utils$1.merge.call({caseless}, target, source);\n    } else if (utils$1.isPlainObject(source)) {\n      return utils$1.merge({}, source);\n    } else if (utils$1.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n\nconst resolveConfig = (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders$1.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils$1.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n};\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nconst xhrAdapter = isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders$1.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils$1.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n};\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    };\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT));\n    }, timeout);\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    };\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils$1.asap(unsubscribe);\n\n    return signal;\n  }\n};\n\nconst composeSignals$1 = composeSignals;\n\nconst streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n};\n\nconst readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n};\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n};\n\nconst trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  };\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n};\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n};\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils$1.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils$1.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      });\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils$1.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils$1.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils$1.isArrayBufferView(body) || utils$1.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils$1.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils$1.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n};\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils$1.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n};\n\nconst fetchAdapter = isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals$1([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader);\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils$1.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders$1.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      });\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n};\n\nutils$1.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;\n\nconst adapters = {\n  getAdapter: (adapters) => {\n    adapters = utils$1.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n};\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nfunction dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders$1.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults$1.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders$1.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n\nconst validators$1 = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators$1[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators$1.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators$1.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nconst validator = {\n  assertOptions,\n  validators: validators$1\n};\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager$1(),\n      response: new InterceptorManager$1()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack;\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils$1.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        };\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils$1.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils$1.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nconst Axios$1 = Axios;\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nconst CancelToken$1 = CancelToken;\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nfunction spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nfunction isAxiosError(payload) {\n  return utils$1.isObject(payload) && (payload.isAxiosError === true);\n}\n\nconst HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nconst HttpStatusCode$1 = HttpStatusCode;\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios$1(defaultConfig);\n  const instance = bind(Axios$1.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils$1.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults$1);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios$1;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken$1;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders$1;\n\naxios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode$1;\n\naxios.default = axios;\n\nmodule.exports = axios;\n//# sourceMappingURL=axios.cjs.map\n","\"use strict\";\n/**\n * @module LRUCache\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = void 0;\nconst perf = typeof performance === 'object' &&\n    performance &&\n    typeof performance.now === 'function'\n    ? performance\n    : Date;\nconst warned = new Set();\n/* c8 ignore start */\nconst PROCESS = (typeof process === 'object' && !!process ? process : {});\n/* c8 ignore start */\nconst emitWarning = (msg, type, code, fn) => {\n    typeof PROCESS.emitWarning === 'function'\n        ? PROCESS.emitWarning(msg, type, code, fn)\n        : console.error(`[${code}] ${type}: ${msg}`);\n};\nlet AC = globalThis.AbortController;\nlet AS = globalThis.AbortSignal;\n/* c8 ignore start */\nif (typeof AC === 'undefined') {\n    //@ts-ignore\n    AS = class AbortSignal {\n        onabort;\n        _onabort = [];\n        reason;\n        aborted = false;\n        addEventListener(_, fn) {\n            this._onabort.push(fn);\n        }\n    };\n    //@ts-ignore\n    AC = class AbortController {\n        constructor() {\n            warnACPolyfill();\n        }\n        signal = new AS();\n        abort(reason) {\n            if (this.signal.aborted)\n                return;\n            //@ts-ignore\n            this.signal.reason = reason;\n            //@ts-ignore\n            this.signal.aborted = true;\n            //@ts-ignore\n            for (const fn of this.signal._onabort) {\n                fn(reason);\n            }\n            this.signal.onabort?.(reason);\n        }\n    };\n    let printACPolyfillWarning = PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING !== '1';\n    const warnACPolyfill = () => {\n        if (!printACPolyfillWarning)\n            return;\n        printACPolyfillWarning = false;\n        emitWarning('AbortController is not defined. If using lru-cache in ' +\n            'node 14, load an AbortController polyfill from the ' +\n            '`node-abort-controller` package. A minimal polyfill is ' +\n            'provided for use by LRUCache.fetch(), but it should not be ' +\n            'relied upon in other contexts (eg, passing it to other APIs that ' +\n            'use AbortController/AbortSignal might have undesirable effects). ' +\n            'You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.', 'NO_ABORT_CONTROLLER', 'ENOTSUP', warnACPolyfill);\n    };\n}\n/* c8 ignore stop */\nconst shouldWarn = (code) => !warned.has(code);\nconst TYPE = Symbol('type');\nconst isPosInt = (n) => n && n === Math.floor(n) && n > 0 && isFinite(n);\n/* c8 ignore start */\n// This is a little bit ridiculous, tbh.\n// The maximum array length is 2^32-1 or thereabouts on most JS impls.\n// And well before that point, you're caching the entire world, I mean,\n// that's ~32GB of just integers for the next/prev links, plus whatever\n// else to hold that many keys and values.  Just filling the memory with\n// zeroes at init time is brutal when you get that big.\n// But why not be complete?\n// Maybe in the future, these limits will have expanded.\nconst getUintArray = (max) => !isPosInt(max)\n    ? null\n    : max <= Math.pow(2, 8)\n        ? Uint8Array\n        : max <= Math.pow(2, 16)\n            ? Uint16Array\n            : max <= Math.pow(2, 32)\n                ? Uint32Array\n                : max <= Number.MAX_SAFE_INTEGER\n                    ? ZeroArray\n                    : null;\n/* c8 ignore stop */\nclass ZeroArray extends Array {\n    constructor(size) {\n        super(size);\n        this.fill(0);\n    }\n}\nclass Stack {\n    heap;\n    length;\n    // private constructor\n    static #constructing = false;\n    static create(max) {\n        const HeapCls = getUintArray(max);\n        if (!HeapCls)\n            return [];\n        Stack.#constructing = true;\n        const s = new Stack(max, HeapCls);\n        Stack.#constructing = false;\n        return s;\n    }\n    constructor(max, HeapCls) {\n        /* c8 ignore start */\n        if (!Stack.#constructing) {\n            throw new TypeError('instantiate Stack using Stack.create(n)');\n        }\n        /* c8 ignore stop */\n        this.heap = new HeapCls(max);\n        this.length = 0;\n    }\n    push(n) {\n        this.heap[this.length++] = n;\n    }\n    pop() {\n        return this.heap[--this.length];\n    }\n}\n/**\n * Default export, the thing you're using this module to get.\n *\n * The `K` and `V` types define the key and value types, respectively. The\n * optional `FC` type defines the type of the `context` object passed to\n * `cache.fetch()` and `cache.memo()`.\n *\n * Keys and values **must not** be `null` or `undefined`.\n *\n * All properties from the options object (with the exception of `max`,\n * `maxSize`, `fetchMethod`, `memoMethod`, `dispose` and `disposeAfter`) are\n * added as normal public members. (The listed options are read-only getters.)\n *\n * Changing any of these will alter the defaults for subsequent method calls.\n */\nclass LRUCache {\n    // options that cannot be changed without disaster\n    #max;\n    #maxSize;\n    #dispose;\n    #disposeAfter;\n    #fetchMethod;\n    #memoMethod;\n    /**\n     * {@link LRUCache.OptionsBase.ttl}\n     */\n    ttl;\n    /**\n     * {@link LRUCache.OptionsBase.ttlResolution}\n     */\n    ttlResolution;\n    /**\n     * {@link LRUCache.OptionsBase.ttlAutopurge}\n     */\n    ttlAutopurge;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnGet}\n     */\n    updateAgeOnGet;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnHas}\n     */\n    updateAgeOnHas;\n    /**\n     * {@link LRUCache.OptionsBase.allowStale}\n     */\n    allowStale;\n    /**\n     * {@link LRUCache.OptionsBase.noDisposeOnSet}\n     */\n    noDisposeOnSet;\n    /**\n     * {@link LRUCache.OptionsBase.noUpdateTTL}\n     */\n    noUpdateTTL;\n    /**\n     * {@link LRUCache.OptionsBase.maxEntrySize}\n     */\n    maxEntrySize;\n    /**\n     * {@link LRUCache.OptionsBase.sizeCalculation}\n     */\n    sizeCalculation;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnFetchRejection}\n     */\n    noDeleteOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnStaleGet}\n     */\n    noDeleteOnStaleGet;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort}\n     */\n    allowStaleOnFetchAbort;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchRejection}\n     */\n    allowStaleOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.ignoreFetchAbort}\n     */\n    ignoreFetchAbort;\n    // computed properties\n    #size;\n    #calculatedSize;\n    #keyMap;\n    #keyList;\n    #valList;\n    #next;\n    #prev;\n    #head;\n    #tail;\n    #free;\n    #disposed;\n    #sizes;\n    #starts;\n    #ttls;\n    #hasDispose;\n    #hasFetchMethod;\n    #hasDisposeAfter;\n    /**\n     * Do not call this method unless you need to inspect the\n     * inner workings of the cache.  If anything returned by this\n     * object is modified in any way, strange breakage may occur.\n     *\n     * These fields are private for a reason!\n     *\n     * @internal\n     */\n    static unsafeExposeInternals(c) {\n        return {\n            // properties\n            starts: c.#starts,\n            ttls: c.#ttls,\n            sizes: c.#sizes,\n            keyMap: c.#keyMap,\n            keyList: c.#keyList,\n            valList: c.#valList,\n            next: c.#next,\n            prev: c.#prev,\n            get head() {\n                return c.#head;\n            },\n            get tail() {\n                return c.#tail;\n            },\n            free: c.#free,\n            // methods\n            isBackgroundFetch: (p) => c.#isBackgroundFetch(p),\n            backgroundFetch: (k, index, options, context) => c.#backgroundFetch(k, index, options, context),\n            moveToTail: (index) => c.#moveToTail(index),\n            indexes: (options) => c.#indexes(options),\n            rindexes: (options) => c.#rindexes(options),\n            isStale: (index) => c.#isStale(index),\n        };\n    }\n    // Protected read-only members\n    /**\n     * {@link LRUCache.OptionsBase.max} (read-only)\n     */\n    get max() {\n        return this.#max;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.maxSize} (read-only)\n     */\n    get maxSize() {\n        return this.#maxSize;\n    }\n    /**\n     * The total computed size of items in the cache (read-only)\n     */\n    get calculatedSize() {\n        return this.#calculatedSize;\n    }\n    /**\n     * The number of items stored in the cache (read-only)\n     */\n    get size() {\n        return this.#size;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.fetchMethod} (read-only)\n     */\n    get fetchMethod() {\n        return this.#fetchMethod;\n    }\n    get memoMethod() {\n        return this.#memoMethod;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.dispose} (read-only)\n     */\n    get dispose() {\n        return this.#dispose;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.disposeAfter} (read-only)\n     */\n    get disposeAfter() {\n        return this.#disposeAfter;\n    }\n    constructor(options) {\n        const { max = 0, ttl, ttlResolution = 1, ttlAutopurge, updateAgeOnGet, updateAgeOnHas, allowStale, dispose, disposeAfter, noDisposeOnSet, noUpdateTTL, maxSize = 0, maxEntrySize = 0, sizeCalculation, fetchMethod, memoMethod, noDeleteOnFetchRejection, noDeleteOnStaleGet, allowStaleOnFetchRejection, allowStaleOnFetchAbort, ignoreFetchAbort, } = options;\n        if (max !== 0 && !isPosInt(max)) {\n            throw new TypeError('max option must be a nonnegative integer');\n        }\n        const UintArray = max ? getUintArray(max) : Array;\n        if (!UintArray) {\n            throw new Error('invalid max value: ' + max);\n        }\n        this.#max = max;\n        this.#maxSize = maxSize;\n        this.maxEntrySize = maxEntrySize || this.#maxSize;\n        this.sizeCalculation = sizeCalculation;\n        if (this.sizeCalculation) {\n            if (!this.#maxSize && !this.maxEntrySize) {\n                throw new TypeError('cannot set sizeCalculation without setting maxSize or maxEntrySize');\n            }\n            if (typeof this.sizeCalculation !== 'function') {\n                throw new TypeError('sizeCalculation set to non-function');\n            }\n        }\n        if (memoMethod !== undefined &&\n            typeof memoMethod !== 'function') {\n            throw new TypeError('memoMethod must be a function if defined');\n        }\n        this.#memoMethod = memoMethod;\n        if (fetchMethod !== undefined &&\n            typeof fetchMethod !== 'function') {\n            throw new TypeError('fetchMethod must be a function if specified');\n        }\n        this.#fetchMethod = fetchMethod;\n        this.#hasFetchMethod = !!fetchMethod;\n        this.#keyMap = new Map();\n        this.#keyList = new Array(max).fill(undefined);\n        this.#valList = new Array(max).fill(undefined);\n        this.#next = new UintArray(max);\n        this.#prev = new UintArray(max);\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free = Stack.create(max);\n        this.#size = 0;\n        this.#calculatedSize = 0;\n        if (typeof dispose === 'function') {\n            this.#dispose = dispose;\n        }\n        if (typeof disposeAfter === 'function') {\n            this.#disposeAfter = disposeAfter;\n            this.#disposed = [];\n        }\n        else {\n            this.#disposeAfter = undefined;\n            this.#disposed = undefined;\n        }\n        this.#hasDispose = !!this.#dispose;\n        this.#hasDisposeAfter = !!this.#disposeAfter;\n        this.noDisposeOnSet = !!noDisposeOnSet;\n        this.noUpdateTTL = !!noUpdateTTL;\n        this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection;\n        this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection;\n        this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort;\n        this.ignoreFetchAbort = !!ignoreFetchAbort;\n        // NB: maxEntrySize is set to maxSize if it's set\n        if (this.maxEntrySize !== 0) {\n            if (this.#maxSize !== 0) {\n                if (!isPosInt(this.#maxSize)) {\n                    throw new TypeError('maxSize must be a positive integer if specified');\n                }\n            }\n            if (!isPosInt(this.maxEntrySize)) {\n                throw new TypeError('maxEntrySize must be a positive integer if specified');\n            }\n            this.#initializeSizeTracking();\n        }\n        this.allowStale = !!allowStale;\n        this.noDeleteOnStaleGet = !!noDeleteOnStaleGet;\n        this.updateAgeOnGet = !!updateAgeOnGet;\n        this.updateAgeOnHas = !!updateAgeOnHas;\n        this.ttlResolution =\n            isPosInt(ttlResolution) || ttlResolution === 0\n                ? ttlResolution\n                : 1;\n        this.ttlAutopurge = !!ttlAutopurge;\n        this.ttl = ttl || 0;\n        if (this.ttl) {\n            if (!isPosInt(this.ttl)) {\n                throw new TypeError('ttl must be a positive integer if specified');\n            }\n            this.#initializeTTLTracking();\n        }\n        // do not allow completely unbounded caches\n        if (this.#max === 0 && this.ttl === 0 && this.#maxSize === 0) {\n            throw new TypeError('At least one of max, maxSize, or ttl is required');\n        }\n        if (!this.ttlAutopurge && !this.#max && !this.#maxSize) {\n            const code = 'LRU_CACHE_UNBOUNDED';\n            if (shouldWarn(code)) {\n                warned.add(code);\n                const msg = 'TTL caching without ttlAutopurge, max, or maxSize can ' +\n                    'result in unbounded memory consumption.';\n                emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache);\n            }\n        }\n    }\n    /**\n     * Return the number of ms left in the item's TTL. If item is not in cache,\n     * returns `0`. Returns `Infinity` if item is in cache without a defined TTL.\n     */\n    getRemainingTTL(key) {\n        return this.#keyMap.has(key) ? Infinity : 0;\n    }\n    #initializeTTLTracking() {\n        const ttls = new ZeroArray(this.#max);\n        const starts = new ZeroArray(this.#max);\n        this.#ttls = ttls;\n        this.#starts = starts;\n        this.#setItemTTL = (index, ttl, start = perf.now()) => {\n            starts[index] = ttl !== 0 ? start : 0;\n            ttls[index] = ttl;\n            if (ttl !== 0 && this.ttlAutopurge) {\n                const t = setTimeout(() => {\n                    if (this.#isStale(index)) {\n                        this.#delete(this.#keyList[index], 'expire');\n                    }\n                }, ttl + 1);\n                // unref() not supported on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n        };\n        this.#updateItemAge = index => {\n            starts[index] = ttls[index] !== 0 ? perf.now() : 0;\n        };\n        this.#statusTTL = (status, index) => {\n            if (ttls[index]) {\n                const ttl = ttls[index];\n                const start = starts[index];\n                /* c8 ignore next */\n                if (!ttl || !start)\n                    return;\n                status.ttl = ttl;\n                status.start = start;\n                status.now = cachedNow || getNow();\n                const age = status.now - start;\n                status.remainingTTL = ttl - age;\n            }\n        };\n        // debounce calls to perf.now() to 1s so we're not hitting\n        // that costly call repeatedly.\n        let cachedNow = 0;\n        const getNow = () => {\n            const n = perf.now();\n            if (this.ttlResolution > 0) {\n                cachedNow = n;\n                const t = setTimeout(() => (cachedNow = 0), this.ttlResolution);\n                // not available on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n            return n;\n        };\n        this.getRemainingTTL = key => {\n            const index = this.#keyMap.get(key);\n            if (index === undefined) {\n                return 0;\n            }\n            const ttl = ttls[index];\n            const start = starts[index];\n            if (!ttl || !start) {\n                return Infinity;\n            }\n            const age = (cachedNow || getNow()) - start;\n            return ttl - age;\n        };\n        this.#isStale = index => {\n            const s = starts[index];\n            const t = ttls[index];\n            return !!t && !!s && (cachedNow || getNow()) - s > t;\n        };\n    }\n    // conditionally set private methods related to TTL\n    #updateItemAge = () => { };\n    #statusTTL = () => { };\n    #setItemTTL = () => { };\n    /* c8 ignore stop */\n    #isStale = () => false;\n    #initializeSizeTracking() {\n        const sizes = new ZeroArray(this.#max);\n        this.#calculatedSize = 0;\n        this.#sizes = sizes;\n        this.#removeItemSize = index => {\n            this.#calculatedSize -= sizes[index];\n            sizes[index] = 0;\n        };\n        this.#requireSize = (k, v, size, sizeCalculation) => {\n            // provisionally accept background fetches.\n            // actual value size will be checked when they return.\n            if (this.#isBackgroundFetch(v)) {\n                return 0;\n            }\n            if (!isPosInt(size)) {\n                if (sizeCalculation) {\n                    if (typeof sizeCalculation !== 'function') {\n                        throw new TypeError('sizeCalculation must be a function');\n                    }\n                    size = sizeCalculation(v, k);\n                    if (!isPosInt(size)) {\n                        throw new TypeError('sizeCalculation return invalid (expect positive integer)');\n                    }\n                }\n                else {\n                    throw new TypeError('invalid size value (must be positive integer). ' +\n                        'When maxSize or maxEntrySize is used, sizeCalculation ' +\n                        'or size must be set.');\n                }\n            }\n            return size;\n        };\n        this.#addItemSize = (index, size, status) => {\n            sizes[index] = size;\n            if (this.#maxSize) {\n                const maxSize = this.#maxSize - sizes[index];\n                while (this.#calculatedSize > maxSize) {\n                    this.#evict(true);\n                }\n            }\n            this.#calculatedSize += sizes[index];\n            if (status) {\n                status.entrySize = size;\n                status.totalCalculatedSize = this.#calculatedSize;\n            }\n        };\n    }\n    #removeItemSize = _i => { };\n    #addItemSize = (_i, _s, _st) => { };\n    #requireSize = (_k, _v, size, sizeCalculation) => {\n        if (size || sizeCalculation) {\n            throw new TypeError('cannot set size without setting maxSize or maxEntrySize on cache');\n        }\n        return 0;\n    };\n    *#indexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#tail; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#head) {\n                    break;\n                }\n                else {\n                    i = this.#prev[i];\n                }\n            }\n        }\n    }\n    *#rindexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#head; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#tail) {\n                    break;\n                }\n                else {\n                    i = this.#next[i];\n                }\n            }\n        }\n    }\n    #isValidIndex(index) {\n        return (index !== undefined &&\n            this.#keyMap.get(this.#keyList[index]) === index);\n    }\n    /**\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from most recently used to least recently used.\n     */\n    *entries() {\n        for (const i of this.#indexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.entries}\n     *\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from least recently used to most recently used.\n     */\n    *rentries() {\n        for (const i of this.#rindexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the keys in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *keys() {\n        for (const i of this.#indexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.keys}\n     *\n     * Return a generator yielding the keys in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rkeys() {\n        for (const i of this.#rindexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the values in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *values() {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.values}\n     *\n     * Return a generator yielding the values in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rvalues() {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Iterating over the cache itself yields the same results as\n     * {@link LRUCache.entries}\n     */\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    /**\n     * A String value that is used in the creation of the default string\n     * description of an object. Called by the built-in method\n     * `Object.prototype.toString`.\n     */\n    [Symbol.toStringTag] = 'LRUCache';\n    /**\n     * Find a value for which the supplied fn method returns a truthy value,\n     * similar to `Array.find()`. fn is called as `fn(value, key, cache)`.\n     */\n    find(fn, getOptions = {}) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            if (fn(value, this.#keyList[i], this)) {\n                return this.get(this.#keyList[i], getOptions);\n            }\n        }\n    }\n    /**\n     * Call the supplied function on each item in the cache, in order from most\n     * recently used to least recently used.\n     *\n     * `fn` is called as `fn(value, key, cache)`.\n     *\n     * If `thisp` is provided, function will be called in the `this`-context of\n     * the provided object, or the cache if no `thisp` object is provided.\n     *\n     * Does not update age or recenty of use, or iterate over stale values.\n     */\n    forEach(fn, thisp = this) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * The same as {@link LRUCache.forEach} but items are iterated over in\n     * reverse order.  (ie, less recently used items are iterated over first.)\n     */\n    rforEach(fn, thisp = this) {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * Delete any stale entries. Returns true if anything was removed,\n     * false otherwise.\n     */\n    purgeStale() {\n        let deleted = false;\n        for (const i of this.#rindexes({ allowStale: true })) {\n            if (this.#isStale(i)) {\n                this.#delete(this.#keyList[i], 'expire');\n                deleted = true;\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Get the extended info about a given entry, to get its value, size, and\n     * TTL info simultaneously. Returns `undefined` if the key is not present.\n     *\n     * Unlike {@link LRUCache#dump}, which is designed to be portable and survive\n     * serialization, the `start` value is always the current timestamp, and the\n     * `ttl` is a calculated remaining time to live (negative if expired).\n     *\n     * Always returns stale values, if their info is found in the cache, so be\n     * sure to check for expirations (ie, a negative {@link LRUCache.Entry#ttl})\n     * if relevant.\n     */\n    info(key) {\n        const i = this.#keyMap.get(key);\n        if (i === undefined)\n            return undefined;\n        const v = this.#valList[i];\n        const value = this.#isBackgroundFetch(v)\n            ? v.__staleWhileFetching\n            : v;\n        if (value === undefined)\n            return undefined;\n        const entry = { value };\n        if (this.#ttls && this.#starts) {\n            const ttl = this.#ttls[i];\n            const start = this.#starts[i];\n            if (ttl && start) {\n                const remain = ttl - (perf.now() - start);\n                entry.ttl = remain;\n                entry.start = Date.now();\n            }\n        }\n        if (this.#sizes) {\n            entry.size = this.#sizes[i];\n        }\n        return entry;\n    }\n    /**\n     * Return an array of [key, {@link LRUCache.Entry}] tuples which can be\n     * passed to {@link LRLUCache#load}.\n     *\n     * The `start` fields are calculated relative to a portable `Date.now()`\n     * timestamp, even if `performance.now()` is available.\n     *\n     * Stale entries are always included in the `dump`, even if\n     * {@link LRUCache.OptionsBase.allowStale} is false.\n     *\n     * Note: this returns an actual array, not a generator, so it can be more\n     * easily passed around.\n     */\n    dump() {\n        const arr = [];\n        for (const i of this.#indexes({ allowStale: true })) {\n            const key = this.#keyList[i];\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined || key === undefined)\n                continue;\n            const entry = { value };\n            if (this.#ttls && this.#starts) {\n                entry.ttl = this.#ttls[i];\n                // always dump the start relative to a portable timestamp\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = perf.now() - this.#starts[i];\n                entry.start = Math.floor(Date.now() - age);\n            }\n            if (this.#sizes) {\n                entry.size = this.#sizes[i];\n            }\n            arr.unshift([key, entry]);\n        }\n        return arr;\n    }\n    /**\n     * Reset the cache and load in the items in entries in the order listed.\n     *\n     * The shape of the resulting cache may be different if the same options are\n     * not used in both caches.\n     *\n     * The `start` fields are assumed to be calculated relative to a portable\n     * `Date.now()` timestamp, even if `performance.now()` is available.\n     */\n    load(arr) {\n        this.clear();\n        for (const [key, entry] of arr) {\n            if (entry.start) {\n                // entry.start is a portable timestamp, but we may be using\n                // node's performance.now(), so calculate the offset, so that\n                // we get the intended remaining TTL, no matter how long it's\n                // been on ice.\n                //\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = Date.now() - entry.start;\n                entry.start = perf.now() - age;\n            }\n            this.set(key, entry.value, entry);\n        }\n    }\n    /**\n     * Add a value to the cache.\n     *\n     * Note: if `undefined` is specified as a value, this is an alias for\n     * {@link LRUCache#delete}\n     *\n     * Fields on the {@link LRUCache.SetOptions} options param will override\n     * their corresponding values in the constructor options for the scope\n     * of this single `set()` operation.\n     *\n     * If `start` is provided, then that will set the effective start\n     * time for the TTL calculation. Note that this must be a previous\n     * value of `performance.now()` if supported, or a previous value of\n     * `Date.now()` if not.\n     *\n     * Options object may also include `size`, which will prevent\n     * calling the `sizeCalculation` function and just use the specified\n     * number if it is a positive integer, and `noDisposeOnSet` which\n     * will prevent calling a `dispose` function in the case of\n     * overwrites.\n     *\n     * If the `size` (or return value of `sizeCalculation`) for a given\n     * entry is greater than `maxEntrySize`, then the item will not be\n     * added to the cache.\n     *\n     * Will update the recency of the entry.\n     *\n     * If the value is `undefined`, then this is an alias for\n     * `cache.delete(key)`. `undefined` is never stored in the cache.\n     */\n    set(k, v, setOptions = {}) {\n        if (v === undefined) {\n            this.delete(k);\n            return this;\n        }\n        const { ttl = this.ttl, start, noDisposeOnSet = this.noDisposeOnSet, sizeCalculation = this.sizeCalculation, status, } = setOptions;\n        let { noUpdateTTL = this.noUpdateTTL } = setOptions;\n        const size = this.#requireSize(k, v, setOptions.size || 0, sizeCalculation);\n        // if the item doesn't fit, don't do anything\n        // NB: maxEntrySize set to maxSize by default\n        if (this.maxEntrySize && size > this.maxEntrySize) {\n            if (status) {\n                status.set = 'miss';\n                status.maxEntrySizeExceeded = true;\n            }\n            // have to delete, in case something is there already.\n            this.#delete(k, 'set');\n            return this;\n        }\n        let index = this.#size === 0 ? undefined : this.#keyMap.get(k);\n        if (index === undefined) {\n            // addition\n            index = (this.#size === 0\n                ? this.#tail\n                : this.#free.length !== 0\n                    ? this.#free.pop()\n                    : this.#size === this.#max\n                        ? this.#evict(false)\n                        : this.#size);\n            this.#keyList[index] = k;\n            this.#valList[index] = v;\n            this.#keyMap.set(k, index);\n            this.#next[this.#tail] = index;\n            this.#prev[index] = this.#tail;\n            this.#tail = index;\n            this.#size++;\n            this.#addItemSize(index, size, status);\n            if (status)\n                status.set = 'add';\n            noUpdateTTL = false;\n        }\n        else {\n            // update\n            this.#moveToTail(index);\n            const oldVal = this.#valList[index];\n            if (v !== oldVal) {\n                if (this.#hasFetchMethod && this.#isBackgroundFetch(oldVal)) {\n                    oldVal.__abortController.abort(new Error('replaced'));\n                    const { __staleWhileFetching: s } = oldVal;\n                    if (s !== undefined && !noDisposeOnSet) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(s, k, 'set');\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([s, k, 'set']);\n                        }\n                    }\n                }\n                else if (!noDisposeOnSet) {\n                    if (this.#hasDispose) {\n                        this.#dispose?.(oldVal, k, 'set');\n                    }\n                    if (this.#hasDisposeAfter) {\n                        this.#disposed?.push([oldVal, k, 'set']);\n                    }\n                }\n                this.#removeItemSize(index);\n                this.#addItemSize(index, size, status);\n                this.#valList[index] = v;\n                if (status) {\n                    status.set = 'replace';\n                    const oldValue = oldVal && this.#isBackgroundFetch(oldVal)\n                        ? oldVal.__staleWhileFetching\n                        : oldVal;\n                    if (oldValue !== undefined)\n                        status.oldValue = oldValue;\n                }\n            }\n            else if (status) {\n                status.set = 'update';\n            }\n        }\n        if (ttl !== 0 && !this.#ttls) {\n            this.#initializeTTLTracking();\n        }\n        if (this.#ttls) {\n            if (!noUpdateTTL) {\n                this.#setItemTTL(index, ttl, start);\n            }\n            if (status)\n                this.#statusTTL(status, index);\n        }\n        if (!noDisposeOnSet && this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return this;\n    }\n    /**\n     * Evict the least recently used item, returning its value or\n     * `undefined` if cache is empty.\n     */\n    pop() {\n        try {\n            while (this.#size) {\n                const val = this.#valList[this.#head];\n                this.#evict(true);\n                if (this.#isBackgroundFetch(val)) {\n                    if (val.__staleWhileFetching) {\n                        return val.__staleWhileFetching;\n                    }\n                }\n                else if (val !== undefined) {\n                    return val;\n                }\n            }\n        }\n        finally {\n            if (this.#hasDisposeAfter && this.#disposed) {\n                const dt = this.#disposed;\n                let task;\n                while ((task = dt?.shift())) {\n                    this.#disposeAfter?.(...task);\n                }\n            }\n        }\n    }\n    #evict(free) {\n        const head = this.#head;\n        const k = this.#keyList[head];\n        const v = this.#valList[head];\n        if (this.#hasFetchMethod && this.#isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('evicted'));\n        }\n        else if (this.#hasDispose || this.#hasDisposeAfter) {\n            if (this.#hasDispose) {\n                this.#dispose?.(v, k, 'evict');\n            }\n            if (this.#hasDisposeAfter) {\n                this.#disposed?.push([v, k, 'evict']);\n            }\n        }\n        this.#removeItemSize(head);\n        // if we aren't about to use the index, then null these out\n        if (free) {\n            this.#keyList[head] = undefined;\n            this.#valList[head] = undefined;\n            this.#free.push(head);\n        }\n        if (this.#size === 1) {\n            this.#head = this.#tail = 0;\n            this.#free.length = 0;\n        }\n        else {\n            this.#head = this.#next[head];\n        }\n        this.#keyMap.delete(k);\n        this.#size--;\n        return head;\n    }\n    /**\n     * Check if a key is in the cache, without updating the recency of use.\n     * Will return false if the item is stale, even though it is technically\n     * in the cache.\n     *\n     * Check if a key is in the cache, without updating the recency of\n     * use. Age is updated if {@link LRUCache.OptionsBase.updateAgeOnHas} is set\n     * to `true` in either the options or the constructor.\n     *\n     * Will return `false` if the item is stale, even though it is technically in\n     * the cache. The difference can be determined (if it matters) by using a\n     * `status` argument, and inspecting the `has` field.\n     *\n     * Will not update item age unless\n     * {@link LRUCache.OptionsBase.updateAgeOnHas} is set.\n     */\n    has(k, hasOptions = {}) {\n        const { updateAgeOnHas = this.updateAgeOnHas, status } = hasOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v) &&\n                v.__staleWhileFetching === undefined) {\n                return false;\n            }\n            if (!this.#isStale(index)) {\n                if (updateAgeOnHas) {\n                    this.#updateItemAge(index);\n                }\n                if (status) {\n                    status.has = 'hit';\n                    this.#statusTTL(status, index);\n                }\n                return true;\n            }\n            else if (status) {\n                status.has = 'stale';\n                this.#statusTTL(status, index);\n            }\n        }\n        else if (status) {\n            status.has = 'miss';\n        }\n        return false;\n    }\n    /**\n     * Like {@link LRUCache#get} but doesn't update recency or delete stale\n     * items.\n     *\n     * Returns `undefined` if the item is stale, unless\n     * {@link LRUCache.OptionsBase.allowStale} is set.\n     */\n    peek(k, peekOptions = {}) {\n        const { allowStale = this.allowStale } = peekOptions;\n        const index = this.#keyMap.get(k);\n        if (index === undefined ||\n            (!allowStale && this.#isStale(index))) {\n            return;\n        }\n        const v = this.#valList[index];\n        // either stale and allowed, or forcing a refresh of non-stale value\n        return this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n    }\n    #backgroundFetch(k, index, options, context) {\n        const v = index === undefined ? undefined : this.#valList[index];\n        if (this.#isBackgroundFetch(v)) {\n            return v;\n        }\n        const ac = new AC();\n        const { signal } = options;\n        // when/if our AC signals, then stop listening to theirs.\n        signal?.addEventListener('abort', () => ac.abort(signal.reason), {\n            signal: ac.signal,\n        });\n        const fetchOpts = {\n            signal: ac.signal,\n            options,\n            context,\n        };\n        const cb = (v, updateCache = false) => {\n            const { aborted } = ac.signal;\n            const ignoreAbort = options.ignoreFetchAbort && v !== undefined;\n            if (options.status) {\n                if (aborted && !updateCache) {\n                    options.status.fetchAborted = true;\n                    options.status.fetchError = ac.signal.reason;\n                    if (ignoreAbort)\n                        options.status.fetchAbortIgnored = true;\n                }\n                else {\n                    options.status.fetchResolved = true;\n                }\n            }\n            if (aborted && !ignoreAbort && !updateCache) {\n                return fetchFail(ac.signal.reason);\n            }\n            // either we didn't abort, and are still here, or we did, and ignored\n            const bf = p;\n            if (this.#valList[index] === p) {\n                if (v === undefined) {\n                    if (bf.__staleWhileFetching) {\n                        this.#valList[index] = bf.__staleWhileFetching;\n                    }\n                    else {\n                        this.#delete(k, 'fetch');\n                    }\n                }\n                else {\n                    if (options.status)\n                        options.status.fetchUpdated = true;\n                    this.set(k, v, fetchOpts.options);\n                }\n            }\n            return v;\n        };\n        const eb = (er) => {\n            if (options.status) {\n                options.status.fetchRejected = true;\n                options.status.fetchError = er;\n            }\n            return fetchFail(er);\n        };\n        const fetchFail = (er) => {\n            const { aborted } = ac.signal;\n            const allowStaleAborted = aborted && options.allowStaleOnFetchAbort;\n            const allowStale = allowStaleAborted || options.allowStaleOnFetchRejection;\n            const noDelete = allowStale || options.noDeleteOnFetchRejection;\n            const bf = p;\n            if (this.#valList[index] === p) {\n                // if we allow stale on fetch rejections, then we need to ensure that\n                // the stale value is not removed from the cache when the fetch fails.\n                const del = !noDelete || bf.__staleWhileFetching === undefined;\n                if (del) {\n                    this.#delete(k, 'fetch');\n                }\n                else if (!allowStaleAborted) {\n                    // still replace the *promise* with the stale value,\n                    // since we are done with the promise at this point.\n                    // leave it untouched if we're still waiting for an\n                    // aborted background fetch that hasn't yet returned.\n                    this.#valList[index] = bf.__staleWhileFetching;\n                }\n            }\n            if (allowStale) {\n                if (options.status && bf.__staleWhileFetching !== undefined) {\n                    options.status.returnedStale = true;\n                }\n                return bf.__staleWhileFetching;\n            }\n            else if (bf.__returned === bf) {\n                throw er;\n            }\n        };\n        const pcall = (res, rej) => {\n            const fmp = this.#fetchMethod?.(k, v, fetchOpts);\n            if (fmp && fmp instanceof Promise) {\n                fmp.then(v => res(v === undefined ? undefined : v), rej);\n            }\n            // ignored, we go until we finish, regardless.\n            // defer check until we are actually aborting,\n            // so fetchMethod can override.\n            ac.signal.addEventListener('abort', () => {\n                if (!options.ignoreFetchAbort ||\n                    options.allowStaleOnFetchAbort) {\n                    res(undefined);\n                    // when it eventually resolves, update the cache.\n                    if (options.allowStaleOnFetchAbort) {\n                        res = v => cb(v, true);\n                    }\n                }\n            });\n        };\n        if (options.status)\n            options.status.fetchDispatched = true;\n        const p = new Promise(pcall).then(cb, eb);\n        const bf = Object.assign(p, {\n            __abortController: ac,\n            __staleWhileFetching: v,\n            __returned: undefined,\n        });\n        if (index === undefined) {\n            // internal, don't expose status.\n            this.set(k, bf, { ...fetchOpts.options, status: undefined });\n            index = this.#keyMap.get(k);\n        }\n        else {\n            this.#valList[index] = bf;\n        }\n        return bf;\n    }\n    #isBackgroundFetch(p) {\n        if (!this.#hasFetchMethod)\n            return false;\n        const b = p;\n        return (!!b &&\n            b instanceof Promise &&\n            b.hasOwnProperty('__staleWhileFetching') &&\n            b.__abortController instanceof AC);\n    }\n    async fetch(k, fetchOptions = {}) {\n        const { \n        // get options\n        allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, \n        // set options\n        ttl = this.ttl, noDisposeOnSet = this.noDisposeOnSet, size = 0, sizeCalculation = this.sizeCalculation, noUpdateTTL = this.noUpdateTTL, \n        // fetch exclusive options\n        noDeleteOnFetchRejection = this.noDeleteOnFetchRejection, allowStaleOnFetchRejection = this.allowStaleOnFetchRejection, ignoreFetchAbort = this.ignoreFetchAbort, allowStaleOnFetchAbort = this.allowStaleOnFetchAbort, context, forceRefresh = false, status, signal, } = fetchOptions;\n        if (!this.#hasFetchMethod) {\n            if (status)\n                status.fetch = 'get';\n            return this.get(k, {\n                allowStale,\n                updateAgeOnGet,\n                noDeleteOnStaleGet,\n                status,\n            });\n        }\n        const options = {\n            allowStale,\n            updateAgeOnGet,\n            noDeleteOnStaleGet,\n            ttl,\n            noDisposeOnSet,\n            size,\n            sizeCalculation,\n            noUpdateTTL,\n            noDeleteOnFetchRejection,\n            allowStaleOnFetchRejection,\n            allowStaleOnFetchAbort,\n            ignoreFetchAbort,\n            status,\n            signal,\n        };\n        let index = this.#keyMap.get(k);\n        if (index === undefined) {\n            if (status)\n                status.fetch = 'miss';\n            const p = this.#backgroundFetch(k, index, options, context);\n            return (p.__returned = p);\n        }\n        else {\n            // in cache, maybe already fetching\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                const stale = allowStale && v.__staleWhileFetching !== undefined;\n                if (status) {\n                    status.fetch = 'inflight';\n                    if (stale)\n                        status.returnedStale = true;\n                }\n                return stale ? v.__staleWhileFetching : (v.__returned = v);\n            }\n            // if we force a refresh, that means do NOT serve the cached value,\n            // unless we are already in the process of refreshing the cache.\n            const isStale = this.#isStale(index);\n            if (!forceRefresh && !isStale) {\n                if (status)\n                    status.fetch = 'hit';\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                if (status)\n                    this.#statusTTL(status, index);\n                return v;\n            }\n            // ok, it is stale or a forced refresh, and not already fetching.\n            // refresh the cache.\n            const p = this.#backgroundFetch(k, index, options, context);\n            const hasStale = p.__staleWhileFetching !== undefined;\n            const staleVal = hasStale && allowStale;\n            if (status) {\n                status.fetch = isStale ? 'stale' : 'refresh';\n                if (staleVal && isStale)\n                    status.returnedStale = true;\n            }\n            return staleVal ? p.__staleWhileFetching : (p.__returned = p);\n        }\n    }\n    async forceFetch(k, fetchOptions = {}) {\n        const v = await this.fetch(k, fetchOptions);\n        if (v === undefined)\n            throw new Error('fetch() returned undefined');\n        return v;\n    }\n    memo(k, memoOptions = {}) {\n        const memoMethod = this.#memoMethod;\n        if (!memoMethod) {\n            throw new Error('no memoMethod provided to constructor');\n        }\n        const { context, forceRefresh, ...options } = memoOptions;\n        const v = this.get(k, options);\n        if (!forceRefresh && v !== undefined)\n            return v;\n        const vv = memoMethod(k, v, {\n            options,\n            context,\n        });\n        this.set(k, vv, options);\n        return vv;\n    }\n    /**\n     * Return a value from the cache. Will update the recency of the cache\n     * entry found.\n     *\n     * If the key is not found, get() will return `undefined`.\n     */\n    get(k, getOptions = {}) {\n        const { allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, status, } = getOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const value = this.#valList[index];\n            const fetching = this.#isBackgroundFetch(value);\n            if (status)\n                this.#statusTTL(status, index);\n            if (this.#isStale(index)) {\n                if (status)\n                    status.get = 'stale';\n                // delete only if not an in-flight background fetch\n                if (!fetching) {\n                    if (!noDeleteOnStaleGet) {\n                        this.#delete(k, 'expire');\n                    }\n                    if (status && allowStale)\n                        status.returnedStale = true;\n                    return allowStale ? value : undefined;\n                }\n                else {\n                    if (status &&\n                        allowStale &&\n                        value.__staleWhileFetching !== undefined) {\n                        status.returnedStale = true;\n                    }\n                    return allowStale ? value.__staleWhileFetching : undefined;\n                }\n            }\n            else {\n                if (status)\n                    status.get = 'hit';\n                // if we're currently fetching it, we don't actually have it yet\n                // it's not stale, which means this isn't a staleWhileRefetching.\n                // If it's not stale, and fetching, AND has a __staleWhileFetching\n                // value, then that means the user fetched with {forceRefresh:true},\n                // so it's safe to return that value.\n                if (fetching) {\n                    return value.__staleWhileFetching;\n                }\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                return value;\n            }\n        }\n        else if (status) {\n            status.get = 'miss';\n        }\n    }\n    #connect(p, n) {\n        this.#prev[n] = p;\n        this.#next[p] = n;\n    }\n    #moveToTail(index) {\n        // if tail already, nothing to do\n        // if head, move head to next[index]\n        // else\n        //   move next[prev[index]] to next[index] (head has no prev)\n        //   move prev[next[index]] to prev[index]\n        // prev[index] = tail\n        // next[tail] = index\n        // tail = index\n        if (index !== this.#tail) {\n            if (index === this.#head) {\n                this.#head = this.#next[index];\n            }\n            else {\n                this.#connect(this.#prev[index], this.#next[index]);\n            }\n            this.#connect(this.#tail, index);\n            this.#tail = index;\n        }\n    }\n    /**\n     * Deletes a key out of the cache.\n     *\n     * Returns true if the key was deleted, false otherwise.\n     */\n    delete(k) {\n        return this.#delete(k, 'delete');\n    }\n    #delete(k, reason) {\n        let deleted = false;\n        if (this.#size !== 0) {\n            const index = this.#keyMap.get(k);\n            if (index !== undefined) {\n                deleted = true;\n                if (this.#size === 1) {\n                    this.#clear(reason);\n                }\n                else {\n                    this.#removeItemSize(index);\n                    const v = this.#valList[index];\n                    if (this.#isBackgroundFetch(v)) {\n                        v.__abortController.abort(new Error('deleted'));\n                    }\n                    else if (this.#hasDispose || this.#hasDisposeAfter) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(v, k, reason);\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([v, k, reason]);\n                        }\n                    }\n                    this.#keyMap.delete(k);\n                    this.#keyList[index] = undefined;\n                    this.#valList[index] = undefined;\n                    if (index === this.#tail) {\n                        this.#tail = this.#prev[index];\n                    }\n                    else if (index === this.#head) {\n                        this.#head = this.#next[index];\n                    }\n                    else {\n                        const pi = this.#prev[index];\n                        this.#next[pi] = this.#next[index];\n                        const ni = this.#next[index];\n                        this.#prev[ni] = this.#prev[index];\n                    }\n                    this.#size--;\n                    this.#free.push(index);\n                }\n            }\n        }\n        if (this.#hasDisposeAfter && this.#disposed?.length) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Clear the cache entirely, throwing away all values.\n     */\n    clear() {\n        return this.#clear('delete');\n    }\n    #clear(reason) {\n        for (const index of this.#rindexes({ allowStale: true })) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                v.__abortController.abort(new Error('deleted'));\n            }\n            else {\n                const k = this.#keyList[index];\n                if (this.#hasDispose) {\n                    this.#dispose?.(v, k, reason);\n                }\n                if (this.#hasDisposeAfter) {\n                    this.#disposed?.push([v, k, reason]);\n                }\n            }\n        }\n        this.#keyMap.clear();\n        this.#valList.fill(undefined);\n        this.#keyList.fill(undefined);\n        if (this.#ttls && this.#starts) {\n            this.#ttls.fill(0);\n            this.#starts.fill(0);\n        }\n        if (this.#sizes) {\n            this.#sizes.fill(0);\n        }\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free.length = 0;\n        this.#calculatedSize = 0;\n        this.#size = 0;\n        if (this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(7927);\n"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__exportStar","exports","p","prototype","hasOwnProperty","call","value","sdk","MixinDeviceBase","ScryptedDeviceBase","index_1","DeviceBase","constructor","nativeId","super","storage","_storage","deviceManager","getDeviceStorage","log","_log","getDeviceLogger","console","_console","getDeviceConsole","createMediaObject","data","mimeType","mediaManager","sourceId","id","getMediaObjectConsole","mediaObject","getMixinConsole","_lazyLoadDeviceState","_deviceState","getDeviceState","onDeviceEvent","eventInterface","eventData","options","_listeners","Set","mixinDevice","mixinDeviceInterfaces","mixinStorageSuffix","mixinDeviceState","systemManager","getDeviceById","mixinProviderNativeId","__rpcproxy_traps_all_properties","createDeviceState","setState","mixinStorageKey","getMixinStorage","onMixinEvent","manageListener","listener","add","release","l","removeListener","_createGetState","state","_createSetState","warn","field","values","ScryptedInterfaceProperty","set","loaded","process","env","SCRYPTED_SDK_ES_MODULE","SCRYPTED_SDK_MODULE","cjsModule","SCRYPTED_SDK_CJS_MODULE","sdkModule","assign","getScryptedStatic","e","runtimeAPI","pluginRuntimeAPI","endpointManager","pluginHostAPI","setScryptedInterfaceDescriptors","TYPES_VERSION","ScryptedInterfaceDescriptors","catch","error","webpackEmptyContext","req","Error","code","keys","resolve","module","ScryptedMimeTypes","ScryptedInterface","MediaPlayerState","SecuritySystemObstruction","SecuritySystemMode","AirQuality","AirPurifierMode","AirPurifierStatus","ChargeState","LockState","PanTiltZoomMovement","ThermostatMode","TemperatureUnit","FanMode","HumidityMode","ScryptedDeviceType","ScryptedInterfaceMethod","eventTargetShim","AbortSignal","EventTarget","TypeError","aborted","abortedFlags","defineEventAttribute","WeakMap","defineProperties","Symbol","toStringTag","AbortController","signals","signal","createAbortSignal","getSignal","abort","dispatchEvent","type","controller","parallel","serial","serialOrdered","clean","key","jobs","forEach","bind","defer","callback","isAsync","err","result","fn","nextTick","setImmediate","setTimeout","async","list","iterator","index","item","aborter","length","runJob","output","results","sortMethod","isNamedList","Array","isArray","initState","keyedList","size","sort","a","b","iterate","terminator","ascending","iteratorHandler","descending","Buffer","symbol","for","BufferList","buf","_init","_bufs","append","_new","_offset","offset","tot","i","_t","_reverseOffset","blOffset","bufferId","slice","start","end","copy","dst","dstStart","srcStart","srcEnd","alloc","off","len","bytes","bufoff","concat","allocUnsafe","shallowSlice","startOffset","endOffset","buffers","pop","toString","encoding","consume","Math","trunc","Number","isNaN","shift","duplicate","buffer","_appendBuffer","from","byteOffset","byteLength","_isBufferList","push","indexOf","search","isBuffer","blIndex","buffOffset","buff","nativeSearchResult","revOffset","_match","searchOffset","methods","readDoubleBE","readDoubleLE","readFloatBE","readFloatLE","readBigInt64BE","readBigInt64LE","readBigUInt64BE","readBigUInt64LE","readInt32BE","readInt32LE","readUInt32BE","readUInt32LE","readInt16BE","readInt16LE","readUInt16BE","readUInt16LE","readInt8","readUInt8","readIntBE","readIntLE","readUIntBE","readUIntLE","isBufferList","DuplexStream","inherits","BufferListStream","_callback","piper","on","src","_write","_read","min","chunk","_destroy","cb","util","Stream","DelayedStream","CombinedStream","readable","dataSize","maxDataSize","pauseStreams","_released","_streams","_currentStream","_insideLoop","_pendingNext","combinedStream","option","isStreamLike","stream","newStream","Infinity","pauseStream","_checkDataSize","_handleErrors","pause","pipe","dest","resume","_getNext","_realGetNext","_pipeNext","write","self","_emitError","emit","_reset","destroy","_updateDataSize","message","formatArgs","args","useColors","namespace","humanize","diff","c","color","splice","lastC","replace","match","save","namespaces","setItem","removeItem","load","r","getItem","DEBUG","window","__nwjs","navigator","userAgent","toLowerCase","document","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","localStorage","localstorage","warned","colors","debug","formatters","j","v","JSON","stringify","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","curr","Date","ms","prev","coerce","unshift","format","formatter","val","apply","selectColor","extend","init","delimiter","newDebug","matchesTemplate","template","searchIndex","templateIndex","starIndex","matchIndex","default","stack","disable","names","skips","map","join","enable","split","trim","filter","Boolean","ns","name","skip","hash","charCodeAt","abs","browser","tty","inspectOpts","stderr","formatWithOptions","colorCode","prefix","hideDate","toISOString","getDate","isatty","fd","deprecate","supportsColor","level","test","reduce","obj","prop","substring","_","toUpperCase","inspect","str","O","source","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","arguments","setEncoding","_checkIfMaxDataSizeExceeded","privateData","wrappers","pd","event","retv","assert","setCancelFlag","passiveListener","cancelable","canceled","preventDefault","Event","eventTarget","eventPhase","currentTarget","stopped","immediateStopped","timeStamp","now","defineRedirectDescriptor","defineCallDescriptor","getWrapper","proto","wrapper","BaseEvent","CustomEvent","isFunc","defineWrapper","getPrototypeOf","isStopped","setPassiveListener","target","composedPath","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","stopPropagation","stopImmediatePropagation","bubbles","defaultPrevented","composed","srcElement","cancelBubble","returnValue","initEvent","setPrototypeOf","listenersMap","isObject","x","getListeners","listeners","eventTargetPrototype","eventName","node","listenerType","next","delete","newNode","passive","once","defineEventAttributeDescriptor","defineCustomEventTarget","eventNames","CustomEventTarget","types","Map","addEventListener","optionsIsObj","capture","removeEventListener","wrappedEvent","wrapEvent","handleEvent","setEventPhase","setCurrentTarget","looksLikeNode","looksLikeBrowser","looksLikeV8","url","URL","http","https","Writable","isFunction","captureStackTrace","useNativeURL","preservedUrlFields","events","eventHandlers","arg1","arg2","arg3","_redirectable","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","noop","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","response","_processResponse","cause","_performRequest","wrap","protocols","maxRedirects","maxBodyLength","nativeProtocols","scheme","protocol","nativeProtocol","wrappedProtocol","request","input","spreadUrlObject","isString","parseUrl","validateUrl","host","hostname","equal","wrappedRequest","parsed","parse","href","urlObject","spread","startsWith","port","path","pathname","removeMatchingHeaders","regex","headers","lastValue","header","String","baseClass","CustomError","properties","destroyRequest","_currentRequest","currentRequest","setHeader","removeHeader","msecs","destroyOnTimeout","socket","addListener","startTimer","_timeout","clearTimeout","clearTimer","method","property","searchPos","agents","agent","_currentUrl","_isRedirect","writeNext","finished","statusCode","trackRedirects","requestHeaders","location","followRedirects","responseUrl","redirects","beforeRedirect","Host","getHeader","relative","base","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrl","subdomain","domain","dot","endsWith","isSubdomain","responseDetails","requestDetails","fs","mime","asynckit","populate","FormData","_overheadLength","_valueLength","_valuesToMeasure","LINE_BREAK","DEFAULT_CONTENT_TYPE","filename","_error","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","_lengthRetriever","stat","fileSize","contentDisposition","_getContentDisposition","contentType","_getContentType","contents","getBoundary","filepath","normalize","basename","client","_httpMessage","lookup","_lastBoundary","getHeaders","userHeaders","formHeaders","setBoundary","boundary","_boundary","_generateBoundary","getBuffer","dataBuffer","floor","random","getLengthSync","hasKnownLength","getLength","submit","params","defaults","onResponse","responce","flag","argv","position","terminatorPosition","ctor","superCtor","super_","TempCtor","extendStatics","__extends","n","__proto__","t","__","TreeNode","ee","u","K","N","rr","L","ne","te","TreeNodeEnableIndex","tr","ie","ContainerIterator","iteratorType","equals","Container","Base","M","empty","throwIteratorAccessError","RangeError","__read","f","s","done","__values","TreeContainer","W","$","re","se","h","fe","parentNode","grandParent","curNode","G","he","U","X","Y","Z","ue","clear","ae","g","updateKeyByIterator","eraseElementByPos","eraseElementByKey","eraseElementByIterator","return","getElementByPos","getHeight","traversal","max","TreeIterator","pre","__generator","label","sent","trys","ops","verb","throw","step","OrderedSetIterator","container","OrderedSet","insert","P","begin","rBegin","rEnd","front","back","find","lowerBound","upperBound","reverseLowerBound","reverseUpperBound","union","extensions","preference","db","extname","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","exec","charsets","extension","exts","substr","to","requiredHeaderFlags","requiredHeaderFlagsErrors","codes","CMD_SHIFT","CMD_MASK","DUP_MASK","QOS_MASK","QOS_SHIFT","RETAIN_MASK","VARBYTEINT_MASK","VARBYTEINT_FIN_MASK","VARBYTEINT_MAX","SESSIONPRESENT_MASK","SESSIONPRESENT_HEADER","CONNACK_HEADER","connack","USERNAME_MASK","PASSWORD_MASK","WILL_RETAIN_MASK","WILL_QOS_MASK","WILL_QOS_SHIFT","WILL_FLAG_MASK","CLEAN_SESSION_MASK","CONNECT_HEADER","connect","sessionExpiryInterval","willDelayInterval","receiveMaximum","maximumPacketSize","topicAliasMaximum","requestResponseInformation","requestProblemInformation","userProperties","authenticationMethod","authenticationData","payloadFormatIndicator","messageExpiryInterval","responseTopic","correlationData","maximumQoS","retainAvailable","assignedClientIdentifier","reasonString","wildcardSubscriptionAvailable","subscriptionIdentifiersAvailable","sharedSubscriptionAvailable","serverKeepAlive","responseInformation","serverReference","topicAlias","subscriptionIdentifier","propertiesCodes","genHeader","qos","dup","retain","writeUInt8","propertiesTypes","PUBLISH_HEADER","SUBSCRIBE_HEADER","SUBSCRIBE_OPTIONS_QOS_MASK","SUBSCRIBE_OPTIONS_NL_MASK","SUBSCRIBE_OPTIONS_NL_SHIFT","SUBSCRIBE_OPTIONS_RAP_MASK","SUBSCRIBE_OPTIONS_RAP_SHIFT","SUBSCRIBE_OPTIONS_RH_MASK","SUBSCRIBE_OPTIONS_RH_SHIFT","SUBSCRIBE_OPTIONS_RH","SUBSCRIBE_OPTIONS_NL","SUBSCRIBE_OPTIONS_RAP","SUBSCRIBE_OPTIONS_QOS","UNSUBSCRIBE_HEADER","ACKS","unsuback","puback","pubcomp","pubrel","pubrec","SUBACK_HEADER","suback","VERSION3","VERSION4","VERSION5","VERSION131","VERSION132","QOS","EMPTY","pingreq","pingresp","disconnect","MQTT5_PUBACK_PUBREC_CODES","MQTT5_PUBREL_PUBCOMP_CODES","MQTT5_SUBACK_CODES","MQTT5_UNSUBACK_CODES","MQTT5_DISCONNECT_CODES","MQTT5_AUTH_CODES","writeToStream","EventEmitter","Accumulator","_array","_i","lengths","pos","packet","opts","parser","generate","cache","SubOk","subarray","generateBuffer","generateCache","generateNumber","genBufVariableByteInt","num","digit","generate4ByteBuffer","writeUInt32BE","cmd","topic","payload","bl","Packet","constants","Parser","opt","settings","_states","_resetState","_list","_stateCounter","_parseHeader","zero","cmdIndex","headerFlags","_parseLength","_parseVarByteNum","_parsePayload","_pos","_parseConnect","_parseConnack","_parsePublish","_parseConfirmation","_parseSubscribe","_parseSuback","_parseUnsubscribe","_parseUnsuback","_parseDisconnect","_parseAuth","password","username","flags","protocolId","_parseString","protocolVersion","bridgeMode","will","willRetain","willQos","keepalive","_parseNum","_parseProperties","getOwnPropertyNames","clientId","willProperties","_parseBuffer","sessionPresent","reasonCode","returnCode","_parseMessageId","rh","rap","nl","subscription","subscriptions","_parseByte","granted","unsubscriptions","messageId","maybeBuffer","_parseStringPair","_parse4ByteNum","fullInfoFlag","current","mul","padding","_parseByType","currentUserProperty","currentValue","_newPacket","zeroBuf","numbers","numCache","writeNumber","writeNumberCached","toGenerate","cork","uncork","propertiesData","getProperties","providedUsername","isStringOrBuffer","writeVarByteInt","writeStringOrBuffer","writeString","version","rc","publish","getPropertiesByMaximumPacketSize","confirmation","subs","itopic","iqos","sub","jtopic","jqos","jnl","jrap","jrh","joptions","subscribe","unsubs","unsubscribe","emptyPacket","auth","writeNumberGenerated","varByteIntCache","string","strlen","writeStringPair","number","generatedNumber","toWrite","writeProperties","propertiesLength","getLengthProperty","currentLength","propName","propLength","propValueLength","propValue","valueIndex","mayEmptyProps","currentMayEmptyProp","writeProperty","generated4ByteBuffer","write4ByteNumber","bufOrString","__setModuleDefault","__importStar","mod","mqtt","BufferedDuplex","writev","readable_stream_1","buffer_1","chunks","Duplex","proxy","objectMode","writeQueue","_writev","isSocketOpen","destroyed","read","writeToProxy","_final","socketReady","processWriteQueue","__importDefault","get_timer_1","keepaliveTimeoutTimestamp","_keepaliveTimeoutTimestamp","intervalEvery","_intervalEvery","_keepalive","variant","timer","setKeepalive","timerId","reschedule","counter","keepAliveTimeout","ceil","sendPing","onKeepaliveTimeout","TypedEventEmitter","events_1","shared_1","applyMixin","topic_alias_recv_1","mqtt_packet_1","default_message_id_provider_1","default_1","validations","debug_1","store_1","handlers_1","TypedEmitter_1","KeepaliveManager_1","is_browser_1","globalThis","defaultConnectOptions","reschedulePings","reconnectPeriod","connectTimeout","resubscribe","writeCache","timerVariant","MqttClient","defaultId","streamBuilder","_noop","VERSION","isWebWorker","rejectUnauthorized","customHandleAcks","cacheNumbers","messageIdProvider","outgoingStore","incomingStore","queueQoSZero","_resubscribeTopics","messageIdToTopic","keepaliveManager","connected","disconnecting","reconnecting","queue","connackTimer","reconnectTimer","_storeProcessing","_packetIdsDuringStoreProcessing","_storeProcessingQueue","outgoing","_firstConnection","topicAliasRecv","deliver","entry","_resubscribe","send","register","_sendPacket","_destroyKeepaliveManager","_setupReconnect","manualConnect","handleAuth","handleMessage","_nextId","allocate","getLastMessageId","getLastAllocated","_a","completeParse","packets","_clearReconnect","disconnected","work","nextTickWork","enc","_flushVolatile","connectPacket","_writePacket","authPacket","setMaxListeners","_cleanUp","cbStorePut","_checkDisconnecting","publishProc","volatile","invoke","publishAsync","Promise","reject","topicObject","topicsList","invalidTopic","validateTopics","defaultOpts","parseSub","subOptions","currentOpts","subscribeProc","topics","packet2","subscribeAsync","unsubscribeProc","topic2","unsubscribeAsync","force","closeStores","close","e1","e2","_deferredReconnect","finish","endAsync","removeOutgoingMessage","_removeOutgoingAndStoreMessage","reconnect","_reconnect","_flush","_removeTopicAliasAndRecoverTopicName","alias","topicAliasSend","getTopicByAlias","setInterval","clearInterval","forced","_storeAndSend","storePacket","put","err2","_applyTopicAlias","autoAssignTopicAlias","getAliasByTopic","getLruAlias","autoUseTopicAlias","noStore","_storePacket","_setupKeepaliveManager","reschedulePing","_reschedulePing","_resubscribeTopicsKeys","connackPacket","topicI","resubscribeTopic","_onConnect","startStreamProcess","outStore","createStream","remove","_flushStoreProcessingQueue","clearStoreProcessing","storeDeliver","status","allProcessed","_invokeAllStoreProcessingQueue","_invokeStoreProcessingQueue","del","deallocate","MQTTJS_VERSION","BufferedDuplex_1","my","isInitialized","websocketSubProtocol","wsOptions","setDefaultOpts","transformWsUrl","buildUrl","connectSocket","_proxy","Transform","sendSocketMessage","success","fail","closeSocket","buildProxy","onSocketOpen","onSocketMessage","res","reader","FileReader","ArrayBuffer","readAsArrayBuffer","onSocketClose","onSocketError","connectAsync","url_1","client_1","brokerUrl","_b","_c","_d","parsedUrl","parsedOptions","query","unixSocket","includes","matches","parseAuthOptions","cert","forceNativeWebSocket","ws","wss","wx","wxs","ali","alis","tcp","ssl","tls","mqtts","isSecure","defaultProtocol","servers","_reconnectCount","allowRetries","promiseResolutionListeners","removePromiseResolutionListeners","net_1","createConnection","tls_1","isIP","servername","connection","handleTLSerrors","authorized","browserStreamBuilder","ws_1","WSS_OPTIONS","createWebsocket","createWebSocket","webSocketStream","createWebSocketStream","binary","setDefaultBrowserOpts","bufferSize","browserBufferSize","bufferTimeout","browserBufferTimeout","coerceToBuffer","WebSocket","binaryType","createBrowserWebSocket","pOptions","socketWrite","socketEnd","socketWriteBrowser","bufferedAmount","eventListenerSupport","onOpen","onClose","onError","onMessage","Blob","Response","arrayBuffer","readyState","OPEN","onopen","onclose","onerror","onmessage","socketTask","errMsg","destroyRef","nextId","worker_timers_1","workerTimer","nativeTimer","func","time","isReactNativeBrowser","ReasonCodes","pubackRC","ErrorWithReasonCode","pubrecRC","grantedI","subackRC","ack_1","topic_alias_send_1","publish_1","auth_1","connack_1","pubrel_1","validReasonCodes","gotTopic","comp","pub","isWebWorkerEnv","isReactNativeEnv","product","isBrowser","versions","isStandardBrowserEnv","mixin","includeConstructor","inheritanceChain","streamsOpts","defaultStoreOptions","_inflights","Readable","toDelete","storedPacket","aliasToTopic","lru_cache_1","number_allocator_1","LRUCache","topicToAlias","numberAllocator","NumberAllocator","use","firstVacant","lastId","free","validateTopic","parts","KeepaliveManager","UniqueMessageIdProvider","DefaultMessageIdProvider","Store","Client","unique_message_id_provider_1","connect_1","d","w","y","plural","msAbs","isPlural","round","parseFloat","isFinite","long","fmtLong","fmtShort","SortedSet","debugTrace","debugError","Interval","low","high","ss","lhs","rhs","compare","other","it","pointer","rLow","rHigh","lLow","intervalCount","dump","element","global","DEFAULT_PORTS","ftp","gopher","stringEndsWith","getEnv","getProxyForUrl","NO_PROXY","every","parsedProxy","parsedProxyHostname","parsedProxyPort","charAt","shouldProxy","SymbolDispose","AbortError","isNodeStream","isWebStream","kControllerErrorFunction","eos","ERR_INVALID_ARG_TYPE","addAbortListener","addAbortSignal","validateAbortSignal","addAbortSignalNoValidate","onAbort","reason","disposable","StringPrototypeSlice","SymbolIterator","TypedArrayPrototypeSet","Uint8Array","head","tail","ret","hasStrings","_getString","_getBuffer","first","retLen","depth","customInspect","pipeline","destroyer","isReadable","isWritable","isTransformStream","isWritableStream","isReadableStream","ERR_INVALID_ARG_VALUE","ERR_MISSING_ARGS","streams","orgStreams","idx","ondrain","onfinish","onreadable","writableObjectMode","readableObjectMode","writer","getWriter","ready","toRead","getReader","aggregateTwoErrors","ERR_MULTIPLE_CALLBACK","kIsDestroyed","isDestroyed","isFinished","isServerRequest","kDestroy","kConstruct","checkError","errored","called","onDestroy","_readableState","_writableState","closed","emitErrorCloseNT","emitCloseNT","emitErrorNT","closeEmitted","emitClose","errorEmitted","errorOrDestroy","sync","autoDestroy","constructNT","onConstruct","constructed","emitConstructNT","_construct","isRequest","emitCloseLegacy","emitErrorCloseLegacy","construct","listenerCount","er","undestroy","reading","ended","endEmitted","finalCalled","prefinished","ending","ObjectDefineProperties","ObjectGetOwnPropertyDescriptor","ObjectKeys","ObjectSetPrototypeOf","allowHalfOpen","webStreamsAdapters","duplexify","lazyWebStreams","writableHighWaterMark","writableBuffer","writableLength","writableFinished","writableCorked","writableEnded","writableNeedDrain","fromWeb","pair","newStreamDuplexFromReadableWritablePair","toWeb","duplex","newReadableWritablePairFromDuplex","body","bufferModule","isIterable","isReadableNodeStream","isWritableNodeStream","isDuplexNodeStream","ERR_INVALID_RETURN_VALUE","createDeferredPromise","isBlob","FunctionPrototypeCall","Duplexify","_duplexify","onfinished","final","promise","ac","_promise","_resolve","fromAsyncGen","then","ERR_STREAM_PREMATURE_CLOSE","kEmptyObject","validateFunction","validateObject","validateBoolean","PromisePrototypeThen","isClosed","isReadableFinished","isReadableErrored","isWritableFinished","isWritableErrored","willEmitClose","_willEmitClose","kIsClosedPromise","nop","_options$readable","_options$writable","isAborted","originalCallback","resolverFn","eosWeb","wState","rState","onlegacyfinish","readableFinished","onend","onclosed","onrequest","cleanup","endCallback","_opts","autoCleanup","SymbolAsyncIterator","ERR_STREAM_NULL_VALUES","iterable","highWaterMark","hadError","hasThrow","ArrayIsArray","EE","prependListener","emitter","_events","ondata","_isStdio","didOnEnd","ERR_OUT_OF_RANGE","validateInteger","kWeakHandler","kResistStopPropagation","staticCompose","ArrayPrototypePush","MathFloor","NumberIsNaN","PromiseReject","PromiseResolve","kEmpty","kEof","concurrency","signalOpt","cnt","onCatch","afterItemProcessed","maybeResume","pump","some","unused","ReduceAwareErrMissingArgs","toIntegerOrInfinity","streamReturningOperators","asIndexedPairs","_options$signal","drop","_options$signal5","_options$signal6","flatMap","take","_options$signal7","_options$signal8","compose","composedStream","promiseReturningOperators","reducer","initialValue","_options$signal2","hasInitialValue","gotAnyItemFromStream","_options$signal3","toArray","_options$signal4","PassThrough","_transform","destroyImpl","ERR_STREAM_DESTROYED","writing","makeAsyncIterable","fromReadable","pumpToNode","onresolve","wait","pumpToWeb","pipelineImpl","outerSignal","lastStreamCleanup","finishImpl","destroys","finishCount","_disposable","isLastStream","_ret","_ret2","pt","endFn","popCallback","ArrayPrototypeIndexOf","NumberIsInteger","NumberParseInt","SafeSet","SymbolAsyncDispose","ReadableState","getHighWaterMark","getDefaultHighWaterMark","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kPaused","StringDecoder","kObjectMode","kConstructed","kSync","kEmitClose","kAutoDestroy","makeBitMapDescriptor","bit","isDuplex","pipes","flowing","defaultEncoding","awaitDrainWriters","decoder","needReadable","maybeReadMore","readableAddChunk","addToFront","_isUint8Array","_uint8ArrayToBuffer","emitReadable","emittedReadable","emitReadable_","onEofChunk","addChunk","dataEmitted","readableListening","resumeScheduled","multiAwaitDrain","readingMore","_undestroy","captureRejectionSymbol","readableEnded","isPaused","content","howMuchToRead","flow","maybeReadMore_","updateReadableListening","nReadingNextTick","resume_","streamToAsyncIterator","iter","destroyOnReturn","createAsyncIterator","fromList","endReadable","endReadableNT","endWritableNT","NaN","nOrig","computeNewHighWaterMark","doRead","pipeOpts","stdout","unpipe","onunpipe","unpipeInfo","hasUnpiped","cleanedUp","needDrain","pipeOnDrain","dests","ev","removeAllListeners","paused","streamKeys","readableDidRead","readableAborted","readableHighWaterMark","readableBuffer","readableFlowing","readableLength","readableEncoding","pipesCount","_fromList","readableStream","newStreamReadableFromReadableStream","streamReadable","newReadableStreamFromStreamReadable","_ref","_src$readableObjectMo","defaultHighWaterMarkBytes","defaultHighWaterMarkObjectMode","duplexKey","hwm","highWaterMarkFrom","setDefaultHighWaterMark","kCallback","transform","flush","prefinish","SymbolFor","kIsErrored","kIsReadable","kIsWritable","kIsDisturbed","strict","_obj$_readableState","_obj$_writableState","pipeThrough","cancel","isWritableEnded","isOutgoingMessage","_closed","_defaultKeepAlive","_removedConnection","_removedContLen","isServerResponse","_sent100","isDisturbed","_stream$kIsDisturbed","isErrored","_ref2","_ref3","_ref4","_ref5","_stream$kIsErrored","_stream$_readableStat3","_stream$_writableStat3","_stream$_readableStat4","_stream$_writableStat4","readableErrored","writableErrored","isReadableEnded","_stream$_readableStat","_stream$_readableStat2","_stream$_writableStat","_stream$_writableStat2","_stream$req","_consuming","_dumped","upgradeOrConnect","ArrayPrototypeSlice","FunctionPrototypeSymbolHasInstance","ObjectDefineProperty","StringPrototypeToLowerCase","SymbolHasInstance","WritableState","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_ALREADY_FINISHED","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","kOnFinished","noDecode","decodeStrings","corked","bufferProcessing","onwrite","writecb","writelen","afterWriteTickInfo","resetBuffer","pendingcb","buffered","bufferedIndex","allBuffers","allNoop","clearBuffer","finishMaybe","isEncoding","writeOrBuffer","doWrite","onwriteError","errorBuffer","count","afterWriteTick","afterWrite","_state$errored","onfinishCallbacks","_state$errored2","bufferedLength","needFinish","onFinish","callFinal","object","setDefaultEncoding","writableAborted","writableStream","newStreamWritableFromWritableStream","streamWritable","newWritableStreamFromStreamWritable","ArrayPrototypeIncludes","ArrayPrototypeJoin","ArrayPrototypeMap","NumberMAX_SAFE_INTEGER","NumberMIN_SAFE_INTEGER","ObjectPrototypeHasOwnProperty","RegExpPrototypeExec","StringPrototypeToUpperCase","StringPrototypeTrim","hideStackFrames","ERR_SOCKET_BAD_PORT","ERR_UNKNOWN_SIGNAL","normalizeEncoding","isAsyncFunction","isArrayBufferView","octalReg","validateInt32","validateUint32","positive","validateString","validateOneOf","oneOf","allowed","getOwnPropertyValueOrDefault","defaultValue","allowArray","allowFunction","validateDictionary","validateArray","minLength","validateBuffer","validatePlainFunction","validateUndefined","linkValueRegExp","validateLinkHeaderFormat","isInt32","isUint32","parseFileMode","def","validateStringArray","validateBooleanArray","validateAbortSignalArray","indexedName","validateEncoding","normalizedEncoding","validateNumber","validatePort","allowZero","validateSignalName","validateUnion","validateLinkHeaderValue","hints","hintsLength","link","AggregateError","CustomAggregateError","kIsNodeError","kTypes","classRegExp","ERR_INTERNAL_ASSERTION","addNumericalSeparator","E","NodeError","msg","expectedLength","getMessage","hidden","expected","actual","instances","last","_actual$constructor","inspected","_value$constructor","range","received","isInteger","innerError","outerError","errors","READABLE_STREAM","promises","CustomStream","originalDestroy","el","sep","ArrayPrototypePop","thisArgs","instance","Function","hasInstance","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","props","PromisePrototypeCatch","thenFn","catchFn","ReflectApply","Reflect","RegExpPrototypeTest","asyncIterator","dispose","asyncDispose","AsyncFunction","freeze","rej","promisify","debuglog","_unused","replacement","toFixed","is","arr","isView","queueMicrotask","_removeEventListener","AbortSignalAny","any","custom","customPromisify","ERR_ILLEGAL_CONSTRUCTOR","utils","op","pl","lastArg","copyBuffer","cur","circles","refs","refsNew","constructorHandlers","cloneArray","handler","cloneProto","clone","a2","o2","rfdcCircles","os","hasFlag","forceColor","translateLevel","hasBasic","has256","has16m","haveStream","streamIsTTY","TERM","platform","osRelease","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","FORCE_COLOR","isTTY","TWO_TO_THE_POWER_OF_TWENTY_NINE","TWO_TO_THE_POWER_OF_THIRTY","LAST_NUMBER_WEAK_MAP","lastNumberWeakMap","generateUniqueNumber","collection","lastNumber","nextNumber","has","createGenerateUniqueNumber","loadOrReturnBroker","createAddUniqueNumber","loadBroker","worker","broker","blob","createObjectURL","revokeObjectURL","createLoadOrReturnBroker","scheduledIntervalFunctions","scheduledTimeoutFunctions","unrespondedRequests","Worker","timerType","idOrFunc","timerIdAndTimerType","isClearResponse","postMessage","delay","performance","Server","Receiver","Sender","WebSocketServer","EMPTY_BUFFER","FastBuffer","species","_mask","mask","_unmask","totalLength","toArrayBuffer","toBuffer","readOnly","unmask","WS_NO_BUFFER_UTIL","bufferUtil","BINARY_TYPES","hasBlob","GUID","kForOnEventAttribute","kListener","kStatusCode","kWebSocket","NOOP","kCode","kData","kError","kMessage","kReason","kTarget","kType","kWasClean","CloseEvent","wasClean","ErrorEvent","MessageEvent","isBinary","callListener","_closeFrameReceived","_closeFrameSent","thisArg","tokenChars","elem","configurations","offers","extensionName","paramName","mustUnescape","isEscaping","inQuotes","SyntaxError","token","kDone","kRun","pending","job","zlib","Limiter","TRAILER","kPerMessageDeflate","kTotalLength","kBuffers","zlibLimiter","deflateOnData","inflateOnData","_maxPayload","reset","inflateOnError","_inflate","isServer","maxPayload","_threshold","threshold","_isServer","_deflate","concurrencyLimit","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","normalizeParams","acceptAsServer","acceptAsClient","accepted","decompress","fin","_decompress","compress","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","createDeflateRaw","zlibDeflateOptions","Z_SYNC_FLUSH","PerMessageDeflate","isValidStatusCode","isValidUTF8","_allowSynchronousEvents","allowSynchronousEvents","_binaryType","_extensions","_skipUTF8Validation","skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_errored","_loop","_state","startLoop","getInfo","getPayloadLength16","getPayloadLength64","getMask","getData","createError","compressed","haveLength","pow","controlMessage","dataMessage","messageLength","fragments","ErrorCtor","errorCode","randomFillSync","applyMask","kByteLength","maskBuffer","RANDOM_POOL_SIZE","randomPool","randomPoolPointer","generateMask","_generateMask","_maskBuffer","_socket","_firstFragment","_queue","frame","dataLength","merge","skipMasking","payloadLength","opcode","rsv1","writeUInt16BE","writeUIntBE","enqueue","dispatch","sendFrame","ping","getBlobData","pong","perMessageDeflate","callCallbacks","dequeue","sender","duplexOnEnd","duplexOnError","terminateOnDestroy","CLOSED","terminate","CONNECTING","isUtf8","_isValidUTF8","WS_NO_UTF_8_VALIDATE","createHash","subprotocol","keyRegex","server","socketOnError","abortHandshake","STATUS_CODES","Connection","abortHandshakeOrEmitwsClientError","autoPong","handleProtocols","clientTracking","verifyClient","noServer","backlog","_server","createServer","writeHead","listen","emitConnection","_removeListeners","addListeners","listening","upgrade","handleUpgrade","clients","_shouldEmitClose","address","shouldHandle","secWebSocketProtocol","secWebSocketExtensions","info","origin","secure","encrypted","verified","completeUpgrade","update","digest","_protocol","setSocket","net","randomBytes","kAborted","protocolVersions","readyStates","subprotocolRegex","_closeCode","_closeMessage","_closeTimer","_errorEmitted","_paused","_readyState","_receiver","_sender","_bufferedAmount","initAsClient","_autoPong","_url","receiver","receiverOnConclude","receiverOnDrain","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","senderOnError","setNoDelay","socketOnClose","socketOnData","socketOnEnd","CLOSING","setCloseTimer","_req","sendAfterClose","websocket","socketPath","timeout","isIpcUrl","invalidUrlMessage","emitErrorAndClose","defaultPort","protocolSet","tlsConnect","netConnect","Upgrade","handshakeTimeout","Origin","_originalIpc","_originalSecure","_originalHostOrSocketPath","entries","isSameHost","authorization","cookie","addr","serverProt","protError","extensionNames","finishRequest","receiverOnFinish","SettingsMixinDeviceBase","_1","settingsGroup","group","settingsGroupKey","groupKey","Settings","getSettings","settingsPromise","mixinSettingsPromise","getMixinSettings","allSettings","description","title","readonly","mixinSettings","setting","putSetting","putMixinSetting","StorageSettings","device","hasValue","rawGet","onGet","hide","getItemInternal","deviceFilter","onPut","mapPut","mapGet","oldValue","putSettingInternal","rawDevice","readDefaultValue","multiple","json","parseValue","persistedDefaultValue","settle","buildFullPath","buildURL","httpFollow","httpsFollow","enhanceError","Cancel","isHttps","setProxy","base64","redirection","config","resolvePromise","rejectPromise","onCanceled","cancelToken","headerNames","isStream","isArrayBuffer","fullPath","baseURL","urlAuth","isHttpsRequest","httpsAgent","httpAgent","paramsSerializer","transport","proxyEnv","proxyUrl","parsedProxyUrl","noProxyEnv","no_proxy","proxyElement","proxyUrlAuth","isHttpsProxy","insecureHTTPParser","lastRequest","createUnzip","statusText","statusMessage","responseType","responseBuffer","totalResponseBytes","maxContentLength","responseData","responseEncoding","stripBOM","transitional","clarifyTimeoutError","cookies","parseHeaders","isURLSameOrigin","requestData","isFormData","XMLHttpRequest","unescape","encodeURIComponent","Authorization","btoa","onloadend","responseHeaders","getAllResponseHeaders","responseText","open","onreadystatechange","responseURL","onabort","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","isUndefined","onDownloadProgress","onUploadProgress","upload","Axios","mergeConfig","axios","createInstance","defaultConfig","context","instanceConfig","CancelToken","isCancel","all","isAxiosError","__CANCEL__","executor","onfulfilled","throwIfRequested","InterceptorManager","dispatchRequest","validator","validators","interceptors","assertOptions","silentJSONParsing","boolean","forcedJSONParsing","requestInterceptorChain","synchronousRequestInterceptors","interceptor","runWhen","synchronous","fulfilled","rejected","responseInterceptorChain","chain","newConfig","onFulfilled","onRejected","getUri","handlers","eject","isAbsoluteURL","combineURLs","requestedURL","transformData","throwIfCancellationRequested","transformRequest","common","adapter","transformResponse","toJSON","fileName","lineNumber","columnNumber","config1","config2","getMergedValue","isPlainObject","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","validateStatus","fns","normalizeHeaderName","setContentTypeIfUnset","isFile","isURLSearchParams","rawValue","encoder","stringifySafely","strictJSONParsing","encode","serializedParams","isDate","hashmarkIndex","relativeURL","expires","isNumber","toGMTString","RegExp","decodeURIComponent","originURL","msie","urlParsingNode","createElement","resolveURL","setAttribute","requestURL","normalizedName","ignoreDuplicateOf","line","thing","deprecatedWarnings","formatMessage","schema","allowUnknown","URLSearchParams","assignValue","DetectionClass","classnamePrio","Face","Plate","Person","Vehicle","Animal","Package","Motion","basicDetectionClasses","defaultDetectionClasses","animalClasses","personClasses","vehicleClasses","faceClasses","licensePlateClasses","motionClasses","packageClasses","objectClasses","AnyObject","audioLabels","audioClasses","Audio","doorbellClasses","Doorbell","isFaceClassname","classname","isPlateClassname","isAnimalClassname","isPersonClassname","isVehicleClassname","isMotionClassname","isDoorbellClassname","isPackageClassname","isLabelDetection","isObjectClassname","detectionClassesDefaultMap","parentDetectionClassMap","similarCharacters","similarCharactersMap","similarCharacter","character","similar","levenshteinDistance","str1","str2","len1","len2","cost","c1","c2","temp","Agent","applySettingsShow","storageSettings","mqttEnabled","useMqttPluginCredentials","haEnabled","useHaPluginCredentials","haEnabledSetting","mqttEnabledSetting","mqttHost","mqttPassword","mqttUsename","haAccessToken","haProtocol","haAddress","getBaseLogger","deviceConsole","friendlyName","optionalParams","toLocaleString","canLog","severity","LogLevel","NOTICE","INFO","ERROR","WARN","devNotifier","sendNotification","param","pushover","priority","getBaseSettings","onPluginSwitch","hideMqtt","mqttAlwaysEnabled","hideHa","baseGroupName","pluginEnabled","immediate","Notifier","subgroup","placeholder","choices","getMqttBasicClient","logger","configTopicPattern","mqttDevice","getDeviceByName","mqttSettings","BasePlugin","initializingMqtt","getHaApiUrl","accessToken","haDevice","haSettings","getHaApi","getTemplateData","post","getStatesData","getCalendarEvents","entityId","fromDate","toDate","start_date_time","end_date_time","entity_id","postAutomation","automationId","automation","setupMqttClient","getLogger","mqttClient","getMqttClient","mainLogger","pluginFriendlyName","topicMatches","pattern","patternLevels","topicLevels","topicLastValue","topicCbMap","currentAutodiscoveryTopics","forceReconnect","connecting","_connect","mqttPathmame","messageTopic","cbs","messageString","sleep","urlWithoutPath","inputValue","previousValue","getMqttTopicTopics","pluginName","deviceId","getEntityTopic","entity","getDiscoveryTopic","getInfoTopic","cleanupAutodiscoveryTopics","activeTopics","topicsToDelete","objectDetectorNativeId","videoclipsNativeId","FrigateBridgePlugin","initStorage","serverUrl","importBirdseyeCamera","active","executeCameraDiscovery","initData","labels","baseFrigateApi","apiUrl","service","mainInterval","onDeviceDiscovered","interfaces","MixinProvider","API","Camera","VideoClips","VideoCamera","onRequest","searchParams","___","____","_____","webhook","eventId","parameters","dev","videoclipsDevice","currentMixinsMap","devConsole","videoUrl","getVideoclipUrls","sendVideo","httpResponse","sendStream","thumbnailMo","getVideoClipThumbnail","jpeg","convertMediaObjectToBuffer","getDevice","objectDetectorDevice","releaseDevice","FrigateBridgeObjectDetector","plugin","startStop","eventsTopic","startMqttListener","stop","foundMixin","cameraName","after","camera","onFrigateDetectionEvent","onFrigateAudioEvent","canMixin","FRIGATE_OBJECT_DETECTOR_INTERFACE","getMixin","FrigateBridgeObjectDetectorMixin","releaseMixin","combobox","eventTypes","getDetectionInput","detectionId","createMediaObjectFromUrl","getObjectTypes","classes","boundingBox","convertFrigateBoxToScryptedBox","box","className","detection","frigateEvent","timestamp","start_time","inputDimensions","detections","score","movement","moving","firstSeen","lastSeen","end_time","zones","current_zones","ObjectDetector","audioType","isAudioLevelValue","parsedValue","logMessage","rest","newLogger","FRIGATE_VIDEOCLIPS_INTERFACE","frigateBox","xMin","yMin","xMax","yMax","FrigateBridgeVideoclips","FrigateBridgeVideoclipsMixin","cameraDevice","snapshotCleanUrl","thumbnailUrl","getVideoclipWebhookUrls","cloudEndpoint","getCloudEndpoint","public","videoclipUrl","getVideoClips","endTime","startTime","before","limit","filteredEvents","has_clip","has_snapshot","videoclips","videoclip","duration","detectionClasses","thumbnailId","videoId","resources","video","thumbnail","getVideoClip","removeVideoClips","videoClipIds","RemoteLogServiceEnum","getPluginConsole","pluginId","onClosed","dataQueue","createAsyncQueue","hello","localQueue","createAsyncQueueFromGenerator","dataBuffers","localGenerator","streamSvc","streamSvcDirect","connectRPCObject","remoteGenerator","connectStream","plugins","getComponent","servicePort","getRemoteServicePort","parseLog","lineParent","replaceAll","matchCamera","pluginRegex","matchPlugin","generator","q","EndError","endDeferred","Deferred","waiting","queued","dequeued","deferred","qi","finally","endPromise","items","require","FormData$1","proxyFromEnv","_interopDefaultLegacy","FormData__default","url__default","proxyFromEnv__default","http__default","https__default","util__default","followRedirects__default","zlib__default","stream__default","kindOf","kindOfTest","typeOfTest","isFileList","isResponse","isHeaders","allOwnKeys","findKey","_key","_global","isContextDefined","isTypedArray","TypedArray","isHTMLForm","isRegExp","reduceDescriptors","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","callbacks","asap","utils$1","kind","isBoolean","caseless","targetKey","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","searchString","lastIndex","forEachEntry","matchAll","regExp","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","define","toCamelCase","p1","p2","toFiniteNumber","generateString","alphabet","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","AxiosError","prototype$1","isVisitable","removeBrackets","renderKey","dots","customProps","axiosError","predicates","toFormData","formData","metaTokens","indexes","visitor","defaultVisitor","useBlob","convertValue","isFlatArray","exposedHelpers","build","encode$1","charMap","AxiosURLSearchParams","_pairs","_encode","serialize","serializeFn","InterceptorManager$1","transitionalDefaults","platform$1","isNode","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","formDataToJSON","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","toURLEncodedForm","formSerializer","_FormData","JSONRequested","ERR_BAD_RESPONSE","defaults$1","$internals","normalizeHeader","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","tokens","tokensRE","parseTokens","matcher","deleted","deleteHeader","normalized","char","formatHeader","targets","asStrings","computed","accessor","accessors","defineAccessor","accessorName","methodName","buildAccessors","mapped","headerValue","AxiosHeaders$1","CanceledError","ERR_CANCELED","ERR_BAD_REQUEST","parseProtocol","DATA_URL_PATTERN","kInternals","AxiosTransformStream","maxRate","chunkSize","minChunkSize","timeWindow","ticksRate","samplesCount","internals","bytesSeen","isCaptured","notifiedBytesLoaded","ts","onReadCallback","bytesThreshold","pushChunk","_chunk","transformChunk","bytesLeft","chunkRemainder","maxChunkSize","passed","transformNextChunk","AxiosTransformStream$1","readBlob$1","BOUNDARY_ALPHABET","textEncoder","TextEncoder","CRLF","CRLF_BYTES","FormDataPart","escapeName","isStringValue","contentLength","formDataToStream$1","form","headersHandler","tag","boundaryBytes","footerBytes","part","computedHeaders","ZlibHeaderTransformStream","__transform","ZlibHeaderTransformStream$1","callbackify$1","progressEventReducer","isDownloadStream","freq","bytesNotified","_speedometer","timestamps","firstSampleTS","chunkLength","startedAt","bytesCount","speedometer","lastArgs","throttle","total","lengthComputable","progressBytes","rate","progress","estimated","progressEventDecorator","throttled","asyncDecorator","zlibOptions","finishFlush","brotliOptions","BROTLI_OPERATION_FLUSH","isBrotliSupported","createBrotliDecompress","supportedProtocols","flushOnFinish","dispatchBeforeRedirect","beforeRedirects","configProxy","proxyHost","redirectOptions","isHttpAdapterSupported","buildAddressEntry","family","resolveFamily","httpAdapter","asyncExecutor","onDone","isDone","_lookup","arg0","addresses","onFinished","isRejected","convertedData","uri","asBlob","_Blob","ERR_INVALID_URL","isBase64","ERR_NOT_SUPPORT","fromDataURI","maxUploadRate","maxDownloadRate","userBoundary","hasContentLength","setContentLength","getContentLength","customErr","exists","responseLength","transformStream","responseStream","offListeners","setKeepAlive","ERR_BAD_OPTION_VALUE","ETIMEDOUT","ECONNABORTED","_reject","onDoneHandler","isMSIE","headersToObject","timeoutMessage","withXSRFToken","resolveConfig","xhrAdapter","_config","uploadThrottled","downloadThrottled","flushUpload","flushDownload","ERR_NETWORK","composeSignals$1","streamChunk","readStream","trackStream","onProgress","readBytes","_onFinish","ReadableStream","pull","loadedBytes","isFetchSupported","fetch","Request","isReadableStreamSupported","encodeText","supportsRequestStream","duplexAccessed","hasContentType","supportsResponseStream","resolvers","resolveBodyLength","_request","getBodyLength","fetchAdapter","fetchOptions","composedSignal","toAbortSignal","requestContentLength","contentTypeHeader","isCredentialsSupported","credentials","isStreamResponse","responseContentLength","knownAdapters","xhr","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","validators$1","ERR_DEPRECATED","spelling","correctSpelling","ERR_BAD_OPTION","configOrUrl","dummy","function","baseUrl","withXsrfToken","contextHeaders","generateHTTPMethod","isForm","Axios$1","CancelToken$1","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","HttpStatusCode$1","formToJSON","getAdapter","perf","PROCESS","emitWarning","AC","AS","_onabort","warnACPolyfill","printACPolyfillWarning","LRU_CACHE_IGNORE_AC_WARNING","isPosInt","getUintArray","Uint16Array","Uint32Array","ZeroArray","fill","Stack","heap","static","HeapCls","ttl","ttlResolution","ttlAutopurge","updateAgeOnGet","updateAgeOnHas","allowStale","noDisposeOnSet","noUpdateTTL","maxEntrySize","sizeCalculation","noDeleteOnFetchRejection","noDeleteOnStaleGet","allowStaleOnFetchAbort","allowStaleOnFetchRejection","ignoreFetchAbort","unsafeExposeInternals","starts","ttls","sizes","keyMap","keyList","valList","isBackgroundFetch","backgroundFetch","moveToTail","rindexes","isStale","maxSize","calculatedSize","fetchMethod","memoMethod","disposeAfter","UintArray","shouldWarn","getRemainingTTL","unref","cachedNow","getNow","age","remainingTTL","entrySize","totalCalculatedSize","_s","_st","_k","_v","rentries","rkeys","rvalues","getOptions","__staleWhileFetching","thisp","rforEach","purgeStale","remain","setOptions","maxEntrySizeExceeded","oldVal","__abortController","dt","task","hasOptions","peek","peekOptions","fetchOpts","updateCache","ignoreAbort","fetchAborted","fetchError","fetchAbortIgnored","fetchResolved","fetchFail","bf","fetchUpdated","allowStaleAborted","noDelete","returnedStale","__returned","fetchDispatched","fmp","fetchRejected","forceRefresh","stale","staleVal","forceFetch","memo","memoOptions","vv","fetching","pi","ni","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","__webpack_exports__"],"sourceRoot":""}