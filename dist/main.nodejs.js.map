{"version":3,"file":"main.nodejs.js","mappings":"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GACR,kBACA,kBACA,oBACA,kBACA,gBACA,yBACA,cACA,gBACA,oBACA,sBACA,iBACH,CAZD,CAAYA,IAAc,iBAAdA,EAAc,KAcb,EAAAsa,cAAyD,CAClE,CAACta,EAAeua,MAAO,EACvB,CAACva,EAAewa,OAAQ,EACxB,CAACxa,EAAeya,QAAS,EACzB,CAACza,EAAe0a,SAAU,EAC1B,CAAC1a,EAAe2a,QAAS,EACzB,CAAC3a,EAAe4a,SAAU,EAC1B,CAAC5a,EAAe6a,QAAS,GAGhB,EAAAC,sBAAwB,CACjC9a,EAAe0a,QACf1a,EAAeya,OACfza,EAAe2a,QAGN,EAAAI,wBAA0BzuI,OAAOiN,OAAOymH,GAExC,EAAAgb,cAAgB,CAEzBhb,EAAe2a,OAGf,UAGA,MACA,MACA,QACA,QACA,MACA,WACA,OACA,QACA,UACA,QACA,SACA,OACA,OACA,QAGA,OACA,QACA,MACA,SAGA,OACA,QACA,UAGA,QACA,SACA,UAGS,EAAAM,cAAgB,CAEzBjb,EAAeya,OAGf,SAGA,aACA,QACA,SACA,UACA,QACA,eAGA,OACA,OACA,OACA,QAGS,EAAAS,eAAiB,CAE1Blb,EAAe0a,QAGf,MACA,QACA,MACA,aACA,UACA,MAGA,YACA,aACA,aAGA,QACA,SACA,OAGA,WACA,OACA,OACA,cAGS,EAAAS,YAAc,CACvBnb,EAAeua,KAGf,OACA,OACA,QACA,OACA,WAGA,WACA,YACA,QACA,OACA,SACA,aAGA,YACA,YACA,QAGA,OACA,QACA,WACA,MAGA,UACA,aACA,cACA,QACA,WAGA,kBACA,mBAGS,EAAAa,oBAAsB,CAC/Bpb,EAAewa,MAGf,gBACA,cACA,aACA,mBACA,kBACA,eACA,eAGA,eACA,kBACA,cACA,eACA,eACA,eACA,2BAGA,cACA,aACA,gBACA,uBAGA,gBACA,iBACA,eAGS,EAAAa,cAAgB,CACzBrb,EAAe6a,OACf,WAGA,SAGS,EAAAS,eAAiB,CAC1Btb,EAAe4a,QACf,UAGS,EAAAW,cAAgB,CACzBvb,EAAewb,UACf,UAGS,EAAAC,aAAe,CACxBzb,EAAeC,MA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","sources":["../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/transform.js","../external node-commonjs \"buffer\"","../../scrypted-apocaliss-base/node_modules/asynckit/lib/defer.js","../../scrypted-apocaliss-base/node_modules/mime-types/index.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/packet.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/auth.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/destroy.js","../../scrypted-apocaliss-base/node_modules/abort-controller/dist/abort-controller.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/validations.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/errors.js","../src/motionDetectorMixin.ts","../node_modules/debug/src/common.js","../../scrypted/plugins/rtsp/src/rtsp.ts","../../scrypted-apocaliss-base/node_modules/mqtt-packet/parser.js","../external node-commonjs \"os\"","../../scrypted-apocaliss-base/node_modules/mqtt/build/mqtt.js","../../scrypted-apocaliss-base/node_modules/ws/lib/subprotocol.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/shared.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/topic-alias-recv.js","../../scrypted-apocaliss-base/src/mqtt-client.ts","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/tcp.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/add-abort-signal.js","../../scrypted-apocaliss-base/node_modules/@scrypted/sdk/dist/src/index.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/index.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/client.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/legacy.js","../../scrypted-syslog/node_modules/@scrypted/sdk/dist/src|sync","../../scrypted-apocaliss-base/node_modules/bl/BufferList.js","../node_modules/axios/lib/cancel/Cancel.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/unique-message-id-provider.js","../node_modules/axios/lib/helpers/parseHeaders.js","../external node-commonjs \"tty\"","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/stream/promises.js","../external node-commonjs \"stream\"","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/validators.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/KeepaliveManager.js","../node_modules/axios/index.js","../node_modules/lodash/lodash.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/default-message-id-provider.js","../src/classsifier.ts","../external node-commonjs \"assert\"","../node_modules/@scrypted/sdk/dist/src/settings-mixin.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/writeToStream.js","../../scrypted-syslog/node_modules/@scrypted/sdk/dist/types/gen/index.js","../node_modules/axios/lib/core/transformData.js","../../scrypted/server/src/deferred.ts","../src/motionDetector.ts","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/Base/TreeNode.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/ContainerBase/index.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/utils/throwError.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/Base/index.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/Base/TreeIterator.js","../../scrypted-apocaliss-base/node_modules/js-sdsl/dist/esm/container/TreeContainer/OrderedSet.js","../external node-commonjs \"zlib\"","../node_modules/follow-redirects/index.js","../node_modules/axios/lib/cancel/CancelToken.js","../external node-commonjs \"string_decoder\"","../../scrypted-apocaliss-base/node_modules/ws/lib/validation.js","../../scrypted-apocaliss-base/node_modules/number-allocator/lib/number-allocator.js","../external node-commonjs \"module\"","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/primordials.js","../../scrypted-apocaliss-base/node_modules/combined-stream/lib/combined_stream.js","../node_modules/axios/lib/core/InterceptorManager.js","../../scrypted-apocaliss-base/node_modules/process-nextick-args/index.js","../src/videoclipsMixin.ts","../../scrypted-apocaliss-base/node_modules/ws/lib/extension.js","../../scrypted/sdk/dist/src/index.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/@scrypted/sdk/dist/src|sync","../../scrypted-apocaliss-base/node_modules/number-allocator/index.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/mqtt.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/util.js","../node_modules/axios/lib/helpers/cookies.js","../src/audioDetector.ts","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/get-timer.js","../../scrypted-apocaliss-base/node_modules/ws/lib/websocket-server.js","../../scrypted-apocaliss-base/node_modules/asynckit/index.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/terminator.js","../../scrypted-apocaliss-base/node_modules/follow-redirects/debug.js","../node_modules/@scrypted/sdk/dist/types/gen/index.js","../../scrypted-apocaliss-base/src/basePlugin.ts","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/BufferedDuplex.js","../../scrypted-apocaliss-base/node_modules/bl/bl.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/abort.js","../src/camera.ts","../external node-commonjs \"events\"","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/from.js","../node_modules/axios/lib/core/dispatchRequest.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/buffer_list.js","../../scrypted-apocaliss-base/node_modules/ws/lib/event-target.js","../../scrypted-apocaliss-base/node_modules/has-flag/index.js","../node_modules/axios/lib/helpers/combineURLs.js","../external node-commonjs \"tls\"","../../scrypted-apocaliss-base/node_modules/ms/index.js","../node_modules/axios/lib/helpers/validator.js","../src/videoclips.ts","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/factories/add-unique-number.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/factories/generate-unique-number.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/module.js","../../scrypted-apocaliss-base/node_modules/fast-unique-numbers/build/es2019/factories/cache.js","../../scrypted-apocaliss-base/node_modules/worker-timers/build/es2019/module.js","../../scrypted-apocaliss-base/node_modules/worker-timers/build/es2019/factories/load-or-return-broker.js","../../scrypted-apocaliss-base/node_modules/worker-timers-broker/build/es2019/module.js","../../scrypted-apocaliss-base/node_modules/worker-timers-broker/build/es2019/guards/call-notification.js","../../scrypted-apocaliss-base/node_modules/worker-timers-broker/build/es2019/guards/clear-response.js","../../scrypted-apocaliss-base/node_modules/worker-timers/build/es2019/worker/worker.js","../../scrypted/server/src/promise-utils.ts","../../scrypted-apocaliss-base/node_modules/ws/lib/stream.js","../node_modules/axios/lib/helpers/isAxiosError.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/readable.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/pipeline.js","../node_modules/axios/lib/core/Axios.js","../../scrypted-apocaliss-base/node_modules/inherits/inherits.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/ali.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/passthrough.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/wx.js","../../scrypted-apocaliss-base/node_modules/debug/src/common.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/core/enhanceError.js","../../scrypted/sdk/dist/src|sync","../../scrypted-apocaliss-base/node_modules/asynckit/lib/async.js","../node_modules/axios/lib/adapters/xhr.js","../../scrypted-apocaliss-base/node_modules/mqtt/node_modules/lru-cache/dist/commonjs/index.js","../external node-commonjs \"https\"","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/state.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/duplex.js","../node_modules/debug/src/index.js","../../scrypted-apocaliss-base/node_modules/event-target-shim/dist/event-target-shim.js","../../scrypted-apocaliss-base/node_modules/delayed-stream/lib/delayed_stream.js","../node_modules/has-flag/index.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/ours/index.js","../../scrypted-apocaliss-base/node_modules/ws/index.js","../src/objectDetector.ts","../../scrypted-apocaliss-base/node_modules/debug/src/browser.js","../../scrypted-apocaliss-base/node_modules/inherits/inherits_browser.js","../node_modules/debug/src/node.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/index.js","../node_modules/@scrypted/sdk/dist/src/storage-settings.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/tls.js","../src/utils.ts","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/utils.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/store.js","../../scrypted-apocaliss-base/node_modules/debug/src/node.js","../../scrypted-apocaliss-base/node_modules/@scrypted/sdk/dist/src|sync","../../scrypted-apocaliss-base/node_modules/asynckit/serial.js","../../scrypted-apocaliss-base/node_modules/axios/dist/node/axios.cjs","../node_modules/ms/index.js","../../scrypted-apocaliss-base/node_modules/ws/lib/constants.js","../../scrypted-apocaliss-base/node_modules/ws/lib/buffer-util.js","../src/objectDetectorMixin.ts","../src/birdseyeCamera.ts","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/publish.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/topic-alias-send.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/connect/ws.js","../../scrypted-apocaliss-base/node_modules/form-data/lib/form_data.js","../external node-commonjs \"path\"","../../scrypted-apocaliss-base/node_modules/mqtt-packet/generate.js","../../scrypted-syslog/node_modules/@scrypted/sdk/dist/src/index.js","../external node-commonjs \"crypto\"","../node_modules/axios/lib/defaults.js","../external node-commonjs \"url\"","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../../scrypted-apocaliss-base/node_modules/form-data/lib/populate.js","../src/audioDetectorMixin.ts","../../scrypted-apocaliss-base/node_modules/mqtt-packet/constants.js","../../scrypted-apocaliss-base/node_modules/process/index.js","../../scrypted-apocaliss-base/node_modules/ws/lib/receiver.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/state.js","../../scrypted-apocaliss-base/node_modules/asynckit/parallel.js","../../scrypted-syslog/src/utils.ts","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/duplexify.js","../../scrypted-apocaliss-base/node_modules/asynckit/lib/iterate.js","../../scrypted-apocaliss-base/node_modules/proxy-from-env/index.js","../../scrypted/server/src/sleep.ts","../../scrypted-apocaliss-base/node_modules/ws/lib/websocket.js","../node_modules/follow-redirects/debug.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/operators.js","../node_modules/axios/lib/core/settle.js","../node_modules/@scrypted/sdk/dist/src/index.js","../../scrypted-apocaliss-base/node_modules/follow-redirects/index.js","../node_modules/supports-color/index.js","../../scrypted-apocaliss-base/node_modules/mime-db/index.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/stream.js","../node_modules/axios/lib/core/createError.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/writable.js","../node_modules/debug/src/browser.js","../../scrypted-apocaliss-base/node_modules/asynckit/serialOrdered.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/pubrel.js","../src/main.ts","../../scrypted-apocaliss-base/node_modules/ws/lib/limiter.js","../node_modules/axios/lib/adapters/http.js","../../scrypted-advanced-notifier/src/detectionClasses.ts","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/axios.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/is-browser.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/compose.js","../../scrypted-apocaliss-base/node_modules/@scrypted/sdk/dist/types/gen/index.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/connack.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/TypedEmitter.js","../../scrypted-apocaliss-base/node_modules/ws/lib/sender.js","../external node-commonjs \"http\"","../../scrypted-apocaliss-base/node_modules/debug/src/index.js","../node_modules/axios/lib/helpers/bind.js","../external node-commonjs \"util\"","../../scrypted-apocaliss-base/node_modules/ws/lib/permessage-deflate.js","../../scrypted-apocaliss-base/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../../scrypted-apocaliss-base/node_modules/mqtt/build/lib/handlers/ack.js","../node_modules/axios/lib/helpers/buildURL.js","../../scrypted-apocaliss-base/node_modules/rfdc/index.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../external node-commonjs \"net\"","../../scrypted/sdk/dist/types/gen/index.js","../../scrypted-apocaliss-base/node_modules/rfdc/default.js","../node_modules/axios/lib/utils.js","../../scrypted/plugins/ffmpeg-camera/src/common.ts","../node_modules/axios/lib/core/buildFullPath.js","../../scrypted/common/src/async-queue.ts","../node_modules/axios/lib/env/data.js","../../scrypted-apocaliss-base/node_modules/mqtt-packet/numbers.js","../external node-commonjs \"fs\"","../../scrypted-apocaliss-base/node_modules/mqtt/build/index.js","../../scrypted-apocaliss-base/node_modules/supports-color/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/node module decorator","../webpack/startup"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf, Symbol } = require('../../ours/primordials')\nmodule.exports = Transform\nconst { ERR_METHOD_NOT_IMPLEMENTED } = require('../../ours/errors').codes\nconst Duplex = require('./duplex')\nconst { getHighWaterMark } = require('./state')\nObjectSetPrototypeOf(Transform.prototype, Duplex.prototype)\nObjectSetPrototypeOf(Transform, Duplex)\nconst kCallback = Symbol('kCallback')\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options)\n\n  // TODO (ronag): This should preferably always be\n  // applied but would be semver-major. Or even better;\n  // make Transform a Readable with the Writable interface.\n  const readableHighWaterMark = options ? getHighWaterMark(this, options, 'readableHighWaterMark', true) : null\n  if (readableHighWaterMark === 0) {\n    // A Duplex will buffer both on the writable and readable side while\n    // a Transform just wants to buffer hwm number of elements. To avoid\n    // buffering twice we disable buffering on the writable side.\n    options = {\n      ...options,\n      highWaterMark: null,\n      readableHighWaterMark,\n      // TODO (ronag): 0 is not optimal since we have\n      // a \"bug\" where we check needDrain before calling _write and not after.\n      // Refs: https://github.com/nodejs/node/pull/32887\n      // Refs: https://github.com/nodejs/node/pull/35941\n      writableHighWaterMark: options.writableHighWaterMark || 0\n    }\n  }\n  Duplex.call(this, options)\n\n  // We have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false\n  this[kCallback] = null\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform\n    if (typeof options.flush === 'function') this._flush = options.flush\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  // Backwards compat. Some Transform streams incorrectly implement _final\n  // instead of or in addition to _flush. By using 'prefinish' instead of\n  // implementing _final we continue supporting this unfortunate use case.\n  this.on('prefinish', prefinish)\n}\nfunction final(cb) {\n  if (typeof this._flush === 'function' && !this.destroyed) {\n    this._flush((er, data) => {\n      if (er) {\n        if (cb) {\n          cb(er)\n        } else {\n          this.destroy(er)\n        }\n        return\n      }\n      if (data != null) {\n        this.push(data)\n      }\n      this.push(null)\n      if (cb) {\n        cb()\n      }\n    })\n  } else {\n    this.push(null)\n    if (cb) {\n      cb()\n    }\n  }\n}\nfunction prefinish() {\n  if (this._final !== final) {\n    final.call(this)\n  }\n}\nTransform.prototype._final = final\nTransform.prototype._transform = function (chunk, encoding, callback) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_transform()')\n}\nTransform.prototype._write = function (chunk, encoding, callback) {\n  const rState = this._readableState\n  const wState = this._writableState\n  const length = rState.length\n  this._transform(chunk, encoding, (err, val) => {\n    if (err) {\n      callback(err)\n      return\n    }\n    if (val != null) {\n      this.push(val)\n    }\n    if (\n      wState.ended ||\n      // Backwards compat.\n      length === rState.length ||\n      // Backwards compat.\n      rState.length < rState.highWaterMark\n    ) {\n      callback()\n    } else {\n      this[kCallback] = callback\n    }\n  })\n}\nTransform.prototype._read = function () {\n  if (this[kCallback]) {\n    const callback = this[kCallback]\n    this[kCallback] = null\n    callback()\n  }\n}\n","module.exports = require(\"buffer\");","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","class Packet {\n  constructor () {\n    this.cmd = null\n    this.retain = false\n    this.qos = 0\n    this.dup = false\n    this.length = -1\n    this.topic = null\n    this.payload = null\n  }\n}\n\nmodule.exports = Packet\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shared_1 = require(\"../shared\");\nconst ack_1 = require(\"./ack\");\nconst handleAuth = (client, packet) => {\n    const { options } = client;\n    const version = options.protocolVersion;\n    const rc = version === 5 ? packet.reasonCode : packet.returnCode;\n    if (version !== 5) {\n        const err = new shared_1.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${version}`, rc);\n        client.emit('error', err);\n        return;\n    }\n    client.handleAuth(packet, (err, packet2) => {\n        if (err) {\n            client.emit('error', err);\n            return;\n        }\n        if (rc === 24) {\n            client.reconnecting = false;\n            client['_sendPacket'](packet2);\n        }\n        else {\n            const error = new shared_1.ErrorWithReasonCode(`Connection refused: ${ack_1.ReasonCodes[rc]}`, rc);\n            client.emit('error', error);\n        }\n    });\n};\nexports.default = handleAuth;\n//# sourceMappingURL=auth.js.map","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst {\n  aggregateTwoErrors,\n  codes: { ERR_MULTIPLE_CALLBACK },\n  AbortError\n} = require('../../ours/errors')\nconst { Symbol } = require('../../ours/primordials')\nconst { kIsDestroyed, isDestroyed, isFinished, isServerRequest } = require('./utils')\nconst kDestroy = Symbol('kDestroy')\nconst kConstruct = Symbol('kConstruct')\nfunction checkError(err, w, r) {\n  if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n  }\n}\n\n// Backwards compat. cb() is undocumented and unused in core but\n// unfortunately might be used by modules.\nfunction destroy(err, cb) {\n  const r = this._readableState\n  const w = this._writableState\n  // With duplex streams we use the writable side for state.\n  const s = w || r\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    if (typeof cb === 'function') {\n      cb()\n    }\n    return this\n  }\n\n  // We set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n  checkError(err, w, r)\n  if (w) {\n    w.destroyed = true\n  }\n  if (r) {\n    r.destroyed = true\n  }\n\n  // If still constructing then defer calling _destroy.\n  if (!s.constructed) {\n    this.once(kDestroy, function (er) {\n      _destroy(this, aggregateTwoErrors(er, err), cb)\n    })\n  } else {\n    _destroy(this, err, cb)\n  }\n  return this\n}\nfunction _destroy(self, err, cb) {\n  let called = false\n  function onDestroy(err) {\n    if (called) {\n      return\n    }\n    called = true\n    const r = self._readableState\n    const w = self._writableState\n    checkError(err, w, r)\n    if (w) {\n      w.closed = true\n    }\n    if (r) {\n      r.closed = true\n    }\n    if (typeof cb === 'function') {\n      cb(err)\n    }\n    if (err) {\n      process.nextTick(emitErrorCloseNT, self, err)\n    } else {\n      process.nextTick(emitCloseNT, self)\n    }\n  }\n  try {\n    self._destroy(err || null, onDestroy)\n  } catch (err) {\n    onDestroy(err)\n  }\n}\nfunction emitErrorCloseNT(self, err) {\n  emitErrorNT(self, err)\n  emitCloseNT(self)\n}\nfunction emitCloseNT(self) {\n  const r = self._readableState\n  const w = self._writableState\n  if (w) {\n    w.closeEmitted = true\n  }\n  if (r) {\n    r.closeEmitted = true\n  }\n  if ((w !== null && w !== undefined && w.emitClose) || (r !== null && r !== undefined && r.emitClose)) {\n    self.emit('close')\n  }\n}\nfunction emitErrorNT(self, err) {\n  const r = self._readableState\n  const w = self._writableState\n  if ((w !== null && w !== undefined && w.errorEmitted) || (r !== null && r !== undefined && r.errorEmitted)) {\n    return\n  }\n  if (w) {\n    w.errorEmitted = true\n  }\n  if (r) {\n    r.errorEmitted = true\n  }\n  self.emit('error', err)\n}\nfunction undestroy() {\n  const r = this._readableState\n  const w = this._writableState\n  if (r) {\n    r.constructed = true\n    r.closed = false\n    r.closeEmitted = false\n    r.destroyed = false\n    r.errored = null\n    r.errorEmitted = false\n    r.reading = false\n    r.ended = r.readable === false\n    r.endEmitted = r.readable === false\n  }\n  if (w) {\n    w.constructed = true\n    w.destroyed = false\n    w.closed = false\n    w.closeEmitted = false\n    w.errored = null\n    w.errorEmitted = false\n    w.finalCalled = false\n    w.prefinished = false\n    w.ended = w.writable === false\n    w.ending = w.writable === false\n    w.finished = w.writable === false\n  }\n}\nfunction errorOrDestroy(stream, err, sync) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  const r = stream._readableState\n  const w = stream._writableState\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    return this\n  }\n  if ((r !== null && r !== undefined && r.autoDestroy) || (w !== null && w !== undefined && w.autoDestroy))\n    stream.destroy(err)\n  else if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n    if (sync) {\n      process.nextTick(emitErrorNT, stream, err)\n    } else {\n      emitErrorNT(stream, err)\n    }\n  }\n}\nfunction construct(stream, cb) {\n  if (typeof stream._construct !== 'function') {\n    return\n  }\n  const r = stream._readableState\n  const w = stream._writableState\n  if (r) {\n    r.constructed = false\n  }\n  if (w) {\n    w.constructed = false\n  }\n  stream.once(kConstruct, cb)\n  if (stream.listenerCount(kConstruct) > 1) {\n    // Duplex\n    return\n  }\n  process.nextTick(constructNT, stream)\n}\nfunction constructNT(stream) {\n  let called = false\n  function onConstruct(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : new ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    const r = stream._readableState\n    const w = stream._writableState\n    const s = w || r\n    if (r) {\n      r.constructed = true\n    }\n    if (w) {\n      w.constructed = true\n    }\n    if (s.destroyed) {\n      stream.emit(kDestroy, err)\n    } else if (err) {\n      errorOrDestroy(stream, err, true)\n    } else {\n      process.nextTick(emitConstructNT, stream)\n    }\n  }\n  try {\n    stream._construct((err) => {\n      process.nextTick(onConstruct, err)\n    })\n  } catch (err) {\n    process.nextTick(onConstruct, err)\n  }\n}\nfunction emitConstructNT(stream) {\n  stream.emit(kConstruct)\n}\nfunction isRequest(stream) {\n  return (stream === null || stream === undefined ? undefined : stream.setHeader) && typeof stream.abort === 'function'\n}\nfunction emitCloseLegacy(stream) {\n  stream.emit('close')\n}\nfunction emitErrorCloseLegacy(stream, err) {\n  stream.emit('error', err)\n  process.nextTick(emitCloseLegacy, stream)\n}\n\n// Normalize destroy for legacy.\nfunction destroyer(stream, err) {\n  if (!stream || isDestroyed(stream)) {\n    return\n  }\n  if (!err && !isFinished(stream)) {\n    err = new AbortError()\n  }\n\n  // TODO: Remove isRequest branches.\n  if (isServerRequest(stream)) {\n    stream.socket = null\n    stream.destroy(err)\n  } else if (isRequest(stream)) {\n    stream.abort()\n  } else if (isRequest(stream.req)) {\n    stream.req.abort()\n  } else if (typeof stream.destroy === 'function') {\n    stream.destroy(err)\n  } else if (typeof stream.close === 'function') {\n    // TODO: Don't lose err?\n    stream.close()\n  } else if (err) {\n    process.nextTick(emitErrorCloseLegacy, stream, err)\n  } else {\n    process.nextTick(emitCloseLegacy, stream)\n  }\n  if (!stream.destroyed) {\n    stream[kIsDestroyed] = true\n  }\n}\nmodule.exports = {\n  construct,\n  destroyer,\n  destroy,\n  undestroy,\n  errorOrDestroy\n}\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar eventTargetShim = require('event-target-shim');\n\n/**\n * The signal class.\n * @see https://dom.spec.whatwg.org/#abortsignal\n */\nclass AbortSignal extends eventTargetShim.EventTarget {\n    /**\n     * AbortSignal cannot be constructed directly.\n     */\n    constructor() {\n        super();\n        throw new TypeError(\"AbortSignal cannot be constructed directly\");\n    }\n    /**\n     * Returns `true` if this `AbortSignal`'s `AbortController` has signaled to abort, and `false` otherwise.\n     */\n    get aborted() {\n        const aborted = abortedFlags.get(this);\n        if (typeof aborted !== \"boolean\") {\n            throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this === null ? \"null\" : typeof this}`);\n        }\n        return aborted;\n    }\n}\neventTargetShim.defineEventAttribute(AbortSignal.prototype, \"abort\");\n/**\n * Create an AbortSignal object.\n */\nfunction createAbortSignal() {\n    const signal = Object.create(AbortSignal.prototype);\n    eventTargetShim.EventTarget.call(signal);\n    abortedFlags.set(signal, false);\n    return signal;\n}\n/**\n * Abort a given signal.\n */\nfunction abortSignal(signal) {\n    if (abortedFlags.get(signal) !== false) {\n        return;\n    }\n    abortedFlags.set(signal, true);\n    signal.dispatchEvent({ type: \"abort\" });\n}\n/**\n * Aborted flag for each instances.\n */\nconst abortedFlags = new WeakMap();\n// Properties should be enumerable.\nObject.defineProperties(AbortSignal.prototype, {\n    aborted: { enumerable: true },\n});\n// `toString()` should return `\"[object AbortSignal]\"`\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortSignal.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortSignal\",\n    });\n}\n\n/**\n * The AbortController.\n * @see https://dom.spec.whatwg.org/#abortcontroller\n */\nclass AbortController {\n    /**\n     * Initialize this controller.\n     */\n    constructor() {\n        signals.set(this, createAbortSignal());\n    }\n    /**\n     * Returns the `AbortSignal` object associated with this object.\n     */\n    get signal() {\n        return getSignal(this);\n    }\n    /**\n     * Abort and signal to any observers that the associated activity is to be aborted.\n     */\n    abort() {\n        abortSignal(getSignal(this));\n    }\n}\n/**\n * Associated signals.\n */\nconst signals = new WeakMap();\n/**\n * Get the associated signal of a given controller.\n */\nfunction getSignal(controller) {\n    const signal = signals.get(controller);\n    if (signal == null) {\n        throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${controller === null ? \"null\" : typeof controller}`);\n    }\n    return signal;\n}\n// Properties should be enumerable.\nObject.defineProperties(AbortController.prototype, {\n    signal: { enumerable: true },\n    abort: { enumerable: true },\n});\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortController.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortController\",\n    });\n}\n\nexports.AbortController = AbortController;\nexports.AbortSignal = AbortSignal;\nexports.default = AbortController;\n\nmodule.exports = AbortController\nmodule.exports.AbortController = module.exports[\"default\"] = AbortController\nmodule.exports.AbortSignal = AbortSignal\n//# sourceMappingURL=abort-controller.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTopics = exports.validateTopic = void 0;\nfunction validateTopic(topic) {\n    const parts = topic.split('/');\n    for (let i = 0; i < parts.length; i++) {\n        if (parts[i] === '+') {\n            continue;\n        }\n        if (parts[i] === '#') {\n            return i === parts.length - 1;\n        }\n        if (parts[i].indexOf('+') !== -1 || parts[i].indexOf('#') !== -1) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.validateTopic = validateTopic;\nfunction validateTopics(topics) {\n    if (topics.length === 0) {\n        return 'empty_topic_list';\n    }\n    for (let i = 0; i < topics.length; i++) {\n        if (!validateTopic(topics[i])) {\n            return topics[i];\n        }\n    }\n    return null;\n}\nexports.validateTopics = validateTopics;\n//# sourceMappingURL=validations.js.map","'use strict'\n\nconst { format, inspect, AggregateError: CustomAggregateError } = require('./util')\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/errors.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/errors.js\n\n  Don't try to replace with the original file and keep it up to date (starting from E(...) definitions)\n  with the upstream file.\n*/\n\nconst AggregateError = globalThis.AggregateError || CustomAggregateError\nconst kIsNodeError = Symbol('kIsNodeError')\nconst kTypes = [\n  'string',\n  'function',\n  'number',\n  'object',\n  // Accept 'Function' and 'Object' as alternative to the lower cased version.\n  'Function',\n  'Object',\n  'boolean',\n  'bigint',\n  'symbol'\n]\nconst classRegExp = /^([A-Z][a-z0-9]*)+$/\nconst nodeInternalPrefix = '__node_internal_'\nconst codes = {}\nfunction assert(value, message) {\n  if (!value) {\n    throw new codes.ERR_INTERNAL_ASSERTION(message)\n  }\n}\n\n// Only use this for integers! Decimal numbers do not work with this function.\nfunction addNumericalSeparator(val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\nfunction getMessage(key, msg, args) {\n  if (typeof msg === 'function') {\n    assert(\n      msg.length <= args.length,\n      // Default options do not count.\n      `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${msg.length}).`\n    )\n    return msg(...args)\n  }\n  const expectedLength = (msg.match(/%[dfijoOs]/g) || []).length\n  assert(\n    expectedLength === args.length,\n    `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`\n  )\n  if (args.length === 0) {\n    return msg\n  }\n  return format(msg, ...args)\n}\nfunction E(code, message, Base) {\n  if (!Base) {\n    Base = Error\n  }\n  class NodeError extends Base {\n    constructor(...args) {\n      super(getMessage(code, message, args))\n    }\n    toString() {\n      return `${this.name} [${code}]: ${this.message}`\n    }\n  }\n  Object.defineProperties(NodeError.prototype, {\n    name: {\n      value: Base.name,\n      writable: true,\n      enumerable: false,\n      configurable: true\n    },\n    toString: {\n      value() {\n        return `${this.name} [${code}]: ${this.message}`\n      },\n      writable: true,\n      enumerable: false,\n      configurable: true\n    }\n  })\n  NodeError.prototype.code = code\n  NodeError.prototype[kIsNodeError] = true\n  codes[code] = NodeError\n}\nfunction hideStackFrames(fn) {\n  // We rename the functions that will be hidden to cut off the stacktrace\n  // at the outermost one\n  const hidden = nodeInternalPrefix + fn.name\n  Object.defineProperty(fn, 'name', {\n    value: hidden\n  })\n  return fn\n}\nfunction aggregateTwoErrors(innerError, outerError) {\n  if (innerError && outerError && innerError !== outerError) {\n    if (Array.isArray(outerError.errors)) {\n      // If `outerError` is already an `AggregateError`.\n      outerError.errors.push(innerError)\n      return outerError\n    }\n    const err = new AggregateError([outerError, innerError], outerError.message)\n    err.code = outerError.code\n    return err\n  }\n  return innerError || outerError\n}\nclass AbortError extends Error {\n  constructor(message = 'The operation was aborted', options = undefined) {\n    if (options !== undefined && typeof options !== 'object') {\n      throw new codes.ERR_INVALID_ARG_TYPE('options', 'Object', options)\n    }\n    super(message, options)\n    this.code = 'ABORT_ERR'\n    this.name = 'AbortError'\n  }\n}\nE('ERR_ASSERTION', '%s', Error)\nE(\n  'ERR_INVALID_ARG_TYPE',\n  (name, expected, actual) => {\n    assert(typeof name === 'string', \"'name' must be a string\")\n    if (!Array.isArray(expected)) {\n      expected = [expected]\n    }\n    let msg = 'The '\n    if (name.endsWith(' argument')) {\n      // For cases like 'first argument'\n      msg += `${name} `\n    } else {\n      msg += `\"${name}\" ${name.includes('.') ? 'property' : 'argument'} `\n    }\n    msg += 'must be '\n    const types = []\n    const instances = []\n    const other = []\n    for (const value of expected) {\n      assert(typeof value === 'string', 'All expected entries have to be of type string')\n      if (kTypes.includes(value)) {\n        types.push(value.toLowerCase())\n      } else if (classRegExp.test(value)) {\n        instances.push(value)\n      } else {\n        assert(value !== 'object', 'The value \"object\" should be written as \"Object\"')\n        other.push(value)\n      }\n    }\n\n    // Special handle `object` in case other instances are allowed to outline\n    // the differences between each other.\n    if (instances.length > 0) {\n      const pos = types.indexOf('object')\n      if (pos !== -1) {\n        types.splice(types, pos, 1)\n        instances.push('Object')\n      }\n    }\n    if (types.length > 0) {\n      switch (types.length) {\n        case 1:\n          msg += `of type ${types[0]}`\n          break\n        case 2:\n          msg += `one of type ${types[0]} or ${types[1]}`\n          break\n        default: {\n          const last = types.pop()\n          msg += `one of type ${types.join(', ')}, or ${last}`\n        }\n      }\n      if (instances.length > 0 || other.length > 0) {\n        msg += ' or '\n      }\n    }\n    if (instances.length > 0) {\n      switch (instances.length) {\n        case 1:\n          msg += `an instance of ${instances[0]}`\n          break\n        case 2:\n          msg += `an instance of ${instances[0]} or ${instances[1]}`\n          break\n        default: {\n          const last = instances.pop()\n          msg += `an instance of ${instances.join(', ')}, or ${last}`\n        }\n      }\n      if (other.length > 0) {\n        msg += ' or '\n      }\n    }\n    switch (other.length) {\n      case 0:\n        break\n      case 1:\n        if (other[0].toLowerCase() !== other[0]) {\n          msg += 'an '\n        }\n        msg += `${other[0]}`\n        break\n      case 2:\n        msg += `one of ${other[0]} or ${other[1]}`\n        break\n      default: {\n        const last = other.pop()\n        msg += `one of ${other.join(', ')}, or ${last}`\n      }\n    }\n    if (actual == null) {\n      msg += `. Received ${actual}`\n    } else if (typeof actual === 'function' && actual.name) {\n      msg += `. Received function ${actual.name}`\n    } else if (typeof actual === 'object') {\n      var _actual$constructor\n      if (\n        (_actual$constructor = actual.constructor) !== null &&\n        _actual$constructor !== undefined &&\n        _actual$constructor.name\n      ) {\n        msg += `. Received an instance of ${actual.constructor.name}`\n      } else {\n        const inspected = inspect(actual, {\n          depth: -1\n        })\n        msg += `. Received ${inspected}`\n      }\n    } else {\n      let inspected = inspect(actual, {\n        colors: false\n      })\n      if (inspected.length > 25) {\n        inspected = `${inspected.slice(0, 25)}...`\n      }\n      msg += `. Received type ${typeof actual} (${inspected})`\n    }\n    return msg\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_ARG_VALUE',\n  (name, value, reason = 'is invalid') => {\n    let inspected = inspect(value)\n    if (inspected.length > 128) {\n      inspected = inspected.slice(0, 128) + '...'\n    }\n    const type = name.includes('.') ? 'property' : 'argument'\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_RETURN_VALUE',\n  (input, name, value) => {\n    var _value$constructor\n    const type =\n      value !== null &&\n      value !== undefined &&\n      (_value$constructor = value.constructor) !== null &&\n      _value$constructor !== undefined &&\n      _value$constructor.name\n        ? `instance of ${value.constructor.name}`\n        : `type ${typeof value}`\n    return `Expected ${input} to be returned from the \"${name}\"` + ` function but got ${type}.`\n  },\n  TypeError\n)\nE(\n  'ERR_MISSING_ARGS',\n  (...args) => {\n    assert(args.length > 0, 'At least one arg needs to be specified')\n    let msg\n    const len = args.length\n    args = (Array.isArray(args) ? args : [args]).map((a) => `\"${a}\"`).join(' or ')\n    switch (len) {\n      case 1:\n        msg += `The ${args[0]} argument`\n        break\n      case 2:\n        msg += `The ${args[0]} and ${args[1]} arguments`\n        break\n      default:\n        {\n          const last = args.pop()\n          msg += `The ${args.join(', ')}, and ${last} arguments`\n        }\n        break\n    }\n    return `${msg} must be specified`\n  },\n  TypeError\n)\nE(\n  'ERR_OUT_OF_RANGE',\n  (str, range, input) => {\n    assert(range, 'Missing \"range\" argument')\n    let received\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > 2n ** 32n || input < -(2n ** 32n)) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    } else {\n      received = inspect(input)\n    }\n    return `The value of \"${str}\" is out of range. It must be ${range}. Received ${received}`\n  },\n  RangeError\n)\nE('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times', Error)\nE('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented', Error)\nE('ERR_STREAM_ALREADY_FINISHED', 'Cannot call %s after a stream was finished', Error)\nE('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error)\nE('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed', Error)\nE('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError)\nE('ERR_STREAM_PREMATURE_CLOSE', 'Premature close', Error)\nE('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error)\nE('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event', Error)\nE('ERR_STREAM_WRITE_AFTER_END', 'write after end', Error)\nE('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s', TypeError)\nmodule.exports = {\n  AbortError,\n  aggregateTwoErrors: hideStackFrames(aggregateTwoErrors),\n  hideStackFrames,\n  codes\n}\n","import { MotionSensor, Setting, Settings, SettingValue } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport FrigateBridgeMotionDetector from \"./motionDetector\";\nimport { pluginId } from \"./utils\";\n\nexport class FrigateBridgeMotionDetectorMixin extends SettingsMixinDeviceBase<any> implements Settings, MotionSensor {\n    storageSettings = new StorageSettings(this, {\n        cameraName: {\n            title: 'Frigate camera name',\n            type: 'string',\n            choices: [],\n            immediate: true,\n        },\n    });\n\n    logger: Console;\n\n    constructor(\n        options: SettingsMixinDeviceOptions<any>,\n        public plugin: FrigateBridgeMotionDetector\n    ) {\n        super(options);\n\n        this.plugin.currentMixinsMap[this.id] = this;\n\n        const logger = this.getLogger();\n        this.init().catch(logger.error);\n    }\n\n    async init() {\n        if (this.pluginId === pluginId) {\n            const [_, cameraName] = this.nativeId.split('_');\n            await this.storageSettings.putSetting('cameraName', cameraName);\n            this.storageSettings.settings.cameraName.readonly = true;\n        }\n    }\n\n    async onFrigateMotionEvent(value: any) {\n        const logger = this.getLogger();\n        logger.log('Motion update received', value);\n        const newMotionValue = value === 'ON';\n        if (newMotionValue !== this.motionDetected) {\n            this.motionDetected = newMotionValue;\n        }\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        const logger = this.getLogger();\n        try {\n            this.storageSettings.settings.cameraName.choices = this.plugin.plugin.storageSettings.values.cameras;\n\n            return this.storageSettings.getSettings();\n        } catch (e) {\n            logger.log('Error in getMixinSettings', e);\n            return [];\n        }\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        const [group, ...rest] = key.split(':');\n        if (group === this.settingsGroupKey) {\n            this.storageSettings.putSetting(rest.join(':'), value);\n        } else {\n            super.putSetting(key, value);\n        }\n    }\n\n    async putMixinSetting(key: string, value: string) {\n        this.storageSettings.putSetting(key, value);\n    }\n\n    async release() {\n        const logger = this.getLogger();\n        logger.info('Releasing mixin');\n    }\n\n    getLogger() {\n        if (!this.logger) {\n            this.logger = this.plugin.plugin.getLogger({\n                console: this.console,\n                storage: this.storageSettings,\n            });\n        }\n\n        return this.logger;\n    }\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(' ', ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","import { timeoutPromise } from '@scrypted/common/src/promise-utils';\nimport sdk, { MediaObject, MediaStreamUrl, PictureOptions, RequestPictureOptions, ResponseMediaStreamOptions, ScryptedInterface, ScryptedMimeTypes, Setting, SettingValue } from \"@scrypted/sdk\";\nimport url from 'url';\nimport { CameraBase, CameraProviderBase, UrlMediaStreamOptions } from \"../../ffmpeg-camera/src/common\";\n\nexport { UrlMediaStreamOptions } from \"../../ffmpeg-camera/src/common\";\n\nexport function createRtspMediaStreamOptions(url: string, index: number): UrlMediaStreamOptions {\n    return {\n        id: `channel${index}`,\n        name: `Stream ${index + 1}`,\n        url,\n        container: 'rtsp',\n        video: {\n        },\n        audio: {\n\n        },\n    };\n}\nexport class RtspCamera extends CameraBase<UrlMediaStreamOptions> {\n    takePicture(option?: PictureOptions): Promise<MediaObject> {\n        throw new Error(\"The RTSP Camera does not provide snapshots. Install the Snapshot Plugin if snapshots are available via an URL.\");\n    }\n\n    getRawVideoStreamOptions(): UrlMediaStreamOptions[] {\n        let urls: string[] = [];\n        try {\n            urls = JSON.parse(this.storage.getItem('urls'));\n        }\n        catch (e) {\n            const url = this.storage.getItem('url');\n            if (url) {\n                urls.push(url);\n                this.storage.setItem('urls', JSON.stringify(urls));\n                this.storage.removeItem('url');\n            }\n        }\n\n        // filter out empty strings.\n        const ret = urls.filter(url => !!url).map((url, index) => createRtspMediaStreamOptions(url, index));\n\n        if (!ret.length)\n            return;\n        return ret;\n    }\n\n    addRtspCredentials(rtspUrl: string) {\n        // ignore this deprecation warning. the WHATWG URL class will trim the password\n        // off if it is empty, resulting in urls like rtsp://admin@foo.com/.\n        // this causes ffmpeg to fail on sending a blank password.\n        // we need to send it as follows: rtsp://admin:@foo.com/.\n        // Note the trailing colon.\n        // issue: https://github.com/koush/scrypted/issues/134\n        const parsedUrl = url.parse(rtspUrl);\n        this.console.log('stream url', rtspUrl);\n        const username = this.storage.getItem(\"username\");\n        const password = this.storage.getItem(\"password\");\n        if (username) {\n            // if a username is set, ensure a trailing colon is sent for blank password.\n            const auth = `${username}:${password || ''}`;\n            parsedUrl.auth = auth;\n        }\n\n        const stringUrl = url.format(parsedUrl);\n        return stringUrl;\n    }\n\n    createMediaStreamUrl(stringUrl: string, vso: ResponseMediaStreamOptions) {\n        const ret: MediaStreamUrl = {\n            container: vso.container,\n            url: stringUrl,\n            mediaStreamOptions: vso,\n        };\n\n        return this.createMediaObject(ret, ScryptedMimeTypes.MediaStreamUrl);\n    }\n\n    async createVideoStream(vso: UrlMediaStreamOptions): Promise<MediaObject> {\n        if (!vso)\n            throw new Error('video streams not set up or no longer exists.');\n\n        const stringUrl = this.addRtspCredentials(vso.url);\n        return this.createMediaStreamUrl(stringUrl, vso);\n    }\n\n    // hide the description from CameraBase that indicates it is only used for snapshots\n    getUsernameDescription(): string {\n        return;\n    }\n\n    // hide the description from CameraBase that indicates it is only used for snapshots\n    getPasswordDescription(): string {\n        return;\n    }\n\n    async getRtspUrlSettings(): Promise<Setting[]> {\n        return [\n            {\n                key: 'urls',\n                title: 'RTSP Stream URL',\n                description: 'An RTSP Stream URL provided by the camera.',\n                placeholder: 'rtsp://192.168.1.100[:554]/channel/101',\n                value: this.getRawVideoStreamOptions()?.map(vso => vso.url),\n                multiple: true,\n            },\n        ];\n    }\n\n    async getOtherSettings(): Promise<Setting[]> {\n        const ret: Setting[] = [];\n\n        ret.push(\n            {\n                subgroup: 'Advanced',\n                key: 'debug',\n                title: 'Debug Events',\n                description: \"Log all events to the console. This will be very noisy and should not be left enabled.\",\n                value: this.storage.getItem('debug') === 'true',\n                type: 'boolean',\n            }\n        )\n        return ret;\n    }\n\n    async getUrlSettings(): Promise<Setting[]> {\n        return [\n            ...await this.getRtspUrlSettings(),\n        ];\n    }\n\n    async putRtspUrls(urls: string[]) {\n        this.storage.setItem('urls', JSON.stringify(urls.filter(url => !!url)));\n        this.onDeviceEvent(ScryptedInterface.Settings, undefined);\n    }\n\n    async putSettingBase(key: string, value: SettingValue) {\n        if (key === 'urls') {\n            this.putRtspUrls(value as string[]);\n        }\n        else {\n            super.putSettingBase(key, value);\n        }\n    }\n}\n\nexport interface Destroyable {\n    on(eventName: string | symbol, listener: (...args: any[]) => void): void;\n    destroy(): void;\n    emit(eventName: string | symbol, ...args: any[]): boolean;\n}\n\nexport abstract class RtspSmartCamera extends RtspCamera {\n    lastListen = 0;\n    listener: Promise<Destroyable>;\n\n    constructor(nativeId: string, provider: RtspProvider) {\n        super(nativeId, provider);\n        process.nextTick(() => this.listenLoop());\n    }\n\n    resetSensors(): void {\n        if (this.interfaces.includes(ScryptedInterface.MotionSensor))\n            this.motionDetected = false;\n        if (this.interfaces.includes(ScryptedInterface.AudioSensor))\n            this.audioDetected = false;\n        if (this.interfaces.includes(ScryptedInterface.TamperSensor))\n            this.tampered = false;\n        if (this.interfaces.includes(ScryptedInterface.BinarySensor))\n            this.binaryState = false;\n    }\n\n    async listenLoop() {\n        this.resetSensors();\n        this.lastListen = Date.now();\n        if (this.listener)\n            return;\n\n        let listener: Destroyable;\n        const listenerPromise = this.listener = this.listenEvents();\n\n        let activityTimeout: NodeJS.Timeout;\n        const restartListener = () => {\n            if (listenerPromise === this.listener)\n                this.listener = undefined;\n            clearTimeout(activityTimeout);\n            listener?.destroy();\n            const listenDuration = Date.now() - this.lastListen;\n            const listenNext = listenDuration > 10000 ? 0 : 10000;\n            setTimeout(() => this.listenLoop(), listenNext);\n        }\n\n        try {\n            listener = await this.listener;\n        }\n        catch (e) {\n            this.console.error('listen loop connection failed, restarting listener.', e.message);\n            restartListener();\n            return;\n        }\n\n        const resetActivityTimeout = () => {\n            clearTimeout(activityTimeout);\n            activityTimeout = setTimeout(() => {\n                this.console.error('listen loop 5m idle timeout, destroying listener.');\n                restartListener();\n            }, 300000);\n        }\n        resetActivityTimeout();\n\n        listener.on('data', (data) => {\n            if (this.storage.getItem('debug') === 'true')\n                this.console.log('debug event:\\n', data.toString());\n            resetActivityTimeout();\n        });\n\n        listener.on('close', () => {\n            this.console.error('listen loop closed, restarting listener.');\n            restartListener();\n        });\n\n        listener.on('error', e => {\n            this.console.error('listen loop error, restarting listener.', e);\n            restartListener();\n        });\n    }\n\n    async putSetting(key: string, value: SettingValue) {\n        this.putSettingBase(key, value);\n        this.listener?.then(l => l.emit('error', new Error(\"new settings\")));\n    }\n\n    async takePicture(options?: RequestPictureOptions) {\n        return this.takeSmartCameraPicture(options);\n    }\n\n    abstract takeSmartCameraPicture(options?: PictureOptions): Promise<MediaObject>;\n\n    async getRtspUrlSettings(): Promise<Setting[]> {\n        return [\n            {\n                key: 'urls',\n                title: 'RTSP Stream URL Override',\n                description: 'Override the RTSP Stream URL provided by the camera.',\n                placeholder: 'rtsp://192.168.1.100[:554]/channel/101',\n                value: this.getRawVideoStreamOptions()?.map(vso => vso.url),\n                multiple: true,\n            },\n        ];\n    }\n\n    async getUrlSettings() {\n        const ret: Setting[] = [\n            {\n                key: 'ip',\n                title: 'IP Address',\n                placeholder: '192.168.1.100',\n                value: this.storage.getItem('ip'),\n            },\n            ...this.getHttpPortOverrideSettings(),\n            ...await this.getRtspPortOverrideSettings(),\n        ];\n\n        if (this.showRtspUrlOverride()) {\n            const legacyOverride = this.storage.getItem('rtspUrlOverride')\n            if (legacyOverride) {\n                await this.putRtspUrls([legacyOverride]);\n                this.storage.removeItem('rtspUrlOverride');\n            }\n\n            ret.push(\n                ... await this.getRtspUrlSettings(),\n            );\n        }\n\n        return ret;\n    }\n\n    getHttpPortOverrideSettings() {\n        if (!this.showHttpPortOverride()) {\n            return [];\n        }\n        return [\n            {\n                key: 'httpPort',\n                subgroup: 'Advanced',\n                title: 'HTTP Port Override',\n                placeholder: '80',\n                value: this.storage.getItem('httpPort'),\n            }\n        ];\n    }\n\n    showHttpPortOverride() {\n        return true;\n    }\n\n    async getRtspPortOverrideSettings(): Promise<Setting[]> {\n        if (!this.showRtspPortOverride()) {\n            return [];\n        }\n        return [\n            {\n                key: 'rtspPort',\n                subgroup: 'Advanced',\n                title: 'RTSP Port Override',\n                placeholder: '554',\n                value: this.storage.getItem('rtspPort'),\n            },\n        ];\n    }\n\n    showRtspPortOverride() {\n        return true;\n    }\n\n    showRtspUrlOverride() {\n        return true;\n    }\n\n    getHttpAddress() {\n        return `${this.getIPAddress()}:${this.storage.getItem('httpPort') || 80}`;\n    }\n\n    setHttpPortOverride(port: string) {\n        this.storage.setItem('httpPort', port || '');\n    }\n\n    getRtspUrlOverride() {\n        if (!this.showRtspUrlOverride())\n            return;\n        return this.storage.getItem('rtspUrlOverride');\n    }\n\n    abstract getConstructedVideoStreamOptions(): Promise<UrlMediaStreamOptions[]>;\n    abstract listenEvents(): Promise<Destroyable>;\n\n    getIPAddress() {\n        return this.storage.getItem('ip');\n    }\n\n    setIPAddress(ip: string) {\n        return this.storage.setItem('ip', ip);\n    }\n\n    getRtspAddress() {\n        return `${this.getIPAddress()}:${this.storage.getItem('rtspPort') || 554}`;\n    }\n\n    constructedVideoStreamOptions: Promise<UrlMediaStreamOptions[]>;\n    async getVideoStreamOptions(): Promise<UrlMediaStreamOptions[]> {\n        if (this.showRtspUrlOverride()) {\n            const vsos = await super.getVideoStreamOptions();\n            if (vsos)\n                return vsos;\n        }\n\n        if (this.constructedVideoStreamOptions)\n            return this.constructedVideoStreamOptions;\n\n        this.constructedVideoStreamOptions = timeoutPromise(5000, this.getConstructedVideoStreamOptions()).finally(() => {\n            this.constructedVideoStreamOptions = undefined;\n        });\n\n        return this.constructedVideoStreamOptions;\n    }\n\n    async putSettingBase(key: string, value: SettingValue): Promise<void> {\n        try {\n            return await super.putSettingBase(key, value);\n        }\n        finally {\n            this.constructedVideoStreamOptions = undefined;\n        }\n    }\n}\n\nexport abstract class RtspProvider extends CameraProviderBase<UrlMediaStreamOptions> {\n    createCamera(nativeId: string): RtspCamera {\n        return new RtspCamera(nativeId, this);\n    }\n}\n","const bl = require('bl')\nconst { EventEmitter } = require('events')\nconst Packet = require('./packet')\nconst constants = require('./constants')\nconst debug = require('debug')('mqtt-packet:parser')\n\nclass Parser extends EventEmitter {\n  constructor () {\n    super()\n    this.parser = this.constructor.parser\n  }\n\n  static parser (opt) {\n    if (!(this instanceof Parser)) return (new Parser()).parser(opt)\n\n    this.settings = opt || {}\n\n    this._states = [\n      '_parseHeader',\n      '_parseLength',\n      '_parsePayload',\n      '_newPacket'\n    ]\n\n    this._resetState()\n    return this\n  }\n\n  _resetState () {\n    debug('_resetState: resetting packet, error, _list, and _stateCounter')\n    this.packet = new Packet()\n    this.error = null\n    this._list = bl()\n    this._stateCounter = 0\n  }\n\n  parse (buf) {\n    if (this.error) this._resetState()\n\n    this._list.append(buf)\n    debug('parse: current state: %s', this._states[this._stateCounter])\n    while ((this.packet.length !== -1 || this._list.length > 0) &&\n      this[this._states[this._stateCounter]]() &&\n      !this.error) {\n      this._stateCounter++\n      debug('parse: state complete. _stateCounter is now: %d', this._stateCounter)\n      debug('parse: packet.length: %d, buffer list length: %d', this.packet.length, this._list.length)\n      if (this._stateCounter >= this._states.length) this._stateCounter = 0\n    }\n    debug('parse: exited while loop. packet: %d, buffer list length: %d', this.packet.length, this._list.length)\n    return this._list.length\n  }\n\n  _parseHeader () {\n    // There is at least one byte in the buffer\n    const zero = this._list.readUInt8(0)\n    const cmdIndex = zero >> constants.CMD_SHIFT\n    this.packet.cmd = constants.types[cmdIndex]\n    const headerFlags = zero & 0xf\n    const requiredHeaderFlags = constants.requiredHeaderFlags[cmdIndex]\n    if (requiredHeaderFlags != null && headerFlags !== requiredHeaderFlags) {\n      // Where a flag bit is marked as Reserved in Table 2.2 - Flag Bits, it is reserved for future use and MUST be set to the value listed in that table [MQTT-2.2.2-1]. If invalid flags are received, the receiver MUST close the Network Connection [MQTT-2.2.2-2]\n      return this._emitError(new Error(constants.requiredHeaderFlagsErrors[cmdIndex]))\n    }\n    this.packet.retain = (zero & constants.RETAIN_MASK) !== 0\n    this.packet.qos = (zero >> constants.QOS_SHIFT) & constants.QOS_MASK\n    if (this.packet.qos > 2) {\n      return this._emitError(new Error('Packet must not have both QoS bits set to 1'))\n    }\n    this.packet.dup = (zero & constants.DUP_MASK) !== 0\n    debug('_parseHeader: packet: %o', this.packet)\n\n    this._list.consume(1)\n\n    return true\n  }\n\n  _parseLength () {\n    // There is at least one byte in the list\n    const result = this._parseVarByteNum(true)\n\n    if (result) {\n      this.packet.length = result.value\n      this._list.consume(result.bytes)\n    }\n    debug('_parseLength %d', result.value)\n    return !!result\n  }\n\n  _parsePayload () {\n    debug('_parsePayload: payload %O', this._list)\n    let result = false\n\n    // Do we have a payload? Do we have enough data to complete the payload?\n    // PINGs have no payload\n    if (this.packet.length === 0 || this._list.length >= this.packet.length) {\n      this._pos = 0\n\n      switch (this.packet.cmd) {\n        case 'connect':\n          this._parseConnect()\n          break\n        case 'connack':\n          this._parseConnack()\n          break\n        case 'publish':\n          this._parsePublish()\n          break\n        case 'puback':\n        case 'pubrec':\n        case 'pubrel':\n        case 'pubcomp':\n          this._parseConfirmation()\n          break\n        case 'subscribe':\n          this._parseSubscribe()\n          break\n        case 'suback':\n          this._parseSuback()\n          break\n        case 'unsubscribe':\n          this._parseUnsubscribe()\n          break\n        case 'unsuback':\n          this._parseUnsuback()\n          break\n        case 'pingreq':\n        case 'pingresp':\n          // These are empty, nothing to do\n          break\n        case 'disconnect':\n          this._parseDisconnect()\n          break\n        case 'auth':\n          this._parseAuth()\n          break\n        default:\n          this._emitError(new Error('Not supported'))\n      }\n\n      result = true\n    }\n    debug('_parsePayload complete result: %s', result)\n    return result\n  }\n\n  _parseConnect () {\n    debug('_parseConnect')\n    let topic // Will topic\n    let payload // Will payload\n    let password // Password\n    let username // Username\n    const flags = {}\n    const packet = this.packet\n\n    // Parse protocolId\n    const protocolId = this._parseString()\n\n    if (protocolId === null) return this._emitError(new Error('Cannot parse protocolId'))\n    if (protocolId !== 'MQTT' && protocolId !== 'MQIsdp') {\n      return this._emitError(new Error('Invalid protocolId'))\n    }\n\n    packet.protocolId = protocolId\n\n    // Parse constants version number\n    if (this._pos >= this._list.length) return this._emitError(new Error('Packet too short'))\n\n    packet.protocolVersion = this._list.readUInt8(this._pos)\n\n    if (packet.protocolVersion >= 128) {\n      packet.bridgeMode = true\n      packet.protocolVersion = packet.protocolVersion - 128\n    }\n\n    if (packet.protocolVersion !== 3 && packet.protocolVersion !== 4 && packet.protocolVersion !== 5) {\n      return this._emitError(new Error('Invalid protocol version'))\n    }\n\n    this._pos++\n\n    if (this._pos >= this._list.length) {\n      return this._emitError(new Error('Packet too short'))\n    }\n\n    if (this._list.readUInt8(this._pos) & 0x1) {\n      // The Server MUST validate that the reserved flag in the CONNECT Control Packet is set to zero and disconnect the Client if it is not zero [MQTT-3.1.2-3]\n      return this._emitError(new Error('Connect flag bit 0 must be 0, but got 1'))\n    }\n    // Parse connect flags\n    flags.username = (this._list.readUInt8(this._pos) & constants.USERNAME_MASK)\n    flags.password = (this._list.readUInt8(this._pos) & constants.PASSWORD_MASK)\n    flags.will = (this._list.readUInt8(this._pos) & constants.WILL_FLAG_MASK)\n\n    const willRetain = !!(this._list.readUInt8(this._pos) & constants.WILL_RETAIN_MASK)\n    const willQos = (this._list.readUInt8(this._pos) &\n        constants.WILL_QOS_MASK) >> constants.WILL_QOS_SHIFT\n\n    if (flags.will) {\n      packet.will = {}\n      packet.will.retain = willRetain\n      packet.will.qos = willQos\n    } else {\n      if (willRetain) {\n        return this._emitError(new Error('Will Retain Flag must be set to zero when Will Flag is set to 0'))\n      }\n      if (willQos) {\n        return this._emitError(new Error('Will QoS must be set to zero when Will Flag is set to 0'))\n      }\n    }\n\n    packet.clean = (this._list.readUInt8(this._pos) & constants.CLEAN_SESSION_MASK) !== 0\n    this._pos++\n\n    // Parse keepalive\n    packet.keepalive = this._parseNum()\n    if (packet.keepalive === -1) return this._emitError(new Error('Packet too short'))\n\n    // parse properties\n    if (packet.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n    // Parse clientId\n    const clientId = this._parseString()\n    if (clientId === null) return this._emitError(new Error('Packet too short'))\n    packet.clientId = clientId\n    debug('_parseConnect: packet.clientId: %s', packet.clientId)\n\n    if (flags.will) {\n      if (packet.protocolVersion === 5) {\n        const willProperties = this._parseProperties()\n        if (Object.getOwnPropertyNames(willProperties).length) {\n          packet.will.properties = willProperties\n        }\n      }\n      // Parse will topic\n      topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse will topic'))\n      packet.will.topic = topic\n      debug('_parseConnect: packet.will.topic: %s', packet.will.topic)\n\n      // Parse will payload\n      payload = this._parseBuffer()\n      if (payload === null) return this._emitError(new Error('Cannot parse will payload'))\n      packet.will.payload = payload\n      debug('_parseConnect: packet.will.paylaod: %s', packet.will.payload)\n    }\n\n    // Parse username\n    if (flags.username) {\n      username = this._parseString()\n      if (username === null) return this._emitError(new Error('Cannot parse username'))\n      packet.username = username\n      debug('_parseConnect: packet.username: %s', packet.username)\n    }\n\n    // Parse password\n    if (flags.password) {\n      password = this._parseBuffer()\n      if (password === null) return this._emitError(new Error('Cannot parse password'))\n      packet.password = password\n    }\n    // need for right parse auth packet and self set up\n    this.settings = packet\n    debug('_parseConnect: complete')\n    return packet\n  }\n\n  _parseConnack () {\n    debug('_parseConnack')\n    const packet = this.packet\n\n    if (this._list.length < 1) return null\n    const flags = this._list.readUInt8(this._pos++)\n    if (flags > 1) {\n      return this._emitError(new Error('Invalid connack flags, bits 7-1 must be set to 0'))\n    }\n    packet.sessionPresent = !!(flags & constants.SESSIONPRESENT_MASK)\n\n    if (this.settings.protocolVersion === 5) {\n      if (this._list.length >= 2) {\n        packet.reasonCode = this._list.readUInt8(this._pos++)\n      } else {\n        packet.reasonCode = 0\n      }\n    } else {\n      if (this._list.length < 2) return null\n      packet.returnCode = this._list.readUInt8(this._pos++)\n    }\n\n    if (packet.returnCode === -1 || packet.reasonCode === -1) return this._emitError(new Error('Cannot parse return code'))\n    // mqtt 5 properties\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n    debug('_parseConnack: complete')\n  }\n\n  _parsePublish () {\n    debug('_parsePublish')\n    const packet = this.packet\n    packet.topic = this._parseString()\n\n    if (packet.topic === null) return this._emitError(new Error('Cannot parse topic'))\n\n    // Parse messageId\n    if (packet.qos > 0) if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    packet.payload = this._list.slice(this._pos, packet.length)\n    debug('_parsePublish: payload from buffer list: %o', packet.payload)\n  }\n\n  _parseSubscribe () {\n    debug('_parseSubscribe')\n    const packet = this.packet\n    let topic\n    let options\n    let qos\n    let rh\n    let rap\n    let nl\n    let subscription\n\n    packet.subscriptions = []\n\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed subscribe, no payload specified')) }\n\n    while (this._pos < packet.length) {\n      // Parse topic\n      topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse topic'))\n      if (this._pos >= packet.length) return this._emitError(new Error('Malformed Subscribe Payload'))\n\n      options = this._parseByte()\n\n      if (this.settings.protocolVersion === 5) {\n        if (options & 0xc0) {\n          return this._emitError(new Error('Invalid subscribe topic flag bits, bits 7-6 must be 0'))\n        }\n      } else {\n        if (options & 0xfc) {\n          return this._emitError(new Error('Invalid subscribe topic flag bits, bits 7-2 must be 0'))\n        }\n      }\n\n      qos = options & constants.SUBSCRIBE_OPTIONS_QOS_MASK\n      if (qos > 2) {\n        return this._emitError(new Error('Invalid subscribe QoS, must be <= 2'))\n      }\n      nl = ((options >> constants.SUBSCRIBE_OPTIONS_NL_SHIFT) & constants.SUBSCRIBE_OPTIONS_NL_MASK) !== 0\n      rap = ((options >> constants.SUBSCRIBE_OPTIONS_RAP_SHIFT) & constants.SUBSCRIBE_OPTIONS_RAP_MASK) !== 0\n      rh = (options >> constants.SUBSCRIBE_OPTIONS_RH_SHIFT) & constants.SUBSCRIBE_OPTIONS_RH_MASK\n\n      if (rh > 2) {\n        return this._emitError(new Error('Invalid retain handling, must be <= 2'))\n      }\n\n      subscription = { topic, qos }\n\n      // mqtt 5 options\n      if (this.settings.protocolVersion === 5) {\n        subscription.nl = nl\n        subscription.rap = rap\n        subscription.rh = rh\n      } else if (this.settings.bridgeMode) {\n        subscription.rh = 0\n        subscription.rap = true\n        subscription.nl = true\n      }\n\n      // Push pair to subscriptions\n      debug('_parseSubscribe: push subscription `%s` to subscription', subscription)\n      packet.subscriptions.push(subscription)\n    }\n  }\n\n  _parseSuback () {\n    debug('_parseSuback')\n    const packet = this.packet\n    this.packet.granted = []\n\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed suback, no payload specified')) }\n\n    // Parse granted QoSes\n    while (this._pos < this.packet.length) {\n      const code = this._list.readUInt8(this._pos++)\n      if (this.settings.protocolVersion === 5) {\n        if (!constants.MQTT5_SUBACK_CODES[code]) {\n          return this._emitError(new Error('Invalid suback code'))\n        }\n      } else {\n        if (code > 2 && code !== 0x80) {\n          return this._emitError(new Error('Invalid suback QoS, must be 0, 1, 2 or 128'))\n        }\n      }\n      this.packet.granted.push(code)\n    }\n  }\n\n  _parseUnsubscribe () {\n    debug('_parseUnsubscribe')\n    const packet = this.packet\n\n    packet.unsubscriptions = []\n\n    // Parse messageId\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed unsubscribe, no payload specified')) }\n\n    while (this._pos < packet.length) {\n      // Parse topic\n      const topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse topic'))\n\n      // Push topic to unsubscriptions\n      debug('_parseUnsubscribe: push topic `%s` to unsubscriptions', topic)\n      packet.unsubscriptions.push(topic)\n    }\n  }\n\n  _parseUnsuback () {\n    debug('_parseUnsuback')\n    const packet = this.packet\n    if (!this._parseMessageId()) return this._emitError(new Error('Cannot parse messageId'))\n\n    if ((this.settings.protocolVersion === 3 ||\n      this.settings.protocolVersion === 4) && packet.length !== 2) {\n      return this._emitError(new Error('Malformed unsuback, payload length must be 2'))\n    }\n    if (packet.length <= 0) { return this._emitError(new Error('Malformed unsuback, no payload specified')) }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n      // Parse granted QoSes\n      packet.granted = []\n\n      while (this._pos < this.packet.length) {\n        const code = this._list.readUInt8(this._pos++)\n        if (!constants.MQTT5_UNSUBACK_CODES[code]) {\n          return this._emitError(new Error('Invalid unsuback code'))\n        }\n        this.packet.granted.push(code)\n      }\n    }\n  }\n\n  // parse packets like puback, pubrec, pubrel, pubcomp\n  _parseConfirmation () {\n    debug('_parseConfirmation: packet.cmd: `%s`', this.packet.cmd)\n    const packet = this.packet\n\n    this._parseMessageId()\n\n    if (this.settings.protocolVersion === 5) {\n      if (packet.length > 2) {\n        // response code\n        packet.reasonCode = this._parseByte()\n        switch (this.packet.cmd) {\n          case 'puback':\n          case 'pubrec':\n            if (!constants.MQTT5_PUBACK_PUBREC_CODES[packet.reasonCode]) {\n              return this._emitError(new Error('Invalid ' + this.packet.cmd + ' reason code'))\n            }\n            break\n          case 'pubrel':\n          case 'pubcomp':\n            if (!constants.MQTT5_PUBREL_PUBCOMP_CODES[packet.reasonCode]) {\n              return this._emitError(new Error('Invalid ' + this.packet.cmd + ' reason code'))\n            }\n            break\n        }\n        debug('_parseConfirmation: packet.reasonCode `%d`', packet.reasonCode)\n      } else {\n        packet.reasonCode = 0\n      }\n\n      if (packet.length > 3) {\n        // properies mqtt 5\n        const properties = this._parseProperties()\n        if (Object.getOwnPropertyNames(properties).length) {\n          packet.properties = properties\n        }\n      }\n    }\n\n    return true\n  }\n\n  // parse disconnect packet\n  _parseDisconnect () {\n    const packet = this.packet\n    debug('_parseDisconnect')\n\n    if (this.settings.protocolVersion === 5) {\n      // response code\n      if (this._list.length > 0) {\n        packet.reasonCode = this._parseByte()\n        if (!constants.MQTT5_DISCONNECT_CODES[packet.reasonCode]) {\n          this._emitError(new Error('Invalid disconnect reason code'))\n        }\n      } else {\n        packet.reasonCode = 0\n      }\n      // properies mqtt 5\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    debug('_parseDisconnect result: true')\n    return true\n  }\n\n  // parse auth packet\n  _parseAuth () {\n    debug('_parseAuth')\n    const packet = this.packet\n\n    if (this.settings.protocolVersion !== 5) {\n      return this._emitError(new Error('Not supported auth packet for this version MQTT'))\n    }\n\n    // response code\n    packet.reasonCode = this._parseByte()\n    if (!constants.MQTT5_AUTH_CODES[packet.reasonCode]) {\n      return this._emitError(new Error('Invalid auth reason code'))\n    }\n    // properies mqtt 5\n    const properties = this._parseProperties()\n    if (Object.getOwnPropertyNames(properties).length) {\n      packet.properties = properties\n    }\n\n    debug('_parseAuth: result: true')\n    return true\n  }\n\n  _parseMessageId () {\n    const packet = this.packet\n\n    packet.messageId = this._parseNum()\n\n    if (packet.messageId === null) {\n      this._emitError(new Error('Cannot parse messageId'))\n      return false\n    }\n\n    debug('_parseMessageId: packet.messageId %d', packet.messageId)\n    return true\n  }\n\n  _parseString (maybeBuffer) {\n    const length = this._parseNum()\n    const end = length + this._pos\n\n    if (length === -1 || end > this._list.length || end > this.packet.length) return null\n\n    const result = this._list.toString('utf8', this._pos, end)\n    this._pos += length\n    debug('_parseString: result: %s', result)\n    return result\n  }\n\n  _parseStringPair () {\n    debug('_parseStringPair')\n    return {\n      name: this._parseString(),\n      value: this._parseString()\n    }\n  }\n\n  _parseBuffer () {\n    const length = this._parseNum()\n    const end = length + this._pos\n\n    if (length === -1 || end > this._list.length || end > this.packet.length) return null\n\n    const result = this._list.slice(this._pos, end)\n\n    this._pos += length\n    debug('_parseBuffer: result: %o', result)\n    return result\n  }\n\n  _parseNum () {\n    if (this._list.length - this._pos < 2) return -1\n\n    const result = this._list.readUInt16BE(this._pos)\n    this._pos += 2\n    debug('_parseNum: result: %s', result)\n    return result\n  }\n\n  _parse4ByteNum () {\n    if (this._list.length - this._pos < 4) return -1\n\n    const result = this._list.readUInt32BE(this._pos)\n    this._pos += 4\n    debug('_parse4ByteNum: result: %s', result)\n    return result\n  }\n\n  _parseVarByteNum (fullInfoFlag) {\n    debug('_parseVarByteNum')\n    const maxBytes = 4\n    let bytes = 0\n    let mul = 1\n    let value = 0\n    let result = false\n    let current\n    const padding = this._pos ? this._pos : 0\n\n    while (bytes < maxBytes && (padding + bytes) < this._list.length) {\n      current = this._list.readUInt8(padding + bytes++)\n      value += mul * (current & constants.VARBYTEINT_MASK)\n      mul *= 0x80\n\n      if ((current & constants.VARBYTEINT_FIN_MASK) === 0) {\n        result = true\n        break\n      }\n      if (this._list.length <= bytes) {\n        break\n      }\n    }\n\n    if (!result && bytes === maxBytes && this._list.length >= bytes) {\n      this._emitError(new Error('Invalid variable byte integer'))\n    }\n\n    if (padding) {\n      this._pos += bytes\n    }\n\n    if (result) {\n      if (fullInfoFlag) {\n        result = { bytes, value }\n      } else {\n        result = value\n      }\n    } else {\n      result = false\n    }\n\n    debug('_parseVarByteNum: result: %o', result)\n    return result\n  }\n\n  _parseByte () {\n    let result\n    if (this._pos < this._list.length) {\n      result = this._list.readUInt8(this._pos)\n      this._pos++\n    }\n    debug('_parseByte: result: %o', result)\n    return result\n  }\n\n  _parseByType (type) {\n    debug('_parseByType: type: %s', type)\n    switch (type) {\n      case 'byte': {\n        return this._parseByte() !== 0\n      }\n      case 'int8': {\n        return this._parseByte()\n      }\n      case 'int16': {\n        return this._parseNum()\n      }\n      case 'int32': {\n        return this._parse4ByteNum()\n      }\n      case 'var': {\n        return this._parseVarByteNum()\n      }\n      case 'string': {\n        return this._parseString()\n      }\n      case 'pair': {\n        return this._parseStringPair()\n      }\n      case 'binary': {\n        return this._parseBuffer()\n      }\n    }\n  }\n\n  _parseProperties () {\n    debug('_parseProperties')\n    const length = this._parseVarByteNum()\n    const start = this._pos\n    const end = start + length\n    const result = {}\n    while (this._pos < end) {\n      const type = this._parseByte()\n      if (!type) {\n        this._emitError(new Error('Cannot parse property code type'))\n        return false\n      }\n      const name = constants.propertiesCodes[type]\n      if (!name) {\n        this._emitError(new Error('Unknown property'))\n        return false\n      }\n      // user properties process\n      if (name === 'userProperties') {\n        if (!result[name]) {\n          result[name] = Object.create(null)\n        }\n        const currentUserProperty = this._parseByType(constants.propertiesTypes[name])\n        if (result[name][currentUserProperty.name]) {\n          if (Array.isArray(result[name][currentUserProperty.name])) {\n            result[name][currentUserProperty.name].push(currentUserProperty.value)\n          } else {\n            const currentValue = result[name][currentUserProperty.name]\n            result[name][currentUserProperty.name] = [currentValue]\n            result[name][currentUserProperty.name].push(currentUserProperty.value)\n          }\n        } else {\n          result[name][currentUserProperty.name] = currentUserProperty.value\n        }\n        continue\n      }\n      if (result[name]) {\n        if (Array.isArray(result[name])) {\n          result[name].push(this._parseByType(constants.propertiesTypes[name]))\n        } else {\n          result[name] = [result[name]]\n          result[name].push(this._parseByType(constants.propertiesTypes[name]))\n        }\n      } else {\n        result[name] = this._parseByType(constants.propertiesTypes[name])\n      }\n    }\n    return result\n  }\n\n  _newPacket () {\n    debug('_newPacket')\n    if (this.packet) {\n      this._list.consume(this.packet.length)\n      debug('_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d', this.packet.cmd, this.packet.payload, this.packet.length)\n      this.emit('packet', this.packet)\n    }\n    debug('_newPacket: new packet')\n    this.packet = new Packet()\n\n    this._pos = 0\n\n    return true\n  }\n\n  _emitError (err) {\n    debug('_emitError', err)\n    this.error = err\n    this.emit('error', err)\n  }\n}\n\nmodule.exports = Parser\n","module.exports = require(\"os\");","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReasonCodes = exports.KeepaliveManager = exports.UniqueMessageIdProvider = exports.DefaultMessageIdProvider = exports.Store = exports.MqttClient = exports.connectAsync = exports.connect = exports.Client = void 0;\nconst client_1 = __importDefault(require(\"./lib/client\"));\nexports.MqttClient = client_1.default;\nconst default_message_id_provider_1 = __importDefault(require(\"./lib/default-message-id-provider\"));\nexports.DefaultMessageIdProvider = default_message_id_provider_1.default;\nconst unique_message_id_provider_1 = __importDefault(require(\"./lib/unique-message-id-provider\"));\nexports.UniqueMessageIdProvider = unique_message_id_provider_1.default;\nconst store_1 = __importDefault(require(\"./lib/store\"));\nexports.Store = store_1.default;\nconst connect_1 = __importStar(require(\"./lib/connect\"));\nexports.connect = connect_1.default;\nObject.defineProperty(exports, \"connectAsync\", { enumerable: true, get: function () { return connect_1.connectAsync; } });\nconst KeepaliveManager_1 = __importDefault(require(\"./lib/KeepaliveManager\"));\nexports.KeepaliveManager = KeepaliveManager_1.default;\nexports.Client = client_1.default;\n__exportStar(require(\"./lib/client\"), exports);\n__exportStar(require(\"./lib/shared\"), exports);\nvar ack_1 = require(\"./lib/handlers/ack\");\nObject.defineProperty(exports, \"ReasonCodes\", { enumerable: true, get: function () { return ack_1.ReasonCodes; } });\n//# sourceMappingURL=mqtt.js.map","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MQTTJS_VERSION = exports.nextTick = exports.applyMixin = exports.ErrorWithReasonCode = void 0;\nclass ErrorWithReasonCode extends Error {\n    constructor(message, code) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ErrorWithReasonCode.prototype);\n        Object.getPrototypeOf(this).name = 'ErrorWithReasonCode';\n    }\n}\nexports.ErrorWithReasonCode = ErrorWithReasonCode;\nfunction applyMixin(target, mixin, includeConstructor = false) {\n    var _a;\n    const inheritanceChain = [mixin];\n    while (true) {\n        const current = inheritanceChain[0];\n        const base = Object.getPrototypeOf(current);\n        if (base === null || base === void 0 ? void 0 : base.prototype) {\n            inheritanceChain.unshift(base);\n        }\n        else {\n            break;\n        }\n    }\n    for (const ctor of inheritanceChain) {\n        for (const prop of Object.getOwnPropertyNames(ctor.prototype)) {\n            if (includeConstructor || prop !== 'constructor') {\n                Object.defineProperty(target.prototype, prop, (_a = Object.getOwnPropertyDescriptor(ctor.prototype, prop)) !== null && _a !== void 0 ? _a : Object.create(null));\n            }\n        }\n    }\n}\nexports.applyMixin = applyMixin;\nexports.nextTick = typeof (process === null || process === void 0 ? void 0 : process.nextTick) === 'function'\n    ? process.nextTick\n    : (callback) => {\n        setTimeout(callback, 0);\n    };\nexports.MQTTJS_VERSION = require('../../package.json').version;\n//# sourceMappingURL=shared.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass TopicAliasRecv {\n    constructor(max) {\n        this.aliasToTopic = {};\n        this.max = max;\n    }\n    put(topic, alias) {\n        if (alias === 0 || alias > this.max) {\n            return false;\n        }\n        this.aliasToTopic[alias] = topic;\n        this.length = Object.keys(this.aliasToTopic).length;\n        return true;\n    }\n    getTopicByAlias(alias) {\n        return this.aliasToTopic[alias];\n    }\n    clear() {\n        this.aliasToTopic = {};\n    }\n}\nexports.default = TopicAliasRecv;\n//# sourceMappingURL=topic-alias-recv.js.map","import { connectAsync, MqttClient as Client, IPublishPacket } from 'mqtt';\nimport { ScryptedDeviceBase } from '@scrypted/sdk';\nimport { sleep } from \"../../scrypted/server/src/sleep\";\n\nexport type MqttMessageCb = (topic: string, message: string, data: IPublishPacket) => Promise<void>\n\nconst topicMatches = (pattern: string, topic: string): boolean => {\n    const patternLevels = pattern.split('/');\n    const topicLevels = topic.split('/');\n\n    for (let i = 0; i < patternLevels.length; i++) {\n        if (patternLevels[i] === '#') return true;\n        if (patternLevels[i] === '+') continue;\n        if (patternLevels[i] !== topicLevels[i]) return false;\n    }\n\n    return patternLevels.length === topicLevels.length;\n}\n\nexport default class MqttClient {\n    mqttClient: Client;\n    mqttPathmame: string;\n    host: string;\n    username: string;\n    password: string;\n    clientId?: string;\n    topicLastValue: Record<string, any> = {};\n    logger: Console;\n    topicCbMap: Record<string, MqttMessageCb[]> = {};\n    connecting: boolean;\n    configTopicPattern: string;\n    currentAutodiscoveryTopics: string[] = [];\n\n    constructor(\n        host: string,\n        username: string,\n        password: string,\n        logger: Console,\n        clientId?: string,\n        configTopicPattern?: string,\n    ) {\n        this.host = host;\n        this.username = username;\n        this.password = password;\n        this.logger = logger;\n        this.clientId = clientId;\n        this.configTopicPattern = configTopicPattern;\n    }\n\n    async disconnect() {\n        if (this.mqttClient) {\n            try {\n                this.logger.log('Disconnecting mqtt client');\n                await this.mqttClient.endAsync(true);\n                this.mqttClient = undefined;\n            } catch (e) {\n                this.logger.log('Error closing MQTT connection', e);\n            }\n        }\n    }\n\n    async getMqttClient(forceReconnect?: boolean): Promise<Client> {\n        if (this.connecting) {\n            return this.mqttClient;\n        }\n\n        const _connect = async () => {\n            try {\n                const logger = this.logger;\n                this.connecting = true;\n                const client = await connectAsync(this.mqttPathmame, {\n                    rejectUnauthorized: false,\n                    username: this.username,\n                    password: this.password,\n                    clientId: this.clientId,\n                    reschedulePings: true,\n                }, true);\n\n                if (this.configTopicPattern) {\n                    await client.subscribeAsync([this.configTopicPattern]);\n                }\n\n                client.on('message', async (messageTopic, message, data) => {\n                    const cbs: MqttMessageCb[] = [];\n                    for (const [key, data] of Object.entries(this.topicCbMap)) {\n                        if (topicMatches(key, messageTopic)) {\n                            cbs.push(...data)\n                        }\n                    }\n                    const messageString = message.toString();\n\n                    if (cbs?.length) {\n                        logger.info(`Topic ${messageTopic} for ${cbs.length} cbs sent with data ${message}: ${JSON.stringify(data)}`);\n                        for (const cb of cbs) {\n                            cb(messageTopic, messageString, data).catch(logger.log);\n                        }\n                    }\n\n                    if (this.configTopicPattern) {\n                        !!message &&\n                            messageTopic.endsWith('/config') &&\n                            !this.currentAutodiscoveryTopics.includes(messageTopic) &&\n                            this.currentAutodiscoveryTopics.push(messageTopic);\n                    }\n                });\n\n                client.on('disconnect', (p) => {\n                    logger.info(`Client disconnecting: ${JSON.stringify(p)}`);\n                });\n                client.on('reconnect', () => {\n                    logger.info(`Client reconnecting`);\n                });\n\n                client.setMaxListeners(Infinity);\n\n                this.logger.log('Connected to MQTT', this.mqttPathmame, this.username, this.clientId);\n                this.mqttClient = client;\n            } catch (e) {\n                this.logger.log('Error connecting to mqtt. Waiting before trying again. Client id is ', this.clientId, e);\n                await this.mqttClient?.endAsync(true);\n                await sleep(5000);\n            } finally {\n                this.connecting = false;\n            }\n        }\n\n        if (!this.mqttClient || forceReconnect) {\n            if (forceReconnect && this.mqttClient) {\n                try {\n                    await this.mqttClient.endAsync();\n                } catch (e) { }\n            }\n            const url = this.host;\n            const urlWithoutPath = new URL(url);\n            urlWithoutPath.pathname = '';\n\n            this.mqttPathmame = urlWithoutPath.toString();\n            if (!this.mqttPathmame.endsWith('/')) {\n                this.mqttPathmame = `${this.mqttPathmame}/`;\n            }\n            this.logger.log('Starting MQTT connection', this.mqttPathmame, this.username, this.clientId);\n\n            await _connect();\n\n            // if (this.mqttClient) {\n            //     this.mqttClient.onKeepaliveTimeout = async () => {\n            //         this.logger.log('keepalive timeout. Reconnecting');\n            //         this.mqttClient.reconnect();\n            //     }\n            // }\n            return this.mqttClient;\n            // } else if (!this.mqttClient.connected) {\n            //     this.logger.log('MQTT disconnected. Reconnecting', this.host, this.username, this.mqttPathmame);\n\n            //     await _connect();\n            //     return this.mqttClient;\n        } else {\n            return this.mqttClient;\n        }\n    }\n\n    async publish(topic: string, inputValue: any, retain = true) {\n        let value: string | Buffer;\n        try {\n            if (typeof inputValue === 'object')\n                value = JSON.stringify(inputValue);\n            if (inputValue.constructor.name !== Buffer.name)\n                value = inputValue.toString();\n        } catch (e) {\n            this.logger.log(`Error parsing publish values: ${JSON.stringify({ topic, value: value?.slice(0, 50) })}`, e);\n            return;\n        }\n\n        if (this.topicLastValue[topic] === value) {\n            this.logger.debug(`Skipping publish, same as previous value: ${JSON.stringify({ topic, value: value?.slice(0, 50), previousValue: this.topicLastValue[topic] })}`);\n\n            return;\n        }\n\n        this.logger.debug(`Publishing ${JSON.stringify({ topic, value })}`);\n        const client = await this.getMqttClient();\n        if (client) {\n            try {\n                await client.publishAsync(topic, value, { retain });\n            } catch (e) {\n                this.logger.log(`Error publishing to MQTT. Reconnecting. ${JSON.stringify({ topic, value: value?.slice(0, 50) })}`, e);\n                await this.getMqttClient(true);\n                await client.publishAsync(topic, value, { retain }).catch(e => this.logger.log(`Error publish retry. ${JSON.stringify({ topic, value: value?.slice(0, 50) })}`, e));\n            } finally {\n                this.topicLastValue[topic] = value;\n            }\n        }\n    }\n\n    public getMqttTopicTopics<Domain extends string = string>(pluginName: string, device: ScryptedDeviceBase) {\n        const deviceId = device.id;\n\n        const getEntityTopic = (entity: string) => `scrypted/${pluginName}/${deviceId}/${entity}`;\n        const getInfoTopic = (entity: string) => `${getEntityTopic(entity)}/info`;\n        const getDiscoveryTopic = (domain: Domain, entity: string) => `homeassistant/${domain}/${pluginName}-${deviceId}/${entity}/config`;\n\n        return {\n            getEntityTopic,\n            getDiscoveryTopic,\n            getInfoTopic,\n        }\n    }\n\n    async subscribe(topics: string[], cb: MqttMessageCb) {\n        const client = await this.getMqttClient();\n\n        if (client) {\n            await client.subscribeAsync(topics);\n\n            for (const topic of topics) {\n                if (!this.topicCbMap[topic]) {\n                    this.topicCbMap[topic] = [];\n                }\n\n                this.topicCbMap[topic].push(cb);\n            }\n        }\n    }\n\n    async unsubscribe(topics: string[]) {\n        const client = await this.getMqttClient();\n        if (client) {\n            await client.unsubscribeAsync(topics);\n\n            for (const topic of topics) {\n                delete this.topicCbMap[topic];\n            }\n        }\n    }\n\n    async unsubscribeWithCb(data: { topic: string, cb: MqttMessageCb }[]) {\n        const client = await this.getMqttClient();\n        if (client) {\n            for (const { cb, topic } of data) {\n                for (const thisCb of this.topicCbMap[topic]) {\n                    delete this.topicCbMap[topic];\n                    if (thisCb === cb) {\n                        this.topicCbMap[topic] = this.topicCbMap[topic].filter(\n                            elem => elem !== cb\n                        );\n                    }\n                }\n\n                if (!this.topicCbMap[topic].length) {\n                    await client.unsubscribeAsync(topic);\n                }\n            }\n        }\n    }\n\n    async removeAllListeners() {\n        const mqttClient = await this.getMqttClient();\n\n        if (mqttClient) {\n            mqttClient.removeAllListeners();\n        }\n    }\n\n    async cleanupAutodiscoveryTopics(activeTopics: string[]) {\n        const topicsToDelete = this.currentAutodiscoveryTopics.filter(topic => !activeTopics.includes(topic));\n        if (topicsToDelete.length > 0) {\n            for (const topic of topicsToDelete) {\n                await this.publish(topic, '', true);\n            }\n            this.logger.log(`${topicsToDelete.length} topics to delete found: ${topicsToDelete.join(', ')}`);\n        }\n    }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst net_1 = __importDefault(require(\"net\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)('mqttjs:tcp');\nconst buildStream = (client, opts) => {\n    opts.port = opts.port || 1883;\n    opts.hostname = opts.hostname || opts.host || 'localhost';\n    const { port, path } = opts;\n    const host = opts.hostname;\n    debug('port %d and host %s', port, host);\n    return net_1.default.createConnection({ port, host, path });\n};\nexports.default = buildStream;\n//# sourceMappingURL=tcp.js.map","'use strict'\n\nconst { SymbolDispose } = require('../../ours/primordials')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { isNodeStream, isWebStream, kControllerErrorFunction } = require('./utils')\nconst eos = require('./end-of-stream')\nconst { ERR_INVALID_ARG_TYPE } = codes\nlet addAbortListener\n\n// This method is inlined here for readable-stream\n// It also does not allow for signal to not exist on the stream\n// https://github.com/nodejs/node/pull/36061#discussion_r533718029\nconst validateAbortSignal = (signal, name) => {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nmodule.exports.addAbortSignal = function addAbortSignal(signal, stream) {\n  validateAbortSignal(signal, 'signal')\n  if (!isNodeStream(stream) && !isWebStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  return module.exports.addAbortSignalNoValidate(signal, stream)\n}\nmodule.exports.addAbortSignalNoValidate = function (signal, stream) {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    return stream\n  }\n  const onAbort = isNodeStream(stream)\n    ? () => {\n        stream.destroy(\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n    : () => {\n        stream[kControllerErrorFunction](\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n  if (signal.aborted) {\n    onAbort()\n  } else {\n    addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n    const disposable = addAbortListener(signal, onAbort)\n    eos(stream, disposable[SymbolDispose])\n  }\n  return stream\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst fs_1 = __importDefault(require(\"fs\"));\nconst index_1 = require(\"../types/gen/index\");\nconst module_1 = require(\"module\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = exports.sdk.deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = exports.sdk.deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = exports.sdk.deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = exports.sdk.systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = exports.sdk.deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = exports.sdk.deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (exports.sdk.deviceManager.getMixinConsole)\n                this._console = exports.sdk.deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = exports.sdk.deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let loaded = false;\n    try {\n        // todo: remove usage of process.env.SCRYPTED_SDK_MODULE, only existed in prerelease builds.\n        // import.meta is not a reliable way to detect es module support in webpack since webpack\n        // evaluates that to true at runtime.\n        const esModule = process.env.SCRYPTED_SDK_ES_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        const cjsModule = process.env.SCRYPTED_SDK_CJS_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        // @ts-expect-error\n        if (esModule && typeof import.meta !== 'undefined') {\n            // @ts-expect-error\n            const require = (0, module_1.createRequire)(import.meta.url);\n            const sdkModule = require(esModule);\n            Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n            loaded = true;\n        }\n        else if (cjsModule) {\n            // @ts-expect-error\n            if (typeof __non_webpack_require__ !== 'undefined') {\n                // @ts-expect-error\n                const sdkModule = __non_webpack_require__(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n            else {\n                const sdkModule = require(cjsModule);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n        }\n    }\n    catch (e) {\n        console.warn(\"failed to load sdk module\", e);\n        throw e;\n    }\n    if (!loaded) {\n        let runtimeAPI;\n        try {\n            runtimeAPI = pluginRuntimeAPI;\n        }\n        catch (e) {\n        }\n        Object.assign(exports.sdk, {\n            log: deviceManager.getDeviceLogger(undefined),\n            deviceManager,\n            endpointManager,\n            mediaManager,\n            systemManager,\n            pluginHostAPI,\n            ...runtimeAPI,\n        });\n    }\n    try {\n        let descriptors = {\n            ...index_1.ScryptedInterfaceDescriptors,\n        };\n        try {\n            const sdkJson = JSON.parse(fs_1.default.readFileSync('../sdk.json').toString());\n            const customDescriptors = sdkJson.interfaceDescriptors;\n            if (customDescriptors) {\n                descriptors = {\n                    ...descriptors,\n                    ...customDescriptors,\n                };\n            }\n        }\n        catch (e) {\n            console.warn('failed to load custom interface descriptors', e);\n        }\n        exports.sdk.systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, descriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connectAsync = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst client_1 = __importDefault(require(\"../client\"));\nconst is_browser_1 = __importDefault(require(\"../is-browser\"));\nif (typeof (process === null || process === void 0 ? void 0 : process.nextTick) !== 'function') {\n    process.nextTick = setImmediate;\n}\nconst debug = (0, debug_1.default)('mqttjs');\nlet protocols = null;\nfunction parseAuthOptions(opts) {\n    let matches;\n    if (opts.auth) {\n        matches = opts.auth.match(/^(.+):(.+)$/);\n        if (matches) {\n            opts.username = matches[1];\n            opts.password = matches[2];\n        }\n        else {\n            opts.username = opts.auth;\n        }\n    }\n}\nfunction connect(brokerUrl, opts) {\n    var _a, _b, _c, _d;\n    debug('connecting to an MQTT broker...');\n    if (typeof brokerUrl === 'object' && !opts) {\n        opts = brokerUrl;\n        brokerUrl = '';\n    }\n    opts = opts || {};\n    if (brokerUrl && typeof brokerUrl === 'string') {\n        const parsedUrl = url_1.default.parse(brokerUrl, true);\n        const parsedOptions = {};\n        if (parsedUrl.port != null) {\n            parsedOptions.port = Number(parsedUrl.port);\n        }\n        parsedOptions.host = parsedUrl.hostname;\n        parsedOptions.query = parsedUrl.query;\n        parsedOptions.auth = parsedUrl.auth;\n        parsedOptions.protocol = parsedUrl.protocol;\n        parsedOptions.path = parsedUrl.path;\n        parsedOptions.protocol = (_a = parsedOptions.protocol) === null || _a === void 0 ? void 0 : _a.replace(/:$/, '');\n        opts = Object.assign(Object.assign({}, parsedOptions), opts);\n        if (!opts.protocol) {\n            throw new Error('Missing protocol');\n        }\n    }\n    opts.unixSocket = opts.unixSocket || ((_b = opts.protocol) === null || _b === void 0 ? void 0 : _b.includes('+unix'));\n    if (opts.unixSocket) {\n        opts.protocol = opts.protocol.replace('+unix', '');\n    }\n    else if (!((_c = opts.protocol) === null || _c === void 0 ? void 0 : _c.startsWith('ws')) &&\n        !((_d = opts.protocol) === null || _d === void 0 ? void 0 : _d.startsWith('wx'))) {\n        delete opts.path;\n    }\n    parseAuthOptions(opts);\n    if (opts.query && typeof opts.query.clientId === 'string') {\n        opts.clientId = opts.query.clientId;\n    }\n    if (opts.cert && opts.key) {\n        if (opts.protocol) {\n            if (['mqtts', 'wss', 'wxs', 'alis'].indexOf(opts.protocol) === -1) {\n                switch (opts.protocol) {\n                    case 'mqtt':\n                        opts.protocol = 'mqtts';\n                        break;\n                    case 'ws':\n                        opts.protocol = 'wss';\n                        break;\n                    case 'wx':\n                        opts.protocol = 'wxs';\n                        break;\n                    case 'ali':\n                        opts.protocol = 'alis';\n                        break;\n                    default:\n                        throw new Error(`Unknown protocol for secure connection: \"${opts.protocol}\"!`);\n                }\n            }\n        }\n        else {\n            throw new Error('Missing secure protocol key');\n        }\n    }\n    if (!protocols) {\n        protocols = {};\n        if (!is_browser_1.default && !opts.forceNativeWebSocket) {\n            protocols.ws = require('./ws').streamBuilder;\n            protocols.wss = require('./ws').streamBuilder;\n            protocols.mqtt = require('./tcp').default;\n            protocols.tcp = require('./tcp').default;\n            protocols.ssl = require('./tls').default;\n            protocols.tls = protocols.ssl;\n            protocols.mqtts = require('./tls').default;\n        }\n        else {\n            protocols.ws = require('./ws').browserStreamBuilder;\n            protocols.wss = require('./ws').browserStreamBuilder;\n            protocols.wx = require('./wx').default;\n            protocols.wxs = require('./wx').default;\n            protocols.ali = require('./ali').default;\n            protocols.alis = require('./ali').default;\n        }\n    }\n    if (!protocols[opts.protocol]) {\n        const isSecure = ['mqtts', 'wss'].indexOf(opts.protocol) !== -1;\n        opts.protocol = [\n            'mqtt',\n            'mqtts',\n            'ws',\n            'wss',\n            'wx',\n            'wxs',\n            'ali',\n            'alis',\n        ].filter((key, index) => {\n            if (isSecure && index % 2 === 0) {\n                return false;\n            }\n            return typeof protocols[key] === 'function';\n        })[0];\n    }\n    if (opts.clean === false && !opts.clientId) {\n        throw new Error('Missing clientId for unclean clients');\n    }\n    if (opts.protocol) {\n        opts.defaultProtocol = opts.protocol;\n    }\n    function wrapper(client) {\n        if (opts.servers) {\n            if (!client._reconnectCount ||\n                client._reconnectCount === opts.servers.length) {\n                client._reconnectCount = 0;\n            }\n            opts.host = opts.servers[client._reconnectCount].host;\n            opts.port = opts.servers[client._reconnectCount].port;\n            opts.protocol = !opts.servers[client._reconnectCount].protocol\n                ? opts.defaultProtocol\n                : opts.servers[client._reconnectCount].protocol;\n            opts.hostname = opts.host;\n            client._reconnectCount++;\n        }\n        debug('calling streambuilder for', opts.protocol);\n        return protocols[opts.protocol](client, opts);\n    }\n    const client = new client_1.default(wrapper, opts);\n    client.on('error', () => {\n    });\n    return client;\n}\nfunction connectAsync(brokerUrl, opts, allowRetries = true) {\n    return new Promise((resolve, reject) => {\n        const client = connect(brokerUrl, opts);\n        const promiseResolutionListeners = {\n            connect: (connack) => {\n                removePromiseResolutionListeners();\n                resolve(client);\n            },\n            end: () => {\n                removePromiseResolutionListeners();\n                resolve(client);\n            },\n            error: (err) => {\n                removePromiseResolutionListeners();\n                client.end();\n                reject(err);\n            },\n        };\n        if (allowRetries === false) {\n            promiseResolutionListeners.close = () => {\n                promiseResolutionListeners.error(new Error(\"Couldn't connect to server\"));\n            };\n        }\n        function removePromiseResolutionListeners() {\n            Object.keys(promiseResolutionListeners).forEach((eventName) => {\n                client.off(eventName, promiseResolutionListeners[eventName]);\n            });\n        }\n        Object.keys(promiseResolutionListeners).forEach((eventName) => {\n            client.on(eventName, promiseResolutionListeners[eventName]);\n        });\n    });\n}\nexports.connectAsync = connectAsync;\nexports.default = connect;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst topic_alias_recv_1 = __importDefault(require(\"./topic-alias-recv\"));\nconst mqtt_packet_1 = __importDefault(require(\"mqtt-packet\"));\nconst default_message_id_provider_1 = __importDefault(require(\"./default-message-id-provider\"));\nconst readable_stream_1 = require(\"readable-stream\");\nconst default_1 = __importDefault(require(\"rfdc/default\"));\nconst validations = __importStar(require(\"./validations\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst store_1 = __importDefault(require(\"./store\"));\nconst handlers_1 = __importDefault(require(\"./handlers\"));\nconst shared_1 = require(\"./shared\");\nconst TypedEmitter_1 = require(\"./TypedEmitter\");\nconst KeepaliveManager_1 = __importDefault(require(\"./KeepaliveManager\"));\nconst is_browser_1 = __importStar(require(\"./is-browser\"));\nconst setImmediate = globalThis.setImmediate ||\n    ((...args) => {\n        const callback = args.shift();\n        (0, shared_1.nextTick)(() => {\n            callback(...args);\n        });\n    });\nconst defaultConnectOptions = {\n    keepalive: 60,\n    reschedulePings: true,\n    protocolId: 'MQTT',\n    protocolVersion: 4,\n    reconnectPeriod: 1000,\n    connectTimeout: 30 * 1000,\n    clean: true,\n    resubscribe: true,\n    writeCache: true,\n    timerVariant: 'auto',\n};\nclass MqttClient extends TypedEmitter_1.TypedEventEmitter {\n    static defaultId() {\n        return `mqttjs_${Math.random().toString(16).substr(2, 8)}`;\n    }\n    constructor(streamBuilder, options) {\n        super();\n        this.options = options || {};\n        for (const k in defaultConnectOptions) {\n            if (typeof this.options[k] === 'undefined') {\n                this.options[k] = defaultConnectOptions[k];\n            }\n            else {\n                this.options[k] = options[k];\n            }\n        }\n        this.log = this.options.log || (0, debug_1.default)('mqttjs:client');\n        this.noop = this._noop.bind(this);\n        this.log('MqttClient :: version:', MqttClient.VERSION);\n        if (is_browser_1.isWebWorker) {\n            this.log('MqttClient :: environment', 'webworker');\n        }\n        else {\n            this.log('MqttClient :: environment', is_browser_1.default ? 'browser' : 'node');\n        }\n        this.log('MqttClient :: options.protocol', options.protocol);\n        this.log('MqttClient :: options.protocolVersion', options.protocolVersion);\n        this.log('MqttClient :: options.username', options.username);\n        this.log('MqttClient :: options.keepalive', options.keepalive);\n        this.log('MqttClient :: options.reconnectPeriod', options.reconnectPeriod);\n        this.log('MqttClient :: options.rejectUnauthorized', options.rejectUnauthorized);\n        this.log('MqttClient :: options.properties.topicAliasMaximum', options.properties\n            ? options.properties.topicAliasMaximum\n            : undefined);\n        this.options.clientId =\n            typeof options.clientId === 'string'\n                ? options.clientId\n                : MqttClient.defaultId();\n        this.log('MqttClient :: clientId', this.options.clientId);\n        this.options.customHandleAcks =\n            options.protocolVersion === 5 && options.customHandleAcks\n                ? options.customHandleAcks\n                : (...args) => {\n                    args[3](null, 0);\n                };\n        if (!this.options.writeCache) {\n            mqtt_packet_1.default.writeToStream.cacheNumbers = false;\n        }\n        this.streamBuilder = streamBuilder;\n        this.messageIdProvider =\n            typeof this.options.messageIdProvider === 'undefined'\n                ? new default_message_id_provider_1.default()\n                : this.options.messageIdProvider;\n        this.outgoingStore = options.outgoingStore || new store_1.default();\n        this.incomingStore = options.incomingStore || new store_1.default();\n        this.queueQoSZero =\n            options.queueQoSZero === undefined ? true : options.queueQoSZero;\n        this._resubscribeTopics = {};\n        this.messageIdToTopic = {};\n        this.keepaliveManager = null;\n        this.connected = false;\n        this.disconnecting = false;\n        this.reconnecting = false;\n        this.queue = [];\n        this.connackTimer = null;\n        this.reconnectTimer = null;\n        this._storeProcessing = false;\n        this._packetIdsDuringStoreProcessing = {};\n        this._storeProcessingQueue = [];\n        this.outgoing = {};\n        this._firstConnection = true;\n        if (options.properties && options.properties.topicAliasMaximum > 0) {\n            if (options.properties.topicAliasMaximum > 0xffff) {\n                this.log('MqttClient :: options.properties.topicAliasMaximum is out of range');\n            }\n            else {\n                this.topicAliasRecv = new topic_alias_recv_1.default(options.properties.topicAliasMaximum);\n            }\n        }\n        this.on('connect', () => {\n            const { queue } = this;\n            const deliver = () => {\n                const entry = queue.shift();\n                this.log('deliver :: entry %o', entry);\n                let packet = null;\n                if (!entry) {\n                    this._resubscribe();\n                    return;\n                }\n                packet = entry.packet;\n                this.log('deliver :: call _sendPacket for %o', packet);\n                let send = true;\n                if (packet.messageId && packet.messageId !== 0) {\n                    if (!this.messageIdProvider.register(packet.messageId)) {\n                        send = false;\n                    }\n                }\n                if (send) {\n                    this._sendPacket(packet, (err) => {\n                        if (entry.cb) {\n                            entry.cb(err);\n                        }\n                        deliver();\n                    });\n                }\n                else {\n                    this.log('messageId: %d has already used. The message is skipped and removed.', packet.messageId);\n                    deliver();\n                }\n            };\n            this.log('connect :: sending queued packets');\n            deliver();\n        });\n        this.on('close', () => {\n            this.log('close :: connected set to `false`');\n            this.connected = false;\n            this.log('close :: clearing connackTimer');\n            clearTimeout(this.connackTimer);\n            this._destroyKeepaliveManager();\n            if (this.topicAliasRecv) {\n                this.topicAliasRecv.clear();\n            }\n            this.log('close :: calling _setupReconnect');\n            this._setupReconnect();\n        });\n        if (!this.options.manualConnect) {\n            this.log('MqttClient :: setting up stream');\n            this.connect();\n        }\n    }\n    handleAuth(packet, callback) {\n        callback();\n    }\n    handleMessage(packet, callback) {\n        callback();\n    }\n    _nextId() {\n        return this.messageIdProvider.allocate();\n    }\n    getLastMessageId() {\n        return this.messageIdProvider.getLastAllocated();\n    }\n    connect() {\n        var _a;\n        const writable = new readable_stream_1.Writable();\n        const parser = mqtt_packet_1.default.parser(this.options);\n        let completeParse = null;\n        const packets = [];\n        this.log('connect :: calling method to clear reconnect');\n        this._clearReconnect();\n        if (this.disconnected && !this.reconnecting) {\n            this.incomingStore = this.options.incomingStore || new store_1.default();\n            this.outgoingStore = this.options.outgoingStore || new store_1.default();\n            this.disconnecting = false;\n            this.disconnected = false;\n        }\n        this.log('connect :: using streamBuilder provided to client to create stream');\n        this.stream = this.streamBuilder(this);\n        parser.on('packet', (packet) => {\n            this.log('parser :: on packet push to packets array.');\n            packets.push(packet);\n        });\n        const work = () => {\n            this.log('work :: getting next packet in queue');\n            const packet = packets.shift();\n            if (packet) {\n                this.log('work :: packet pulled from queue');\n                (0, handlers_1.default)(this, packet, nextTickWork);\n            }\n            else {\n                this.log('work :: no packets in queue');\n                const done = completeParse;\n                completeParse = null;\n                this.log('work :: done flag is %s', !!done);\n                if (done)\n                    done();\n            }\n        };\n        const nextTickWork = () => {\n            if (packets.length) {\n                (0, shared_1.nextTick)(work);\n            }\n            else {\n                const done = completeParse;\n                completeParse = null;\n                done();\n            }\n        };\n        writable._write = (buf, enc, done) => {\n            completeParse = done;\n            this.log('writable stream :: parsing buffer');\n            parser.parse(buf);\n            work();\n        };\n        const streamErrorHandler = (error) => {\n            this.log('streamErrorHandler :: error', error.message);\n            if (error.code) {\n                this.log('streamErrorHandler :: emitting error');\n                this.emit('error', error);\n            }\n            else {\n                this.noop(error);\n            }\n        };\n        this.log('connect :: pipe stream to writable stream');\n        this.stream.pipe(writable);\n        this.stream.on('error', streamErrorHandler);\n        this.stream.on('close', () => {\n            this.log('(%s)stream :: on close', this.options.clientId);\n            this._flushVolatile();\n            this.log('stream: emit close to MqttClient');\n            this.emit('close');\n        });\n        this.log('connect: sending packet `connect`');\n        const connectPacket = {\n            cmd: 'connect',\n            protocolId: this.options.protocolId,\n            protocolVersion: this.options.protocolVersion,\n            clean: this.options.clean,\n            clientId: this.options.clientId,\n            keepalive: this.options.keepalive,\n            username: this.options.username,\n            password: this.options.password,\n            properties: this.options.properties,\n        };\n        if (this.options.will) {\n            connectPacket.will = Object.assign(Object.assign({}, this.options.will), { payload: (_a = this.options.will) === null || _a === void 0 ? void 0 : _a.payload });\n        }\n        if (this.topicAliasRecv) {\n            if (!connectPacket.properties) {\n                connectPacket.properties = {};\n            }\n            if (this.topicAliasRecv) {\n                connectPacket.properties.topicAliasMaximum =\n                    this.topicAliasRecv.max;\n            }\n        }\n        this._writePacket(connectPacket);\n        parser.on('error', this.emit.bind(this, 'error'));\n        if (this.options.properties) {\n            if (!this.options.properties.authenticationMethod &&\n                this.options.properties.authenticationData) {\n                this.end(() => this.emit('error', new Error('Packet has no Authentication Method')));\n                return this;\n            }\n            if (this.options.properties.authenticationMethod &&\n                this.options.authPacket &&\n                typeof this.options.authPacket === 'object') {\n                const authPacket = Object.assign({ cmd: 'auth', reasonCode: 0 }, this.options.authPacket);\n                this._writePacket(authPacket);\n            }\n        }\n        this.stream.setMaxListeners(1000);\n        clearTimeout(this.connackTimer);\n        this.connackTimer = setTimeout(() => {\n            this.log('!!connectTimeout hit!! Calling _cleanUp with force `true`');\n            this.emit('error', new Error('connack timeout'));\n            this._cleanUp(true);\n        }, this.options.connectTimeout);\n        return this;\n    }\n    publish(topic, message, opts, callback) {\n        this.log('publish :: message `%s` to topic `%s`', message, topic);\n        const { options } = this;\n        if (typeof opts === 'function') {\n            callback = opts;\n            opts = null;\n        }\n        opts = opts || {};\n        const defaultOpts = {\n            qos: 0,\n            retain: false,\n            dup: false,\n        };\n        opts = Object.assign(Object.assign({}, defaultOpts), opts);\n        const { qos, retain, dup, properties, cbStorePut } = opts;\n        if (this._checkDisconnecting(callback)) {\n            return this;\n        }\n        const publishProc = () => {\n            let messageId = 0;\n            if (qos === 1 || qos === 2) {\n                messageId = this._nextId();\n                if (messageId === null) {\n                    this.log('No messageId left');\n                    return false;\n                }\n            }\n            const packet = {\n                cmd: 'publish',\n                topic,\n                payload: message,\n                qos,\n                retain,\n                messageId,\n                dup,\n            };\n            if (options.protocolVersion === 5) {\n                packet.properties = properties;\n            }\n            this.log('publish :: qos', qos);\n            switch (qos) {\n                case 1:\n                case 2:\n                    this.outgoing[packet.messageId] = {\n                        volatile: false,\n                        cb: callback || this.noop,\n                    };\n                    this.log('MqttClient:publish: packet cmd: %s', packet.cmd);\n                    this._sendPacket(packet, undefined, cbStorePut);\n                    break;\n                default:\n                    this.log('MqttClient:publish: packet cmd: %s', packet.cmd);\n                    this._sendPacket(packet, callback, cbStorePut);\n                    break;\n            }\n            return true;\n        };\n        if (this._storeProcessing ||\n            this._storeProcessingQueue.length > 0 ||\n            !publishProc()) {\n            this._storeProcessingQueue.push({\n                invoke: publishProc,\n                cbStorePut: opts.cbStorePut,\n                callback,\n            });\n        }\n        return this;\n    }\n    publishAsync(topic, message, opts) {\n        return new Promise((resolve, reject) => {\n            this.publish(topic, message, opts, (err, packet) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(packet);\n                }\n            });\n        });\n    }\n    subscribe(topicObject, opts, callback) {\n        const version = this.options.protocolVersion;\n        if (typeof opts === 'function') {\n            callback = opts;\n        }\n        callback = callback || this.noop;\n        let resubscribe = false;\n        let topicsList = [];\n        if (typeof topicObject === 'string') {\n            topicObject = [topicObject];\n            topicsList = topicObject;\n        }\n        else if (Array.isArray(topicObject)) {\n            topicsList = topicObject;\n        }\n        else if (typeof topicObject === 'object') {\n            resubscribe = topicObject.resubscribe;\n            delete topicObject.resubscribe;\n            topicsList = Object.keys(topicObject);\n        }\n        const invalidTopic = validations.validateTopics(topicsList);\n        if (invalidTopic !== null) {\n            setImmediate(callback, new Error(`Invalid topic ${invalidTopic}`));\n            return this;\n        }\n        if (this._checkDisconnecting(callback)) {\n            this.log('subscribe: discconecting true');\n            return this;\n        }\n        const defaultOpts = {\n            qos: 0,\n        };\n        if (version === 5) {\n            defaultOpts.nl = false;\n            defaultOpts.rap = false;\n            defaultOpts.rh = 0;\n        }\n        opts = Object.assign(Object.assign({}, defaultOpts), opts);\n        const properties = opts.properties;\n        const subs = [];\n        const parseSub = (topic, subOptions) => {\n            subOptions = (subOptions || opts);\n            if (!Object.prototype.hasOwnProperty.call(this._resubscribeTopics, topic) ||\n                this._resubscribeTopics[topic].qos < subOptions.qos ||\n                resubscribe) {\n                const currentOpts = {\n                    topic,\n                    qos: subOptions.qos,\n                };\n                if (version === 5) {\n                    currentOpts.nl = subOptions.nl;\n                    currentOpts.rap = subOptions.rap;\n                    currentOpts.rh = subOptions.rh;\n                    currentOpts.properties = properties;\n                }\n                this.log('subscribe: pushing topic `%s` and qos `%s` to subs list', currentOpts.topic, currentOpts.qos);\n                subs.push(currentOpts);\n            }\n        };\n        if (Array.isArray(topicObject)) {\n            topicObject.forEach((topic) => {\n                this.log('subscribe: array topic %s', topic);\n                parseSub(topic);\n            });\n        }\n        else {\n            Object.keys(topicObject).forEach((topic) => {\n                this.log('subscribe: object topic %s, %o', topic, topicObject[topic]);\n                parseSub(topic, topicObject[topic]);\n            });\n        }\n        if (!subs.length) {\n            callback(null, []);\n            return this;\n        }\n        const subscribeProc = () => {\n            const messageId = this._nextId();\n            if (messageId === null) {\n                this.log('No messageId left');\n                return false;\n            }\n            const packet = {\n                cmd: 'subscribe',\n                subscriptions: subs,\n                messageId,\n            };\n            if (properties) {\n                packet.properties = properties;\n            }\n            if (this.options.resubscribe) {\n                this.log('subscribe :: resubscribe true');\n                const topics = [];\n                subs.forEach((sub) => {\n                    if (this.options.reconnectPeriod > 0) {\n                        const topic = { qos: sub.qos };\n                        if (version === 5) {\n                            topic.nl = sub.nl || false;\n                            topic.rap = sub.rap || false;\n                            topic.rh = sub.rh || 0;\n                            topic.properties = sub.properties;\n                        }\n                        this._resubscribeTopics[sub.topic] = topic;\n                        topics.push(sub.topic);\n                    }\n                });\n                this.messageIdToTopic[packet.messageId] = topics;\n            }\n            this.outgoing[packet.messageId] = {\n                volatile: true,\n                cb(err, packet2) {\n                    if (!err) {\n                        const { granted } = packet2;\n                        for (let i = 0; i < granted.length; i += 1) {\n                            subs[i].qos = granted[i];\n                        }\n                    }\n                    callback(err, subs, packet2);\n                },\n            };\n            this.log('subscribe :: call _sendPacket');\n            this._sendPacket(packet);\n            return true;\n        };\n        if (this._storeProcessing ||\n            this._storeProcessingQueue.length > 0 ||\n            !subscribeProc()) {\n            this._storeProcessingQueue.push({\n                invoke: subscribeProc,\n                callback,\n            });\n        }\n        return this;\n    }\n    subscribeAsync(topicObject, opts) {\n        return new Promise((resolve, reject) => {\n            this.subscribe(topicObject, opts, (err, granted) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(granted);\n                }\n            });\n        });\n    }\n    unsubscribe(topic, opts, callback) {\n        if (typeof topic === 'string') {\n            topic = [topic];\n        }\n        if (typeof opts === 'function') {\n            callback = opts;\n        }\n        callback = callback || this.noop;\n        const invalidTopic = validations.validateTopics(topic);\n        if (invalidTopic !== null) {\n            setImmediate(callback, new Error(`Invalid topic ${invalidTopic}`));\n            return this;\n        }\n        if (this._checkDisconnecting(callback)) {\n            return this;\n        }\n        const unsubscribeProc = () => {\n            const messageId = this._nextId();\n            if (messageId === null) {\n                this.log('No messageId left');\n                return false;\n            }\n            const packet = {\n                cmd: 'unsubscribe',\n                messageId,\n                unsubscriptions: [],\n            };\n            if (typeof topic === 'string') {\n                packet.unsubscriptions = [topic];\n            }\n            else if (Array.isArray(topic)) {\n                packet.unsubscriptions = topic;\n            }\n            if (this.options.resubscribe) {\n                packet.unsubscriptions.forEach((topic2) => {\n                    delete this._resubscribeTopics[topic2];\n                });\n            }\n            if (typeof opts === 'object' && opts.properties) {\n                packet.properties = opts.properties;\n            }\n            this.outgoing[packet.messageId] = {\n                volatile: true,\n                cb: callback,\n            };\n            this.log('unsubscribe: call _sendPacket');\n            this._sendPacket(packet);\n            return true;\n        };\n        if (this._storeProcessing ||\n            this._storeProcessingQueue.length > 0 ||\n            !unsubscribeProc()) {\n            this._storeProcessingQueue.push({\n                invoke: unsubscribeProc,\n                callback,\n            });\n        }\n        return this;\n    }\n    unsubscribeAsync(topic, opts) {\n        return new Promise((resolve, reject) => {\n            this.unsubscribe(topic, opts, (err, packet) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(packet);\n                }\n            });\n        });\n    }\n    end(force, opts, cb) {\n        this.log('end :: (%s)', this.options.clientId);\n        if (force == null || typeof force !== 'boolean') {\n            cb = cb || opts;\n            opts = force;\n            force = false;\n        }\n        if (typeof opts !== 'object') {\n            cb = cb || opts;\n            opts = null;\n        }\n        this.log('end :: cb? %s', !!cb);\n        if (!cb || typeof cb !== 'function') {\n            cb = this.noop;\n        }\n        const closeStores = () => {\n            this.log('end :: closeStores: closing incoming and outgoing stores');\n            this.disconnected = true;\n            this.incomingStore.close((e1) => {\n                this.outgoingStore.close((e2) => {\n                    this.log('end :: closeStores: emitting end');\n                    this.emit('end');\n                    if (cb) {\n                        const err = e1 || e2;\n                        this.log('end :: closeStores: invoking callback with args');\n                        cb(err);\n                    }\n                });\n            });\n            if (this._deferredReconnect) {\n                this._deferredReconnect();\n            }\n            else if (this.options.reconnectPeriod === 0 ||\n                this.options.manualConnect) {\n                this.disconnecting = false;\n            }\n        };\n        const finish = () => {\n            this.log('end :: (%s) :: finish :: calling _cleanUp with force %s', this.options.clientId, force);\n            this._cleanUp(force, () => {\n                this.log('end :: finish :: calling process.nextTick on closeStores');\n                (0, shared_1.nextTick)(closeStores);\n            }, opts);\n        };\n        if (this.disconnecting) {\n            cb();\n            return this;\n        }\n        this._clearReconnect();\n        this.disconnecting = true;\n        if (!force && Object.keys(this.outgoing).length > 0) {\n            this.log('end :: (%s) :: calling finish in 10ms once outgoing is empty', this.options.clientId);\n            this.once('outgoingEmpty', setTimeout.bind(null, finish, 10));\n        }\n        else {\n            this.log('end :: (%s) :: immediately calling finish', this.options.clientId);\n            finish();\n        }\n        return this;\n    }\n    endAsync(force, opts) {\n        return new Promise((resolve, reject) => {\n            this.end(force, opts, (err) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve();\n                }\n            });\n        });\n    }\n    removeOutgoingMessage(messageId) {\n        if (this.outgoing[messageId]) {\n            const { cb } = this.outgoing[messageId];\n            this._removeOutgoingAndStoreMessage(messageId, () => {\n                cb(new Error('Message removed'));\n            });\n        }\n        return this;\n    }\n    reconnect(opts) {\n        this.log('client reconnect');\n        const f = () => {\n            if (opts) {\n                this.options.incomingStore = opts.incomingStore;\n                this.options.outgoingStore = opts.outgoingStore;\n            }\n            else {\n                this.options.incomingStore = null;\n                this.options.outgoingStore = null;\n            }\n            this.incomingStore = this.options.incomingStore || new store_1.default();\n            this.outgoingStore = this.options.outgoingStore || new store_1.default();\n            this.disconnecting = false;\n            this.disconnected = false;\n            this._deferredReconnect = null;\n            this._reconnect();\n        };\n        if (this.disconnecting && !this.disconnected) {\n            this._deferredReconnect = f;\n        }\n        else {\n            f();\n        }\n        return this;\n    }\n    _flushVolatile() {\n        if (this.outgoing) {\n            this.log('_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function');\n            Object.keys(this.outgoing).forEach((messageId) => {\n                if (this.outgoing[messageId].volatile &&\n                    typeof this.outgoing[messageId].cb === 'function') {\n                    this.outgoing[messageId].cb(new Error('Connection closed'));\n                    delete this.outgoing[messageId];\n                }\n            });\n        }\n    }\n    _flush() {\n        if (this.outgoing) {\n            this.log('_flush: queue exists? %b', !!this.outgoing);\n            Object.keys(this.outgoing).forEach((messageId) => {\n                if (typeof this.outgoing[messageId].cb === 'function') {\n                    this.outgoing[messageId].cb(new Error('Connection closed'));\n                    delete this.outgoing[messageId];\n                }\n            });\n        }\n    }\n    _removeTopicAliasAndRecoverTopicName(packet) {\n        let alias;\n        if (packet.properties) {\n            alias = packet.properties.topicAlias;\n        }\n        let topic = packet.topic.toString();\n        this.log('_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o', alias, topic);\n        if (topic.length === 0) {\n            if (typeof alias === 'undefined') {\n                return new Error('Unregistered Topic Alias');\n            }\n            topic = this.topicAliasSend.getTopicByAlias(alias);\n            if (typeof topic === 'undefined') {\n                return new Error('Unregistered Topic Alias');\n            }\n            packet.topic = topic;\n        }\n        if (alias) {\n            delete packet.properties.topicAlias;\n        }\n    }\n    _checkDisconnecting(callback) {\n        if (this.disconnecting) {\n            if (callback && callback !== this.noop) {\n                callback(new Error('client disconnecting'));\n            }\n            else {\n                this.emit('error', new Error('client disconnecting'));\n            }\n        }\n        return this.disconnecting;\n    }\n    _reconnect() {\n        this.log('_reconnect: emitting reconnect to client');\n        this.emit('reconnect');\n        if (this.connected) {\n            this.end(() => {\n                this.connect();\n            });\n            this.log('client already connected. disconnecting first.');\n        }\n        else {\n            this.log('_reconnect: calling connect');\n            this.connect();\n        }\n    }\n    _setupReconnect() {\n        if (!this.disconnecting &&\n            !this.reconnectTimer &&\n            this.options.reconnectPeriod > 0) {\n            if (!this.reconnecting) {\n                this.log('_setupReconnect :: emit `offline` state');\n                this.emit('offline');\n                this.log('_setupReconnect :: set `reconnecting` to `true`');\n                this.reconnecting = true;\n            }\n            this.log('_setupReconnect :: setting reconnectTimer for %d ms', this.options.reconnectPeriod);\n            this.reconnectTimer = setInterval(() => {\n                this.log('reconnectTimer :: reconnect triggered!');\n                this._reconnect();\n            }, this.options.reconnectPeriod);\n        }\n        else {\n            this.log('_setupReconnect :: doing nothing...');\n        }\n    }\n    _clearReconnect() {\n        this.log('_clearReconnect : clearing reconnect timer');\n        if (this.reconnectTimer) {\n            clearInterval(this.reconnectTimer);\n            this.reconnectTimer = null;\n        }\n    }\n    _cleanUp(forced, done, opts = {}) {\n        if (done) {\n            this.log('_cleanUp :: done callback provided for on stream close');\n            this.stream.on('close', done);\n        }\n        this.log('_cleanUp :: forced? %s', forced);\n        if (forced) {\n            if (this.options.reconnectPeriod === 0 && this.options.clean) {\n                this._flush();\n            }\n            this.log('_cleanUp :: (%s) :: destroying stream', this.options.clientId);\n            this.stream.destroy();\n        }\n        else {\n            const packet = Object.assign({ cmd: 'disconnect' }, opts);\n            this.log('_cleanUp :: (%s) :: call _sendPacket with disconnect packet', this.options.clientId);\n            this._sendPacket(packet, () => {\n                this.log('_cleanUp :: (%s) :: destroying stream', this.options.clientId);\n                setImmediate(() => {\n                    this.stream.end(() => {\n                        this.log('_cleanUp :: (%s) :: stream destroyed', this.options.clientId);\n                    });\n                });\n            });\n        }\n        if (!this.disconnecting && !this.reconnecting) {\n            this.log('_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect.');\n            this._clearReconnect();\n            this._setupReconnect();\n        }\n        this._destroyKeepaliveManager();\n        if (done && !this.connected) {\n            this.log('_cleanUp :: (%s) :: removing stream `done` callback `close` listener', this.options.clientId);\n            this.stream.removeListener('close', done);\n            done();\n        }\n    }\n    _storeAndSend(packet, cb, cbStorePut) {\n        this.log('storeAndSend :: store packet with cmd %s to outgoingStore', packet.cmd);\n        let storePacket = packet;\n        let err;\n        if (storePacket.cmd === 'publish') {\n            storePacket = (0, default_1.default)(packet);\n            err = this._removeTopicAliasAndRecoverTopicName(storePacket);\n            if (err) {\n                return cb && cb(err);\n            }\n        }\n        this.outgoingStore.put(storePacket, (err2) => {\n            if (err2) {\n                return cb && cb(err2);\n            }\n            cbStorePut();\n            this._writePacket(packet, cb);\n        });\n    }\n    _applyTopicAlias(packet) {\n        if (this.options.protocolVersion === 5) {\n            if (packet.cmd === 'publish') {\n                let alias;\n                if (packet.properties) {\n                    alias = packet.properties.topicAlias;\n                }\n                const topic = packet.topic.toString();\n                if (this.topicAliasSend) {\n                    if (alias) {\n                        if (topic.length !== 0) {\n                            this.log('applyTopicAlias :: register topic: %s - alias: %d', topic, alias);\n                            if (!this.topicAliasSend.put(topic, alias)) {\n                                this.log('applyTopicAlias :: error out of range. topic: %s - alias: %d', topic, alias);\n                                return new Error('Sending Topic Alias out of range');\n                            }\n                        }\n                    }\n                    else if (topic.length !== 0) {\n                        if (this.options.autoAssignTopicAlias) {\n                            alias = this.topicAliasSend.getAliasByTopic(topic);\n                            if (alias) {\n                                packet.topic = '';\n                                packet.properties = Object.assign(Object.assign({}, packet.properties), { topicAlias: alias });\n                                this.log('applyTopicAlias :: auto assign(use) topic: %s - alias: %d', topic, alias);\n                            }\n                            else {\n                                alias = this.topicAliasSend.getLruAlias();\n                                this.topicAliasSend.put(topic, alias);\n                                packet.properties = Object.assign(Object.assign({}, packet.properties), { topicAlias: alias });\n                                this.log('applyTopicAlias :: auto assign topic: %s - alias: %d', topic, alias);\n                            }\n                        }\n                        else if (this.options.autoUseTopicAlias) {\n                            alias = this.topicAliasSend.getAliasByTopic(topic);\n                            if (alias) {\n                                packet.topic = '';\n                                packet.properties = Object.assign(Object.assign({}, packet.properties), { topicAlias: alias });\n                                this.log('applyTopicAlias :: auto use topic: %s - alias: %d', topic, alias);\n                            }\n                        }\n                    }\n                }\n                else if (alias) {\n                    this.log('applyTopicAlias :: error out of range. topic: %s - alias: %d', topic, alias);\n                    return new Error('Sending Topic Alias out of range');\n                }\n            }\n        }\n    }\n    _noop(err) {\n        this.log('noop ::', err);\n    }\n    _writePacket(packet, cb) {\n        this.log('_writePacket :: packet: %O', packet);\n        this.log('_writePacket :: emitting `packetsend`');\n        this.emit('packetsend', packet);\n        this.log('_writePacket :: writing to stream');\n        const result = mqtt_packet_1.default.writeToStream(packet, this.stream, this.options);\n        this.log('_writePacket :: writeToStream result %s', result);\n        if (!result && cb && cb !== this.noop) {\n            this.log('_writePacket :: handle events on `drain` once through callback.');\n            this.stream.once('drain', cb);\n        }\n        else if (cb) {\n            this.log('_writePacket :: invoking cb');\n            cb();\n        }\n    }\n    _sendPacket(packet, cb, cbStorePut, noStore) {\n        this.log('_sendPacket :: (%s) ::  start', this.options.clientId);\n        cbStorePut = cbStorePut || this.noop;\n        cb = cb || this.noop;\n        const err = this._applyTopicAlias(packet);\n        if (err) {\n            cb(err);\n            return;\n        }\n        if (!this.connected) {\n            if (packet.cmd === 'auth') {\n                this._writePacket(packet, cb);\n                return;\n            }\n            this.log('_sendPacket :: client not connected. Storing packet offline.');\n            this._storePacket(packet, cb, cbStorePut);\n            return;\n        }\n        if (noStore) {\n            this._writePacket(packet, cb);\n            return;\n        }\n        switch (packet.cmd) {\n            case 'publish':\n                break;\n            case 'pubrel':\n                this._storeAndSend(packet, cb, cbStorePut);\n                return;\n            default:\n                this._writePacket(packet, cb);\n                return;\n        }\n        switch (packet.qos) {\n            case 2:\n            case 1:\n                this._storeAndSend(packet, cb, cbStorePut);\n                break;\n            case 0:\n            default:\n                this._writePacket(packet, cb);\n                break;\n        }\n        this.log('_sendPacket :: (%s) ::  end', this.options.clientId);\n    }\n    _storePacket(packet, cb, cbStorePut) {\n        this.log('_storePacket :: packet: %o', packet);\n        this.log('_storePacket :: cb? %s', !!cb);\n        cbStorePut = cbStorePut || this.noop;\n        let storePacket = packet;\n        if (storePacket.cmd === 'publish') {\n            storePacket = (0, default_1.default)(packet);\n            const err = this._removeTopicAliasAndRecoverTopicName(storePacket);\n            if (err) {\n                return cb && cb(err);\n            }\n        }\n        const qos = storePacket.qos || 0;\n        if ((qos === 0 && this.queueQoSZero) || storePacket.cmd !== 'publish') {\n            this.queue.push({ packet: storePacket, cb });\n        }\n        else if (qos > 0) {\n            cb = this.outgoing[storePacket.messageId]\n                ? this.outgoing[storePacket.messageId].cb\n                : null;\n            this.outgoingStore.put(storePacket, (err) => {\n                if (err) {\n                    return cb && cb(err);\n                }\n                cbStorePut();\n            });\n        }\n        else if (cb) {\n            cb(new Error('No connection to broker'));\n        }\n    }\n    _setupKeepaliveManager() {\n        this.log('_setupKeepaliveManager :: keepalive %d (seconds)', this.options.keepalive);\n        if (!this.keepaliveManager && this.options.keepalive) {\n            this.keepaliveManager = new KeepaliveManager_1.default(this, this.options.timerVariant);\n        }\n    }\n    _destroyKeepaliveManager() {\n        if (this.keepaliveManager) {\n            this.log('_destroyKeepaliveManager :: destroying keepalive manager');\n            this.keepaliveManager.destroy();\n            this.keepaliveManager = null;\n        }\n    }\n    reschedulePing(force = false) {\n        if (this.keepaliveManager &&\n            this.options.keepalive &&\n            (force || this.options.reschedulePings)) {\n            this._reschedulePing();\n        }\n    }\n    _reschedulePing() {\n        this.log('_reschedulePing :: rescheduling ping');\n        this.keepaliveManager.reschedule();\n    }\n    sendPing() {\n        this.log('_sendPing :: sending pingreq');\n        this._sendPacket({ cmd: 'pingreq' });\n    }\n    onKeepaliveTimeout() {\n        this.emit('error', new Error('Keepalive timeout'));\n        this.log('onKeepaliveTimeout :: calling _cleanUp with force true');\n        this._cleanUp(true);\n    }\n    _resubscribe() {\n        this.log('_resubscribe');\n        const _resubscribeTopicsKeys = Object.keys(this._resubscribeTopics);\n        if (!this._firstConnection &&\n            (this.options.clean ||\n                (this.options.protocolVersion >= 4 &&\n                    !this.connackPacket.sessionPresent)) &&\n            _resubscribeTopicsKeys.length > 0) {\n            if (this.options.resubscribe) {\n                if (this.options.protocolVersion === 5) {\n                    this.log('_resubscribe: protocolVersion 5');\n                    for (let topicI = 0; topicI < _resubscribeTopicsKeys.length; topicI++) {\n                        const resubscribeTopic = {};\n                        resubscribeTopic[_resubscribeTopicsKeys[topicI]] =\n                            this._resubscribeTopics[_resubscribeTopicsKeys[topicI]];\n                        resubscribeTopic.resubscribe = true;\n                        this.subscribe(resubscribeTopic, {\n                            properties: resubscribeTopic[_resubscribeTopicsKeys[topicI]]\n                                .properties,\n                        });\n                    }\n                }\n                else {\n                    this._resubscribeTopics.resubscribe = true;\n                    this.subscribe(this._resubscribeTopics);\n                }\n            }\n            else {\n                this._resubscribeTopics = {};\n            }\n        }\n        this._firstConnection = false;\n    }\n    _onConnect(packet) {\n        if (this.disconnected) {\n            this.emit('connect', packet);\n            return;\n        }\n        this.connackPacket = packet;\n        this.messageIdProvider.clear();\n        this._setupKeepaliveManager();\n        this.connected = true;\n        const startStreamProcess = () => {\n            let outStore = this.outgoingStore.createStream();\n            const remove = () => {\n                outStore.destroy();\n                outStore = null;\n                this._flushStoreProcessingQueue();\n                clearStoreProcessing();\n            };\n            const clearStoreProcessing = () => {\n                this._storeProcessing = false;\n                this._packetIdsDuringStoreProcessing = {};\n            };\n            this.once('close', remove);\n            outStore.on('error', (err) => {\n                clearStoreProcessing();\n                this._flushStoreProcessingQueue();\n                this.removeListener('close', remove);\n                this.emit('error', err);\n            });\n            const storeDeliver = () => {\n                if (!outStore) {\n                    return;\n                }\n                const packet2 = outStore.read(1);\n                let cb;\n                if (!packet2) {\n                    outStore.once('readable', storeDeliver);\n                    return;\n                }\n                this._storeProcessing = true;\n                if (this._packetIdsDuringStoreProcessing[packet2.messageId]) {\n                    storeDeliver();\n                    return;\n                }\n                if (!this.disconnecting && !this.reconnectTimer) {\n                    cb = this.outgoing[packet2.messageId]\n                        ? this.outgoing[packet2.messageId].cb\n                        : null;\n                    this.outgoing[packet2.messageId] = {\n                        volatile: false,\n                        cb(err, status) {\n                            if (cb) {\n                                cb(err, status);\n                            }\n                            storeDeliver();\n                        },\n                    };\n                    this._packetIdsDuringStoreProcessing[packet2.messageId] =\n                        true;\n                    if (this.messageIdProvider.register(packet2.messageId)) {\n                        this._sendPacket(packet2, undefined, undefined, true);\n                    }\n                    else {\n                        this.log('messageId: %d has already used.', packet2.messageId);\n                    }\n                }\n                else if (outStore.destroy) {\n                    outStore.destroy();\n                }\n            };\n            outStore.on('end', () => {\n                let allProcessed = true;\n                for (const id in this._packetIdsDuringStoreProcessing) {\n                    if (!this._packetIdsDuringStoreProcessing[id]) {\n                        allProcessed = false;\n                        break;\n                    }\n                }\n                this.removeListener('close', remove);\n                if (allProcessed) {\n                    clearStoreProcessing();\n                    this._invokeAllStoreProcessingQueue();\n                    this.emit('connect', packet);\n                }\n                else {\n                    startStreamProcess();\n                }\n            });\n            storeDeliver();\n        };\n        startStreamProcess();\n    }\n    _invokeStoreProcessingQueue() {\n        if (!this._storeProcessing && this._storeProcessingQueue.length > 0) {\n            const f = this._storeProcessingQueue[0];\n            if (f && f.invoke()) {\n                this._storeProcessingQueue.shift();\n                return true;\n            }\n        }\n        return false;\n    }\n    _invokeAllStoreProcessingQueue() {\n        while (this._invokeStoreProcessingQueue()) {\n        }\n    }\n    _flushStoreProcessingQueue() {\n        for (const f of this._storeProcessingQueue) {\n            if (f.cbStorePut)\n                f.cbStorePut(new Error('Connection closed'));\n            if (f.callback)\n                f.callback(new Error('Connection closed'));\n        }\n        this._storeProcessingQueue.splice(0);\n    }\n    _removeOutgoingAndStoreMessage(messageId, cb) {\n        delete this.outgoing[messageId];\n        this.outgoingStore.del({ messageId }, (err, packet) => {\n            cb(err, packet);\n            this.messageIdProvider.deallocate(messageId);\n            this._invokeStoreProcessingQueue();\n        });\n    }\n}\nMqttClient.VERSION = shared_1.MQTTJS_VERSION;\nexports.default = MqttClient;\n//# sourceMappingURL=client.js.map","'use strict'\n\nconst { ArrayIsArray, ObjectSetPrototypeOf } = require('../../ours/primordials')\nconst { EventEmitter: EE } = require('events')\nfunction Stream(opts) {\n  EE.call(this, opts)\n}\nObjectSetPrototypeOf(Stream.prototype, EE.prototype)\nObjectSetPrototypeOf(Stream, EE)\nStream.prototype.pipe = function (dest, options) {\n  const source = this\n  function ondata(chunk) {\n    if (dest.writable && dest.write(chunk) === false && source.pause) {\n      source.pause()\n    }\n  }\n  source.on('data', ondata)\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume()\n    }\n  }\n  dest.on('drain', ondrain)\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend)\n    source.on('close', onclose)\n  }\n  let didOnEnd = false\n  function onend() {\n    if (didOnEnd) return\n    didOnEnd = true\n    dest.end()\n  }\n  function onclose() {\n    if (didOnEnd) return\n    didOnEnd = true\n    if (typeof dest.destroy === 'function') dest.destroy()\n  }\n\n  // Don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup()\n    if (EE.listenerCount(this, 'error') === 0) {\n      this.emit('error', er)\n    }\n  }\n  prependListener(source, 'error', onerror)\n  prependListener(dest, 'error', onerror)\n\n  // Remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata)\n    dest.removeListener('drain', ondrain)\n    source.removeListener('end', onend)\n    source.removeListener('close', onclose)\n    source.removeListener('error', onerror)\n    dest.removeListener('error', onerror)\n    source.removeListener('end', cleanup)\n    source.removeListener('close', cleanup)\n    dest.removeListener('close', cleanup)\n  }\n  source.on('end', cleanup)\n  source.on('close', cleanup)\n  dest.on('close', cleanup)\n  dest.emit('pipe', source)\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest\n}\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn)\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn)\n  else if (ArrayIsArray(emitter._events[event])) emitter._events[event].unshift(fn)\n  else emitter._events[event] = [fn, emitter._events[event]]\n}\nmodule.exports = {\n  Stream,\n  prependListener\n}\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 1832;\nmodule.exports = webpackEmptyContext;","'use strict'\n\nconst { Buffer } = require('buffer')\nconst symbol = Symbol.for('BufferList')\n\nfunction BufferList (buf) {\n  if (!(this instanceof BufferList)) {\n    return new BufferList(buf)\n  }\n\n  BufferList._init.call(this, buf)\n}\n\nBufferList._init = function _init (buf) {\n  Object.defineProperty(this, symbol, { value: true })\n\n  this._bufs = []\n  this.length = 0\n\n  if (buf) {\n    this.append(buf)\n  }\n}\n\nBufferList.prototype._new = function _new (buf) {\n  return new BufferList(buf)\n}\n\nBufferList.prototype._offset = function _offset (offset) {\n  if (offset === 0) {\n    return [0, 0]\n  }\n\n  let tot = 0\n\n  for (let i = 0; i < this._bufs.length; i++) {\n    const _t = tot + this._bufs[i].length\n    if (offset < _t || i === this._bufs.length - 1) {\n      return [i, offset - tot]\n    }\n    tot = _t\n  }\n}\n\nBufferList.prototype._reverseOffset = function (blOffset) {\n  const bufferId = blOffset[0]\n  let offset = blOffset[1]\n\n  for (let i = 0; i < bufferId; i++) {\n    offset += this._bufs[i].length\n  }\n\n  return offset\n}\n\nBufferList.prototype.get = function get (index) {\n  if (index > this.length || index < 0) {\n    return undefined\n  }\n\n  const offset = this._offset(index)\n\n  return this._bufs[offset[0]][offset[1]]\n}\n\nBufferList.prototype.slice = function slice (start, end) {\n  if (typeof start === 'number' && start < 0) {\n    start += this.length\n  }\n\n  if (typeof end === 'number' && end < 0) {\n    end += this.length\n  }\n\n  return this.copy(null, 0, start, end)\n}\n\nBufferList.prototype.copy = function copy (dst, dstStart, srcStart, srcEnd) {\n  if (typeof srcStart !== 'number' || srcStart < 0) {\n    srcStart = 0\n  }\n\n  if (typeof srcEnd !== 'number' || srcEnd > this.length) {\n    srcEnd = this.length\n  }\n\n  if (srcStart >= this.length) {\n    return dst || Buffer.alloc(0)\n  }\n\n  if (srcEnd <= 0) {\n    return dst || Buffer.alloc(0)\n  }\n\n  const copy = !!dst\n  const off = this._offset(srcStart)\n  const len = srcEnd - srcStart\n  let bytes = len\n  let bufoff = (copy && dstStart) || 0\n  let start = off[1]\n\n  // copy/slice everything\n  if (srcStart === 0 && srcEnd === this.length) {\n    if (!copy) {\n      // slice, but full concat if multiple buffers\n      return this._bufs.length === 1\n        ? this._bufs[0]\n        : Buffer.concat(this._bufs, this.length)\n    }\n\n    // copy, need to copy individual buffers\n    for (let i = 0; i < this._bufs.length; i++) {\n      this._bufs[i].copy(dst, bufoff)\n      bufoff += this._bufs[i].length\n    }\n\n    return dst\n  }\n\n  // easy, cheap case where it's a subset of one of the buffers\n  if (bytes <= this._bufs[off[0]].length - start) {\n    return copy\n      ? this._bufs[off[0]].copy(dst, dstStart, start, start + bytes)\n      : this._bufs[off[0]].slice(start, start + bytes)\n  }\n\n  if (!copy) {\n    // a slice, we need something to copy in to\n    dst = Buffer.allocUnsafe(len)\n  }\n\n  for (let i = off[0]; i < this._bufs.length; i++) {\n    const l = this._bufs[i].length - start\n\n    if (bytes > l) {\n      this._bufs[i].copy(dst, bufoff, start)\n      bufoff += l\n    } else {\n      this._bufs[i].copy(dst, bufoff, start, start + bytes)\n      bufoff += l\n      break\n    }\n\n    bytes -= l\n\n    if (start) {\n      start = 0\n    }\n  }\n\n  // safeguard so that we don't return uninitialized memory\n  if (dst.length > bufoff) return dst.slice(0, bufoff)\n\n  return dst\n}\n\nBufferList.prototype.shallowSlice = function shallowSlice (start, end) {\n  start = start || 0\n  end = typeof end !== 'number' ? this.length : end\n\n  if (start < 0) {\n    start += this.length\n  }\n\n  if (end < 0) {\n    end += this.length\n  }\n\n  if (start === end) {\n    return this._new()\n  }\n\n  const startOffset = this._offset(start)\n  const endOffset = this._offset(end)\n  const buffers = this._bufs.slice(startOffset[0], endOffset[0] + 1)\n\n  if (endOffset[1] === 0) {\n    buffers.pop()\n  } else {\n    buffers[buffers.length - 1] = buffers[buffers.length - 1].slice(0, endOffset[1])\n  }\n\n  if (startOffset[1] !== 0) {\n    buffers[0] = buffers[0].slice(startOffset[1])\n  }\n\n  return this._new(buffers)\n}\n\nBufferList.prototype.toString = function toString (encoding, start, end) {\n  return this.slice(start, end).toString(encoding)\n}\n\nBufferList.prototype.consume = function consume (bytes) {\n  // first, normalize the argument, in accordance with how Buffer does it\n  bytes = Math.trunc(bytes)\n  // do nothing if not a positive number\n  if (Number.isNaN(bytes) || bytes <= 0) return this\n\n  while (this._bufs.length) {\n    if (bytes >= this._bufs[0].length) {\n      bytes -= this._bufs[0].length\n      this.length -= this._bufs[0].length\n      this._bufs.shift()\n    } else {\n      this._bufs[0] = this._bufs[0].slice(bytes)\n      this.length -= bytes\n      break\n    }\n  }\n\n  return this\n}\n\nBufferList.prototype.duplicate = function duplicate () {\n  const copy = this._new()\n\n  for (let i = 0; i < this._bufs.length; i++) {\n    copy.append(this._bufs[i])\n  }\n\n  return copy\n}\n\nBufferList.prototype.append = function append (buf) {\n  if (buf == null) {\n    return this\n  }\n\n  if (buf.buffer) {\n    // append a view of the underlying ArrayBuffer\n    this._appendBuffer(Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength))\n  } else if (Array.isArray(buf)) {\n    for (let i = 0; i < buf.length; i++) {\n      this.append(buf[i])\n    }\n  } else if (this._isBufferList(buf)) {\n    // unwrap argument into individual BufferLists\n    for (let i = 0; i < buf._bufs.length; i++) {\n      this.append(buf._bufs[i])\n    }\n  } else {\n    // coerce number arguments to strings, since Buffer(number) does\n    // uninitialized memory allocation\n    if (typeof buf === 'number') {\n      buf = buf.toString()\n    }\n\n    this._appendBuffer(Buffer.from(buf))\n  }\n\n  return this\n}\n\nBufferList.prototype._appendBuffer = function appendBuffer (buf) {\n  this._bufs.push(buf)\n  this.length += buf.length\n}\n\nBufferList.prototype.indexOf = function (search, offset, encoding) {\n  if (encoding === undefined && typeof offset === 'string') {\n    encoding = offset\n    offset = undefined\n  }\n\n  if (typeof search === 'function' || Array.isArray(search)) {\n    throw new TypeError('The \"value\" argument must be one of type string, Buffer, BufferList, or Uint8Array.')\n  } else if (typeof search === 'number') {\n    search = Buffer.from([search])\n  } else if (typeof search === 'string') {\n    search = Buffer.from(search, encoding)\n  } else if (this._isBufferList(search)) {\n    search = search.slice()\n  } else if (Array.isArray(search.buffer)) {\n    search = Buffer.from(search.buffer, search.byteOffset, search.byteLength)\n  } else if (!Buffer.isBuffer(search)) {\n    search = Buffer.from(search)\n  }\n\n  offset = Number(offset || 0)\n\n  if (isNaN(offset)) {\n    offset = 0\n  }\n\n  if (offset < 0) {\n    offset = this.length + offset\n  }\n\n  if (offset < 0) {\n    offset = 0\n  }\n\n  if (search.length === 0) {\n    return offset > this.length ? this.length : offset\n  }\n\n  const blOffset = this._offset(offset)\n  let blIndex = blOffset[0] // index of which internal buffer we're working on\n  let buffOffset = blOffset[1] // offset of the internal buffer we're working on\n\n  // scan over each buffer\n  for (; blIndex < this._bufs.length; blIndex++) {\n    const buff = this._bufs[blIndex]\n\n    while (buffOffset < buff.length) {\n      const availableWindow = buff.length - buffOffset\n\n      if (availableWindow >= search.length) {\n        const nativeSearchResult = buff.indexOf(search, buffOffset)\n\n        if (nativeSearchResult !== -1) {\n          return this._reverseOffset([blIndex, nativeSearchResult])\n        }\n\n        buffOffset = buff.length - search.length + 1 // end of native search window\n      } else {\n        const revOffset = this._reverseOffset([blIndex, buffOffset])\n\n        if (this._match(revOffset, search)) {\n          return revOffset\n        }\n\n        buffOffset++\n      }\n    }\n\n    buffOffset = 0\n  }\n\n  return -1\n}\n\nBufferList.prototype._match = function (offset, search) {\n  if (this.length - offset < search.length) {\n    return false\n  }\n\n  for (let searchOffset = 0; searchOffset < search.length; searchOffset++) {\n    if (this.get(offset + searchOffset) !== search[searchOffset]) {\n      return false\n    }\n  }\n  return true\n}\n\n;(function () {\n  const methods = {\n    readDoubleBE: 8,\n    readDoubleLE: 8,\n    readFloatBE: 4,\n    readFloatLE: 4,\n    readBigInt64BE: 8,\n    readBigInt64LE: 8,\n    readBigUInt64BE: 8,\n    readBigUInt64LE: 8,\n    readInt32BE: 4,\n    readInt32LE: 4,\n    readUInt32BE: 4,\n    readUInt32LE: 4,\n    readInt16BE: 2,\n    readInt16LE: 2,\n    readUInt16BE: 2,\n    readUInt16LE: 2,\n    readInt8: 1,\n    readUInt8: 1,\n    readIntBE: null,\n    readIntLE: null,\n    readUIntBE: null,\n    readUIntLE: null\n  }\n\n  for (const m in methods) {\n    (function (m) {\n      if (methods[m] === null) {\n        BufferList.prototype[m] = function (offset, byteLength) {\n          return this.slice(offset, offset + byteLength)[m](0, byteLength)\n        }\n      } else {\n        BufferList.prototype[m] = function (offset = 0) {\n          return this.slice(offset, offset + methods[m])[m](0)\n        }\n      }\n    }(m))\n  }\n}())\n\n// Used internally by the class and also as an indicator of this object being\n// a `BufferList`. It's not possible to use `instanceof BufferList` in a browser\n// environment because there could be multiple different copies of the\n// BufferList class and some `BufferList`s might be `BufferList`s.\nBufferList.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferList || BufferList.isBufferList(b)\n}\n\nBufferList.isBufferList = function isBufferList (b) {\n  return b != null && b[symbol]\n}\n\nmodule.exports = BufferList\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst number_allocator_1 = require(\"number-allocator\");\nclass UniqueMessageIdProvider {\n    constructor() {\n        this.numberAllocator = new number_allocator_1.NumberAllocator(1, 65535);\n    }\n    allocate() {\n        this.lastId = this.numberAllocator.alloc();\n        return this.lastId;\n    }\n    getLastAllocated() {\n        return this.lastId;\n    }\n    register(messageId) {\n        return this.numberAllocator.use(messageId);\n    }\n    deallocate(messageId) {\n        this.numberAllocator.free(messageId);\n    }\n    clear() {\n        this.numberAllocator.clear();\n    }\n}\nexports.default = UniqueMessageIdProvider;\n//# sourceMappingURL=unique-message-id-provider.js.map","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","module.exports = require(\"tty\");","'use strict'\n\nconst { ArrayPrototypePop, Promise } = require('../ours/primordials')\nconst { isIterable, isNodeStream, isWebStream } = require('../internal/streams/utils')\nconst { pipelineImpl: pl } = require('../internal/streams/pipeline')\nconst { finished } = require('../internal/streams/end-of-stream')\nrequire('../../lib/stream.js')\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal\n    let end\n    const lastArg = streams[streams.length - 1]\n    if (\n      lastArg &&\n      typeof lastArg === 'object' &&\n      !isNodeStream(lastArg) &&\n      !isIterable(lastArg) &&\n      !isWebStream(lastArg)\n    ) {\n      const options = ArrayPrototypePop(streams)\n      signal = options.signal\n      end = options.end\n    }\n    pl(\n      streams,\n      (err, value) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(value)\n        }\n      },\n      {\n        signal,\n        end\n      }\n    )\n  })\n}\nmodule.exports = {\n  finished,\n  pipeline\n}\n","module.exports = require(\"stream\");","/* eslint jsdoc/require-jsdoc: \"error\" */\n\n'use strict'\n\nconst {\n  ArrayIsArray,\n  ArrayPrototypeIncludes,\n  ArrayPrototypeJoin,\n  ArrayPrototypeMap,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberMAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER,\n  NumberParseInt,\n  ObjectPrototypeHasOwnProperty,\n  RegExpPrototypeExec,\n  String,\n  StringPrototypeToUpperCase,\n  StringPrototypeTrim\n} = require('../ours/primordials')\nconst {\n  hideStackFrames,\n  codes: { ERR_SOCKET_BAD_PORT, ERR_INVALID_ARG_TYPE, ERR_INVALID_ARG_VALUE, ERR_OUT_OF_RANGE, ERR_UNKNOWN_SIGNAL }\n} = require('../ours/errors')\nconst { normalizeEncoding } = require('../ours/util')\nconst { isAsyncFunction, isArrayBufferView } = require('../ours/util').types\nconst signals = {}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isInt32(value) {\n  return value === (value | 0)\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isUint32(value) {\n  return value === value >>> 0\n}\nconst octalReg = /^[0-7]+$/\nconst modeDesc = 'must be a 32-bit unsigned integer or an octal string'\n\n/**\n * Parse and validate values that will be converted into mode_t (the S_*\n * constants). Only valid numbers and octal strings are allowed. They could be\n * converted to 32-bit unsigned integers or non-negative signed integers in the\n * C++ land, but any value higher than 0o777 will result in platform-specific\n * behaviors.\n * @param {*} value Values to be validated\n * @param {string} name Name of the argument\n * @param {number} [def] If specified, will be returned for invalid values\n * @returns {number}\n */\nfunction parseFileMode(value, name, def) {\n  if (typeof value === 'undefined') {\n    value = def\n  }\n  if (typeof value === 'string') {\n    if (RegExpPrototypeExec(octalReg, value) === null) {\n      throw new ERR_INVALID_ARG_VALUE(name, value, modeDesc)\n    }\n    value = NumberParseInt(value, 8)\n  }\n  validateUint32(value, name)\n  return value\n}\n\n/**\n * @callback validateInteger\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInteger} */\nconst validateInteger = hideStackFrames((value, name, min = NumberMIN_SAFE_INTEGER, max = NumberMAX_SAFE_INTEGER) => {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (!NumberIsInteger(value)) throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  if (value < min || value > max) throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n})\n\n/**\n * @callback validateInt32\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInt32} */\nconst validateInt32 = hideStackFrames((value, name, min = -2147483648, max = 2147483647) => {\n  // The defaults for min and max correspond to the limits of 32-bit integers.\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateUint32\n * @param {*} value\n * @param {string} name\n * @param {number|boolean} [positive=false]\n * @returns {asserts value is number}\n */\n\n/** @type {validateUint32} */\nconst validateUint32 = hideStackFrames((value, name, positive = false) => {\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  const min = positive ? 1 : 0\n  // 2 ** 32 === 4294967296\n  const max = 4294967295\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateString\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string}\n */\n\n/** @type {validateString} */\nfunction validateString(value, name) {\n  if (typeof value !== 'string') throw new ERR_INVALID_ARG_TYPE(name, 'string', value)\n}\n\n/**\n * @callback validateNumber\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateNumber} */\nfunction validateNumber(value, name, min = undefined, max) {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (\n    (min != null && value < min) ||\n    (max != null && value > max) ||\n    ((min != null || max != null) && NumberIsNaN(value))\n  ) {\n    throw new ERR_OUT_OF_RANGE(\n      name,\n      `${min != null ? `>= ${min}` : ''}${min != null && max != null ? ' && ' : ''}${max != null ? `<= ${max}` : ''}`,\n      value\n    )\n  }\n}\n\n/**\n * @callback validateOneOf\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} oneOf\n */\n\n/** @type {validateOneOf} */\nconst validateOneOf = hideStackFrames((value, name, oneOf) => {\n  if (!ArrayPrototypeIncludes(oneOf, value)) {\n    const allowed = ArrayPrototypeJoin(\n      ArrayPrototypeMap(oneOf, (v) => (typeof v === 'string' ? `'${v}'` : String(v))),\n      ', '\n    )\n    const reason = 'must be one of: ' + allowed\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateBoolean\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean}\n */\n\n/** @type {validateBoolean} */\nfunction validateBoolean(value, name) {\n  if (typeof value !== 'boolean') throw new ERR_INVALID_ARG_TYPE(name, 'boolean', value)\n}\n\n/**\n * @param {any} options\n * @param {string} key\n * @param {boolean} defaultValue\n * @returns {boolean}\n */\nfunction getOwnPropertyValueOrDefault(options, key, defaultValue) {\n  return options == null || !ObjectPrototypeHasOwnProperty(options, key) ? defaultValue : options[key]\n}\n\n/**\n * @callback validateObject\n * @param {*} value\n * @param {string} name\n * @param {{\n *   allowArray?: boolean,\n *   allowFunction?: boolean,\n *   nullable?: boolean\n * }} [options]\n */\n\n/** @type {validateObject} */\nconst validateObject = hideStackFrames((value, name, options = null) => {\n  const allowArray = getOwnPropertyValueOrDefault(options, 'allowArray', false)\n  const allowFunction = getOwnPropertyValueOrDefault(options, 'allowFunction', false)\n  const nullable = getOwnPropertyValueOrDefault(options, 'nullable', false)\n  if (\n    (!nullable && value === null) ||\n    (!allowArray && ArrayIsArray(value)) ||\n    (typeof value !== 'object' && (!allowFunction || typeof value !== 'function'))\n  ) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Object', value)\n  }\n})\n\n/**\n * @callback validateDictionary - We are using the Web IDL Standard definition\n *                                of \"dictionary\" here, which means any value\n *                                whose Type is either Undefined, Null, or\n *                                Object (which includes functions).\n * @param {*} value\n * @param {string} name\n * @see https://webidl.spec.whatwg.org/#es-dictionary\n * @see https://tc39.es/ecma262/#table-typeof-operator-results\n */\n\n/** @type {validateDictionary} */\nconst validateDictionary = hideStackFrames((value, name) => {\n  if (value != null && typeof value !== 'object' && typeof value !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'a dictionary', value)\n  }\n})\n\n/**\n * @callback validateArray\n * @param {*} value\n * @param {string} name\n * @param {number} [minLength]\n * @returns {asserts value is any[]}\n */\n\n/** @type {validateArray} */\nconst validateArray = hideStackFrames((value, name, minLength = 0) => {\n  if (!ArrayIsArray(value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Array', value)\n  }\n  if (value.length < minLength) {\n    const reason = `must be longer than ${minLength}`\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateStringArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string[]}\n */\n\n/** @type {validateStringArray} */\nfunction validateStringArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateString(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateBooleanArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean[]}\n */\n\n/** @type {validateBooleanArray} */\nfunction validateBooleanArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateBoolean(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateAbortSignalArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is AbortSignal[]}\n */\n\n/** @type {validateAbortSignalArray} */\nfunction validateAbortSignalArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    const signal = value[i]\n    const indexedName = `${name}[${i}]`\n    if (signal == null) {\n      throw new ERR_INVALID_ARG_TYPE(indexedName, 'AbortSignal', signal)\n    }\n    validateAbortSignal(signal, indexedName)\n  }\n}\n\n/**\n * @param {*} signal\n * @param {string} [name='signal']\n * @returns {asserts signal is keyof signals}\n */\nfunction validateSignalName(signal, name = 'signal') {\n  validateString(signal, name)\n  if (signals[signal] === undefined) {\n    if (signals[StringPrototypeToUpperCase(signal)] !== undefined) {\n      throw new ERR_UNKNOWN_SIGNAL(signal + ' (signals must use all capital letters)')\n    }\n    throw new ERR_UNKNOWN_SIGNAL(signal)\n  }\n}\n\n/**\n * @callback validateBuffer\n * @param {*} buffer\n * @param {string} [name='buffer']\n * @returns {asserts buffer is ArrayBufferView}\n */\n\n/** @type {validateBuffer} */\nconst validateBuffer = hideStackFrames((buffer, name = 'buffer') => {\n  if (!isArrayBufferView(buffer)) {\n    throw new ERR_INVALID_ARG_TYPE(name, ['Buffer', 'TypedArray', 'DataView'], buffer)\n  }\n})\n\n/**\n * @param {string} data\n * @param {string} encoding\n */\nfunction validateEncoding(data, encoding) {\n  const normalizedEncoding = normalizeEncoding(encoding)\n  const length = data.length\n  if (normalizedEncoding === 'hex' && length % 2 !== 0) {\n    throw new ERR_INVALID_ARG_VALUE('encoding', encoding, `is invalid for data of length ${length}`)\n  }\n}\n\n/**\n * Check that the port number is not NaN when coerced to a number,\n * is an integer and that it falls within the legal range of port numbers.\n * @param {*} port\n * @param {string} [name='Port']\n * @param {boolean} [allowZero=true]\n * @returns {number}\n */\nfunction validatePort(port, name = 'Port', allowZero = true) {\n  if (\n    (typeof port !== 'number' && typeof port !== 'string') ||\n    (typeof port === 'string' && StringPrototypeTrim(port).length === 0) ||\n    +port !== +port >>> 0 ||\n    port > 0xffff ||\n    (port === 0 && !allowZero)\n  ) {\n    throw new ERR_SOCKET_BAD_PORT(name, port, allowZero)\n  }\n  return port | 0\n}\n\n/**\n * @callback validateAbortSignal\n * @param {*} signal\n * @param {string} name\n */\n\n/** @type {validateAbortSignal} */\nconst validateAbortSignal = hideStackFrames((signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n})\n\n/**\n * @callback validateFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validateFunction} */\nconst validateFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validatePlainFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validatePlainFunction} */\nconst validatePlainFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function' || isAsyncFunction(value)) throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validateUndefined\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is undefined}\n */\n\n/** @type {validateUndefined} */\nconst validateUndefined = hideStackFrames((value, name) => {\n  if (value !== undefined) throw new ERR_INVALID_ARG_TYPE(name, 'undefined', value)\n})\n\n/**\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} union\n */\nfunction validateUnion(value, name, union) {\n  if (!ArrayPrototypeIncludes(union, value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, `('${ArrayPrototypeJoin(union, '|')}')`, value)\n  }\n}\n\n/*\n  The rules for the Link header field are described here:\n  https://www.rfc-editor.org/rfc/rfc8288.html#section-3\n\n  This regex validates any string surrounded by angle brackets\n  (not necessarily a valid URI reference) followed by zero or more\n  link-params separated by semicolons.\n*/\nconst linkValueRegExp = /^(?:<[^>]*>)(?:\\s*;\\s*[^;\"\\s]+(?:=(\")?[^;\"\\s]*\\1)?)*$/\n\n/**\n * @param {any} value\n * @param {string} name\n */\nfunction validateLinkHeaderFormat(value, name) {\n  if (typeof value === 'undefined' || !RegExpPrototypeExec(linkValueRegExp, value)) {\n    throw new ERR_INVALID_ARG_VALUE(\n      name,\n      value,\n      'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n    )\n  }\n}\n\n/**\n * @param {any} hints\n * @return {string}\n */\nfunction validateLinkHeaderValue(hints) {\n  if (typeof hints === 'string') {\n    validateLinkHeaderFormat(hints, 'hints')\n    return hints\n  } else if (ArrayIsArray(hints)) {\n    const hintsLength = hints.length\n    let result = ''\n    if (hintsLength === 0) {\n      return result\n    }\n    for (let i = 0; i < hintsLength; i++) {\n      const link = hints[i]\n      validateLinkHeaderFormat(link, 'hints')\n      result += link\n      if (i !== hintsLength - 1) {\n        result += ', '\n      }\n    }\n    return result\n  }\n  throw new ERR_INVALID_ARG_VALUE(\n    'hints',\n    hints,\n    'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n  )\n}\nmodule.exports = {\n  isInt32,\n  isUint32,\n  parseFileMode,\n  validateArray,\n  validateStringArray,\n  validateBooleanArray,\n  validateAbortSignalArray,\n  validateBoolean,\n  validateBuffer,\n  validateDictionary,\n  validateEncoding,\n  validateFunction,\n  validateInt32,\n  validateInteger,\n  validateNumber,\n  validateObject,\n  validateOneOf,\n  validatePlainFunction,\n  validatePort,\n  validateSignalName,\n  validateString,\n  validateUint32,\n  validateUndefined,\n  validateUnion,\n  validateAbortSignal,\n  validateLinkHeaderValue\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get_timer_1 = __importDefault(require(\"./get-timer\"));\nclass KeepaliveManager {\n    get keepaliveTimeoutTimestamp() {\n        return this._keepaliveTimeoutTimestamp;\n    }\n    get intervalEvery() {\n        return this._intervalEvery;\n    }\n    get keepalive() {\n        return this._keepalive;\n    }\n    constructor(client, variant) {\n        this.destroyed = false;\n        this.client = client;\n        this.timer =\n            typeof variant === 'object' &&\n                'set' in variant &&\n                'clear' in variant\n                ? variant\n                : (0, get_timer_1.default)(variant);\n        this.setKeepalive(client.options.keepalive);\n    }\n    clear() {\n        if (this.timerId) {\n            this.timer.clear(this.timerId);\n            this.timerId = null;\n        }\n    }\n    setKeepalive(value) {\n        value *= 1000;\n        if (isNaN(value) ||\n            value <= 0 ||\n            value > 2147483647) {\n            throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${value}`);\n        }\n        this._keepalive = value;\n        this.reschedule();\n        this.client['log'](`KeepaliveManager: set keepalive to ${value}ms`);\n    }\n    destroy() {\n        this.clear();\n        this.destroyed = true;\n    }\n    reschedule() {\n        if (this.destroyed) {\n            return;\n        }\n        this.clear();\n        this.counter = 0;\n        const keepAliveTimeout = Math.ceil(this._keepalive * 1.5);\n        this._keepaliveTimeoutTimestamp = Date.now() + keepAliveTimeout;\n        this._intervalEvery = Math.ceil(this._keepalive / 2);\n        this.timerId = this.timer.set(() => {\n            if (this.destroyed) {\n                return;\n            }\n            this.counter += 1;\n            if (this.counter === 2) {\n                this.client.sendPing();\n            }\n            else if (this.counter > 2) {\n                this.client.onKeepaliveTimeout();\n            }\n        }, this._intervalEvery);\n    }\n}\nexports.default = KeepaliveManager;\n//# sourceMappingURL=KeepaliveManager.js.map","module.exports = require('./lib/axios');","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass DefaultMessageIdProvider {\n    constructor() {\n        this.nextId = Math.max(1, Math.floor(Math.random() * 65535));\n    }\n    allocate() {\n        const id = this.nextId++;\n        if (this.nextId === 65536) {\n            this.nextId = 1;\n        }\n        return id;\n    }\n    getLastAllocated() {\n        return this.nextId === 1 ? 65535 : this.nextId - 1;\n    }\n    register(messageId) {\n        return true;\n    }\n    deallocate(messageId) { }\n    clear() { }\n}\nexports.default = DefaultMessageIdProvider;\n//# sourceMappingURL=default-message-id-provider.js.map","import { ClusterForkInterface, MediaObject, ObjectDetection, ObjectDetectionGeneratorResult, ObjectDetectionGeneratorSession, ObjectDetectionModel, ObjectDetectionSession, ObjectsDetected, ScryptedDeviceBase, SettingValue, VideoFrame } from \"@scrypted/sdk\";\nimport { StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport { logLevelSetting } from '../../scrypted-apocaliss-base/src/basePlugin';\nimport FrigateBridgePlugin from \"./main\";\n\nexport default class FrigateBridgeClassifier extends ScryptedDeviceBase implements ObjectDetection, ClusterForkInterface {\n    initStorage: StorageSettingsDict<string> = {\n        logLevel: {\n            ...logLevelSetting,\n        },\n    };\n    storageSettings = new StorageSettings(this, this.initStorage);\n    plugin: FrigateBridgePlugin;\n    logger: Console;\n\n    constructor(nativeId: string, plugin: FrigateBridgePlugin, public classifierName: string) {\n        super(nativeId);\n        this.plugin = plugin;\n    }\n\n    forkInterface(forkInterface: unknown, options?: unknown): Promise<ObjectDetection> {\n        const logger = this.getLogger();\n        logger.log('forkInterface', forkInterface, options);\n        throw new Error(\"Method not implemented.\");\n    }\n\n    generateObjectDetections(videoFrames: AsyncGenerator<VideoFrame, void> | MediaObject, session: ObjectDetectionGeneratorSession): Promise<AsyncGenerator<ObjectDetectionGeneratorResult, void>> {\n        const logger = this.getLogger();\n        logger.log('generateObjectDetections');\n        throw new Error(\"Method not implemented.\");\n    }\n    detectObjects(mediaObject: MediaObject, session?: ObjectDetectionSession): Promise<ObjectsDetected> {\n        const logger = this.getLogger();\n        logger.log('detectObjects');\n        throw new Error(\"Method not implemented.\");\n    }\n    getDetectionModel(settings?: { [key: string]: any; }): Promise<ObjectDetectionModel> {\n        const logger = this.getLogger();\n        logger.log('getDetectionModel');\n        throw new Error(\"Method not implemented.\");\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    getLogger() {\n        if (!this.logger) {\n            this.logger = this.plugin.getLogger({\n                console: this.console,\n                storage: this.storageSettings,\n            });\n        }\n\n        return this.logger;\n    }\n\n    async getSettings() {\n        try {\n            const settings = await this.storageSettings.getSettings();\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getSettings', e);\n            return [];\n        }\n    }\n}\n\n","module.exports = require(\"assert\");","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingsMixinDeviceBase = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { deviceManager } = _1.default;\nclass SettingsMixinDeviceBase extends _1.MixinDeviceBase {\n    constructor(options) {\n        super(options);\n        this.settingsGroup = options.group;\n        this.settingsGroupKey = options.groupKey;\n        process.nextTick(() => deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null));\n    }\n    async getSettings() {\n        const settingsPromise = this.mixinDeviceInterfaces.includes(_1.ScryptedInterface.Settings) ? this.mixinDevice.getSettings() : undefined;\n        const mixinSettingsPromise = this.getMixinSettings();\n        const allSettings = [];\n        try {\n            const settings = (await settingsPromise) || [];\n            allSettings.push(...settings);\n        }\n        catch (e) {\n            const name = this.name;\n            const description = `${name} Extension settings failed to load.`;\n            this.console.error(description, e);\n            allSettings.push({\n                key: Math.random().toString(),\n                title: name,\n                value: 'Settings Error',\n                group: 'Errors',\n                description,\n                readonly: true,\n            });\n        }\n        try {\n            const mixinSettings = (await mixinSettingsPromise) || [];\n            for (const setting of mixinSettings) {\n                setting.group = setting.group || this.settingsGroup;\n                setting.key = this.settingsGroupKey + ':' + setting.key;\n            }\n            allSettings.push(...mixinSettings);\n        }\n        catch (e) {\n            const name = deviceManager.getDeviceState(this.mixinProviderNativeId).name;\n            const description = `${name} Extension settings failed to load.`;\n            this.console.error(description, e);\n            allSettings.push({\n                key: Math.random().toString(),\n                title: name,\n                value: 'Settings Error',\n                group: 'Errors',\n                description,\n                readonly: true,\n            });\n        }\n        return allSettings;\n    }\n    async putSetting(key, value) {\n        const prefix = this.settingsGroupKey + ':';\n        if (!key?.startsWith(prefix)) {\n            return this.mixinDevice.putSetting(key, value);\n        }\n        if (!await this.putMixinSetting(key.substring(prefix.length), value))\n            deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null);\n    }\n    async release() {\n        await deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null);\n    }\n}\nexports.SettingsMixinDeviceBase = SettingsMixinDeviceBase;\n//# sourceMappingURL=settings-mixin.js.map","const protocol = require('./constants')\nconst { Buffer } = require('buffer')\nconst empty = Buffer.allocUnsafe(0)\nconst zeroBuf = Buffer.from([0])\nconst numbers = require('./numbers')\nconst nextTick = require('process-nextick-args').nextTick\nconst debug = require('debug')('mqtt-packet:writeToStream')\n\nconst numCache = numbers.cache\nconst generateNumber = numbers.generateNumber\nconst generateCache = numbers.generateCache\nconst genBufVariableByteInt = numbers.genBufVariableByteInt\nconst generate4ByteBuffer = numbers.generate4ByteBuffer\nlet writeNumber = writeNumberCached\nlet toGenerate = true\n\nfunction generate (packet, stream, opts) {\n  debug('generate called')\n  if (stream.cork) {\n    stream.cork()\n    nextTick(uncork, stream)\n  }\n\n  if (toGenerate) {\n    toGenerate = false\n    generateCache()\n  }\n  debug('generate: packet.cmd: %s', packet.cmd)\n  switch (packet.cmd) {\n    case 'connect':\n      return connect(packet, stream, opts)\n    case 'connack':\n      return connack(packet, stream, opts)\n    case 'publish':\n      return publish(packet, stream, opts)\n    case 'puback':\n    case 'pubrec':\n    case 'pubrel':\n    case 'pubcomp':\n      return confirmation(packet, stream, opts)\n    case 'subscribe':\n      return subscribe(packet, stream, opts)\n    case 'suback':\n      return suback(packet, stream, opts)\n    case 'unsubscribe':\n      return unsubscribe(packet, stream, opts)\n    case 'unsuback':\n      return unsuback(packet, stream, opts)\n    case 'pingreq':\n    case 'pingresp':\n      return emptyPacket(packet, stream, opts)\n    case 'disconnect':\n      return disconnect(packet, stream, opts)\n    case 'auth':\n      return auth(packet, stream, opts)\n    default:\n      stream.destroy(new Error('Unknown command'))\n      return false\n  }\n}\n/**\n * Controls numbers cache.\n * Set to \"false\" to allocate buffers on-the-flight instead of pre-generated cache\n */\nObject.defineProperty(generate, 'cacheNumbers', {\n  get () {\n    return writeNumber === writeNumberCached\n  },\n  set (value) {\n    if (value) {\n      if (!numCache || Object.keys(numCache).length === 0) toGenerate = true\n      writeNumber = writeNumberCached\n    } else {\n      toGenerate = false\n      writeNumber = writeNumberGenerated\n    }\n  }\n})\n\nfunction uncork (stream) {\n  stream.uncork()\n}\n\nfunction connect (packet, stream, opts) {\n  const settings = packet || {}\n  const protocolId = settings.protocolId || 'MQTT'\n  let protocolVersion = settings.protocolVersion || 4\n  const will = settings.will\n  let clean = settings.clean\n  const keepalive = settings.keepalive || 0\n  const clientId = settings.clientId || ''\n  const username = settings.username\n  const password = settings.password\n  /* mqtt5 new oprions */\n  const properties = settings.properties\n\n  if (clean === undefined) clean = true\n\n  let length = 0\n\n  // Must be a string and non-falsy\n  if (!protocolId ||\n     (typeof protocolId !== 'string' && !Buffer.isBuffer(protocolId))) {\n    stream.destroy(new Error('Invalid protocolId'))\n    return false\n  } else length += protocolId.length + 2\n\n  // Must be 3 or 4 or 5\n  if (protocolVersion !== 3 && protocolVersion !== 4 && protocolVersion !== 5) {\n    stream.destroy(new Error('Invalid protocol version'))\n    return false\n  } else length += 1\n\n  // ClientId might be omitted in 3.1.1 and 5, but only if cleanSession is set to 1\n  if ((typeof clientId === 'string' || Buffer.isBuffer(clientId)) &&\n     (clientId || protocolVersion >= 4) && (clientId || clean)) {\n    length += Buffer.byteLength(clientId) + 2\n  } else {\n    if (protocolVersion < 4) {\n      stream.destroy(new Error('clientId must be supplied before 3.1.1'))\n      return false\n    }\n    if ((clean * 1) === 0) {\n      stream.destroy(new Error('clientId must be given if cleanSession set to 0'))\n      return false\n    }\n  }\n\n  // Must be a two byte number\n  if (typeof keepalive !== 'number' ||\n      keepalive < 0 ||\n      keepalive > 65535 ||\n      keepalive % 1 !== 0) {\n    stream.destroy(new Error('Invalid keepalive'))\n    return false\n  } else length += 2\n\n  // Connect flags\n  length += 1\n\n  let propertiesData\n  let willProperties\n\n  // Properties\n  if (protocolVersion === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // If will exists...\n  if (will) {\n    // It must be an object\n    if (typeof will !== 'object') {\n      stream.destroy(new Error('Invalid will'))\n      return false\n    }\n    // It must have topic typeof string\n    if (!will.topic || typeof will.topic !== 'string') {\n      stream.destroy(new Error('Invalid will topic'))\n      return false\n    } else {\n      length += Buffer.byteLength(will.topic) + 2\n    }\n\n    // Payload\n    length += 2 // payload length\n    if (will.payload) {\n      if (will.payload.length >= 0) {\n        if (typeof will.payload === 'string') {\n          length += Buffer.byteLength(will.payload)\n        } else {\n          length += will.payload.length\n        }\n      } else {\n        stream.destroy(new Error('Invalid will payload'))\n        return false\n      }\n    }\n    // will properties\n    willProperties = {}\n    if (protocolVersion === 5) {\n      willProperties = getProperties(stream, will.properties)\n      if (!willProperties) { return false }\n      length += willProperties.length\n    }\n  }\n\n  // Username\n  let providedUsername = false\n  if (username != null) {\n    if (isStringOrBuffer(username)) {\n      providedUsername = true\n      length += Buffer.byteLength(username) + 2\n    } else {\n      stream.destroy(new Error('Invalid username'))\n      return false\n    }\n  }\n\n  // Password\n  if (password != null) {\n    if (!providedUsername) {\n      stream.destroy(new Error('Username is required to use password'))\n      return false\n    }\n\n    if (isStringOrBuffer(password)) {\n      length += byteLength(password) + 2\n    } else {\n      stream.destroy(new Error('Invalid password'))\n      return false\n    }\n  }\n\n  // Generate header\n  stream.write(protocol.CONNECT_HEADER)\n\n  // Generate length\n  writeVarByteInt(stream, length)\n\n  // Generate protocol ID\n  writeStringOrBuffer(stream, protocolId)\n\n  if (settings.bridgeMode) {\n    protocolVersion += 128\n  }\n\n  stream.write(\n    protocolVersion === 131\n      ? protocol.VERSION131\n      : protocolVersion === 132\n        ? protocol.VERSION132\n        : protocolVersion === 4\n          ? protocol.VERSION4\n          : protocolVersion === 5\n            ? protocol.VERSION5\n            : protocol.VERSION3\n  )\n\n  // Connect flags\n  let flags = 0\n  flags |= (username != null) ? protocol.USERNAME_MASK : 0\n  flags |= (password != null) ? protocol.PASSWORD_MASK : 0\n  flags |= (will && will.retain) ? protocol.WILL_RETAIN_MASK : 0\n  flags |= (will && will.qos) ? will.qos << protocol.WILL_QOS_SHIFT : 0\n  flags |= will ? protocol.WILL_FLAG_MASK : 0\n  flags |= clean ? protocol.CLEAN_SESSION_MASK : 0\n\n  stream.write(Buffer.from([flags]))\n\n  // Keepalive\n  writeNumber(stream, keepalive)\n\n  // Properties\n  if (protocolVersion === 5) {\n    propertiesData.write()\n  }\n\n  // Client ID\n  writeStringOrBuffer(stream, clientId)\n\n  // Will\n  if (will) {\n    if (protocolVersion === 5) {\n      willProperties.write()\n    }\n    writeString(stream, will.topic)\n    writeStringOrBuffer(stream, will.payload)\n  }\n\n  // Username and password\n  if (username != null) {\n    writeStringOrBuffer(stream, username)\n  }\n  if (password != null) {\n    writeStringOrBuffer(stream, password)\n  }\n  // This is a small packet that happens only once on a stream\n  // We assume the stream is always free to receive more data after this\n  return true\n}\n\nfunction connack (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const rc = version === 5 ? settings.reasonCode : settings.returnCode\n  const properties = settings.properties\n  let length = 2 // length of rc and sessionHeader\n\n  // Check return code\n  if (typeof rc !== 'number') {\n    stream.destroy(new Error('Invalid return code'))\n    return false\n  }\n  // mqtt5 properties\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  stream.write(protocol.CONNACK_HEADER)\n  // length\n  writeVarByteInt(stream, length)\n  stream.write(settings.sessionPresent ? protocol.SESSIONPRESENT_HEADER : zeroBuf)\n\n  stream.write(Buffer.from([rc]))\n  if (propertiesData != null) {\n    propertiesData.write()\n  }\n  return true\n}\n\nfunction publish (packet, stream, opts) {\n  debug('publish: packet: %o', packet)\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const qos = settings.qos || 0\n  const retain = settings.retain ? protocol.RETAIN_MASK : 0\n  const topic = settings.topic\n  const payload = settings.payload || empty\n  const id = settings.messageId\n  const properties = settings.properties\n\n  let length = 0\n\n  // Topic must be a non-empty string or Buffer\n  if (typeof topic === 'string') length += Buffer.byteLength(topic) + 2\n  else if (Buffer.isBuffer(topic)) length += topic.length + 2\n  else {\n    stream.destroy(new Error('Invalid topic'))\n    return false\n  }\n\n  // Get the payload length\n  if (!Buffer.isBuffer(payload)) length += Buffer.byteLength(payload)\n  else length += payload.length\n\n  // Message ID must a number if qos > 0\n  if (qos && typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else if (qos) length += 2\n\n  // mqtt5 properties\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.PUBLISH_HEADER[qos][settings.dup ? 1 : 0][retain ? 1 : 0])\n\n  // Remaining length\n  writeVarByteInt(stream, length)\n\n  // Topic\n  writeNumber(stream, byteLength(topic))\n  stream.write(topic)\n\n  // Message ID\n  if (qos > 0) writeNumber(stream, id)\n\n  // Properties\n  if (propertiesData != null) {\n    propertiesData.write()\n  }\n\n  // Payload\n  debug('publish: payload: %o', payload)\n  return stream.write(payload)\n}\n\n/* Puback, pubrec, pubrel and pubcomp */\nfunction confirmation (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const type = settings.cmd || 'puback'\n  const id = settings.messageId\n  const dup = (settings.dup && type === 'pubrel') ? protocol.DUP_MASK : 0\n  let qos = 0\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 3 : 2\n\n  if (type === 'pubrel') qos = 1\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    // Confirm should not add empty property length with no properties (rfc 3.4.2.2.1)\n    if (typeof properties === 'object') {\n      propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n      if (!propertiesData) { return false }\n      length += propertiesData.length\n    }\n  }\n\n  // Header\n  stream.write(protocol.ACKS[type][qos][dup][0])\n\n  // Length === 3 is only true of version === 5 and no properties; therefore if reasonCode === 0 we are allowed to skip both bytes - but if we write the reason code we also have to write property length [MQTT-3.4.2-1].\n  if (length === 3) length += reasonCode !== 0 ? 1 : -1\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // reason code in header - but only if it couldn't be omitted - indicated by length !== 2.\n  if (version === 5 && length !== 2) {\n    stream.write(Buffer.from([reasonCode]))\n  }\n\n  // properties mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  } else {\n    if (length === 4) {\n      // we have no properties but have written a reason code - so we need to indicate empty properties by filling in a zero.\n      stream.write(Buffer.from([0]))\n    }\n  }\n  return true\n}\n\nfunction subscribe (packet, stream, opts) {\n  debug('subscribe: packet: ')\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const id = settings.messageId\n  const subs = settings.subscriptions\n  const properties = settings.properties\n\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else length += 2\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Check subscriptions\n  if (typeof subs === 'object' && subs.length) {\n    for (let i = 0; i < subs.length; i += 1) {\n      const itopic = subs[i].topic\n      const iqos = subs[i].qos\n\n      if (typeof itopic !== 'string') {\n        stream.destroy(new Error('Invalid subscriptions - invalid topic'))\n        return false\n      }\n      if (typeof iqos !== 'number') {\n        stream.destroy(new Error('Invalid subscriptions - invalid qos'))\n        return false\n      }\n\n      if (version === 5) {\n        const nl = subs[i].nl || false\n        if (typeof nl !== 'boolean') {\n          stream.destroy(new Error('Invalid subscriptions - invalid No Local'))\n          return false\n        }\n        const rap = subs[i].rap || false\n        if (typeof rap !== 'boolean') {\n          stream.destroy(new Error('Invalid subscriptions - invalid Retain as Published'))\n          return false\n        }\n        const rh = subs[i].rh || 0\n        if (typeof rh !== 'number' || rh > 2) {\n          stream.destroy(new Error('Invalid subscriptions - invalid Retain Handling'))\n          return false\n        }\n      }\n\n      length += Buffer.byteLength(itopic) + 2 + 1\n    }\n  } else {\n    stream.destroy(new Error('Invalid subscriptions'))\n    return false\n  }\n\n  // Generate header\n  debug('subscribe: writing to stream: %o', protocol.SUBSCRIBE_HEADER)\n  stream.write(protocol.SUBSCRIBE_HEADER[1][dup ? 1 : 0][0])\n\n  // Generate length\n  writeVarByteInt(stream, length)\n\n  // Generate message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  let result = true\n\n  // Generate subs\n  for (const sub of subs) {\n    const jtopic = sub.topic\n    const jqos = sub.qos\n    const jnl = +sub.nl\n    const jrap = +sub.rap\n    const jrh = sub.rh\n    let joptions\n\n    // Write topic string\n    writeString(stream, jtopic)\n\n    // options process\n    joptions = protocol.SUBSCRIBE_OPTIONS_QOS[jqos]\n    if (version === 5) {\n      joptions |= jnl ? protocol.SUBSCRIBE_OPTIONS_NL : 0\n      joptions |= jrap ? protocol.SUBSCRIBE_OPTIONS_RAP : 0\n      joptions |= jrh ? protocol.SUBSCRIBE_OPTIONS_RH[jrh] : 0\n    }\n    // Write options\n    result = stream.write(Buffer.from([joptions]))\n  }\n\n  return result\n}\n\nfunction suback (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const granted = settings.granted\n  const properties = settings.properties\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else length += 2\n\n  // Check granted qos vector\n  if (typeof granted === 'object' && granted.length) {\n    for (let i = 0; i < granted.length; i += 1) {\n      if (typeof granted[i] !== 'number') {\n        stream.destroy(new Error('Invalid qos vector'))\n        return false\n      }\n      length += 1\n    }\n  } else {\n    stream.destroy(new Error('Invalid qos vector'))\n    return false\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // header\n  stream.write(protocol.SUBACK_HEADER)\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  return stream.write(Buffer.from(granted))\n}\n\nfunction unsubscribe (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const unsubs = settings.unsubscriptions\n  const properties = settings.properties\n\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  } else {\n    length += 2\n  }\n  // Check unsubs\n  if (typeof unsubs === 'object' && unsubs.length) {\n    for (let i = 0; i < unsubs.length; i += 1) {\n      if (typeof unsubs[i] !== 'string') {\n        stream.destroy(new Error('Invalid unsubscriptions'))\n        return false\n      }\n      length += Buffer.byteLength(unsubs[i]) + 2\n    }\n  } else {\n    stream.destroy(new Error('Invalid unsubscriptions'))\n    return false\n  }\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.UNSUBSCRIBE_HEADER[1][dup ? 1 : 0][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  // Unsubs\n  let result = true\n  for (let j = 0; j < unsubs.length; j++) {\n    result = writeString(stream, unsubs[j])\n  }\n\n  return result\n}\n\nfunction unsuback (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const granted = settings.granted\n  const properties = settings.properties\n  const type = settings.cmd\n  const qos = 0\n\n  let length = 2\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.destroy(new Error('Invalid messageId'))\n    return false\n  }\n\n  // Check granted\n  if (version === 5) {\n    if (typeof granted === 'object' && granted.length) {\n      for (let i = 0; i < granted.length; i += 1) {\n        if (typeof granted[i] !== 'number') {\n          stream.destroy(new Error('Invalid qos vector'))\n          return false\n        }\n        length += 1\n      }\n    } else {\n      stream.destroy(new Error('Invalid qos vector'))\n      return false\n    }\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.ACKS[type][qos][dup][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  // payload\n  if (version === 5) {\n    stream.write(Buffer.from(granted))\n  }\n  return true\n}\n\nfunction emptyPacket (packet, stream, opts) {\n  return stream.write(protocol.EMPTY[packet.cmd])\n}\n\nfunction disconnect (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 1 : 0\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(Buffer.from([protocol.codes.disconnect << 4]))\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // reason code in header\n  if (version === 5) {\n    stream.write(Buffer.from([reasonCode]))\n  }\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  return true\n}\n\nfunction auth (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 1 : 0\n\n  if (version !== 5) stream.destroy(new Error('Invalid mqtt version for auth packet'))\n\n  // properies mqtt 5\n  const propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n  if (!propertiesData) { return false }\n  length += propertiesData.length\n\n  // Header\n  stream.write(Buffer.from([protocol.codes.auth << 4]))\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // reason code in header\n  stream.write(Buffer.from([reasonCode]))\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n  return true\n}\n\n/**\n * writeVarByteInt - write an MQTT style variable byte integer to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <Number> length - length (>0)\n * @returns <Number> number of bytes written\n *\n * @api private\n */\n\nconst varByteIntCache = {}\nfunction writeVarByteInt (stream, num) {\n  if (num > protocol.VARBYTEINT_MAX) {\n    stream.destroy(new Error(`Invalid variable byte integer: ${num}`))\n    return false\n  }\n\n  let buffer = varByteIntCache[num]\n\n  if (!buffer) {\n    buffer = genBufVariableByteInt(num)\n    if (num < 16384) varByteIntCache[num] = buffer\n  }\n  debug('writeVarByteInt: writing to stream: %o', buffer)\n  return stream.write(buffer)\n}\n\n/**\n * writeString - write a utf8 string to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> string - string to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\n\nfunction writeString (stream, string) {\n  const strlen = Buffer.byteLength(string)\n  writeNumber(stream, strlen)\n\n  debug('writeString: %s', string)\n  return stream.write(string, 'utf8')\n}\n\n/**\n * writeStringPair - write a utf8 string pairs to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <String> name - string name to write\n * @param <String> value - string value to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\nfunction writeStringPair (stream, name, value) {\n  writeString(stream, name)\n  writeString(stream, value)\n}\n\n/**\n * writeNumber - write a two byte number to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> number - number to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\nfunction writeNumberCached (stream, number) {\n  debug('writeNumberCached: number: %d', number)\n  debug('writeNumberCached: %o', numCache[number])\n  return stream.write(numCache[number])\n}\nfunction writeNumberGenerated (stream, number) {\n  const generatedNumber = generateNumber(number)\n  debug('writeNumberGenerated: %o', generatedNumber)\n  return stream.write(generatedNumber)\n}\nfunction write4ByteNumber (stream, number) {\n  const generated4ByteBuffer = generate4ByteBuffer(number)\n  debug('write4ByteNumber: %o', generated4ByteBuffer)\n  return stream.write(generated4ByteBuffer)\n}\n/**\n * writeStringOrBuffer - write a String or Buffer with the its length prefix\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> toWrite - String or Buffer\n * @return <Number> number of bytes written\n */\nfunction writeStringOrBuffer (stream, toWrite) {\n  if (typeof toWrite === 'string') {\n    writeString(stream, toWrite)\n  } else if (toWrite) {\n    writeNumber(stream, toWrite.length)\n    stream.write(toWrite)\n  } else writeNumber(stream, 0)\n}\n\nfunction getProperties (stream, properties) {\n  /* connect properties */\n  if (typeof properties !== 'object' || properties.length != null) {\n    return {\n      length: 1,\n      write () {\n        writeProperties(stream, {}, 0)\n      }\n    }\n  }\n  let propertiesLength = 0\n  function getLengthProperty (name, value) {\n    const type = protocol.propertiesTypes[name]\n    let length = 0\n    switch (type) {\n      case 'byte': {\n        if (typeof value !== 'boolean') {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 1\n        break\n      }\n      case 'int8': {\n        if (typeof value !== 'number' || value < 0 || value > 0xff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 1\n        break\n      }\n      case 'binary': {\n        if (value && value === null) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + Buffer.byteLength(value) + 2\n        break\n      }\n      case 'int16': {\n        if (typeof value !== 'number' || value < 0 || value > 0xffff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 2\n        break\n      }\n      case 'int32': {\n        if (typeof value !== 'number' || value < 0 || value > 0xffffffff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 4\n        break\n      }\n      case 'var': {\n        // var byte integer is max 24 bits packed in 32 bits\n        if (typeof value !== 'number' || value < 0 || value > 0x0fffffff) {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + Buffer.byteLength(genBufVariableByteInt(value))\n        break\n      }\n      case 'string': {\n        if (typeof value !== 'string') {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 2 + Buffer.byteLength(value.toString())\n        break\n      }\n      case 'pair': {\n        if (typeof value !== 'object') {\n          stream.destroy(new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += Object.getOwnPropertyNames(value).reduce((result, name) => {\n          const currentValue = value[name]\n          if (Array.isArray(currentValue)) {\n            result += currentValue.reduce((currentLength, value) => {\n              currentLength += 1 + 2 + Buffer.byteLength(name.toString()) + 2 + Buffer.byteLength(value.toString())\n              return currentLength\n            }, 0)\n          } else {\n            result += 1 + 2 + Buffer.byteLength(name.toString()) + 2 + Buffer.byteLength(value[name].toString())\n          }\n          return result\n        }, 0)\n        break\n      }\n      default: {\n        stream.destroy(new Error(`Invalid property ${name}: ${value}`))\n        return false\n      }\n    }\n    return length\n  }\n  if (properties) {\n    for (const propName in properties) {\n      let propLength = 0\n      let propValueLength = 0\n      const propValue = properties[propName]\n      if (Array.isArray(propValue)) {\n        for (let valueIndex = 0; valueIndex < propValue.length; valueIndex++) {\n          propValueLength = getLengthProperty(propName, propValue[valueIndex])\n          if (!propValueLength) { return false }\n          propLength += propValueLength\n        }\n      } else {\n        propValueLength = getLengthProperty(propName, propValue)\n        if (!propValueLength) { return false }\n        propLength = propValueLength\n      }\n      if (!propLength) return false\n      propertiesLength += propLength\n    }\n  }\n  const propertiesLengthLength = Buffer.byteLength(genBufVariableByteInt(propertiesLength))\n\n  return {\n    length: propertiesLengthLength + propertiesLength,\n    write () {\n      writeProperties(stream, properties, propertiesLength)\n    }\n  }\n}\n\nfunction getPropertiesByMaximumPacketSize (stream, properties, opts, length) {\n  const mayEmptyProps = ['reasonString', 'userProperties']\n  const maximumPacketSize = opts && opts.properties && opts.properties.maximumPacketSize ? opts.properties.maximumPacketSize : 0\n\n  let propertiesData = getProperties(stream, properties)\n  if (maximumPacketSize) {\n    while (length + propertiesData.length > maximumPacketSize) {\n      const currentMayEmptyProp = mayEmptyProps.shift()\n      if (currentMayEmptyProp && properties[currentMayEmptyProp]) {\n        delete properties[currentMayEmptyProp]\n        propertiesData = getProperties(stream, properties)\n      } else {\n        return false\n      }\n    }\n  }\n  return propertiesData\n}\n\nfunction writeProperty (stream, propName, value) {\n  const type = protocol.propertiesTypes[propName]\n  switch (type) {\n    case 'byte': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      stream.write(Buffer.from([+value]))\n      break\n    }\n    case 'int8': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      stream.write(Buffer.from([value]))\n      break\n    }\n    case 'binary': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeStringOrBuffer(stream, value)\n      break\n    }\n    case 'int16': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeNumber(stream, value)\n      break\n    }\n    case 'int32': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      write4ByteNumber(stream, value)\n      break\n    }\n    case 'var': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeVarByteInt(stream, value)\n      break\n    }\n    case 'string': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeString(stream, value)\n      break\n    }\n    case 'pair': {\n      Object.getOwnPropertyNames(value).forEach(name => {\n        const currentValue = value[name]\n        if (Array.isArray(currentValue)) {\n          currentValue.forEach(value => {\n            stream.write(Buffer.from([protocol.properties[propName]]))\n            writeStringPair(stream, name.toString(), value.toString())\n          })\n        } else {\n          stream.write(Buffer.from([protocol.properties[propName]]))\n          writeStringPair(stream, name.toString(), currentValue.toString())\n        }\n      })\n      break\n    }\n    default: {\n      stream.destroy(new Error(`Invalid property ${propName} value: ${value}`))\n      return false\n    }\n  }\n}\n\nfunction writeProperties (stream, properties, propertiesLength) {\n  /* write properties to stream */\n  writeVarByteInt(stream, propertiesLength)\n  for (const propName in properties) {\n    if (Object.prototype.hasOwnProperty.call(properties, propName) && properties[propName] !== null) {\n      const value = properties[propName]\n      if (Array.isArray(value)) {\n        for (let valueIndex = 0; valueIndex < value.length; valueIndex++) {\n          writeProperty(stream, propName, value[valueIndex])\n        }\n      } else {\n        writeProperty(stream, propName, value)\n      }\n    }\n  }\n}\n\nfunction byteLength (bufOrString) {\n  if (!bufOrString) return 0\n  else if (bufOrString instanceof Buffer) return bufOrString.length\n  else return Buffer.byteLength(bufOrString)\n}\n\nfunction isStringOrBuffer (field) {\n  return typeof field === 'string' || field instanceof Buffer\n}\n\nmodule.exports = generate\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.5.26\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"buttons\"] = \"buttons\";\n    ScryptedInterfaceProperty[\"sensors\"] = \"sensors\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"sleeping\"] = \"sleeping\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"pressButton\"] = \"pressButton\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getVideoTextOverlays\"] = \"getVideoTextOverlays\";\n    ScryptedInterfaceMethod[\"setVideoTextOverlay\"] = \"setVideoTextOverlay\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"forkInterface\"] = \"forkInterface\";\n    ScryptedInterfaceMethod[\"trackObjects\"] = \"trackObjects\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n    ScryptedInterfaceMethod[\"getChatCompletion\"] = \"getChatCompletion\";\n    ScryptedInterfaceMethod[\"streamChatCompletion\"] = \"streamChatCompletion\";\n    ScryptedInterfaceMethod[\"getTextEmbedding\"] = \"getTextEmbedding\";\n    ScryptedInterfaceMethod[\"getImageEmbedding\"] = \"getImageEmbedding\";\n    ScryptedInterfaceMethod[\"callLLMTool\"] = \"callLLMTool\";\n    ScryptedInterfaceMethod[\"getLLMTools\"] = \"getLLMTools\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    \"ScryptedDevice\": {\n        \"name\": \"ScryptedDevice\",\n        \"methods\": [\n            \"listen\",\n            \"probe\",\n            \"setMixins\",\n            \"setName\",\n            \"setRoom\",\n            \"setType\"\n        ],\n        \"properties\": [\n            \"id\",\n            \"info\",\n            \"interfaces\",\n            \"mixins\",\n            \"name\",\n            \"nativeId\",\n            \"pluginId\",\n            \"providedInterfaces\",\n            \"providedName\",\n            \"providedRoom\",\n            \"providedType\",\n            \"providerId\",\n            \"room\",\n            \"type\"\n        ]\n    },\n    \"ScryptedPlugin\": {\n        \"name\": \"ScryptedPlugin\",\n        \"methods\": [\n            \"getPluginJson\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedPluginRuntime\": {\n        \"name\": \"ScryptedPluginRuntime\",\n        \"methods\": [],\n        \"properties\": [\n            \"scryptedRuntimeArguments\"\n        ]\n    },\n    \"OnOff\": {\n        \"name\": \"OnOff\",\n        \"methods\": [\n            \"turnOff\",\n            \"turnOn\"\n        ],\n        \"properties\": [\n            \"on\"\n        ]\n    },\n    \"Brightness\": {\n        \"name\": \"Brightness\",\n        \"methods\": [\n            \"setBrightness\"\n        ],\n        \"properties\": [\n            \"brightness\"\n        ]\n    },\n    \"ColorSettingTemperature\": {\n        \"name\": \"ColorSettingTemperature\",\n        \"methods\": [\n            \"getTemperatureMaxK\",\n            \"getTemperatureMinK\",\n            \"setColorTemperature\"\n        ],\n        \"properties\": [\n            \"colorTemperature\"\n        ]\n    },\n    \"ColorSettingRgb\": {\n        \"name\": \"ColorSettingRgb\",\n        \"methods\": [\n            \"setRgb\"\n        ],\n        \"properties\": [\n            \"rgb\"\n        ]\n    },\n    \"ColorSettingHsv\": {\n        \"name\": \"ColorSettingHsv\",\n        \"methods\": [\n            \"setHsv\"\n        ],\n        \"properties\": [\n            \"hsv\"\n        ]\n    },\n    \"Buttons\": {\n        \"name\": \"Buttons\",\n        \"methods\": [],\n        \"properties\": [\n            \"buttons\"\n        ]\n    },\n    \"PressButtons\": {\n        \"name\": \"PressButtons\",\n        \"methods\": [\n            \"pressButton\"\n        ],\n        \"properties\": []\n    },\n    \"Sensors\": {\n        \"name\": \"Sensors\",\n        \"methods\": [],\n        \"properties\": [\n            \"sensors\"\n        ]\n    },\n    \"Notifier\": {\n        \"name\": \"Notifier\",\n        \"methods\": [\n            \"sendNotification\"\n        ],\n        \"properties\": []\n    },\n    \"StartStop\": {\n        \"name\": \"StartStop\",\n        \"methods\": [\n            \"start\",\n            \"stop\"\n        ],\n        \"properties\": [\n            \"running\"\n        ]\n    },\n    \"Pause\": {\n        \"name\": \"Pause\",\n        \"methods\": [\n            \"pause\",\n            \"resume\"\n        ],\n        \"properties\": [\n            \"paused\"\n        ]\n    },\n    \"Dock\": {\n        \"name\": \"Dock\",\n        \"methods\": [\n            \"dock\"\n        ],\n        \"properties\": [\n            \"docked\"\n        ]\n    },\n    \"TemperatureSetting\": {\n        \"name\": \"TemperatureSetting\",\n        \"methods\": [\n            \"setTemperature\"\n        ],\n        \"properties\": [\n            \"temperatureSetting\"\n        ]\n    },\n    \"Thermometer\": {\n        \"name\": \"Thermometer\",\n        \"methods\": [\n            \"setTemperatureUnit\"\n        ],\n        \"properties\": [\n            \"temperature\",\n            \"temperatureUnit\"\n        ]\n    },\n    \"HumiditySensor\": {\n        \"name\": \"HumiditySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"humidity\"\n        ]\n    },\n    \"Camera\": {\n        \"name\": \"Camera\",\n        \"methods\": [\n            \"getPictureOptions\",\n            \"takePicture\"\n        ],\n        \"properties\": []\n    },\n    \"Microphone\": {\n        \"name\": \"Microphone\",\n        \"methods\": [\n            \"getAudioStream\"\n        ],\n        \"properties\": []\n    },\n    \"AudioVolumeControl\": {\n        \"name\": \"AudioVolumeControl\",\n        \"methods\": [\n            \"setAudioVolumes\"\n        ],\n        \"properties\": [\n            \"audioVolumes\"\n        ]\n    },\n    \"Display\": {\n        \"name\": \"Display\",\n        \"methods\": [\n            \"startDisplay\",\n            \"stopDisplay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCamera\": {\n        \"name\": \"VideoCamera\",\n        \"methods\": [\n            \"getVideoStream\",\n            \"getVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraMask\": {\n        \"name\": \"VideoCameraMask\",\n        \"methods\": [\n            \"getPrivacyMasks\",\n            \"setPrivacyMasks\"\n        ],\n        \"properties\": []\n    },\n    \"VideoTextOverlays\": {\n        \"name\": \"VideoTextOverlays\",\n        \"methods\": [\n            \"getVideoTextOverlays\",\n            \"setVideoTextOverlay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoRecorder\": {\n        \"name\": \"VideoRecorder\",\n        \"methods\": [\n            \"getRecordingStream\",\n            \"getRecordingStreamCurrentTime\",\n            \"getRecordingStreamOptions\",\n            \"getRecordingStreamThumbnail\"\n        ],\n        \"properties\": [\n            \"recordingActive\"\n        ]\n    },\n    \"VideoRecorderManagement\": {\n        \"name\": \"VideoRecorderManagement\",\n        \"methods\": [\n            \"deleteRecordingStream\",\n            \"setRecordingActive\"\n        ],\n        \"properties\": []\n    },\n    \"PanTiltZoom\": {\n        \"name\": \"PanTiltZoom\",\n        \"methods\": [\n            \"ptzCommand\"\n        ],\n        \"properties\": [\n            \"ptzCapabilities\"\n        ]\n    },\n    \"EventRecorder\": {\n        \"name\": \"EventRecorder\",\n        \"methods\": [\n            \"getRecordedEvents\"\n        ],\n        \"properties\": []\n    },\n    \"VideoClips\": {\n        \"name\": \"VideoClips\",\n        \"methods\": [\n            \"getVideoClip\",\n            \"getVideoClips\",\n            \"getVideoClipThumbnail\",\n            \"removeVideoClips\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraConfiguration\": {\n        \"name\": \"VideoCameraConfiguration\",\n        \"methods\": [\n            \"setVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"Intercom\": {\n        \"name\": \"Intercom\",\n        \"methods\": [\n            \"startIntercom\",\n            \"stopIntercom\"\n        ],\n        \"properties\": []\n    },\n    \"Lock\": {\n        \"name\": \"Lock\",\n        \"methods\": [\n            \"lock\",\n            \"unlock\"\n        ],\n        \"properties\": [\n            \"lockState\"\n        ]\n    },\n    \"PasswordStore\": {\n        \"name\": \"PasswordStore\",\n        \"methods\": [\n            \"addPassword\",\n            \"getPasswords\",\n            \"removePassword\"\n        ],\n        \"properties\": []\n    },\n    \"Scene\": {\n        \"name\": \"Scene\",\n        \"methods\": [\n            \"activate\",\n            \"deactivate\",\n            \"isReversible\"\n        ],\n        \"properties\": []\n    },\n    \"Entry\": {\n        \"name\": \"Entry\",\n        \"methods\": [\n            \"closeEntry\",\n            \"openEntry\"\n        ],\n        \"properties\": []\n    },\n    \"EntrySensor\": {\n        \"name\": \"EntrySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"entryOpen\"\n        ]\n    },\n    \"DeviceProvider\": {\n        \"name\": \"DeviceProvider\",\n        \"methods\": [\n            \"getDevice\",\n            \"releaseDevice\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceDiscovery\": {\n        \"name\": \"DeviceDiscovery\",\n        \"methods\": [\n            \"adoptDevice\",\n            \"discoverDevices\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceCreator\": {\n        \"name\": \"DeviceCreator\",\n        \"methods\": [\n            \"createDevice\",\n            \"getCreateDeviceSettings\"\n        ],\n        \"properties\": []\n    },\n    \"Battery\": {\n        \"name\": \"Battery\",\n        \"methods\": [],\n        \"properties\": [\n            \"batteryLevel\"\n        ]\n    },\n    \"Charger\": {\n        \"name\": \"Charger\",\n        \"methods\": [],\n        \"properties\": [\n            \"chargeState\"\n        ]\n    },\n    \"Reboot\": {\n        \"name\": \"Reboot\",\n        \"methods\": [\n            \"reboot\"\n        ],\n        \"properties\": []\n    },\n    \"Refresh\": {\n        \"name\": \"Refresh\",\n        \"methods\": [\n            \"getRefreshFrequency\",\n            \"refresh\"\n        ],\n        \"properties\": []\n    },\n    \"MediaPlayer\": {\n        \"name\": \"MediaPlayer\",\n        \"methods\": [\n            \"getMediaStatus\",\n            \"load\",\n            \"seek\",\n            \"skipNext\",\n            \"skipPrevious\"\n        ],\n        \"properties\": []\n    },\n    \"Online\": {\n        \"name\": \"Online\",\n        \"methods\": [],\n        \"properties\": [\n            \"online\"\n        ]\n    },\n    \"BufferConverter\": {\n        \"name\": \"BufferConverter\",\n        \"methods\": [\n            \"convert\"\n        ],\n        \"properties\": [\n            \"fromMimeType\",\n            \"toMimeType\"\n        ]\n    },\n    \"MediaConverter\": {\n        \"name\": \"MediaConverter\",\n        \"methods\": [\n            \"convertMedia\"\n        ],\n        \"properties\": [\n            \"converters\"\n        ]\n    },\n    \"Settings\": {\n        \"name\": \"Settings\",\n        \"methods\": [\n            \"getSettings\",\n            \"putSetting\"\n        ],\n        \"properties\": []\n    },\n    \"BinarySensor\": {\n        \"name\": \"BinarySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"binaryState\"\n        ]\n    },\n    \"TamperSensor\": {\n        \"name\": \"TamperSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"tampered\"\n        ]\n    },\n    \"Sleep\": {\n        \"name\": \"Sleep\",\n        \"methods\": [],\n        \"properties\": [\n            \"sleeping\"\n        ]\n    },\n    \"PowerSensor\": {\n        \"name\": \"PowerSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"powerDetected\"\n        ]\n    },\n    \"AudioSensor\": {\n        \"name\": \"AudioSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"audioDetected\"\n        ]\n    },\n    \"MotionSensor\": {\n        \"name\": \"MotionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"motionDetected\"\n        ]\n    },\n    \"AmbientLightSensor\": {\n        \"name\": \"AmbientLightSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ambientLight\"\n        ]\n    },\n    \"OccupancySensor\": {\n        \"name\": \"OccupancySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"occupied\"\n        ]\n    },\n    \"FloodSensor\": {\n        \"name\": \"FloodSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"flooded\"\n        ]\n    },\n    \"UltravioletSensor\": {\n        \"name\": \"UltravioletSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ultraviolet\"\n        ]\n    },\n    \"LuminanceSensor\": {\n        \"name\": \"LuminanceSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"luminance\"\n        ]\n    },\n    \"PositionSensor\": {\n        \"name\": \"PositionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"position\"\n        ]\n    },\n    \"SecuritySystem\": {\n        \"name\": \"SecuritySystem\",\n        \"methods\": [\n            \"armSecuritySystem\",\n            \"disarmSecuritySystem\"\n        ],\n        \"properties\": [\n            \"securitySystemState\"\n        ]\n    },\n    \"PM10Sensor\": {\n        \"name\": \"PM10Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm10Density\"\n        ]\n    },\n    \"PM25Sensor\": {\n        \"name\": \"PM25Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm25Density\"\n        ]\n    },\n    \"VOCSensor\": {\n        \"name\": \"VOCSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"vocDensity\"\n        ]\n    },\n    \"NOXSensor\": {\n        \"name\": \"NOXSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"noxDensity\"\n        ]\n    },\n    \"CO2Sensor\": {\n        \"name\": \"CO2Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"co2ppm\"\n        ]\n    },\n    \"AirQualitySensor\": {\n        \"name\": \"AirQualitySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"airQuality\"\n        ]\n    },\n    \"AirPurifier\": {\n        \"name\": \"AirPurifier\",\n        \"methods\": [\n            \"setAirPurifierState\"\n        ],\n        \"properties\": [\n            \"airPurifierState\"\n        ]\n    },\n    \"FilterMaintenance\": {\n        \"name\": \"FilterMaintenance\",\n        \"methods\": [],\n        \"properties\": [\n            \"filterChangeIndication\",\n            \"filterLifeLevel\"\n        ]\n    },\n    \"Readme\": {\n        \"name\": \"Readme\",\n        \"methods\": [\n            \"getReadmeMarkdown\"\n        ],\n        \"properties\": []\n    },\n    \"OauthClient\": {\n        \"name\": \"OauthClient\",\n        \"methods\": [\n            \"getOauthUrl\",\n            \"onOauthCallback\"\n        ],\n        \"properties\": []\n    },\n    \"MixinProvider\": {\n        \"name\": \"MixinProvider\",\n        \"methods\": [\n            \"canMixin\",\n            \"getMixin\",\n            \"releaseMixin\"\n        ],\n        \"properties\": []\n    },\n    \"HttpRequestHandler\": {\n        \"name\": \"HttpRequestHandler\",\n        \"methods\": [\n            \"onRequest\"\n        ],\n        \"properties\": []\n    },\n    \"EngineIOHandler\": {\n        \"name\": \"EngineIOHandler\",\n        \"methods\": [\n            \"onConnection\"\n        ],\n        \"properties\": []\n    },\n    \"PushHandler\": {\n        \"name\": \"PushHandler\",\n        \"methods\": [\n            \"onPush\"\n        ],\n        \"properties\": []\n    },\n    \"Program\": {\n        \"name\": \"Program\",\n        \"methods\": [\n            \"run\"\n        ],\n        \"properties\": []\n    },\n    \"Scriptable\": {\n        \"name\": \"Scriptable\",\n        \"methods\": [\n            \"eval\",\n            \"loadScripts\",\n            \"saveScript\"\n        ],\n        \"properties\": []\n    },\n    \"ClusterForkInterface\": {\n        \"name\": \"ClusterForkInterface\",\n        \"methods\": [\n            \"forkInterface\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectTracker\": {\n        \"name\": \"ObjectTracker\",\n        \"methods\": [\n            \"trackObjects\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetector\": {\n        \"name\": \"ObjectDetector\",\n        \"methods\": [\n            \"getDetectionInput\",\n            \"getObjectTypes\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetection\": {\n        \"name\": \"ObjectDetection\",\n        \"methods\": [\n            \"detectObjects\",\n            \"generateObjectDetections\",\n            \"getDetectionModel\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetectionPreview\": {\n        \"name\": \"ObjectDetectionPreview\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ObjectDetectionGenerator\": {\n        \"name\": \"ObjectDetectionGenerator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"HumiditySetting\": {\n        \"name\": \"HumiditySetting\",\n        \"methods\": [\n            \"setHumidity\"\n        ],\n        \"properties\": [\n            \"humiditySetting\"\n        ]\n    },\n    \"Fan\": {\n        \"name\": \"Fan\",\n        \"methods\": [\n            \"setFan\"\n        ],\n        \"properties\": [\n            \"fan\"\n        ]\n    },\n    \"RTCSignalingChannel\": {\n        \"name\": \"RTCSignalingChannel\",\n        \"methods\": [\n            \"startRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"RTCSignalingClient\": {\n        \"name\": \"RTCSignalingClient\",\n        \"methods\": [\n            \"createRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"LauncherApplication\": {\n        \"name\": \"LauncherApplication\",\n        \"methods\": [],\n        \"properties\": [\n            \"applicationInfo\"\n        ]\n    },\n    \"ScryptedUser\": {\n        \"name\": \"ScryptedUser\",\n        \"methods\": [\n            \"getScryptedUserAccessControl\"\n        ],\n        \"properties\": []\n    },\n    \"VideoFrameGenerator\": {\n        \"name\": \"VideoFrameGenerator\",\n        \"methods\": [\n            \"generateVideoFrames\"\n        ],\n        \"properties\": []\n    },\n    \"StreamService\": {\n        \"name\": \"StreamService\",\n        \"methods\": [\n            \"connectStream\"\n        ],\n        \"properties\": []\n    },\n    \"TTY\": {\n        \"name\": \"TTY\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"TTYSettings\": {\n        \"name\": \"TTYSettings\",\n        \"methods\": [\n            \"getTTYSettings\"\n        ],\n        \"properties\": []\n    },\n    \"ChatCompletion\": {\n        \"name\": \"ChatCompletion\",\n        \"methods\": [\n            \"getChatCompletion\",\n            \"streamChatCompletion\"\n        ],\n        \"properties\": []\n    },\n    \"TextEmbedding\": {\n        \"name\": \"TextEmbedding\",\n        \"methods\": [\n            \"getTextEmbedding\"\n        ],\n        \"properties\": []\n    },\n    \"ImageEmbedding\": {\n        \"name\": \"ImageEmbedding\",\n        \"methods\": [\n            \"getImageEmbedding\"\n        ],\n        \"properties\": []\n    },\n    \"LLMTools\": {\n        \"name\": \"LLMTools\",\n        \"methods\": [\n            \"callLLMTool\",\n            \"getLLMTools\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedSystemDevice\": {\n        \"name\": \"ScryptedSystemDevice\",\n        \"methods\": [],\n        \"properties\": [\n            \"systemDevice\"\n        ]\n    },\n    \"ScryptedDeviceCreator\": {\n        \"name\": \"ScryptedDeviceCreator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ScryptedSettings\": {\n        \"name\": \"ScryptedSettings\",\n        \"methods\": [],\n        \"properties\": []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    /**\n     * @deprecated\n     */\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    /**\n     * Internal devices will not show up in device lists unless explicitly searched.\n     */\n    ScryptedDeviceType[\"Internal\"] = \"Internal\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"RemoteDesktop\"] = \"RemoteDesktop\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Internet\"] = \"Internet\";\n    ScryptedDeviceType[\"Network\"] = \"Network\";\n    ScryptedDeviceType[\"Bridge\"] = \"Bridge\";\n    ScryptedDeviceType[\"LLM\"] = \"LLM\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Buttons\"] = \"Buttons\";\n    ScryptedInterface[\"PressButtons\"] = \"PressButtons\";\n    ScryptedInterface[\"Sensors\"] = \"Sensors\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoTextOverlays\"] = \"VideoTextOverlays\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"Sleep\"] = \"Sleep\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ClusterForkInterface\"] = \"ClusterForkInterface\";\n    ScryptedInterface[\"ObjectTracker\"] = \"ObjectTracker\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ChatCompletion\"] = \"ChatCompletion\";\n    ScryptedInterface[\"TextEmbedding\"] = \"TextEmbedding\";\n    ScryptedInterface[\"ImageEmbedding\"] = \"ImageEmbedding\";\n    ScryptedInterface[\"LLMTools\"] = \"LLMTools\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","export class Deferred<T> {\n    finished = false;\n    resolve!: (value: T) => this;\n    reject!: (error: Error) => this;\n\n    [Symbol.dispose]() {\n        if (!this.finished)\n            this.reject(new Error('deferred disposed without being resolved'));\n    }\n\n    async resolvePromise(p: Promise<T>) {\n        try {\n            this.resolve(await p);\n        }\n        catch (e) {\n            this.reject(e as Error);\n        }\n    }\n    promise = new Promise<T>((resolve, reject) => {\n        this.resolve = v => {\n            this.finished = true;\n            resolve(v);\n            return this;\n        };\n        this.reject = e => {\n            this.finished = true;\n            reject(e);\n            return this;\n        };\n    });\n}\n","import { MixinProvider, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, SettingValue, WritableDeviceState } from \"@scrypted/sdk\";\nimport { StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport { getMqttBasicClient, logLevelSetting } from '../../scrypted-apocaliss-base/src/basePlugin';\nimport FrigateBridgePlugin from \"./main\";\nimport { FrigateBridgeMotionDetectorMixin } from \"./motionDetectorMixin\";\nimport { FRIGATE_MOTION_DETECTOR_INTERFACE, motionTopic } from \"./utils\";\nimport MqttClient, { MqttMessageCb } from \"../../scrypted-apocaliss-base/src/mqtt-client\";\n\nexport default class FrigateBridgeMotionDetector extends ScryptedDeviceBase implements MixinProvider {\n    initStorage: StorageSettingsDict<string> = {\n        logLevel: {\n            ...logLevelSetting,\n        },\n    };\n    storageSettings = new StorageSettings(this, this.initStorage);\n    currentMixinsMap: Record<string, FrigateBridgeMotionDetectorMixin> = {};\n    plugin: FrigateBridgePlugin;\n    logger: Console;\n    mqttCb: MqttMessageCb;\n    initializingMqtt = false;\n    public mqttClient: MqttClient;\n\n    constructor(nativeId: string, plugin: FrigateBridgePlugin) {\n        super(nativeId);\n        this.plugin = plugin;\n        this.startStop(this.storageSettings.values.pluginEnabled).then().catch(this.getLogger().log);\n    }\n\n    async startStop(enabled: boolean) {\n        if (enabled) {\n            await this.start();\n        } else {\n            await this.stop();\n        }\n    }\n\n    async stop() {\n    }\n\n    async start() {\n        try {\n            await this.startMqttListener();\n        } catch (e) {\n            this.getLogger().log(`Error in initFlow`, e);\n        }\n    }\n\n    async startMqttListener() {\n        const mqttClient = await this.getMqttClient();\n        const logger = this.getLogger();\n\n        this.mqttCb = async (messageTopic, message) => {\n            const [_, camera, eventType] = messageTopic.split('/');\n\n            if (eventType === 'motion') {\n                // frigate/salone/motion\n                logger.info(`Motion message received ${messageTopic} ${message}: ${camera}`);\n                const foundMixin = Object.values(this.currentMixinsMap).find(mixin => {\n                    const { cameraName } = mixin.storageSettings.values;\n\n                    return cameraName === camera;\n                });\n\n                if (foundMixin) {\n                    await foundMixin.onFrigateMotionEvent(message);\n                }\n            }\n        };\n\n        await mqttClient?.subscribe([motionTopic], this.mqttCb);\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    private async setupMqttClient() {\n        const { useMqttPluginCredentials, pluginEnabled } = this.plugin.storageSettings.values;\n        if (pluginEnabled) {\n            this.initializingMqtt = true;\n            const logger = this.getLogger();\n\n            if (this.mqttClient) {\n                this.mqttClient.disconnect();\n                this.mqttClient = undefined;\n            }\n\n            try {\n                this.mqttClient = await getMqttBasicClient({\n                    logger,\n                    useMqttPluginCredentials,\n                    mqttHost: this.plugin.storageSettings.getItem('mqttHost'),\n                    mqttUsename: this.plugin.storageSettings.getItem('mqttUsename'),\n                    mqttPassword: this.plugin.storageSettings.getItem('mqttPassword'),\n                    clientId: 'scrypted_frigate_motion_detectoor',\n                });\n            } catch (e) {\n                logger.log('Error setting up MQTT client', e);\n            } finally {\n                this.initializingMqtt = false;\n            }\n        }\n    }\n\n    async getMqttClient() {\n        if (!this.mqttClient && !this.initializingMqtt) {\n            await this.setupMqttClient();\n        }\n\n        return this.mqttClient;\n    }\n\n    getLogger() {\n        if (!this.logger) {\n            this.logger = this.plugin.getLogger({\n                console: this.console,\n                storage: this.storageSettings,\n            });\n        }\n\n        return this.logger;\n    }\n\n    async getSettings() {\n        try {\n            const settings = await this.storageSettings.getSettings();\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getSettings', e);\n            return [];\n        }\n    }\n\n    async canMixin(type: ScryptedDeviceType, interfaces: string[]): Promise<string[]> {\n        if ((type === ScryptedDeviceType.Camera || type === ScryptedDeviceType.Doorbell) &&\n            (interfaces.includes(ScryptedInterface.VideoCamera) || interfaces.includes(ScryptedInterface.Camera))) {\n            return [\n                ScryptedInterface.Settings,\n                ScryptedInterface.MotionSensor,\n                FRIGATE_MOTION_DETECTOR_INTERFACE\n            ];\n        }\n\n        return undefined;\n    }\n\n    async getMixin(mixinDevice: any, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n        return new FrigateBridgeMotionDetectorMixin({\n            mixinDevice,\n            mixinDeviceInterfaces,\n            mixinDeviceState,\n            mixinProviderNativeId: this.nativeId,\n            group: 'Frigate Motion Detector',\n            groupKey: 'frigateMotionDetector',\n        }, this)\n    }\n\n    async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n        await mixinDevice.release();\n    }\n}\n\n","var __extends = this && this.t || function() {\n    var extendStatics = function(e, n) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(e, n) {\n            e.__proto__ = n;\n        } || function(e, n) {\n            for (var t in n) if (Object.prototype.hasOwnProperty.call(n, t)) e[t] = n[t];\n        };\n        return extendStatics(e, n);\n    };\n    return function(e, n) {\n        if (typeof n !== \"function\" && n !== null) throw new TypeError(\"Class extends value \" + String(n) + \" is not a constructor or null\");\n        extendStatics(e, n);\n        function __() {\n            this.constructor = e;\n        }\n        e.prototype = n === null ? Object.create(n) : (__.prototype = n.prototype, new __);\n    };\n}();\n\nvar TreeNode = function() {\n    function TreeNode(e, n) {\n        this.ee = 1;\n        this.u = undefined;\n        this.p = undefined;\n        this.K = undefined;\n        this.N = undefined;\n        this.rr = undefined;\n        this.u = e;\n        this.p = n;\n    }\n    TreeNode.prototype.L = function() {\n        var e = this;\n        if (e.ee === 1 && e.rr.rr === e) {\n            e = e.N;\n        } else if (e.K) {\n            e = e.K;\n            while (e.N) {\n                e = e.N;\n            }\n        } else {\n            var n = e.rr;\n            while (n.K === e) {\n                e = n;\n                n = e.rr;\n            }\n            e = n;\n        }\n        return e;\n    };\n    TreeNode.prototype.m = function() {\n        var e = this;\n        if (e.N) {\n            e = e.N;\n            while (e.K) {\n                e = e.K;\n            }\n            return e;\n        } else {\n            var n = e.rr;\n            while (n.N === e) {\n                e = n;\n                n = e.rr;\n            }\n            if (e.N !== n) {\n                return n;\n            } else return e;\n        }\n    };\n    TreeNode.prototype.ne = function() {\n        var e = this.rr;\n        var n = this.N;\n        var t = n.K;\n        if (e.rr === this) e.rr = n; else if (e.K === this) e.K = n; else e.N = n;\n        n.rr = e;\n        n.K = this;\n        this.rr = n;\n        this.N = t;\n        if (t) t.rr = this;\n        return n;\n    };\n    TreeNode.prototype.te = function() {\n        var e = this.rr;\n        var n = this.K;\n        var t = n.N;\n        if (e.rr === this) e.rr = n; else if (e.K === this) e.K = n; else e.N = n;\n        n.rr = e;\n        n.N = this;\n        this.rr = n;\n        this.K = t;\n        if (t) t.rr = this;\n        return n;\n    };\n    return TreeNode;\n}();\n\nexport { TreeNode };\n\nvar TreeNodeEnableIndex = function(e) {\n    __extends(TreeNodeEnableIndex, e);\n    function TreeNodeEnableIndex() {\n        var n = e !== null && e.apply(this, arguments) || this;\n        n.tr = 1;\n        return n;\n    }\n    TreeNodeEnableIndex.prototype.ne = function() {\n        var n = e.prototype.ne.call(this);\n        this.ie();\n        n.ie();\n        return n;\n    };\n    TreeNodeEnableIndex.prototype.te = function() {\n        var n = e.prototype.te.call(this);\n        this.ie();\n        n.ie();\n        return n;\n    };\n    TreeNodeEnableIndex.prototype.ie = function() {\n        this.tr = 1;\n        if (this.K) {\n            this.tr += this.K.tr;\n        }\n        if (this.N) {\n            this.tr += this.N.tr;\n        }\n    };\n    return TreeNodeEnableIndex;\n}(TreeNode);\n\nexport { TreeNodeEnableIndex };\n//# sourceMappingURL=TreeNode.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(n, t) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(n, t) {\n            n.__proto__ = t;\n        } || function(n, t) {\n            for (var r in t) if (Object.prototype.hasOwnProperty.call(t, r)) n[r] = t[r];\n        };\n        return extendStatics(n, t);\n    };\n    return function(n, t) {\n        if (typeof t !== \"function\" && t !== null) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n        extendStatics(n, t);\n        function __() {\n            this.constructor = n;\n        }\n        n.prototype = t === null ? Object.create(t) : (__.prototype = t.prototype, new __);\n    };\n}();\n\nvar ContainerIterator = function() {\n    function ContainerIterator(n) {\n        if (n === void 0) {\n            n = 0;\n        }\n        this.iteratorType = n;\n    }\n    ContainerIterator.prototype.equals = function(n) {\n        return this.o === n.o;\n    };\n    return ContainerIterator;\n}();\n\nexport { ContainerIterator };\n\nvar Base = function() {\n    function Base() {\n        this.M = 0;\n    }\n    Object.defineProperty(Base.prototype, \"length\", {\n        get: function() {\n            return this.M;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Base.prototype.size = function() {\n        return this.M;\n    };\n    Base.prototype.empty = function() {\n        return this.M === 0;\n    };\n    return Base;\n}();\n\nexport { Base };\n\nvar Container = function(n) {\n    __extends(Container, n);\n    function Container() {\n        return n !== null && n.apply(this, arguments) || this;\n    }\n    return Container;\n}(Base);\n\nexport { Container };\n//# sourceMappingURL=index.js.map\n","export function throwIteratorAccessError() {\n    throw new RangeError(\"Iterator access denied!\");\n}\n//# sourceMappingURL=throwError.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(e, r) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(e, r) {\n            e.__proto__ = r;\n        } || function(e, r) {\n            for (var i in r) if (Object.prototype.hasOwnProperty.call(r, i)) e[i] = r[i];\n        };\n        return extendStatics(e, r);\n    };\n    return function(e, r) {\n        if (typeof r !== \"function\" && r !== null) throw new TypeError(\"Class extends value \" + String(r) + \" is not a constructor or null\");\n        extendStatics(e, r);\n        function __() {\n            this.constructor = e;\n        }\n        e.prototype = r === null ? Object.create(r) : (__.prototype = r.prototype, new __);\n    };\n}();\n\nvar __read = this && this.q || function(e, r) {\n    var i = typeof Symbol === \"function\" && e[Symbol.iterator];\n    if (!i) return e;\n    var t = i.call(e), n, s = [], f;\n    try {\n        while ((r === void 0 || r-- > 0) && !(n = t.next()).done) s.push(n.value);\n    } catch (e) {\n        f = {\n            error: e\n        };\n    } finally {\n        try {\n            if (n && !n.done && (i = t[\"return\"])) i.call(t);\n        } finally {\n            if (f) throw f.error;\n        }\n    }\n    return s;\n};\n\nvar __values = this && this.V || function(e) {\n    var r = typeof Symbol === \"function\" && Symbol.iterator, i = r && e[r], t = 0;\n    if (i) return i.call(e);\n    if (e && typeof e.length === \"number\") return {\n        next: function() {\n            if (e && t >= e.length) e = void 0;\n            return {\n                value: e && e[t++],\n                done: !e\n            };\n        }\n    };\n    throw new TypeError(r ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport { TreeNode, TreeNodeEnableIndex } from \"./TreeNode\";\n\nimport { Container } from \"../../ContainerBase\";\n\nimport { throwIteratorAccessError } from \"../../../utils/throwError\";\n\nvar TreeContainer = function(e) {\n    __extends(TreeContainer, e);\n    function TreeContainer(r, i) {\n        if (r === void 0) {\n            r = function(e, r) {\n                if (e < r) return -1;\n                if (e > r) return 1;\n                return 0;\n            };\n        }\n        if (i === void 0) {\n            i = false;\n        }\n        var t = e.call(this) || this;\n        t.W = undefined;\n        t.$ = r;\n        if (i) {\n            t.re = TreeNodeEnableIndex;\n            t.v = function(e, r, i) {\n                var t = this.se(e, r, i);\n                if (t) {\n                    var n = t.rr;\n                    while (n !== this.h) {\n                        n.tr += 1;\n                        n = n.rr;\n                    }\n                    var s = this.fe(t);\n                    if (s) {\n                        var f = s, h = f.parentNode, u = f.grandParent, a = f.curNode;\n                        h.ie();\n                        u.ie();\n                        a.ie();\n                    }\n                }\n                return this.M;\n            };\n            t.G = function(e) {\n                var r = this.he(e);\n                while (r !== this.h) {\n                    r.tr -= 1;\n                    r = r.rr;\n                }\n            };\n        } else {\n            t.re = TreeNode;\n            t.v = function(e, r, i) {\n                var t = this.se(e, r, i);\n                if (t) this.fe(t);\n                return this.M;\n            };\n            t.G = t.he;\n        }\n        t.h = new t.re;\n        return t;\n    }\n    TreeContainer.prototype.U = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t < 0) {\n                e = e.N;\n            } else if (t > 0) {\n                i = e;\n                e = e.K;\n            } else return e;\n        }\n        return i;\n    };\n    TreeContainer.prototype.X = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t <= 0) {\n                e = e.N;\n            } else {\n                i = e;\n                e = e.K;\n            }\n        }\n        return i;\n    };\n    TreeContainer.prototype.Y = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t < 0) {\n                i = e;\n                e = e.N;\n            } else if (t > 0) {\n                e = e.K;\n            } else return e;\n        }\n        return i;\n    };\n    TreeContainer.prototype.Z = function(e, r) {\n        var i = this.h;\n        while (e) {\n            var t = this.$(e.u, r);\n            if (t < 0) {\n                i = e;\n                e = e.N;\n            } else {\n                e = e.K;\n            }\n        }\n        return i;\n    };\n    TreeContainer.prototype.ue = function(e) {\n        while (true) {\n            var r = e.rr;\n            if (r === this.h) return;\n            if (e.ee === 1) {\n                e.ee = 0;\n                return;\n            }\n            if (e === r.K) {\n                var i = r.N;\n                if (i.ee === 1) {\n                    i.ee = 0;\n                    r.ee = 1;\n                    if (r === this.W) {\n                        this.W = r.ne();\n                    } else r.ne();\n                } else {\n                    if (i.N && i.N.ee === 1) {\n                        i.ee = r.ee;\n                        r.ee = 0;\n                        i.N.ee = 0;\n                        if (r === this.W) {\n                            this.W = r.ne();\n                        } else r.ne();\n                        return;\n                    } else if (i.K && i.K.ee === 1) {\n                        i.ee = 1;\n                        i.K.ee = 0;\n                        i.te();\n                    } else {\n                        i.ee = 1;\n                        e = r;\n                    }\n                }\n            } else {\n                var i = r.K;\n                if (i.ee === 1) {\n                    i.ee = 0;\n                    r.ee = 1;\n                    if (r === this.W) {\n                        this.W = r.te();\n                    } else r.te();\n                } else {\n                    if (i.K && i.K.ee === 1) {\n                        i.ee = r.ee;\n                        r.ee = 0;\n                        i.K.ee = 0;\n                        if (r === this.W) {\n                            this.W = r.te();\n                        } else r.te();\n                        return;\n                    } else if (i.N && i.N.ee === 1) {\n                        i.ee = 1;\n                        i.N.ee = 0;\n                        i.ne();\n                    } else {\n                        i.ee = 1;\n                        e = r;\n                    }\n                }\n            }\n        }\n    };\n    TreeContainer.prototype.he = function(e) {\n        var r, i;\n        if (this.M === 1) {\n            this.clear();\n            return this.h;\n        }\n        var t = e;\n        while (t.K || t.N) {\n            if (t.N) {\n                t = t.N;\n                while (t.K) t = t.K;\n            } else {\n                t = t.K;\n            }\n            r = __read([ t.u, e.u ], 2), e.u = r[0], t.u = r[1];\n            i = __read([ t.p, e.p ], 2), e.p = i[0], t.p = i[1];\n            e = t;\n        }\n        if (this.h.K === t) {\n            this.h.K = t.rr;\n        } else if (this.h.N === t) {\n            this.h.N = t.rr;\n        }\n        this.ue(t);\n        var n = t.rr;\n        if (t === n.K) {\n            n.K = undefined;\n        } else n.N = undefined;\n        this.M -= 1;\n        this.W.ee = 0;\n        return n;\n    };\n    TreeContainer.prototype.ae = function(e, r) {\n        if (e === undefined) return false;\n        var i = this.ae(e.K, r);\n        if (i) return true;\n        if (r(e)) return true;\n        return this.ae(e.N, r);\n    };\n    TreeContainer.prototype.fe = function(e) {\n        while (true) {\n            var r = e.rr;\n            if (r.ee === 0) return;\n            var i = r.rr;\n            if (r === i.K) {\n                var t = i.N;\n                if (t && t.ee === 1) {\n                    t.ee = r.ee = 0;\n                    if (i === this.W) return;\n                    i.ee = 1;\n                    e = i;\n                    continue;\n                } else if (e === r.N) {\n                    e.ee = 0;\n                    if (e.K) e.K.rr = r;\n                    if (e.N) e.N.rr = i;\n                    r.N = e.K;\n                    i.K = e.N;\n                    e.K = r;\n                    e.N = i;\n                    if (i === this.W) {\n                        this.W = e;\n                        this.h.rr = e;\n                    } else {\n                        var n = i.rr;\n                        if (n.K === i) {\n                            n.K = e;\n                        } else n.N = e;\n                    }\n                    e.rr = i.rr;\n                    r.rr = e;\n                    i.rr = e;\n                    i.ee = 1;\n                    return {\n                        parentNode: r,\n                        grandParent: i,\n                        curNode: e\n                    };\n                } else {\n                    r.ee = 0;\n                    if (i === this.W) {\n                        this.W = i.te();\n                    } else i.te();\n                    i.ee = 1;\n                }\n            } else {\n                var t = i.K;\n                if (t && t.ee === 1) {\n                    t.ee = r.ee = 0;\n                    if (i === this.W) return;\n                    i.ee = 1;\n                    e = i;\n                    continue;\n                } else if (e === r.K) {\n                    e.ee = 0;\n                    if (e.K) e.K.rr = i;\n                    if (e.N) e.N.rr = r;\n                    i.N = e.K;\n                    r.K = e.N;\n                    e.K = i;\n                    e.N = r;\n                    if (i === this.W) {\n                        this.W = e;\n                        this.h.rr = e;\n                    } else {\n                        var n = i.rr;\n                        if (n.K === i) {\n                            n.K = e;\n                        } else n.N = e;\n                    }\n                    e.rr = i.rr;\n                    r.rr = e;\n                    i.rr = e;\n                    i.ee = 1;\n                    return {\n                        parentNode: r,\n                        grandParent: i,\n                        curNode: e\n                    };\n                } else {\n                    r.ee = 0;\n                    if (i === this.W) {\n                        this.W = i.ne();\n                    } else i.ne();\n                    i.ee = 1;\n                }\n            }\n            return;\n        }\n    };\n    TreeContainer.prototype.se = function(e, r, i) {\n        if (this.W === undefined) {\n            this.M += 1;\n            this.W = new this.re(e, r);\n            this.W.ee = 0;\n            this.W.rr = this.h;\n            this.h.rr = this.W;\n            this.h.K = this.W;\n            this.h.N = this.W;\n            return;\n        }\n        var t;\n        var n = this.h.K;\n        var s = this.$(n.u, e);\n        if (s === 0) {\n            n.p = r;\n            return;\n        } else if (s > 0) {\n            n.K = new this.re(e, r);\n            n.K.rr = n;\n            t = n.K;\n            this.h.K = t;\n        } else {\n            var f = this.h.N;\n            var h = this.$(f.u, e);\n            if (h === 0) {\n                f.p = r;\n                return;\n            } else if (h < 0) {\n                f.N = new this.re(e, r);\n                f.N.rr = f;\n                t = f.N;\n                this.h.N = t;\n            } else {\n                if (i !== undefined) {\n                    var u = i.o;\n                    if (u !== this.h) {\n                        var a = this.$(u.u, e);\n                        if (a === 0) {\n                            u.p = r;\n                            return;\n                        } else if (a > 0) {\n                            var o = u.L();\n                            var l = this.$(o.u, e);\n                            if (l === 0) {\n                                o.p = r;\n                                return;\n                            } else if (l < 0) {\n                                t = new this.re(e, r);\n                                if (o.N === undefined) {\n                                    o.N = t;\n                                    t.rr = o;\n                                } else {\n                                    u.K = t;\n                                    t.rr = u;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (t === undefined) {\n                    t = this.W;\n                    while (true) {\n                        var v = this.$(t.u, e);\n                        if (v > 0) {\n                            if (t.K === undefined) {\n                                t.K = new this.re(e, r);\n                                t.K.rr = t;\n                                t = t.K;\n                                break;\n                            }\n                            t = t.K;\n                        } else if (v < 0) {\n                            if (t.N === undefined) {\n                                t.N = new this.re(e, r);\n                                t.N.rr = t;\n                                t = t.N;\n                                break;\n                            }\n                            t = t.N;\n                        } else {\n                            t.p = r;\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n        this.M += 1;\n        return t;\n    };\n    TreeContainer.prototype.g = function(e, r) {\n        while (e) {\n            var i = this.$(e.u, r);\n            if (i < 0) {\n                e = e.N;\n            } else if (i > 0) {\n                e = e.K;\n            } else return e;\n        }\n        return e || this.h;\n    };\n    TreeContainer.prototype.clear = function() {\n        this.M = 0;\n        this.W = undefined;\n        this.h.rr = undefined;\n        this.h.K = this.h.N = undefined;\n    };\n    TreeContainer.prototype.updateKeyByIterator = function(e, r) {\n        var i = e.o;\n        if (i === this.h) {\n            throwIteratorAccessError();\n        }\n        if (this.M === 1) {\n            i.u = r;\n            return true;\n        }\n        if (i === this.h.K) {\n            if (this.$(i.m().u, r) > 0) {\n                i.u = r;\n                return true;\n            }\n            return false;\n        }\n        if (i === this.h.N) {\n            if (this.$(i.L().u, r) < 0) {\n                i.u = r;\n                return true;\n            }\n            return false;\n        }\n        var t = i.L().u;\n        if (this.$(t, r) >= 0) return false;\n        var n = i.m().u;\n        if (this.$(n, r) <= 0) return false;\n        i.u = r;\n        return true;\n    };\n    TreeContainer.prototype.eraseElementByPos = function(e) {\n        if (e < 0 || e > this.M - 1) {\n            throw new RangeError;\n        }\n        var r = 0;\n        var i = this;\n        this.ae(this.W, (function(t) {\n            if (e === r) {\n                i.G(t);\n                return true;\n            }\n            r += 1;\n            return false;\n        }));\n        return this.M;\n    };\n    TreeContainer.prototype.eraseElementByKey = function(e) {\n        if (this.M === 0) return false;\n        var r = this.g(this.W, e);\n        if (r === this.h) return false;\n        this.G(r);\n        return true;\n    };\n    TreeContainer.prototype.eraseElementByIterator = function(e) {\n        var r = e.o;\n        if (r === this.h) {\n            throwIteratorAccessError();\n        }\n        var i = r.N === undefined;\n        var t = e.iteratorType === 0;\n        if (t) {\n            if (i) e.next();\n        } else {\n            if (!i || r.K === undefined) e.next();\n        }\n        this.G(r);\n        return e;\n    };\n    TreeContainer.prototype.forEach = function(e) {\n        var r, i;\n        var t = 0;\n        try {\n            for (var n = __values(this), s = n.next(); !s.done; s = n.next()) {\n                var f = s.value;\n                e(f, t++, this);\n            }\n        } catch (e) {\n            r = {\n                error: e\n            };\n        } finally {\n            try {\n                if (s && !s.done && (i = n.return)) i.call(n);\n            } finally {\n                if (r) throw r.error;\n            }\n        }\n    };\n    TreeContainer.prototype.getElementByPos = function(e) {\n        var r, i;\n        if (e < 0 || e > this.M - 1) {\n            throw new RangeError;\n        }\n        var t;\n        var n = 0;\n        try {\n            for (var s = __values(this), f = s.next(); !f.done; f = s.next()) {\n                var h = f.value;\n                if (n === e) {\n                    t = h;\n                    break;\n                }\n                n += 1;\n            }\n        } catch (e) {\n            r = {\n                error: e\n            };\n        } finally {\n            try {\n                if (f && !f.done && (i = s.return)) i.call(s);\n            } finally {\n                if (r) throw r.error;\n            }\n        }\n        return t;\n    };\n    TreeContainer.prototype.getHeight = function() {\n        if (this.M === 0) return 0;\n        var traversal = function(e) {\n            if (!e) return 0;\n            return Math.max(traversal(e.K), traversal(e.N)) + 1;\n        };\n        return traversal(this.W);\n    };\n    return TreeContainer;\n}(Container);\n\nexport default TreeContainer;\n//# sourceMappingURL=index.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(r, t) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(r, t) {\n            r.__proto__ = t;\n        } || function(r, t) {\n            for (var e in t) if (Object.prototype.hasOwnProperty.call(t, e)) r[e] = t[e];\n        };\n        return extendStatics(r, t);\n    };\n    return function(r, t) {\n        if (typeof t !== \"function\" && t !== null) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n        extendStatics(r, t);\n        function __() {\n            this.constructor = r;\n        }\n        r.prototype = t === null ? Object.create(t) : (__.prototype = t.prototype, new __);\n    };\n}();\n\nimport { ContainerIterator } from \"../../ContainerBase\";\n\nimport { throwIteratorAccessError } from \"../../../utils/throwError\";\n\nvar TreeIterator = function(r) {\n    __extends(TreeIterator, r);\n    function TreeIterator(t, e, i) {\n        var n = r.call(this, i) || this;\n        n.o = t;\n        n.h = e;\n        if (n.iteratorType === 0) {\n            n.pre = function() {\n                if (this.o === this.h.K) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.L();\n                return this;\n            };\n            n.next = function() {\n                if (this.o === this.h) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.m();\n                return this;\n            };\n        } else {\n            n.pre = function() {\n                if (this.o === this.h.N) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.m();\n                return this;\n            };\n            n.next = function() {\n                if (this.o === this.h) {\n                    throwIteratorAccessError();\n                }\n                this.o = this.o.L();\n                return this;\n            };\n        }\n        return n;\n    }\n    Object.defineProperty(TreeIterator.prototype, \"index\", {\n        get: function() {\n            var r = this.o;\n            var t = this.h.rr;\n            if (r === this.h) {\n                if (t) {\n                    return t.tr - 1;\n                }\n                return 0;\n            }\n            var e = 0;\n            if (r.K) {\n                e += r.K.tr;\n            }\n            while (r !== t) {\n                var i = r.rr;\n                if (r === i.N) {\n                    e += 1;\n                    if (i.K) {\n                        e += i.K.tr;\n                    }\n                }\n                r = i;\n            }\n            return e;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return TreeIterator;\n}(ContainerIterator);\n\nexport default TreeIterator;\n//# sourceMappingURL=TreeIterator.js.map\n","var __extends = this && this.t || function() {\n    var extendStatics = function(e, t) {\n        extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n        } instanceof Array && function(e, t) {\n            e.__proto__ = t;\n        } || function(e, t) {\n            for (var r in t) if (Object.prototype.hasOwnProperty.call(t, r)) e[r] = t[r];\n        };\n        return extendStatics(e, t);\n    };\n    return function(e, t) {\n        if (typeof t !== \"function\" && t !== null) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n        extendStatics(e, t);\n        function __() {\n            this.constructor = e;\n        }\n        e.prototype = t === null ? Object.create(t) : (__.prototype = t.prototype, new __);\n    };\n}();\n\nvar __generator = this && this.i || function(e, t) {\n    var r = {\n        label: 0,\n        sent: function() {\n            if (o[0] & 1) throw o[1];\n            return o[1];\n        },\n        trys: [],\n        ops: []\n    }, n, i, o, u;\n    return u = {\n        next: verb(0),\n        throw: verb(1),\n        return: verb(2)\n    }, typeof Symbol === \"function\" && (u[Symbol.iterator] = function() {\n        return this;\n    }), u;\n    function verb(e) {\n        return function(t) {\n            return step([ e, t ]);\n        };\n    }\n    function step(u) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n        while (r) try {\n            if (n = 1, i && (o = u[0] & 2 ? i[\"return\"] : u[0] ? i[\"throw\"] || ((o = i[\"return\"]) && o.call(i), \n            0) : i.next) && !(o = o.call(i, u[1])).done) return o;\n            if (i = 0, o) u = [ u[0] & 2, o.value ];\n            switch (u[0]) {\n              case 0:\n              case 1:\n                o = u;\n                break;\n\n              case 4:\n                r.label++;\n                return {\n                    value: u[1],\n                    done: false\n                };\n\n              case 5:\n                r.label++;\n                i = u[1];\n                u = [ 0 ];\n                continue;\n\n              case 7:\n                u = r.ops.pop();\n                r.trys.pop();\n                continue;\n\n              default:\n                if (!(o = r.trys, o = o.length > 0 && o[o.length - 1]) && (u[0] === 6 || u[0] === 2)) {\n                    r = 0;\n                    continue;\n                }\n                if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) {\n                    r.label = u[1];\n                    break;\n                }\n                if (u[0] === 6 && r.label < o[1]) {\n                    r.label = o[1];\n                    o = u;\n                    break;\n                }\n                if (o && r.label < o[2]) {\n                    r.label = o[2];\n                    r.ops.push(u);\n                    break;\n                }\n                if (o[2]) r.ops.pop();\n                r.trys.pop();\n                continue;\n            }\n            u = t.call(e, r);\n        } catch (e) {\n            u = [ 6, e ];\n            i = 0;\n        } finally {\n            n = o = 0;\n        }\n        if (u[0] & 5) throw u[1];\n        return {\n            value: u[0] ? u[1] : void 0,\n            done: true\n        };\n    }\n};\n\nvar __values = this && this.V || function(e) {\n    var t = typeof Symbol === \"function\" && Symbol.iterator, r = t && e[t], n = 0;\n    if (r) return r.call(e);\n    if (e && typeof e.length === \"number\") return {\n        next: function() {\n            if (e && n >= e.length) e = void 0;\n            return {\n                value: e && e[n++],\n                done: !e\n            };\n        }\n    };\n    throw new TypeError(t ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport TreeContainer from \"./Base\";\n\nimport TreeIterator from \"./Base/TreeIterator\";\n\nimport { throwIteratorAccessError } from \"../../utils/throwError\";\n\nvar OrderedSetIterator = function(e) {\n    __extends(OrderedSetIterator, e);\n    function OrderedSetIterator(t, r, n, i) {\n        var o = e.call(this, t, r, i) || this;\n        o.container = n;\n        return o;\n    }\n    Object.defineProperty(OrderedSetIterator.prototype, \"pointer\", {\n        get: function() {\n            if (this.o === this.h) {\n                throwIteratorAccessError();\n            }\n            return this.o.u;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    OrderedSetIterator.prototype.copy = function() {\n        return new OrderedSetIterator(this.o, this.h, this.container, this.iteratorType);\n    };\n    return OrderedSetIterator;\n}(TreeIterator);\n\nvar OrderedSet = function(e) {\n    __extends(OrderedSet, e);\n    function OrderedSet(t, r, n) {\n        if (t === void 0) {\n            t = [];\n        }\n        var i = e.call(this, r, n) || this;\n        var o = i;\n        t.forEach((function(e) {\n            o.insert(e);\n        }));\n        return i;\n    }\n    OrderedSet.prototype.P = function(e) {\n        return __generator(this, (function(t) {\n            switch (t.label) {\n              case 0:\n                if (e === undefined) return [ 2 ];\n                return [ 5, __values(this.P(e.K)) ];\n\n              case 1:\n                t.sent();\n                return [ 4, e.u ];\n\n              case 2:\n                t.sent();\n                return [ 5, __values(this.P(e.N)) ];\n\n              case 3:\n                t.sent();\n                return [ 2 ];\n            }\n        }));\n    };\n    OrderedSet.prototype.begin = function() {\n        return new OrderedSetIterator(this.h.K || this.h, this.h, this);\n    };\n    OrderedSet.prototype.end = function() {\n        return new OrderedSetIterator(this.h, this.h, this);\n    };\n    OrderedSet.prototype.rBegin = function() {\n        return new OrderedSetIterator(this.h.N || this.h, this.h, this, 1);\n    };\n    OrderedSet.prototype.rEnd = function() {\n        return new OrderedSetIterator(this.h, this.h, this, 1);\n    };\n    OrderedSet.prototype.front = function() {\n        return this.h.K ? this.h.K.u : undefined;\n    };\n    OrderedSet.prototype.back = function() {\n        return this.h.N ? this.h.N.u : undefined;\n    };\n    OrderedSet.prototype.insert = function(e, t) {\n        return this.v(e, undefined, t);\n    };\n    OrderedSet.prototype.find = function(e) {\n        var t = this.g(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.lowerBound = function(e) {\n        var t = this.U(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.upperBound = function(e) {\n        var t = this.X(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.reverseLowerBound = function(e) {\n        var t = this.Y(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.reverseUpperBound = function(e) {\n        var t = this.Z(this.W, e);\n        return new OrderedSetIterator(t, this.h, this);\n    };\n    OrderedSet.prototype.union = function(e) {\n        var t = this;\n        e.forEach((function(e) {\n            t.insert(e);\n        }));\n        return this.M;\n    };\n    OrderedSet.prototype[Symbol.iterator] = function() {\n        return this.P(this.W);\n    };\n    return OrderedSet;\n}(TreeContainer);\n\nexport default OrderedSet;\n//# sourceMappingURL=OrderedSet.js.map\n","module.exports = require(\"zlib\");","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC72305.3.1: When making a request directly to an origin server, []\n  // a client MUST send only the absolute path [] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, []\n    // a client MUST send the target URI in absolute-form [].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","module.exports = require(\"string_decoder\");","'use strict';\n\nconst { isUtf8 } = require('buffer');\n\nconst { hasBlob } = require('./constants');\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Determines whether a value is a `Blob`.\n *\n * @param {*} value The value to be tested\n * @return {Boolean} `true` if `value` is a `Blob`, else `false`\n * @private\n */\nfunction isBlob(value) {\n  return (\n    hasBlob &&\n    typeof value === 'object' &&\n    typeof value.arrayBuffer === 'function' &&\n    typeof value.type === 'string' &&\n    typeof value.stream === 'function' &&\n    (value[Symbol.toStringTag] === 'Blob' ||\n      value[Symbol.toStringTag] === 'File')\n  );\n}\n\nmodule.exports = {\n  isBlob,\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\nif (isUtf8) {\n  module.exports.isValidUTF8 = function (buf) {\n    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\n  };\n} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","// Copyright Takatoshi Kondo 2021\n//\n// Distributed under the MIT License\n\n'use strict'\n\nconst SortedSet = require('js-sdsl').OrderedSet\nconst debugTrace = require('debug')('number-allocator:trace')\nconst debugError = require('debug')('number-allocator:error')\n/**\n * Interval constructor\n * @constructor\n * @param {Number} low  - The lowest value of the interval\n * @param {Number} high - The highest value of the interval\n */\nfunction Interval (low, high) {\n  this.low = low\n  this.high = high\n}\n\nInterval.prototype.equals = function (other) {\n  return this.low === other.low && this.high === other.high\n}\n\nInterval.prototype.compare = function (other) {\n  if (this.low < other.low && this.high < other.low) return -1\n  if (other.low < this.low && other.high < this.low) return 1\n  return 0\n}\n\n/**\n * NumberAllocator constructor.\n * The all numbers are set to vacant status.\n * Time Complexity O(1)\n * @constructor\n * @param {Number} min  - The maximum number of allocatable. The number must be integer.\n * @param {Number} maxh - The minimum number of allocatable. The number must be integer.\n */\nfunction NumberAllocator (min, max) {\n  if (!(this instanceof NumberAllocator)) {\n    return new NumberAllocator(min, max)\n  }\n\n  this.min = min\n  this.max = max\n\n  this.ss = new SortedSet(\n    [],\n    (lhs, rhs) => {\n      return lhs.compare(rhs)\n    }\n  )\n  debugTrace('Create')\n  this.clear()\n}\n\n/**\n * Get the first vacant number. The status of the number is not updated.\n * Time Complexity O(1)\n * @return {Number} - The first vacant number. If all numbers are occupied, return null.\n *                    When alloc() is called then the same value will be allocated.\n */\nNumberAllocator.prototype.firstVacant = function () {\n  if (this.ss.size() === 0) return null\n  return this.ss.front().low\n}\n\n/**\n * Allocate the first vacant number. The number become occupied status.\n * Time Complexity O(1)\n * @return {Number} - The first vacant number. If all numbers are occupied, return null.\n */\nNumberAllocator.prototype.alloc = function () {\n  if (this.ss.size() === 0) {\n    debugTrace('alloc():empty')\n    return null\n  }\n  const it = this.ss.begin()\n  const low = it.pointer.low\n  const high = it.pointer.high\n  const num = low\n  if (num + 1 <= high) {\n    // x|----|\n    this.ss.updateKeyByIterator(it, new Interval(low + 1, high))\n  } else {\n    this.ss.eraseElementByPos(0)\n  }\n  debugTrace('alloc():' + num)\n  return num\n}\n\n/**\n * Use the number. The number become occupied status.\n * If the number has already been occupied, then return false.\n * Time Complexity O(logN) : N is the number of intervals (not numbers)\n * @param {Number} num - The number to request use.\n * @return {Boolean} - If `num` was not occupied, then return true, otherwise return false.\n */\nNumberAllocator.prototype.use = function (num) {\n  const key = new Interval(num, num)\n  const it = this.ss.lowerBound(key)\n  if (!it.equals(this.ss.end())) {\n    const low = it.pointer.low\n    const high = it.pointer.high\n    if (it.pointer.equals(key)) {\n      // |x|\n      this.ss.eraseElementByIterator(it)\n      debugTrace('use():' + num)\n      return true\n    }\n\n    // x |-----|\n    if (low > num) return false\n\n    // |x----|\n    if (low === num) {\n      // x|----|\n      this.ss.updateKeyByIterator(it, new Interval(low + 1, high))\n      debugTrace('use():' + num)\n      return true\n    }\n\n    // |----x|\n    if (high === num) {\n      // |----|x\n      this.ss.updateKeyByIterator(it, new Interval(low, high - 1))\n      debugTrace('use():' + num)\n      return true\n    }\n\n    // |--x--|\n    // x|--|\n    this.ss.updateKeyByIterator(it, new Interval(num + 1, high))\n    // |--|x|--|\n    this.ss.insert(new Interval(low, num - 1))\n    debugTrace('use():' + num)\n    return true\n  }\n\n  debugTrace('use():failed')\n  return false\n}\n\n/**\n * Deallocate the number. The number become vacant status.\n * Time Complexity O(logN) : N is the number of intervals (not numbers)\n * @param {Number} num - The number to deallocate. The number must be occupied status.\n *                       In other words, the number must be allocated by alloc() or occupied be use().\n */\nNumberAllocator.prototype.free = function (num) {\n  if (num < this.min || num > this.max) {\n    debugError('free():' + num + ' is out of range')\n    return\n  }\n  const key = new Interval(num, num)\n  const it = this.ss.upperBound(key)\n  if (it.equals(this.ss.end())) {\n    // ....v\n    if (it.equals(this.ss.begin())) {\n      // Insert new interval\n      this.ss.insert(key)\n      return\n    }\n    it.pre()\n    const low = it.pointer.high\n    const high = it.pointer.high\n    if (high + 1 === num) {\n      // Concat to left\n      this.ss.updateKeyByIterator(it, new Interval(low, num))\n    } else {\n      // Insert new interval\n      this.ss.insert(key)\n    }\n  } else {\n    if (it.equals(this.ss.begin())) {\n      // v....\n      if (num + 1 === it.pointer.low) {\n        // Concat to right\n        const high = it.pointer.high\n        this.ss.updateKeyByIterator(it, new Interval(num, high))\n      } else {\n        // Insert new interval\n        this.ss.insert(key)\n      }\n    } else {\n      // ..v..\n      const rLow = it.pointer.low\n      const rHigh = it.pointer.high\n      it.pre()\n      const lLow = it.pointer.low\n      const lHigh = it.pointer.high\n      if (lHigh + 1 === num) {\n        if (num + 1 === rLow) {\n          // Concat to left and right\n          this.ss.eraseElementByIterator(it)\n          this.ss.updateKeyByIterator(it, new Interval(lLow, rHigh))\n        } else {\n          // Concat to left\n          this.ss.updateKeyByIterator(it, new Interval(lLow, num))\n        }\n      } else {\n        if (num + 1 === rLow) {\n          // Concat to right\n          this.ss.eraseElementByIterator(it.next())\n          this.ss.insert(new Interval(num, rHigh))\n        } else {\n          // Insert new interval\n          this.ss.insert(key)\n        }\n      }\n    }\n  }\n  debugTrace('free():' + num)\n}\n\n/**\n * Clear all occupied numbers.\n * The all numbers are set to vacant status.\n * Time Complexity O(1)\n */\nNumberAllocator.prototype.clear = function () {\n  debugTrace('clear()')\n  this.ss.clear()\n  this.ss.insert(new Interval(this.min, this.max))\n}\n\n/**\n * Get the number of intervals. Interval is internal structure of this library.\n * This function is for debugging.\n * Time Complexity O(1)\n * @return {Number} - The number of intervals.\n */\nNumberAllocator.prototype.intervalCount = function () {\n  return this.ss.size()\n}\n\n/**\n * Dump the internal structor of the library.\n * This function is for debugging.\n * Time Complexity O(N) : N is the number of intervals (not numbers)\n */\nNumberAllocator.prototype.dump = function () {\n  console.log('length:' + this.ss.size())\n  for (const element of this.ss) {\n    console.log(element)\n  }\n}\n\nmodule.exports = NumberAllocator\n","module.exports = require(\"module\");","'use strict'\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/per_context/primordials.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/per_context/primordials.js\n\n  Don't try to replace with the original file and keep it up to date with the upstream file.\n*/\nmodule.exports = {\n  ArrayIsArray(self) {\n    return Array.isArray(self)\n  },\n  ArrayPrototypeIncludes(self, el) {\n    return self.includes(el)\n  },\n  ArrayPrototypeIndexOf(self, el) {\n    return self.indexOf(el)\n  },\n  ArrayPrototypeJoin(self, sep) {\n    return self.join(sep)\n  },\n  ArrayPrototypeMap(self, fn) {\n    return self.map(fn)\n  },\n  ArrayPrototypePop(self, el) {\n    return self.pop(el)\n  },\n  ArrayPrototypePush(self, el) {\n    return self.push(el)\n  },\n  ArrayPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  Error,\n  FunctionPrototypeCall(fn, thisArgs, ...args) {\n    return fn.call(thisArgs, ...args)\n  },\n  FunctionPrototypeSymbolHasInstance(self, instance) {\n    return Function.prototype[Symbol.hasInstance].call(self, instance)\n  },\n  MathFloor: Math.floor,\n  Number,\n  NumberIsInteger: Number.isInteger,\n  NumberIsNaN: Number.isNaN,\n  NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,\n  NumberParseInt: Number.parseInt,\n  ObjectDefineProperties(self, props) {\n    return Object.defineProperties(self, props)\n  },\n  ObjectDefineProperty(self, name, prop) {\n    return Object.defineProperty(self, name, prop)\n  },\n  ObjectGetOwnPropertyDescriptor(self, name) {\n    return Object.getOwnPropertyDescriptor(self, name)\n  },\n  ObjectKeys(obj) {\n    return Object.keys(obj)\n  },\n  ObjectSetPrototypeOf(target, proto) {\n    return Object.setPrototypeOf(target, proto)\n  },\n  Promise,\n  PromisePrototypeCatch(self, fn) {\n    return self.catch(fn)\n  },\n  PromisePrototypeThen(self, thenFn, catchFn) {\n    return self.then(thenFn, catchFn)\n  },\n  PromiseReject(err) {\n    return Promise.reject(err)\n  },\n  PromiseResolve(val) {\n    return Promise.resolve(val)\n  },\n  ReflectApply: Reflect.apply,\n  RegExpPrototypeTest(self, value) {\n    return self.test(value)\n  },\n  SafeSet: Set,\n  String,\n  StringPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  StringPrototypeToLowerCase(self) {\n    return self.toLowerCase()\n  },\n  StringPrototypeToUpperCase(self) {\n    return self.toUpperCase()\n  },\n  StringPrototypeTrim(self) {\n    return self.trim()\n  },\n  Symbol,\n  SymbolFor: Symbol.for,\n  SymbolAsyncIterator: Symbol.asyncIterator,\n  SymbolHasInstance: Symbol.hasInstance,\n  SymbolIterator: Symbol.iterator,\n  SymbolDispose: Symbol.dispose || Symbol('Symbol.dispose'),\n  SymbolAsyncDispose: Symbol.asyncDispose || Symbol('Symbol.asyncDispose'),\n  TypedArrayPrototypeSet(self, buf, len) {\n    return self.set(buf, len)\n  },\n  Boolean: Boolean,\n  Uint8Array\n}\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","import sdk, { MediaObject, ScryptedDeviceBase, ScryptedMimeTypes, Setting, Settings, SettingValue, VideoClip, VideoClipOptions, VideoClips, VideoClipThumbnailOptions } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport { detectionClassesDefaultMap } from \"../../scrypted-advanced-notifier/src/detectionClasses\";\nimport { baseFrigateApi, FrigateVideoClip, pluginId } from \"./utils\";\nimport FrigateBridgeVideoclips from \"./videoclips\";\nimport { sortBy } from \"lodash\";\nimport axios from \"axios\";\n\nexport class FrigateBridgeVideoclipsMixin extends SettingsMixinDeviceBase<any> implements Settings, VideoClips {\n    storageSettings = new StorageSettings(this, {\n        cameraName: {\n            title: 'Frigate camera name',\n            type: 'string',\n            immediate: true,\n        },\n    });\n\n    logger: Console;\n    cameraDevice: ScryptedDeviceBase;\n\n    constructor(\n        options: SettingsMixinDeviceOptions<any>,\n        public plugin: FrigateBridgeVideoclips\n    ) {\n        super(options);\n        this.cameraDevice = sdk.systemManager.getDeviceById<ScryptedDeviceBase>(this.id);\n\n        this.plugin.currentMixinsMap[this.id] = this;\n\n        const logger = this.getLogger();\n        this.init().catch(logger.error);\n    }\n\n    async init() {\n        if (this.pluginId === pluginId) {\n            const [_, cameraName] = this.nativeId.split('_');\n            await this.storageSettings.putSetting('cameraName', cameraName);\n            this.storageSettings.settings.cameraName.readonly = true;\n        }\n    }\n\n    getLogger() {\n        if (!this.logger) {\n            this.logger = this.plugin.plugin.getLogger({\n                console: this.console,\n                storage: this.storageSettings,\n            });\n        }\n\n        return this.logger;\n    }\n\n    getVideoclipUrls(eventId: string) {\n        const videoUrl = `${this.plugin.plugin.storageSettings.values.serverUrl}/events/${eventId}/clip.mp4`;\n        const snapshotCleanUrl = `${this.plugin.plugin.storageSettings.values.serverUrl}/events/${eventId}/snapshot-clean.png`;\n        const thumbnailUrl = `${this.plugin.plugin.storageSettings.values.serverUrl}/events/${eventId}/thumbnail.jpg`;\n\n        return {\n            videoUrl,\n            thumbnailUrl,\n            snapshotCleanUrl,\n        };\n    }\n\n    async getVideoclipWebhookUrls(eventId: string) {\n        const logger = this.getLogger();\n\n        let url: string;\n        try {\n            try {\n                url = await sdk.endpointManager.getCloudEndpoint(undefined, { public: true });\n            } catch {\n                url = await sdk.endpointManager.getLocalEndpoint(undefined, { public: true })\n            }\n\n            const [endpoint, parameters] = url.split('?') ?? '';\n            const params = {\n                deviceId: this.id,\n                eventId,\n            }\n            const pathnamePrefix = new URL(url).pathname;\n\n            const parametersParsed = parameters ? `&${parameters}` : '';\n            const videoclipUrl = `${endpoint}videoclip?params=${JSON.stringify(params)}${parametersParsed}`;\n            const thumbnailUrl = `${endpoint}thumbnail?params=${JSON.stringify(params)}${parametersParsed}`;\n            const videoclipHref = `${pathnamePrefix}videoclip?params=${JSON.stringify(params)}${parametersParsed}`;\n            const thumbnailHref = `${pathnamePrefix}thumbnail?params=${JSON.stringify(params)}${parametersParsed}`;\n\n            return { videoclipUrl, thumbnailUrl, videoclipHref, thumbnailHref };\n        } catch (e) {\n            logger.log(`Error fetching cloud endpoint`, e);\n            return {};\n        }\n    }\n\n    async getVideoClips(options?: VideoClipOptions): Promise<VideoClip[]> {\n        const { count, endTime, startTime } = options ?? {};\n        const { cameraName } = this.storageSettings.values;\n        const logger = this.getLogger();\n\n        const videoclips: VideoClip[] = [];\n\n        try {\n            const deviceClips = await this.mixinDevice.getVideoClips(options);\n            videoclips.push(...deviceClips);\n        } catch { }\n\n        if (!cameraName) {\n            logger.log('Camera name not set');\n            return videoclips;\n        }\n\n        try {\n            const service = `events`;\n\n            const params = {\n                camera: cameraName,\n                after: startTime / 1000,\n                before: endTime / 1000,\n                limit: count || 10000,\n                // has_clip: true,\n                // has_snapshot: true,\n                // in_progress: false,\n                // include_thumbnails: false,\n            };\n\n            const res = await baseFrigateApi({\n                apiUrl: this.plugin.plugin.storageSettings.values.serverUrl,\n                service,\n                params\n            });\n\n            logger.debug('getFrigateEvents', options, res.data);\n\n            const events = res.data as FrigateVideoClip[];\n            const filteredEvents = events\n                .filter(event =>\n                    event.has_clip &&\n                    event.has_snapshot &&\n                    event.data.type === 'object'\n                );\n            // .filter(event => event.has_clip && event.has_snapshot && event.data.max_severity === 'alert');\n\n            for (const event of filteredEvents) {\n                const startTime = event.start_time * 1000;\n                const endTime = event.end_time * 1000;\n                const { thumbnailUrl, videoclipUrl } = await this.getVideoclipWebhookUrls(event.id);\n\n                const videoclip: VideoClip = {\n                    id: event.id,\n                    startTime,\n                    duration: endTime - startTime,\n                    description: pluginId,\n                    detectionClasses: [detectionClassesDefaultMap[event.label]],\n                    event: event.label,\n                    thumbnailId: event.id,\n                    videoId: event.id,\n                    resources: {\n                        video: {\n                            href: videoclipUrl,\n                        },\n                        thumbnail: {\n                            href: thumbnailUrl,\n                        },\n                    }\n                };\n\n                videoclips.push(videoclip);\n            }\n\n            return sortBy(videoclips, 'startTime');;\n        } catch (e) {\n            logger.error('Error in getRecordedEvents', e);\n            return [];\n        }\n    }\n\n    async getVideoClip(videoId: string): Promise<MediaObject> {\n        const logger = this.getLogger();\n\n        try {\n            const { videoUrl } = this.getVideoclipUrls(videoId);\n            await axios.get(videoUrl, {\n                headers: {\n                    Range: \"bytes=0-99\"\n                },\n                responseType: \"arraybuffer\",\n            });\n\n            const { videoclipUrl } = await this.getVideoclipWebhookUrls(videoId);\n            const mo = await sdk.mediaManager.createMediaObject(Buffer.from(videoclipUrl), ScryptedMimeTypes.LocalUrl, {\n                sourceId: this.plugin.id\n            });\n\n            return mo;\n        } catch {\n            try {\n                return this.mixinDevice.getVideoClip(videoId);\n            } catch (e) {\n                logger.error('Error in getVideoClip', videoId, e);\n            }\n        }\n    }\n\n    async getVideoClipThumbnail(thumbnailId: string, options?: VideoClipThumbnailOptions): Promise<MediaObject> {\n        const logger = this.getLogger();\n\n        try {\n            const { thumbnailUrl } = this.getVideoclipUrls(thumbnailId);\n            const jpeg = await axios.get(thumbnailUrl, {\n                responseType: \"arraybuffer\",\n            });\n\n            const mo = await sdk.mediaManager.createMediaObject(jpeg.data, 'image/jpeg');\n\n            return mo;\n        } catch {\n            try {\n                return this.mixinDevice.getVideoClipThumbnail(thumbnailId, options);\n            } catch (e) {\n                logger.error('Error in getVideoClipThumbnail', thumbnailId, e);\n            }\n        }\n    }\n\n    removeVideoClips(...videoClipIds: string[]): Promise<void> {\n        throw new Error(\"Method not implemented.\");\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        try {\n            this.storageSettings.settings.cameraName.choices = this.plugin.plugin.storageSettings.values.cameras;\n\n            return this.storageSettings.getSettings();\n        } catch (e) {\n            this.getLogger().log('Error in getMixinSettings', e);\n            return [];\n        }\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        const [group, ...rest] = key.split(':');\n        if (group === this.settingsGroupKey) {\n            this.storageSettings.putSetting(rest.join(':'), value);\n        } else {\n            super.putSetting(key, value);\n        }\n    }\n\n    async putMixinSetting(key: string, value: string) {\n        this.storageSettings.putSetting(key, value);\n    }\n\n    async release() {\n        const logger = this.getLogger();\n        logger.info('Releasing mixin');\n    }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst fs_1 = __importDefault(require(\"fs\"));\nconst index_1 = require(\"../types/gen/index\");\nconst module_1 = require(\"module\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = exports.sdk.deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = exports.sdk.deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = exports.sdk.deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = exports.sdk.systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = exports.sdk.deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = exports.sdk.deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (exports.sdk.deviceManager.getMixinConsole)\n                this._console = exports.sdk.deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = exports.sdk.deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let loaded = false;\n    try {\n        // todo: remove usage of process.env.SCRYPTED_SDK_MODULE, only existed in prerelease builds.\n        // import.meta is not a reliable way to detect es module support in webpack since webpack\n        // evaluates that to true at runtime.\n        const esModule = process.env.SCRYPTED_SDK_ES_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        const cjsModule = process.env.SCRYPTED_SDK_CJS_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        // @ts-expect-error\n        if (esModule && typeof import.meta !== 'undefined') {\n            // @ts-expect-error\n            const require = (0, module_1.createRequire)(import.meta.url);\n            const sdkModule = require(esModule);\n            Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n            loaded = true;\n        }\n        else if (cjsModule) {\n            // @ts-expect-error\n            if (typeof __non_webpack_require__ !== 'undefined') {\n                // @ts-expect-error\n                const sdkModule = __non_webpack_require__(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n            else {\n                const sdkModule = require(cjsModule);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n        }\n    }\n    catch (e) {\n        console.warn(\"failed to load sdk module\", e);\n        throw e;\n    }\n    if (!loaded) {\n        let runtimeAPI;\n        try {\n            runtimeAPI = pluginRuntimeAPI;\n        }\n        catch (e) {\n        }\n        Object.assign(exports.sdk, {\n            log: deviceManager.getDeviceLogger(undefined),\n            deviceManager,\n            endpointManager,\n            mediaManager,\n            systemManager,\n            pluginHostAPI,\n            ...runtimeAPI,\n        });\n    }\n    try {\n        let descriptors = {\n            ...index_1.ScryptedInterfaceDescriptors,\n        };\n        try {\n            const sdkJson = JSON.parse(fs_1.default.readFileSync('../sdk.json').toString());\n            const customDescriptors = sdkJson.interfaceDescriptors;\n            if (customDescriptors) {\n                descriptors = {\n                    ...descriptors,\n                    ...customDescriptors,\n                };\n            }\n        }\n        catch (e) {\n            console.warn('failed to load custom interface descriptors', e);\n        }\n        exports.sdk.systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, descriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 3891;\nmodule.exports = webpackEmptyContext;","// Copyright Takatoshi Kondo 2021\n//\n// Distributed under the MIT License\n\nconst NumberAllocator = require('./lib/number-allocator.js')\n\nmodule.exports.NumberAllocator = NumberAllocator\n","exports.parser = require('./parser').parser\nexports.generate = require('./generate')\nexports.writeToStream = require('./writeToStream')\n","'use strict'\n\nconst bufferModule = require('buffer')\nconst { kResistStopPropagation, SymbolDispose } = require('./primordials')\nconst AbortSignal = globalThis.AbortSignal || require('abort-controller').AbortSignal\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst AsyncFunction = Object.getPrototypeOf(async function () {}).constructor\nconst Blob = globalThis.Blob || bufferModule.Blob\n/* eslint-disable indent */\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        // eslint-disable-next-line indent\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n/* eslint-enable indent */\n\nconst validateAbortSignal = (signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nconst validateFunction = (value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n}\n\n// This is a simplified version of AggregateError\nclass AggregateError extends Error {\n  constructor(errors) {\n    if (!Array.isArray(errors)) {\n      throw new TypeError(`Expected input to be an Array, got ${typeof errors}`)\n    }\n    let message = ''\n    for (let i = 0; i < errors.length; i++) {\n      message += `    ${errors[i].stack}\\n`\n    }\n    super(message)\n    this.name = 'AggregateError'\n    this.errors = errors\n  }\n}\nmodule.exports = {\n  AggregateError,\n  kEmptyObject: Object.freeze({}),\n  once(callback) {\n    let called = false\n    return function (...args) {\n      if (called) {\n        return\n      }\n      called = true\n      callback.apply(this, args)\n    }\n  },\n  createDeferredPromise: function () {\n    let resolve\n    let reject\n\n    // eslint-disable-next-line promise/param-names\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    return {\n      promise,\n      resolve,\n      reject\n    }\n  },\n  promisify(fn) {\n    return new Promise((resolve, reject) => {\n      fn((err, ...args) => {\n        if (err) {\n          return reject(err)\n        }\n        return resolve(...args)\n      })\n    })\n  },\n  debuglog() {\n    return function () {}\n  },\n  format(format, ...args) {\n    // Simplified version of https://nodejs.org/api/util.html#utilformatformat-args\n    return format.replace(/%([sdifj])/g, function (...[_unused, type]) {\n      const replacement = args.shift()\n      if (type === 'f') {\n        return replacement.toFixed(6)\n      } else if (type === 'j') {\n        return JSON.stringify(replacement)\n      } else if (type === 's' && typeof replacement === 'object') {\n        const ctor = replacement.constructor !== Object ? replacement.constructor.name : ''\n        return `${ctor} {}`.trim()\n      } else {\n        return replacement.toString()\n      }\n    })\n  },\n  inspect(value) {\n    // Vastly simplified version of https://nodejs.org/api/util.html#utilinspectobject-options\n    switch (typeof value) {\n      case 'string':\n        if (value.includes(\"'\")) {\n          if (!value.includes('\"')) {\n            return `\"${value}\"`\n          } else if (!value.includes('`') && !value.includes('${')) {\n            return `\\`${value}\\``\n          }\n        }\n        return `'${value}'`\n      case 'number':\n        if (isNaN(value)) {\n          return 'NaN'\n        } else if (Object.is(value, -0)) {\n          return String(value)\n        }\n        return value\n      case 'bigint':\n        return `${String(value)}n`\n      case 'boolean':\n      case 'undefined':\n        return String(value)\n      case 'object':\n        return '{}'\n    }\n  },\n  types: {\n    isAsyncFunction(fn) {\n      return fn instanceof AsyncFunction\n    },\n    isArrayBufferView(arr) {\n      return ArrayBuffer.isView(arr)\n    }\n  },\n  isBlob,\n  deprecate(fn, message) {\n    return fn\n  },\n  addAbortListener:\n    require('events').addAbortListener ||\n    function addAbortListener(signal, listener) {\n      if (signal === undefined) {\n        throw new ERR_INVALID_ARG_TYPE('signal', 'AbortSignal', signal)\n      }\n      validateAbortSignal(signal, 'signal')\n      validateFunction(listener, 'listener')\n      let removeEventListener\n      if (signal.aborted) {\n        queueMicrotask(() => listener())\n      } else {\n        signal.addEventListener('abort', listener, {\n          __proto__: null,\n          once: true,\n          [kResistStopPropagation]: true\n        })\n        removeEventListener = () => {\n          signal.removeEventListener('abort', listener)\n        }\n      }\n      return {\n        __proto__: null,\n        [SymbolDispose]() {\n          var _removeEventListener\n          ;(_removeEventListener = removeEventListener) === null || _removeEventListener === undefined\n            ? undefined\n            : _removeEventListener()\n        }\n      }\n    },\n  AbortSignalAny:\n    AbortSignal.any ||\n    function AbortSignalAny(signals) {\n      // Fast path if there is only one signal.\n      if (signals.length === 1) {\n        return signals[0]\n      }\n      const ac = new AbortController()\n      const abort = () => ac.abort()\n      signals.forEach((signal) => {\n        validateAbortSignal(signal, 'signals')\n        signal.addEventListener('abort', abort, {\n          once: true\n        })\n      })\n      ac.signal.addEventListener(\n        'abort',\n        () => {\n          signals.forEach((signal) => signal.removeEventListener('abort', abort))\n        },\n        {\n          once: true\n        }\n      )\n      return ac.signal\n    }\n}\nmodule.exports.promisify.custom = Symbol.for('nodejs.util.promisify.custom')\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","import { MixinProvider, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, SettingValue, WritableDeviceState } from \"@scrypted/sdk\";\nimport { StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport { getMqttBasicClient, logLevelSetting } from '../../scrypted-apocaliss-base/src/basePlugin';\nimport FrigateBridgePlugin from \"./main\";\nimport { FRIGATE_AUDIO_DETECTOR_INTERFACE, isAudioLevelValue } from \"./utils\";\nimport { FrigateBridgeAudioDetectorMixin } from \"./audioDetectorMixin\";\nimport MqttClient, { MqttMessageCb } from \"../../scrypted-apocaliss-base/src/mqtt-client\";\n\nconst audioTopic = `frigate/+/audio/+`;\n\nexport default class FrigateBridgeAudioDetector extends ScryptedDeviceBase implements MixinProvider {\n    initStorage: StorageSettingsDict<string> = {\n        logLevel: {\n            ...logLevelSetting,\n        },\n    };\n    storageSettings = new StorageSettings(this, this.initStorage);\n    currentMixinsMap: Record<string, FrigateBridgeAudioDetectorMixin> = {};\n    plugin: FrigateBridgePlugin;\n    logger: Console;\n    mqttCb: MqttMessageCb;\n    initializingMqtt = false;\n    public mqttClient: MqttClient;\n\n    constructor(nativeId: string, plugin: FrigateBridgePlugin) {\n        super(nativeId);\n        this.plugin = plugin;\n        this.startStop(this.storageSettings.values.pluginEnabled).then().catch(this.getLogger().log);\n    }\n\n    async startStop(enabled: boolean) {\n        if (enabled) {\n            await this.start();\n        } else {\n            await this.stop();\n        }\n    }\n\n    async stop() {\n    }\n\n    async start() {\n        try {\n            await this.startMqttListener();\n        } catch (e) {\n            this.getLogger().log(`Error in initFlow`, e);\n        }\n    }\n\n    async startMqttListener() {\n        const mqttClient = await this.getMqttClient();\n        const logger = this.getLogger();\n\n        this.mqttCb = async (messageTopic, message) => {\n            const [_, camera, __, eventSubType] = messageTopic.split('/');\n\n            if (isAudioLevelValue(eventSubType)) {\n                // frigate/salone/audio/rms\n                // frigate/salone/audio/dBFS\n                logger.info(`Audio level message received ${messageTopic} ${message}: ${camera} ${eventSubType}`);\n                const foundMixin = Object.values(this.currentMixinsMap).find(mixin => {\n                    const { cameraName } = mixin.storageSettings.values;\n\n                    return cameraName === camera;\n                });\n\n                if (foundMixin) {\n                    await foundMixin.onFrigateAudioEvent(eventSubType, message);\n                }\n            }\n        };\n\n        await mqttClient?.subscribe([audioTopic], this.mqttCb);\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    private async setupMqttClient() {\n        const { useMqttPluginCredentials, pluginEnabled } = this.plugin.storageSettings.values;\n        if (pluginEnabled) {\n            this.initializingMqtt = true;\n            const logger = this.getLogger();\n\n            if (this.mqttClient) {\n                this.mqttClient.disconnect();\n                this.mqttClient = undefined;\n            }\n\n            try {\n                this.mqttClient = await getMqttBasicClient({\n                    logger,\n                    useMqttPluginCredentials,\n                    mqttHost: this.plugin.storageSettings.getItem('mqttHost'),\n                    mqttUsename: this.plugin.storageSettings.getItem('mqttUsename'),\n                    mqttPassword: this.plugin.storageSettings.getItem('mqttPassword'),\n                    clientId: 'scrypted_frigate_audio_detectoor',\n                });\n            } catch (e) {\n                logger.log('Error setting up MQTT client', e);\n            } finally {\n                this.initializingMqtt = false;\n            }\n        }\n    }\n\n    async getMqttClient() {\n        if (!this.mqttClient && !this.initializingMqtt) {\n            await this.setupMqttClient();\n        }\n\n        return this.mqttClient;\n    }\n\n    getLogger() {\n        if (!this.logger) {\n            this.logger = this.plugin.getLogger({\n                console: this.console,\n                storage: this.storageSettings,\n            });\n        }\n\n        return this.logger;\n    }\n\n    async getSettings() {\n        try {\n            const settings = await this.storageSettings.getSettings();\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getSettings', e);\n            return [];\n        }\n    }\n\n    async canMixin(type: ScryptedDeviceType, interfaces: string[]): Promise<string[]> {\n        if ((type === ScryptedDeviceType.Camera || type === ScryptedDeviceType.Doorbell) &&\n            (interfaces.includes(ScryptedInterface.VideoCamera) || interfaces.includes(ScryptedInterface.Camera))) {\n            return [\n                ScryptedInterface.Settings,\n                ScryptedInterface.AudioVolumeControl,\n                FRIGATE_AUDIO_DETECTOR_INTERFACE\n            ];\n        }\n\n        return undefined;\n    }\n\n    async getMixin(mixinDevice: any, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n        return new FrigateBridgeAudioDetectorMixin({\n            mixinDevice,\n            mixinDeviceInterfaces,\n            mixinDeviceState,\n            mixinProviderNativeId: this.nativeId,\n            group: 'Frigate Audio Detector',\n            groupKey: 'frigateAudioDetector',\n        }, this)\n    }\n\n    async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n        await mixinDevice.release();\n    }\n}\n\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_browser_1 = __importStar(require(\"./is-browser\"));\nconst worker_timers_1 = require(\"worker-timers\");\nconst workerTimer = {\n    set: worker_timers_1.setInterval,\n    clear: worker_timers_1.clearInterval,\n};\nconst nativeTimer = {\n    set: (func, time) => setInterval(func, time),\n    clear: (timerId) => clearInterval(timerId),\n};\nconst getTimer = (variant) => {\n    switch (variant) {\n        case 'native': {\n            return nativeTimer;\n        }\n        case 'worker': {\n            return workerTimer;\n        }\n        case 'auto':\n        default: {\n            return is_browser_1.default && !is_browser_1.isWebWorker && !is_browser_1.isReactNativeBrowser\n                ? workerTimer\n                : nativeTimer;\n        }\n    }\n};\nexports.default = getTimer;\n//# sourceMappingURL=get-timer.js.map","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst { Duplex } = require('stream');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n   *     automatically send a pong in response to a ping\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      allowSynchronousEvents: true,\n      autoPong: true,\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const upgrade = req.headers.upgrade;\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (key === undefined || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null, undefined, this.options);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      allowSynchronousEvents: this.options.allowSynchronousEvents,\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.5.51\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"buttons\"] = \"buttons\";\n    ScryptedInterfaceProperty[\"sensors\"] = \"sensors\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"resolution\"] = \"resolution\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"sleeping\"] = \"sleeping\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"chatCompletionCapabilities\"] = \"chatCompletionCapabilities\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"pressButton\"] = \"pressButton\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getVideoTextOverlays\"] = \"getVideoTextOverlays\";\n    ScryptedInterfaceMethod[\"setVideoTextOverlay\"] = \"setVideoTextOverlay\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"forkInterface\"] = \"forkInterface\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n    ScryptedInterfaceMethod[\"getChatCompletion\"] = \"getChatCompletion\";\n    ScryptedInterfaceMethod[\"streamChatCompletion\"] = \"streamChatCompletion\";\n    ScryptedInterfaceMethod[\"getTextEmbedding\"] = \"getTextEmbedding\";\n    ScryptedInterfaceMethod[\"getImageEmbedding\"] = \"getImageEmbedding\";\n    ScryptedInterfaceMethod[\"callLLMTool\"] = \"callLLMTool\";\n    ScryptedInterfaceMethod[\"getLLMTools\"] = \"getLLMTools\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    \"ScryptedDevice\": {\n        \"name\": \"ScryptedDevice\",\n        \"methods\": [\n            \"listen\",\n            \"probe\",\n            \"setMixins\",\n            \"setName\",\n            \"setRoom\",\n            \"setType\"\n        ],\n        \"properties\": [\n            \"id\",\n            \"info\",\n            \"interfaces\",\n            \"mixins\",\n            \"name\",\n            \"nativeId\",\n            \"pluginId\",\n            \"providedInterfaces\",\n            \"providedName\",\n            \"providedRoom\",\n            \"providedType\",\n            \"providerId\",\n            \"room\",\n            \"type\"\n        ]\n    },\n    \"ScryptedPlugin\": {\n        \"name\": \"ScryptedPlugin\",\n        \"methods\": [\n            \"getPluginJson\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedPluginRuntime\": {\n        \"name\": \"ScryptedPluginRuntime\",\n        \"methods\": [],\n        \"properties\": [\n            \"scryptedRuntimeArguments\"\n        ]\n    },\n    \"OnOff\": {\n        \"name\": \"OnOff\",\n        \"methods\": [\n            \"turnOff\",\n            \"turnOn\"\n        ],\n        \"properties\": [\n            \"on\"\n        ]\n    },\n    \"Brightness\": {\n        \"name\": \"Brightness\",\n        \"methods\": [\n            \"setBrightness\"\n        ],\n        \"properties\": [\n            \"brightness\"\n        ]\n    },\n    \"ColorSettingTemperature\": {\n        \"name\": \"ColorSettingTemperature\",\n        \"methods\": [\n            \"getTemperatureMaxK\",\n            \"getTemperatureMinK\",\n            \"setColorTemperature\"\n        ],\n        \"properties\": [\n            \"colorTemperature\"\n        ]\n    },\n    \"ColorSettingRgb\": {\n        \"name\": \"ColorSettingRgb\",\n        \"methods\": [\n            \"setRgb\"\n        ],\n        \"properties\": [\n            \"rgb\"\n        ]\n    },\n    \"ColorSettingHsv\": {\n        \"name\": \"ColorSettingHsv\",\n        \"methods\": [\n            \"setHsv\"\n        ],\n        \"properties\": [\n            \"hsv\"\n        ]\n    },\n    \"Buttons\": {\n        \"name\": \"Buttons\",\n        \"methods\": [],\n        \"properties\": [\n            \"buttons\"\n        ]\n    },\n    \"PressButtons\": {\n        \"name\": \"PressButtons\",\n        \"methods\": [\n            \"pressButton\"\n        ],\n        \"properties\": []\n    },\n    \"Sensors\": {\n        \"name\": \"Sensors\",\n        \"methods\": [],\n        \"properties\": [\n            \"sensors\"\n        ]\n    },\n    \"Notifier\": {\n        \"name\": \"Notifier\",\n        \"methods\": [\n            \"sendNotification\"\n        ],\n        \"properties\": []\n    },\n    \"StartStop\": {\n        \"name\": \"StartStop\",\n        \"methods\": [\n            \"start\",\n            \"stop\"\n        ],\n        \"properties\": [\n            \"running\"\n        ]\n    },\n    \"Pause\": {\n        \"name\": \"Pause\",\n        \"methods\": [\n            \"pause\",\n            \"resume\"\n        ],\n        \"properties\": [\n            \"paused\"\n        ]\n    },\n    \"Dock\": {\n        \"name\": \"Dock\",\n        \"methods\": [\n            \"dock\"\n        ],\n        \"properties\": [\n            \"docked\"\n        ]\n    },\n    \"TemperatureSetting\": {\n        \"name\": \"TemperatureSetting\",\n        \"methods\": [\n            \"setTemperature\"\n        ],\n        \"properties\": [\n            \"temperatureSetting\"\n        ]\n    },\n    \"Thermometer\": {\n        \"name\": \"Thermometer\",\n        \"methods\": [\n            \"setTemperatureUnit\"\n        ],\n        \"properties\": [\n            \"temperature\",\n            \"temperatureUnit\"\n        ]\n    },\n    \"HumiditySensor\": {\n        \"name\": \"HumiditySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"humidity\"\n        ]\n    },\n    \"Camera\": {\n        \"name\": \"Camera\",\n        \"methods\": [\n            \"getPictureOptions\",\n            \"takePicture\"\n        ],\n        \"properties\": []\n    },\n    \"Resolution\": {\n        \"name\": \"Resolution\",\n        \"methods\": [],\n        \"properties\": [\n            \"resolution\"\n        ]\n    },\n    \"Microphone\": {\n        \"name\": \"Microphone\",\n        \"methods\": [\n            \"getAudioStream\"\n        ],\n        \"properties\": []\n    },\n    \"AudioVolumeControl\": {\n        \"name\": \"AudioVolumeControl\",\n        \"methods\": [\n            \"setAudioVolumes\"\n        ],\n        \"properties\": [\n            \"audioVolumes\"\n        ]\n    },\n    \"Display\": {\n        \"name\": \"Display\",\n        \"methods\": [\n            \"startDisplay\",\n            \"stopDisplay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCamera\": {\n        \"name\": \"VideoCamera\",\n        \"methods\": [\n            \"getVideoStream\",\n            \"getVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraMask\": {\n        \"name\": \"VideoCameraMask\",\n        \"methods\": [\n            \"getPrivacyMasks\",\n            \"setPrivacyMasks\"\n        ],\n        \"properties\": []\n    },\n    \"VideoTextOverlays\": {\n        \"name\": \"VideoTextOverlays\",\n        \"methods\": [\n            \"getVideoTextOverlays\",\n            \"setVideoTextOverlay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoRecorder\": {\n        \"name\": \"VideoRecorder\",\n        \"methods\": [\n            \"getRecordingStream\",\n            \"getRecordingStreamCurrentTime\",\n            \"getRecordingStreamOptions\",\n            \"getRecordingStreamThumbnail\"\n        ],\n        \"properties\": [\n            \"recordingActive\"\n        ]\n    },\n    \"VideoRecorderManagement\": {\n        \"name\": \"VideoRecorderManagement\",\n        \"methods\": [\n            \"deleteRecordingStream\",\n            \"setRecordingActive\"\n        ],\n        \"properties\": []\n    },\n    \"PanTiltZoom\": {\n        \"name\": \"PanTiltZoom\",\n        \"methods\": [\n            \"ptzCommand\"\n        ],\n        \"properties\": [\n            \"ptzCapabilities\"\n        ]\n    },\n    \"EventRecorder\": {\n        \"name\": \"EventRecorder\",\n        \"methods\": [\n            \"getRecordedEvents\"\n        ],\n        \"properties\": []\n    },\n    \"VideoClips\": {\n        \"name\": \"VideoClips\",\n        \"methods\": [\n            \"getVideoClip\",\n            \"getVideoClips\",\n            \"getVideoClipThumbnail\",\n            \"removeVideoClips\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraConfiguration\": {\n        \"name\": \"VideoCameraConfiguration\",\n        \"methods\": [\n            \"setVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"Intercom\": {\n        \"name\": \"Intercom\",\n        \"methods\": [\n            \"startIntercom\",\n            \"stopIntercom\"\n        ],\n        \"properties\": []\n    },\n    \"Lock\": {\n        \"name\": \"Lock\",\n        \"methods\": [\n            \"lock\",\n            \"unlock\"\n        ],\n        \"properties\": [\n            \"lockState\"\n        ]\n    },\n    \"PasswordStore\": {\n        \"name\": \"PasswordStore\",\n        \"methods\": [\n            \"addPassword\",\n            \"getPasswords\",\n            \"removePassword\"\n        ],\n        \"properties\": []\n    },\n    \"Scene\": {\n        \"name\": \"Scene\",\n        \"methods\": [\n            \"activate\",\n            \"deactivate\",\n            \"isReversible\"\n        ],\n        \"properties\": []\n    },\n    \"Entry\": {\n        \"name\": \"Entry\",\n        \"methods\": [\n            \"closeEntry\",\n            \"openEntry\"\n        ],\n        \"properties\": []\n    },\n    \"EntrySensor\": {\n        \"name\": \"EntrySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"entryOpen\"\n        ]\n    },\n    \"DeviceProvider\": {\n        \"name\": \"DeviceProvider\",\n        \"methods\": [\n            \"getDevice\",\n            \"releaseDevice\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceDiscovery\": {\n        \"name\": \"DeviceDiscovery\",\n        \"methods\": [\n            \"adoptDevice\",\n            \"discoverDevices\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceCreator\": {\n        \"name\": \"DeviceCreator\",\n        \"methods\": [\n            \"createDevice\",\n            \"getCreateDeviceSettings\"\n        ],\n        \"properties\": []\n    },\n    \"Battery\": {\n        \"name\": \"Battery\",\n        \"methods\": [],\n        \"properties\": [\n            \"batteryLevel\"\n        ]\n    },\n    \"Charger\": {\n        \"name\": \"Charger\",\n        \"methods\": [],\n        \"properties\": [\n            \"chargeState\"\n        ]\n    },\n    \"Reboot\": {\n        \"name\": \"Reboot\",\n        \"methods\": [\n            \"reboot\"\n        ],\n        \"properties\": []\n    },\n    \"Refresh\": {\n        \"name\": \"Refresh\",\n        \"methods\": [\n            \"getRefreshFrequency\",\n            \"refresh\"\n        ],\n        \"properties\": []\n    },\n    \"MediaPlayer\": {\n        \"name\": \"MediaPlayer\",\n        \"methods\": [\n            \"getMediaStatus\",\n            \"load\",\n            \"seek\",\n            \"skipNext\",\n            \"skipPrevious\"\n        ],\n        \"properties\": []\n    },\n    \"Online\": {\n        \"name\": \"Online\",\n        \"methods\": [],\n        \"properties\": [\n            \"online\"\n        ]\n    },\n    \"BufferConverter\": {\n        \"name\": \"BufferConverter\",\n        \"methods\": [\n            \"convert\"\n        ],\n        \"properties\": [\n            \"fromMimeType\",\n            \"toMimeType\"\n        ]\n    },\n    \"MediaConverter\": {\n        \"name\": \"MediaConverter\",\n        \"methods\": [\n            \"convertMedia\"\n        ],\n        \"properties\": [\n            \"converters\"\n        ]\n    },\n    \"Settings\": {\n        \"name\": \"Settings\",\n        \"methods\": [\n            \"getSettings\",\n            \"putSetting\"\n        ],\n        \"properties\": []\n    },\n    \"BinarySensor\": {\n        \"name\": \"BinarySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"binaryState\"\n        ]\n    },\n    \"TamperSensor\": {\n        \"name\": \"TamperSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"tampered\"\n        ]\n    },\n    \"Sleep\": {\n        \"name\": \"Sleep\",\n        \"methods\": [],\n        \"properties\": [\n            \"sleeping\"\n        ]\n    },\n    \"PowerSensor\": {\n        \"name\": \"PowerSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"powerDetected\"\n        ]\n    },\n    \"AudioSensor\": {\n        \"name\": \"AudioSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"audioDetected\"\n        ]\n    },\n    \"MotionSensor\": {\n        \"name\": \"MotionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"motionDetected\"\n        ]\n    },\n    \"AmbientLightSensor\": {\n        \"name\": \"AmbientLightSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ambientLight\"\n        ]\n    },\n    \"OccupancySensor\": {\n        \"name\": \"OccupancySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"occupied\"\n        ]\n    },\n    \"FloodSensor\": {\n        \"name\": \"FloodSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"flooded\"\n        ]\n    },\n    \"UltravioletSensor\": {\n        \"name\": \"UltravioletSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ultraviolet\"\n        ]\n    },\n    \"LuminanceSensor\": {\n        \"name\": \"LuminanceSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"luminance\"\n        ]\n    },\n    \"PositionSensor\": {\n        \"name\": \"PositionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"position\"\n        ]\n    },\n    \"SecuritySystem\": {\n        \"name\": \"SecuritySystem\",\n        \"methods\": [\n            \"armSecuritySystem\",\n            \"disarmSecuritySystem\"\n        ],\n        \"properties\": [\n            \"securitySystemState\"\n        ]\n    },\n    \"PM10Sensor\": {\n        \"name\": \"PM10Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm10Density\"\n        ]\n    },\n    \"PM25Sensor\": {\n        \"name\": \"PM25Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm25Density\"\n        ]\n    },\n    \"VOCSensor\": {\n        \"name\": \"VOCSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"vocDensity\"\n        ]\n    },\n    \"NOXSensor\": {\n        \"name\": \"NOXSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"noxDensity\"\n        ]\n    },\n    \"CO2Sensor\": {\n        \"name\": \"CO2Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"co2ppm\"\n        ]\n    },\n    \"AirQualitySensor\": {\n        \"name\": \"AirQualitySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"airQuality\"\n        ]\n    },\n    \"AirPurifier\": {\n        \"name\": \"AirPurifier\",\n        \"methods\": [\n            \"setAirPurifierState\"\n        ],\n        \"properties\": [\n            \"airPurifierState\"\n        ]\n    },\n    \"FilterMaintenance\": {\n        \"name\": \"FilterMaintenance\",\n        \"methods\": [],\n        \"properties\": [\n            \"filterChangeIndication\",\n            \"filterLifeLevel\"\n        ]\n    },\n    \"Readme\": {\n        \"name\": \"Readme\",\n        \"methods\": [\n            \"getReadmeMarkdown\"\n        ],\n        \"properties\": []\n    },\n    \"OauthClient\": {\n        \"name\": \"OauthClient\",\n        \"methods\": [\n            \"getOauthUrl\",\n            \"onOauthCallback\"\n        ],\n        \"properties\": []\n    },\n    \"MixinProvider\": {\n        \"name\": \"MixinProvider\",\n        \"methods\": [\n            \"canMixin\",\n            \"getMixin\",\n            \"releaseMixin\"\n        ],\n        \"properties\": []\n    },\n    \"HttpRequestHandler\": {\n        \"name\": \"HttpRequestHandler\",\n        \"methods\": [\n            \"onRequest\"\n        ],\n        \"properties\": []\n    },\n    \"EngineIOHandler\": {\n        \"name\": \"EngineIOHandler\",\n        \"methods\": [\n            \"onConnection\"\n        ],\n        \"properties\": []\n    },\n    \"PushHandler\": {\n        \"name\": \"PushHandler\",\n        \"methods\": [\n            \"onPush\"\n        ],\n        \"properties\": []\n    },\n    \"Program\": {\n        \"name\": \"Program\",\n        \"methods\": [\n            \"run\"\n        ],\n        \"properties\": []\n    },\n    \"Scriptable\": {\n        \"name\": \"Scriptable\",\n        \"methods\": [\n            \"eval\",\n            \"loadScripts\",\n            \"saveScript\"\n        ],\n        \"properties\": []\n    },\n    \"ClusterForkInterface\": {\n        \"name\": \"ClusterForkInterface\",\n        \"methods\": [\n            \"forkInterface\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetector\": {\n        \"name\": \"ObjectDetector\",\n        \"methods\": [\n            \"getDetectionInput\",\n            \"getObjectTypes\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetection\": {\n        \"name\": \"ObjectDetection\",\n        \"methods\": [\n            \"detectObjects\",\n            \"generateObjectDetections\",\n            \"getDetectionModel\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetectionPreview\": {\n        \"name\": \"ObjectDetectionPreview\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ObjectDetectionGenerator\": {\n        \"name\": \"ObjectDetectionGenerator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"HumiditySetting\": {\n        \"name\": \"HumiditySetting\",\n        \"methods\": [\n            \"setHumidity\"\n        ],\n        \"properties\": [\n            \"humiditySetting\"\n        ]\n    },\n    \"Fan\": {\n        \"name\": \"Fan\",\n        \"methods\": [\n            \"setFan\"\n        ],\n        \"properties\": [\n            \"fan\"\n        ]\n    },\n    \"RTCSignalingChannel\": {\n        \"name\": \"RTCSignalingChannel\",\n        \"methods\": [\n            \"startRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"RTCSignalingClient\": {\n        \"name\": \"RTCSignalingClient\",\n        \"methods\": [\n            \"createRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"LauncherApplication\": {\n        \"name\": \"LauncherApplication\",\n        \"methods\": [],\n        \"properties\": [\n            \"applicationInfo\"\n        ]\n    },\n    \"ScryptedUser\": {\n        \"name\": \"ScryptedUser\",\n        \"methods\": [\n            \"getScryptedUserAccessControl\"\n        ],\n        \"properties\": []\n    },\n    \"VideoFrameGenerator\": {\n        \"name\": \"VideoFrameGenerator\",\n        \"methods\": [\n            \"generateVideoFrames\"\n        ],\n        \"properties\": []\n    },\n    \"StreamService\": {\n        \"name\": \"StreamService\",\n        \"methods\": [\n            \"connectStream\"\n        ],\n        \"properties\": []\n    },\n    \"TTY\": {\n        \"name\": \"TTY\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"TTYSettings\": {\n        \"name\": \"TTYSettings\",\n        \"methods\": [\n            \"getTTYSettings\"\n        ],\n        \"properties\": []\n    },\n    \"ChatCompletion\": {\n        \"name\": \"ChatCompletion\",\n        \"methods\": [\n            \"getChatCompletion\",\n            \"streamChatCompletion\"\n        ],\n        \"properties\": [\n            \"chatCompletionCapabilities\"\n        ]\n    },\n    \"TextEmbedding\": {\n        \"name\": \"TextEmbedding\",\n        \"methods\": [\n            \"getTextEmbedding\"\n        ],\n        \"properties\": []\n    },\n    \"ImageEmbedding\": {\n        \"name\": \"ImageEmbedding\",\n        \"methods\": [\n            \"getImageEmbedding\"\n        ],\n        \"properties\": []\n    },\n    \"LLMTools\": {\n        \"name\": \"LLMTools\",\n        \"methods\": [\n            \"callLLMTool\",\n            \"getLLMTools\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedSystemDevice\": {\n        \"name\": \"ScryptedSystemDevice\",\n        \"methods\": [],\n        \"properties\": [\n            \"systemDevice\"\n        ]\n    },\n    \"ScryptedDeviceCreator\": {\n        \"name\": \"ScryptedDeviceCreator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ScryptedSettings\": {\n        \"name\": \"ScryptedSettings\",\n        \"methods\": [],\n        \"properties\": []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    /**\n     * @deprecated\n     */\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    /**\n     * Internal devices will not show up in device lists unless explicitly searched.\n     */\n    ScryptedDeviceType[\"Internal\"] = \"Internal\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"RemoteDesktop\"] = \"RemoteDesktop\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Buttons\"] = \"Buttons\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Internet\"] = \"Internet\";\n    ScryptedDeviceType[\"Network\"] = \"Network\";\n    ScryptedDeviceType[\"Bridge\"] = \"Bridge\";\n    ScryptedDeviceType[\"LLM\"] = \"LLM\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Buttons\"] = \"Buttons\";\n    ScryptedInterface[\"PressButtons\"] = \"PressButtons\";\n    ScryptedInterface[\"Sensors\"] = \"Sensors\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Resolution\"] = \"Resolution\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoTextOverlays\"] = \"VideoTextOverlays\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"Sleep\"] = \"Sleep\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ClusterForkInterface\"] = \"ClusterForkInterface\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ChatCompletion\"] = \"ChatCompletion\";\n    ScryptedInterface[\"TextEmbedding\"] = \"TextEmbedding\";\n    ScryptedInterface[\"ImageEmbedding\"] = \"ImageEmbedding\";\n    ScryptedInterface[\"LLMTools\"] = \"LLMTools\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","import sdk, { ScryptedDeviceBase, ScryptedDeviceType, Setting, Settings, SettingValue } from \"@scrypted/sdk\";\nimport { StorageSetting, StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport axios from \"axios\";\nimport https from 'https';\nimport MqttClient from './mqtt-client';\nimport { LogLevel } from '../../scrypted-syslog/src/utils';\n\nconst { systemManager } = sdk;\n\ninterface HaEntityState {\n    entity_id: string,\n    state: string,\n    last_reported: string,\n    attributes: {\n        device_class: string,\n        friendly_name: string,\n        unit_of_measurement: string,\n        last_seen: string\n    }\n}\n\nconst httpsAgent = new https.Agent({\n    rejectUnauthorized: false,\n});\n\n\nexport const applySettingsShow = (storageSettings: StorageSettings<any>) => {\n    const hasMqttDevice = !!systemManager.getDeviceByName('MQTT');\n    const hasHaDevice = !!systemManager.getDeviceByName('Home Assistant');\n\n    const { mqttEnabled, useMqttPluginCredentials, haEnabled, useHaPluginCredentials } = storageSettings.values;\n\n    const shouldShowMqtt = hasMqttDevice;\n    const shouldShowHa = hasHaDevice;\n\n    storageSettings.settings.haEnabled.readonly = !shouldShowHa;\n    storageSettings.settings.mqttEnabled.readonly = !shouldShowMqtt;\n\n    storageSettings.settings.mqttEnabled.description = hasMqttDevice ? undefined : 'MQTT plugin not installed. Please install it to enable MQTT features.';\n    storageSettings.settings.haEnabled.description = hasHaDevice ? undefined : 'Home Assistant plugin not installed. Please install it to enable Home Assistant features.';\n\n    storageSettings.settings.useMqttPluginCredentials.hide = !shouldShowMqtt || !mqttEnabled;\n    storageSettings.settings.useHaPluginCredentials.hide = !shouldShowHa || !haEnabled;\n\n    const shouldShowMqttCredentials = shouldShowMqtt && mqttEnabled && !useMqttPluginCredentials\n    const shouldShowHaCredentials = shouldShowHa && haEnabled && !useHaPluginCredentials\n\n    storageSettings.settings.mqttUsename.hide = !shouldShowMqttCredentials;\n    storageSettings.settings.mqttPassword.hide = !shouldShowMqttCredentials;\n    storageSettings.settings.mqttHost.hide = !shouldShowMqttCredentials;\n\n    storageSettings.settings.haAccessToken.hide = !shouldShowHaCredentials;\n    storageSettings.settings.haAddress.hide = !shouldShowHaCredentials;\n    storageSettings.settings.haProtocol.hide = !shouldShowHaCredentials;\n}\n\nexport const getBaseLogger = (props: {\n    console: Console,\n    storage: StorageSettings<any>,\n    friendlyName?: string\n}) => {\n    const { console, storage, friendlyName } = props;\n\n    const log = (type: 'log' | 'debug' | 'error' | 'warn' | 'info', message?: any, ...optionalParams: any[]) => {\n        const now = new Date().toLocaleString();\n\n        const logLevel = storage.getItem('logLevel');\n\n        const canDebug = logLevel === LogLevel.DEBUG;\n        const canInfo = canDebug || logLevel === LogLevel.INFO;\n\n        let canLog = false;\n        let severity = LogLevel.NOTICE;\n        if (type === 'debug') {\n            canLog = canDebug;\n            severity = LogLevel.DEBUG;\n        } else if (type === 'info') {\n            severity = LogLevel.INFO;\n            canLog = canInfo;\n        } else {\n            canLog = true;\n            if (type === 'error') {\n                severity = LogLevel.ERROR;\n            } else if (type === 'warn') {\n                severity = LogLevel.WARN;\n            }\n        }\n\n        if (canLog) {\n            console.log(`${now} - [${severity}]:`, message, ...optionalParams);\n        }\n\n        if (type === 'error' && storage.values.devNotifier) {\n            storage.values.devNotifier.sendNotification(friendlyName, {\n                body: `${message}${optionalParams?.map(param => '\\n' + param)}`,\n                data: {\n                    pushover: {\n                        priority: 1\n                    }\n                }\n            })\n        }\n    };\n\n    const newLogger = {\n        log: (message?: any, ...optionalParams: any[]) => log('log', message, ...optionalParams),\n        info: (message?: any, ...optionalParams: any[]) => log('info', message, ...optionalParams),\n        debug: (message?: any, ...optionalParams: any[]) => log('debug', message, ...optionalParams),\n        error: (message?: any, ...optionalParams: any[]) => log('error', message, ...optionalParams),\n        warn: (message?: any, ...optionalParams: any[]) => log('warn', message, ...optionalParams),\n    } as Console\n\n    return newLogger;\n}\n\nexport const logLevelSetting: StorageSetting = {\n    title: 'Log level',\n    type: 'string',\n    defaultValue: LogLevel.NOTICE,\n    immediate: true,\n    choices: [\n        LogLevel.NOTICE,\n        LogLevel.INFO,\n        LogLevel.DEBUG,\n    ]\n};\n\nexport type BaseSettingsKey = 'pluginEnabled'\n    | 'mqttEnabled'\n    | 'logLevel'\n    | 'devNotifier'\n    | 'useMqttPluginCredentials'\n    | 'mqttHost'\n    | 'mqttUsename'\n    | 'mqttPassword'\n    | 'haEnabled'\n    | 'useHaPluginCredentials'\n    | 'haAccessToken'\n    | 'haAddress'\n    | 'haProtocol'\n\nexport const getBaseSettings = (props: {\n    onPluginSwitch?: StorageSetting['onPut'],\n    hideMqtt?: boolean,\n    hideHa?: boolean,\n    mqttAlwaysEnabled?: boolean,\n    defaultMqtt?: boolean,\n    baseGroupName?: string,\n    onRefresh?: () => Promise<void>,\n}) => {\n    const {\n        defaultMqtt = false,\n        onPluginSwitch,\n        hideMqtt,\n        mqttAlwaysEnabled,\n        hideHa = true,\n        baseGroupName = 'Base',\n        onRefresh\n    } = props;\n    const group = baseGroupName === '' ? undefined : baseGroupName;\n    const settings: StorageSettingsDict<BaseSettingsKey> = {\n        pluginEnabled: {\n            title: 'Plugin enabled',\n            type: 'boolean',\n            defaultValue: true,\n            immediate: true,\n            group,\n            onPut: onPluginSwitch\n        },\n        logLevel: {\n            ...logLevelSetting,\n            group,\n        },\n        mqttEnabled: {\n            title: 'MQTT enabled',\n            type: 'boolean',\n            defaultValue: defaultMqtt,\n            immediate: true,\n            group,\n            hide: hideMqtt,\n            readonly: mqttAlwaysEnabled,\n            onPut: onRefresh\n        },\n        devNotifier: {\n            title: 'DEV notifier',\n            type: 'device',\n            deviceFilter: `(type === '${ScryptedDeviceType.Notifier}')`,\n            group,\n            subgroup: 'Advanced',\n        },\n        useMqttPluginCredentials: {\n            title: 'Use MQTT plugin credentials',\n            subgroup: 'MQTT',\n            type: 'boolean',\n            immediate: true,\n            group,\n            defaultValue: true,\n            hide: hideMqtt,\n            onPut: onRefresh\n        },\n        mqttHost: {\n            title: 'Host',\n            subgroup: 'MQTT',\n            description: 'Specify the mqtt address.',\n            placeholder: 'mqtt://192.168.1.100',\n            group,\n            hide: hideMqtt\n        },\n        mqttUsename: {\n            title: 'Username',\n            subgroup: 'MQTT',\n            description: 'Specify the mqtt username.',\n            group,\n            hide: hideMqtt\n        },\n        mqttPassword: {\n            title: 'Password',\n            subgroup: 'MQTT',\n            description: 'Specify the mqtt password.',\n            type: 'password',\n            group,\n            hide: hideMqtt\n        },\n        haEnabled: {\n            title: 'Homeassistent enabled',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n            hide: hideHa,\n            group,\n            onPut: onRefresh\n        },\n        useHaPluginCredentials: {\n            group,\n            subgroup: 'Homeassistant',\n            title: 'Use HA plugin credentials',\n            type: 'boolean',\n            defaultValue: true,\n            immediate: true,\n            hide: hideHa,\n            onPut: onRefresh\n        },\n        haAccessToken: {\n            group,\n            subgroup: 'Homeassistant',\n            title: 'HAPersonal access token',\n            type: 'string',\n            hide: hideHa\n        },\n        haProtocol: {\n            group,\n            subgroup: 'Homeassistant',\n            title: 'Protocol',\n            type: 'string',\n            choices: ['http', 'https'],\n            defaultValue: ['http'],\n            hide: hideHa\n        },\n        haAddress: {\n            group,\n            subgroup: 'Homeassistant',\n            title: 'Address',\n            placeholder: 'https://192.168.1.1',\n            type: 'string',\n            hide: hideHa\n        },\n    };\n\n    return settings;\n};\n\nexport const getMqttBasicClient = async (\n    props: {\n        logger: Console,\n        useMqttPluginCredentials?: boolean,\n        mqttHost?: string,\n        mqttUsename?: string,\n        mqttPassword?: string,\n        clientId?: string,\n        configTopicPattern?: string,\n    },\n) => {\n    const { useMqttPluginCredentials, logger, clientId, configTopicPattern } = props;\n\n    try {\n        let mqttHost: string;\n        let mqttUsename: string;\n        let mqttPassword: string;\n\n        let client: MqttClient;\n\n        if (useMqttPluginCredentials) {\n            logger.debug(`Using MQTT plugin credentials.`);\n            const mqttDevice = systemManager.getDeviceByName('MQTT') as unknown as Settings;\n\n            if (!mqttDevice) {\n                logger.log(`MQTT plugin not installed, please provide the connection information manually`);\n                return;\n            }\n\n            const mqttSettings = await mqttDevice.getSettings();\n\n            const isInternalBroker = (JSON.parse(mqttSettings.find(setting => setting.key === 'enableBroker')?.value as string || 'false')) as boolean;\n\n            if (isInternalBroker) {\n                logger.debug(`Internal MQTT broker not supported yet. Please disable useMqttPluginCredentials.`);\n            } else {\n                mqttHost = mqttSettings.find(setting => setting.key === 'externalBroker')?.value as string;\n                mqttUsename = mqttSettings.find(setting => setting.key === 'username')?.value as string;\n                mqttPassword = mqttSettings.find(setting => setting.key === 'password')?.value as string;\n            }\n        } else {\n            logger.debug(`Using provided credentials.`);\n\n            mqttHost = props.mqttHost;\n            mqttUsename = props.mqttUsename;\n            mqttPassword = props.mqttPassword;\n        }\n\n        if (!mqttHost || !mqttUsename || !mqttPassword) {\n            logger.error(`MQTT params not provided: ${JSON.stringify({\n                mqttHost,\n                mqttUsename: !!mqttUsename ? 'SET' : 'NOT_SET',\n                mqttPassword: !!mqttPassword ? 'SET' : 'NOT_SET',\n            })}`);\n            return null;\n        }\n\n        client = new MqttClient(mqttHost, mqttUsename, mqttPassword, logger, clientId, configTopicPattern);\n\n        return client;\n    } catch (e) {\n        logger.error('Error in getMqttBasicClient', e);\n        return null;\n    }\n}\n\nexport class BasePlugin extends ScryptedDeviceBase implements Settings {\n    public mqttClient: MqttClient;\n    private mainLogger: Console;\n    // public currentMixinsMap: Record<string, BaseMixin> = {};\n    public storageSettings: StorageSettings<string>;\n    initializingMqtt = false;\n\n\n    constructor(nativeId: string, public opts: {\n        pluginFriendlyName: string,\n        mixinGroup?: string,\n        mixinKey?: string,\n    }) {\n        super(nativeId);\n    }\n\n    async getSettings(): Promise<Setting[]> {\n        applySettingsShow(this.storageSettings);\n        const settings = await this.storageSettings.getSettings();\n\n        return settings;\n    }\n\n    getHaApiUrl = async () => {\n        const { haAccessToken, haAddress, haProtocol, useHaPluginCredentials } = this.storageSettings.values;\n\n        let accessToken = haAccessToken;\n        let protocol = haProtocol;\n        let address = haAddress;\n\n        if (useHaPluginCredentials) {\n            const haDevice = systemManager.getDeviceByName('Home Assistant') as unknown as Settings;\n            if (haDevice) {\n                const haSettings = await haDevice.getSettings();\n\n                accessToken = haSettings.find(setting => setting.key === 'personalAccessToken')?.value as string;\n                address = haSettings.find(setting => setting.key === 'address')?.value as string;\n                protocol = haSettings.find(setting => setting.key === 'protocol')?.value as string;\n            }\n        }\n\n        if (!accessToken || !address || !protocol) {\n            throw new Error(`HA access params not set correctly: AccessToken: ${accessToken}, Address: ${address}, Protocol: ${protocol}`);\n        }\n\n        const url = `${protocol}://${address}`;\n\n        return {\n            accessToken,\n            address,\n            protocol,\n            url,\n        }\n    }\n\n    async getHaApi() {\n        const { accessToken, url } = await this.getHaApiUrl();\n\n        const getTemplateData = (template: string) => axios.post<string>(`${url}/api/template`,\n            { \"template\": template },\n            {\n                headers: {\n                    'Authorization': 'Bearer ' + accessToken,\n                },\n                httpsAgent\n            });\n\n        const getStatesData = () => axios.get<HaEntityState[]>(`${url}/api/states`,\n            {\n                headers: {\n                    'Authorization': 'Bearer ' + accessToken,\n                },\n                httpsAgent\n            });\n\n        const getCalendarEvents = (entityId: string, fromDate: string, toDate: string) => {\n            return axios.post<{ service_response: Record<string, { events: { start: string, end: string, summary: string }[] }> }>(`${url}/api/services/calendar/get_events?return_response`,\n                {\n                    start_date_time: fromDate,\n                    end_date_time: toDate,\n                    entity_id: entityId\n                },\n                {\n                    headers: {\n                        'Authorization': 'Bearer ' + accessToken,\n                    },\n                    httpsAgent\n                })\n        }\n\n        const postAutomation = (automationId: string, automation: any) => {\n            return axios.post(`${url}/api/config/automation/config/${automationId}`,\n                automation,\n                {\n                    headers: {\n                        'Authorization': 'Bearer ' + accessToken,\n                    },\n                    httpsAgent\n                })\n        }\n\n        const postCamera = async (name: string, url: string) => {\n            const flowCreationResponse = await axios.post(`${url}/api/config/config_entries/flow`,\n                { handler: 'generic' },\n                {\n                    headers: {\n                        'Authorization': 'Bearer ' + accessToken,\n                    },\n                    httpsAgent\n                });\n            const flowId = flowCreationResponse.data.flow_id;\n            if (flowId) {\n                const step1Response = await axios.post(`${url}/api/config/config_entries/flow/${flowId}`,\n                    {\n                        stream_source: url,\n                        authentication: \"basic\",\n                        username: \"\",\n                        password: \"\",\n                        framerate: 2,\n                        verify_ssl: false\n                    },\n                    {\n                        headers: {\n                            'Authorization': 'Bearer ' + accessToken,\n                        },\n                        httpsAgent\n                    });\n                const step2Response = await axios.post(`${url}/api/config/config_entries/flow/${flowId}`,\n                    {\n                        confirmed_ok: true,\n                    },\n                    {\n                        headers: {\n                            'Authorization': 'Bearer ' + accessToken,\n                        },\n                        httpsAgent\n                    });\n            }\n        }\n\n        return {\n            getTemplateData,\n            getStatesData,\n            getCalendarEvents,\n            postAutomation,\n        }\n    }\n\n    putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    private async setupMqttClient(clientId?: string) {\n        const { mqttEnabled, useMqttPluginCredentials, pluginEnabled } = this.storageSettings.values;\n        if (mqttEnabled && pluginEnabled) {\n            this.initializingMqtt = true;\n            const logger = this.getLoggerInternal({});\n\n            if (this.mqttClient) {\n                this.mqttClient.disconnect();\n                this.mqttClient = undefined;\n            }\n\n            try {\n                this.mqttClient = await getMqttBasicClient({\n                    logger,\n                    useMqttPluginCredentials,\n                    mqttHost: this.storageSettings.getItem('mqttHost'),\n                    mqttUsename: this.storageSettings.getItem('mqttUsename'),\n                    mqttPassword: this.storageSettings.getItem('mqttPassword'),\n                    clientId,\n                });\n            } catch (e) {\n                logger.log('Error setting up MQTT client', e);\n            } finally {\n                this.initializingMqtt = false;\n            }\n        }\n    }\n\n    async getMqttClient(clientId?: string) {\n        if (!this.mqttClient && !this.initializingMqtt) {\n            await this.setupMqttClient(clientId);\n        }\n\n        return this.mqttClient;\n    }\n\n    // async getMixin(mixinDevice: any, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n    //     const props = {\n    //         mixinDevice,\n    //         mixinDeviceInterfaces,\n    //         mixinDeviceState,\n    //         mixinProviderNativeId: this.nativeId,\n    //         group: this.opts.mixinGroup,\n    //         groupKey: this.opts.mixinKey,\n    //     };\n\n    //     if (\n    //         [ScryptedInterface.Camera, ScryptedInterface.VideoCamera,].some(int => mixinDeviceInterfaces.includes(int))\n    //     ) {\n    //         return new BaseMixin(\n    //             props,\n    //             this\n    //         );\n    //     } else if (\n    //         [ScryptedInterface.BinarySensor, ScryptedInterface.Lock].some(int => mixinDeviceInterfaces.includes(int))\n    //     ) {\n    //         return new BaseMixin(\n    //             props,\n    //             this\n    //         );\n    //     } else if (mixinDeviceInterfaces.includes(ScryptedInterface.Notifier)) {\n    //         return new BaseMixin(\n    //             props,\n    //             this\n    //         );\n    //     }\n    // }\n\n    // async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n    //     await mixinDevice.release();\n    // }\n\n    public getLoggerInternal(props: {\n        console?: Console,\n        storage?: StorageSettings<string>,\n        friendlyName?: string,\n    }): Console {\n        const { console, storage, friendlyName } = props;\n        if (console) {\n            return getBaseLogger({\n                console,\n                storage,\n                friendlyName\n            });\n        } else {\n            if (!this.mainLogger) {\n                this.mainLogger = getBaseLogger({\n                    console: this.console,\n                    storage: this.storageSettings,\n                    friendlyName: this.opts.pluginFriendlyName\n                });\n            }\n\n            return this.mainLogger\n        }\n    }\n}\n\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BufferedDuplex = exports.writev = void 0;\nconst readable_stream_1 = require(\"readable-stream\");\nconst buffer_1 = require(\"buffer\");\nfunction writev(chunks, cb) {\n    const buffers = new Array(chunks.length);\n    for (let i = 0; i < chunks.length; i++) {\n        if (typeof chunks[i].chunk === 'string') {\n            buffers[i] = buffer_1.Buffer.from(chunks[i].chunk, 'utf8');\n        }\n        else {\n            buffers[i] = chunks[i].chunk;\n        }\n    }\n    this._write(buffer_1.Buffer.concat(buffers), 'binary', cb);\n}\nexports.writev = writev;\nclass BufferedDuplex extends readable_stream_1.Duplex {\n    constructor(opts, proxy, socket) {\n        super({\n            objectMode: true,\n        });\n        this.proxy = proxy;\n        this.socket = socket;\n        this.writeQueue = [];\n        if (!opts.objectMode) {\n            this._writev = writev.bind(this);\n        }\n        this.isSocketOpen = false;\n        this.proxy.on('data', (chunk) => {\n            if (!this.destroyed) {\n                this.push(chunk);\n            }\n        });\n    }\n    _read(size) {\n        this.proxy.read(size);\n    }\n    _write(chunk, encoding, cb) {\n        if (!this.isSocketOpen) {\n            this.writeQueue.push({ chunk, encoding, cb });\n        }\n        else {\n            this.writeToProxy(chunk, encoding, cb);\n        }\n    }\n    _final(callback) {\n        this.writeQueue = [];\n        this.proxy.end(callback);\n    }\n    _destroy(err, callback) {\n        this.writeQueue = [];\n        this.proxy.destroy();\n        callback(err);\n    }\n    socketReady() {\n        this.emit('connect');\n        this.isSocketOpen = true;\n        this.processWriteQueue();\n    }\n    writeToProxy(chunk, encoding, cb) {\n        if (this.proxy.write(chunk, encoding) === false) {\n            this.proxy.once('drain', cb);\n        }\n        else {\n            cb();\n        }\n    }\n    processWriteQueue() {\n        while (this.writeQueue.length > 0) {\n            const { chunk, encoding, cb } = this.writeQueue.shift();\n            this.writeToProxy(chunk, encoding, cb);\n        }\n    }\n}\nexports.BufferedDuplex = BufferedDuplex;\n//# sourceMappingURL=BufferedDuplex.js.map","'use strict'\n\nconst DuplexStream = require('readable-stream').Duplex\nconst inherits = require('inherits')\nconst BufferList = require('./BufferList')\n\nfunction BufferListStream (callback) {\n  if (!(this instanceof BufferListStream)) {\n    return new BufferListStream(callback)\n  }\n\n  if (typeof callback === 'function') {\n    this._callback = callback\n\n    const piper = function piper (err) {\n      if (this._callback) {\n        this._callback(err)\n        this._callback = null\n      }\n    }.bind(this)\n\n    this.on('pipe', function onPipe (src) {\n      src.on('error', piper)\n    })\n    this.on('unpipe', function onUnpipe (src) {\n      src.removeListener('error', piper)\n    })\n\n    callback = null\n  }\n\n  BufferList._init.call(this, callback)\n  DuplexStream.call(this)\n}\n\ninherits(BufferListStream, DuplexStream)\nObject.assign(BufferListStream.prototype, BufferList.prototype)\n\nBufferListStream.prototype._new = function _new (callback) {\n  return new BufferListStream(callback)\n}\n\nBufferListStream.prototype._write = function _write (buf, encoding, callback) {\n  this._appendBuffer(buf)\n\n  if (typeof callback === 'function') {\n    callback()\n  }\n}\n\nBufferListStream.prototype._read = function _read (size) {\n  if (!this.length) {\n    return this.push(null)\n  }\n\n  size = Math.min(size, this.length)\n  this.push(this.slice(0, size))\n  this.consume(size)\n}\n\nBufferListStream.prototype.end = function end (chunk) {\n  DuplexStream.prototype.end.call(this, chunk)\n\n  if (this._callback) {\n    this._callback(null, this.slice())\n    this._callback = null\n  }\n}\n\nBufferListStream.prototype._destroy = function _destroy (err, cb) {\n  this._bufs.length = 0\n  this.length = 0\n  cb(err)\n}\n\nBufferListStream.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferListStream || b instanceof BufferList || BufferListStream.isBufferList(b)\n}\n\nBufferListStream.isBufferList = BufferList.isBufferList\n\nmodule.exports = BufferListStream\nmodule.exports.BufferListStream = BufferListStream\nmodule.exports.BufferList = BufferList\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","import sdk, { MediaObject, PictureOptions, Setting } from \"@scrypted/sdk\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport axios from \"axios\";\nimport EventEmitter from \"events\";\nimport { UrlMediaStreamOptions } from '../../scrypted/plugins/ffmpeg-camera/src/common';\nimport { Destroyable, RtspSmartCamera, createRtspMediaStreamOptions } from '../../scrypted/plugins/rtsp/src/rtsp';\nimport FrigateBridgePlugin from \"./main\";\n\nclass FrigateBridgeCamera extends RtspSmartCamera {\n    storageSettings = new StorageSettings(this, {\n        cameraName: {\n            title: 'Frigate camera name',\n            type: 'string',\n            readonly: true\n        }\n    });\n    videoStreamOptions: Promise<UrlMediaStreamOptions[]>;\n    streamsData: { path: string, roles: string[] }[] = [];\n    logger: Console;\n\n    constructor(\n        nativeId: string,\n        public provider: FrigateBridgePlugin,\n        public cameraName: string,\n    ) {\n        super(nativeId, provider);\n        const logger = this.getLogger();\n\n        this.init().catch(logger.log);\n\n        // process.nextTick(async () => {\n        //     const videoclipsMixin = sdk.systemManager.getDeviceById(pluginId, videoclipsNativeId);\n        //     const motionDetectorMixin = sdk.systemManager.getDeviceById(pluginId, motionDetectorNativeId);\n        //     const objectDetectorMixin = sdk.systemManager.getDeviceById(pluginId, objectDetectorNativeId);\n\n        //     const currentMixins = this.mixins;\n\n        //     if (!currentMixins.includes(videoclipsMixin.id)) {\n        //         currentMixins.push(videoclipsMixin.id);\n        //     }\n\n        //     if (!currentMixins.includes(motionDetectorMixin.id)) {\n        //         currentMixins.push(motionDetectorMixin.id);\n        //     }\n\n        //     if (!currentMixins.includes(objectDetectorMixin.id)) {\n        //         currentMixins.push(objectDetectorMixin.id);\n        //     }\n\n        //     const thisDevice = sdk.systemManager.getDeviceById(this.id);\n        //     thisDevice.setMixins(currentMixins);\n        // });\n    }\n\n    getLogger() {\n        if (!this.logger) {\n            this.logger = this.provider.getLogger({\n                console: this.console,\n                storage: this.storageSettings,\n            });\n        }\n\n        return this.logger;\n    }\n\n    async init() {\n        const config = await this.provider.getConfiguration();\n        this.streamsData = config.cameras?.[this.cameraName]?.ffmpeg?.inputs ?? [];\n\n        const streamUrl = this.storage.getItem('snapshot:snapshotUrl');\n        if (!streamUrl) {\n            this.storage.setItem('snapshot:snapshotUrl', this.getSnapshotUrl());\n        }\n    }\n\n    getSnapshotUrl(): string {\n        const { serverUrl } = this.provider.storageSettings.values;\n        const { cameraName } = this.storageSettings.values;\n        return `${serverUrl}/${cameraName}/latest.jpg`;\n    }\n\n    async takeSmartCameraPicture(options?: PictureOptions): Promise<MediaObject> {\n        const imageUrl = `${this.getSnapshotUrl()}?ts=${Date.now()}`;\n        const image = axios.get(imageUrl, { responseType: \"arraybuffer\" });\n\n        const mo = await sdk.mediaManager.createMediaObject(image, 'image/jpeg');\n        return mo;\n    }\n\n    async listenEvents(): Promise<Destroyable> {\n        const events = new EventEmitter();\n        const ret: Destroyable = {\n            on: function (eventName: string | symbol, listener: (...args: any[]) => void): void {\n                events.on(eventName, listener);\n            },\n            destroy: async () => {\n            },\n            emit: function (eventName: string | symbol, ...args: any[]): boolean {\n                return events.emit(eventName, ...args);\n            }\n        };\n\n        return ret;\n    }\n\n    createRtspMediaStreamOptions(url: string, index: number) {\n        const ret = createRtspMediaStreamOptions(url, index);\n        ret.tool = 'scrypted';\n        return ret;\n    }\n\n    async getConstructedVideoStreamOptions(): Promise<UrlMediaStreamOptions[]> {\n        const streams: UrlMediaStreamOptions[] = [];\n\n        this.streamsData?.forEach(({ path, roles }, index) => {\n            const isHigh = roles.includes('record');\n\n            streams.push({\n                name: `Stream ${index + 1}`,\n                id: `stream_${index + 1}`,\n                container: 'rtsp',\n                url: path,\n                destinations: isHigh ?\n                    ['local', 'local-recorder', 'medium-resolution'] :\n                    ['medium-resolution', 'remote', 'remote-recorder']\n            });\n        });\n\n        this.videoStreamOptions = new Promise(r => r(streams));\n\n        return this.videoStreamOptions;\n    }\n\n    async putSetting(key: string, value: string) {\n        if (this.storageSettings.keys[key]) {\n            await this.storageSettings.putSetting(key, value);\n        }\n        else {\n            await super.putSetting(key, value);\n        }\n    }\n\n    async getSettings(): Promise<Setting[]> {\n        return await this.storageSettings.getSettings();\n    }\n}\n\nexport default FrigateBridgeCamera;","module.exports = require(\"events\");","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst { PromisePrototypeThen, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_NULL_VALUES } = require('../../ours/errors').codes\nfunction from(Readable, iterable, opts) {\n  let iterator\n  if (typeof iterable === 'string' || iterable instanceof Buffer) {\n    return new Readable({\n      objectMode: true,\n      ...opts,\n      read() {\n        this.push(iterable)\n        this.push(null)\n      }\n    })\n  }\n  let isAsync\n  if (iterable && iterable[SymbolAsyncIterator]) {\n    isAsync = true\n    iterator = iterable[SymbolAsyncIterator]()\n  } else if (iterable && iterable[SymbolIterator]) {\n    isAsync = false\n    iterator = iterable[SymbolIterator]()\n  } else {\n    throw new ERR_INVALID_ARG_TYPE('iterable', ['Iterable'], iterable)\n  }\n  const readable = new Readable({\n    objectMode: true,\n    highWaterMark: 1,\n    // TODO(ronag): What options should be allowed?\n    ...opts\n  })\n\n  // Flag to protect against _read\n  // being called before last iteration completion.\n  let reading = false\n  readable._read = function () {\n    if (!reading) {\n      reading = true\n      next()\n    }\n  }\n  readable._destroy = function (error, cb) {\n    PromisePrototypeThen(\n      close(error),\n      () => process.nextTick(cb, error),\n      // nextTick is here in case cb throws\n      (e) => process.nextTick(cb, e || error)\n    )\n  }\n  async function close(error) {\n    const hadError = error !== undefined && error !== null\n    const hasThrow = typeof iterator.throw === 'function'\n    if (hadError && hasThrow) {\n      const { value, done } = await iterator.throw(error)\n      await value\n      if (done) {\n        return\n      }\n    }\n    if (typeof iterator.return === 'function') {\n      const { value } = await iterator.return()\n      await value\n    }\n  }\n  async function next() {\n    for (;;) {\n      try {\n        const { value, done } = isAsync ? await iterator.next() : iterator.next()\n        if (done) {\n          readable.push(null)\n        } else {\n          const res = value && typeof value.then === 'function' ? await value : value\n          if (res === null) {\n            reading = false\n            throw new ERR_STREAM_NULL_VALUES()\n          } else if (readable.push(res)) {\n            continue\n          } else {\n            reading = false\n          }\n        }\n      } catch (err) {\n        readable.destroy(err)\n      }\n      break\n    }\n  }\n  return readable\n}\nmodule.exports = from\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict'\n\nconst { StringPrototypeSlice, SymbolIterator, TypedArrayPrototypeSet, Uint8Array } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { inspect } = require('../../ours/util')\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null\n    this.tail = null\n    this.length = 0\n  }\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    }\n    if (this.length > 0) this.tail.next = entry\n    else this.head = entry\n    this.tail = entry\n    ++this.length\n  }\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    }\n    if (this.length === 0) this.tail = entry\n    this.head = entry\n    ++this.length\n  }\n  shift() {\n    if (this.length === 0) return\n    const ret = this.head.data\n    if (this.length === 1) this.head = this.tail = null\n    else this.head = this.head.next\n    --this.length\n    return ret\n  }\n  clear() {\n    this.head = this.tail = null\n    this.length = 0\n  }\n  join(s) {\n    if (this.length === 0) return ''\n    let p = this.head\n    let ret = '' + p.data\n    while ((p = p.next) !== null) ret += s + p.data\n    return ret\n  }\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0)\n    const ret = Buffer.allocUnsafe(n >>> 0)\n    let p = this.head\n    let i = 0\n    while (p) {\n      TypedArrayPrototypeSet(ret, p.data, i)\n      i += p.data.length\n      p = p.next\n    }\n    return ret\n  }\n\n  // Consumes a specified amount of bytes or characters from the buffered data.\n  consume(n, hasStrings) {\n    const data = this.head.data\n    if (n < data.length) {\n      // `slice` is the same for buffers and strings.\n      const slice = data.slice(0, n)\n      this.head.data = data.slice(n)\n      return slice\n    }\n    if (n === data.length) {\n      // First chunk is a perfect match.\n      return this.shift()\n    }\n    // Result spans more than one buffer.\n    return hasStrings ? this._getString(n) : this._getBuffer(n)\n  }\n  first() {\n    return this.head.data\n  }\n  *[SymbolIterator]() {\n    for (let p = this.head; p; p = p.next) {\n      yield p.data\n    }\n  }\n\n  // Consumes a specified amount of characters from the buffered data.\n  _getString(n) {\n    let ret = ''\n    let p = this.head\n    let c = 0\n    do {\n      const str = p.data\n      if (n > str.length) {\n        ret += str\n        n -= str.length\n      } else {\n        if (n === str.length) {\n          ret += str\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          ret += StringPrototypeSlice(str, 0, n)\n          this.head = p\n          p.data = StringPrototypeSlice(str, n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Consumes a specified amount of bytes from the buffered data.\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n)\n    const retLen = n\n    let p = this.head\n    let c = 0\n    do {\n      const buf = p.data\n      if (n > buf.length) {\n        TypedArrayPrototypeSet(ret, buf, retLen - n)\n        n -= buf.length\n      } else {\n        if (n === buf.length) {\n          TypedArrayPrototypeSet(ret, buf, retLen - n)\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          TypedArrayPrototypeSet(ret, new Uint8Array(buf.buffer, buf.byteOffset, n), retLen - n)\n          this.head = p\n          p.data = buf.slice(n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Make sure the linked list only shows the minimal necessary information.\n  [Symbol.for('nodejs.util.inspect.custom')](_, options) {\n    return inspect(this, {\n      ...options,\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    })\n  }\n}\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","module.exports = require(\"tls\");","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","import { MixinProvider, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, SettingValue, WritableDeviceState } from \"@scrypted/sdk\";\nimport { StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport { getBaseLogger, logLevelSetting } from '../../scrypted-apocaliss-base/src/basePlugin';\nimport FrigateBridgePlugin from \"./main\";\nimport { FRIGATE_VIDEOCLIPS_INTERFACE } from \"./utils\";\nimport { FrigateBridgeVideoclipsMixin } from \"./videoclipsMixin\";\n\nexport default class FrigateBridgeVideoclips extends ScryptedDeviceBase implements MixinProvider {\n    initStorage: StorageSettingsDict<string> = {\n        logLevel: {\n            ...logLevelSetting,\n        },\n    };\n    storageSettings = new StorageSettings(this, this.initStorage);\n    currentMixinsMap: Record<string, FrigateBridgeVideoclipsMixin> = {};\n    plugin: FrigateBridgePlugin;\n\n    constructor(nativeId: string, plugin: FrigateBridgePlugin) {\n        super(nativeId);\n        this.plugin = plugin;\n    }\n\n    // async maybeEnableMixin(device: ScryptedDevice) {\n    // if (device.pluginId === pluginId && device.nativeId !== birdseyeCameraNativeId) {\n    //     super.maybeEnableMixin(device);\n    // } else {\n    //     return;\n    // }\n    // }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    public getLogger(device?: ScryptedDeviceBase) {\n        const newLogger = getBaseLogger({\n            console: device ? this.currentMixinsMap[device.id].console : this.console,\n            storage: this.storageSettings,\n            friendlyName: `scrypted_frigate_videoclips_${device ? device?.id : 'device'}`\n        });\n\n        return newLogger;\n    }\n\n    async getSettings() {\n        try {\n            const settings = await this.storageSettings.getSettings();\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getSettings', e);\n            return [];\n        }\n    }\n\n    async canMixin(type: ScryptedDeviceType, interfaces: string[]): Promise<string[]> {\n        if ((type === ScryptedDeviceType.Camera || type === ScryptedDeviceType.Doorbell) &&\n            (interfaces.includes(ScryptedInterface.VideoCamera) || interfaces.includes(ScryptedInterface.Camera))) {\n            return [\n                ScryptedInterface.Settings,\n                ScryptedInterface.VideoClips,\n                FRIGATE_VIDEOCLIPS_INTERFACE\n            ];\n        }\n\n        return undefined;\n    }\n\n    async getMixin(mixinDevice: any, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n        return new FrigateBridgeVideoclipsMixin({\n            mixinDevice,\n            mixinDeviceInterfaces,\n            mixinDeviceState,\n            mixinProviderNativeId: this.nativeId,\n            group: 'Frigate Videoclips',\n            groupKey: 'frigateVideoclips',\n        }, this)\n    }\n\n    async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n        await mixinDevice.release();\n    }\n}\n\n","export const createAddUniqueNumber = (generateUniqueNumber) => {\n    return (set) => {\n        const number = generateUniqueNumber(set);\n        set.add(number);\n        return number;\n    };\n};\n//# sourceMappingURL=add-unique-number.js.map","/*\n * The value of the constant Number.MAX_SAFE_INTEGER equals (2 ** 53 - 1) but it\n * is fairly new.\n */\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER === undefined ? 9007199254740991 : Number.MAX_SAFE_INTEGER;\nconst TWO_TO_THE_POWER_OF_TWENTY_NINE = 536870912;\nconst TWO_TO_THE_POWER_OF_THIRTY = TWO_TO_THE_POWER_OF_TWENTY_NINE * 2;\nexport const createGenerateUniqueNumber = (cache, lastNumberWeakMap) => {\n    return (collection) => {\n        const lastNumber = lastNumberWeakMap.get(collection);\n        /*\n         * Let's try the cheapest algorithm first. It might fail to produce a new\n         * number, but it is so cheap that it is okay to take the risk. Just\n         * increase the last number by one or reset it to 0 if we reached the upper\n         * bound of SMIs (which stands for small integers). When the last number is\n         * unknown it is assumed that the collection contains zero based consecutive\n         * numbers.\n         */\n        let nextNumber = lastNumber === undefined ? collection.size : lastNumber < TWO_TO_THE_POWER_OF_THIRTY ? lastNumber + 1 : 0;\n        if (!collection.has(nextNumber)) {\n            return cache(collection, nextNumber);\n        }\n        /*\n         * If there are less than half of 2 ** 30 numbers stored in the collection,\n         * the chance to generate a new random number in the range from 0 to 2 ** 30\n         * is at least 50%. It's benifitial to use only SMIs because they perform\n         * much better in any environment based on V8.\n         */\n        if (collection.size < TWO_TO_THE_POWER_OF_TWENTY_NINE) {\n            while (collection.has(nextNumber)) {\n                nextNumber = Math.floor(Math.random() * TWO_TO_THE_POWER_OF_THIRTY);\n            }\n            return cache(collection, nextNumber);\n        }\n        // Quickly check if there is a theoretical chance to generate a new number.\n        if (collection.size > MAX_SAFE_INTEGER) {\n            throw new Error('Congratulations, you created a collection of unique numbers which uses all available integers!');\n        }\n        // Otherwise use the full scale of safely usable integers.\n        while (collection.has(nextNumber)) {\n            nextNumber = Math.floor(Math.random() * MAX_SAFE_INTEGER);\n        }\n        return cache(collection, nextNumber);\n    };\n};\n//# sourceMappingURL=generate-unique-number.js.map","import { createAddUniqueNumber } from './factories/add-unique-number';\nimport { createCache } from './factories/cache';\nimport { createGenerateUniqueNumber } from './factories/generate-unique-number';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './types/index';\nconst LAST_NUMBER_WEAK_MAP = new WeakMap();\nconst cache = createCache(LAST_NUMBER_WEAK_MAP);\nconst generateUniqueNumber = createGenerateUniqueNumber(cache, LAST_NUMBER_WEAK_MAP);\nconst addUniqueNumber = createAddUniqueNumber(generateUniqueNumber);\nexport { addUniqueNumber, generateUniqueNumber };\n//# sourceMappingURL=module.js.map","export const createCache = (lastNumberWeakMap) => {\n    return (collection, nextNumber) => {\n        lastNumberWeakMap.set(collection, nextNumber);\n        return nextNumber;\n    };\n};\n//# sourceMappingURL=cache.js.map","import { load } from 'worker-timers-broker';\nimport { createLoadOrReturnBroker } from './factories/load-or-return-broker';\nimport { worker } from './worker/worker';\nconst loadOrReturnBroker = createLoadOrReturnBroker(load, worker);\nexport const clearInterval = (timerId) => loadOrReturnBroker().clearInterval(timerId);\nexport const clearTimeout = (timerId) => loadOrReturnBroker().clearTimeout(timerId);\nexport const setInterval = (...args) => loadOrReturnBroker().setInterval(...args);\nexport const setTimeout = (...args) => loadOrReturnBroker().setTimeout(...args);\n//# sourceMappingURL=module.js.map","export const createLoadOrReturnBroker = (loadBroker, worker) => {\n    let broker = null;\n    return () => {\n        if (broker !== null) {\n            return broker;\n        }\n        const blob = new Blob([worker], { type: 'application/javascript; charset=utf-8' });\n        const url = URL.createObjectURL(blob);\n        broker = loadBroker(url);\n        // Bug #1: Edge up until v18 didn't like the URL to be revoked directly.\n        setTimeout(() => URL.revokeObjectURL(url));\n        return broker;\n    };\n};\n//# sourceMappingURL=load-or-return-broker.js.map","import { generateUniqueNumber } from 'fast-unique-numbers';\nimport { isCallNotification } from './guards/call-notification';\nimport { isClearResponse } from './guards/clear-response';\nexport const load = (url) => {\n    // Prefilling the Maps with a function indexed by zero is necessary to be compliant with the specification.\n    const scheduledIntervalFunctions = new Map([[0, () => { }]]); // tslint:disable-line no-empty\n    const scheduledTimeoutFunctions = new Map([[0, () => { }]]); // tslint:disable-line no-empty\n    const unrespondedRequests = new Map();\n    const worker = new Worker(url);\n    worker.addEventListener('message', ({ data }) => {\n        if (isCallNotification(data)) {\n            const { params: { timerId, timerType } } = data;\n            if (timerType === 'interval') {\n                const idOrFunc = scheduledIntervalFunctions.get(timerId);\n                if (typeof idOrFunc === 'number') {\n                    const timerIdAndTimerType = unrespondedRequests.get(idOrFunc);\n                    if (timerIdAndTimerType === undefined ||\n                        timerIdAndTimerType.timerId !== timerId ||\n                        timerIdAndTimerType.timerType !== timerType) {\n                        throw new Error('The timer is in an undefined state.');\n                    }\n                }\n                else if (typeof idOrFunc !== 'undefined') {\n                    idOrFunc();\n                }\n                else {\n                    throw new Error('The timer is in an undefined state.');\n                }\n            }\n            else if (timerType === 'timeout') {\n                const idOrFunc = scheduledTimeoutFunctions.get(timerId);\n                if (typeof idOrFunc === 'number') {\n                    const timerIdAndTimerType = unrespondedRequests.get(idOrFunc);\n                    if (timerIdAndTimerType === undefined ||\n                        timerIdAndTimerType.timerId !== timerId ||\n                        timerIdAndTimerType.timerType !== timerType) {\n                        throw new Error('The timer is in an undefined state.');\n                    }\n                }\n                else if (typeof idOrFunc !== 'undefined') {\n                    idOrFunc();\n                    // A timeout can be savely deleted because it is only called once.\n                    scheduledTimeoutFunctions.delete(timerId);\n                }\n                else {\n                    throw new Error('The timer is in an undefined state.');\n                }\n            }\n        }\n        else if (isClearResponse(data)) {\n            const { id } = data;\n            const timerIdAndTimerType = unrespondedRequests.get(id);\n            if (timerIdAndTimerType === undefined) {\n                throw new Error('The timer is in an undefined state.');\n            }\n            const { timerId, timerType } = timerIdAndTimerType;\n            unrespondedRequests.delete(id);\n            if (timerType === 'interval') {\n                scheduledIntervalFunctions.delete(timerId);\n            }\n            else {\n                scheduledTimeoutFunctions.delete(timerId);\n            }\n        }\n        else {\n            const { error: { message } } = data;\n            throw new Error(message);\n        }\n    });\n    const clearInterval = (timerId) => {\n        const id = generateUniqueNumber(unrespondedRequests);\n        unrespondedRequests.set(id, { timerId, timerType: 'interval' });\n        scheduledIntervalFunctions.set(timerId, id);\n        worker.postMessage({\n            id,\n            method: 'clear',\n            params: { timerId, timerType: 'interval' }\n        });\n    };\n    const clearTimeout = (timerId) => {\n        const id = generateUniqueNumber(unrespondedRequests);\n        unrespondedRequests.set(id, { timerId, timerType: 'timeout' });\n        scheduledTimeoutFunctions.set(timerId, id);\n        worker.postMessage({\n            id,\n            method: 'clear',\n            params: { timerId, timerType: 'timeout' }\n        });\n    };\n    const setInterval = (func, delay = 0) => {\n        const timerId = generateUniqueNumber(scheduledIntervalFunctions);\n        scheduledIntervalFunctions.set(timerId, () => {\n            func();\n            // Doublecheck if the interval should still be rescheduled because it could have been cleared inside of func().\n            if (typeof scheduledIntervalFunctions.get(timerId) === 'function') {\n                worker.postMessage({\n                    id: null,\n                    method: 'set',\n                    params: {\n                        delay,\n                        now: performance.now(),\n                        timerId,\n                        timerType: 'interval'\n                    }\n                });\n            }\n        });\n        worker.postMessage({\n            id: null,\n            method: 'set',\n            params: {\n                delay,\n                now: performance.now(),\n                timerId,\n                timerType: 'interval'\n            }\n        });\n        return timerId;\n    };\n    const setTimeout = (func, delay = 0) => {\n        const timerId = generateUniqueNumber(scheduledTimeoutFunctions);\n        scheduledTimeoutFunctions.set(timerId, func);\n        worker.postMessage({\n            id: null,\n            method: 'set',\n            params: {\n                delay,\n                now: performance.now(),\n                timerId,\n                timerType: 'timeout'\n            }\n        });\n        return timerId;\n    };\n    return {\n        clearInterval,\n        clearTimeout,\n        setInterval,\n        setTimeout\n    };\n};\n//# sourceMappingURL=module.js.map","export const isCallNotification = (message) => {\n    return message.method !== undefined && message.method === 'call';\n};\n//# sourceMappingURL=call-notification.js.map","export const isClearResponse = (message) => {\n    return message.error === null && typeof message.id === 'number';\n};\n//# sourceMappingURL=clear-response.js.map","// This is the minified and stringified code of the worker-timers-worker package.\nexport const worker = `(()=>{\"use strict\";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:\"call\",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener(\"message\",(i=>{let{data:s}=i;try{if(\"clear\"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if(\"interval\"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id \"'.concat(t,'\".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if(\"timeout\"!==i)throw new Error('The given type \"'.concat(i,'\" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id \"'.concat(e,'\".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if(\"set\"!==s.method)throw new Error('The given method \"'.concat(s.method,'\" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if(\"interval\"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,\"interval\"))})(i,a,n);else{if(\"timeout\"!==d)throw new Error('The given type \"'.concat(d,'\" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,\"timeout\"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`; // tslint:disable-line:max-line-length\n//# sourceMappingURL=worker.js.map","export interface RefreshPromise<T> {\n    promise: Promise<T>;\n    cacheDuration: number;\n}\n\nexport function singletonPromise<T>(rp: undefined | RefreshPromise<T>, method: () => Promise<T>, cacheDuration = 0) {\n    if (rp?.promise)\n        return rp;\n\n    const promise = method();\n    if (!rp) {\n        rp = {\n            promise,\n            cacheDuration,\n        }\n    }\n    else {\n        rp.promise = promise;\n    }\n    promise.finally(() => setTimeout(() => rp.promise = undefined, rp.cacheDuration));\n    return rp;\n}\n\nexport class TimeoutError<T> extends Error {\n    constructor(public promise: Promise<T>) {\n        super('Operation Timed Out');\n    }\n}\n\nexport function timeoutPromise<T>(timeout: number, promise: Promise<T>): Promise<T> {\n    return new Promise<T>((resolve, reject) => {\n        const t = setTimeout(() => reject(new TimeoutError(promise)), timeout);\n\n        promise\n            .then(v => {\n                clearTimeout(t);\n                resolve(v);\n            })\n            .catch(e => {\n                clearTimeout(t);\n                reject(e);\n            });\n    })\n}\n\nexport function timeoutFunction<T>(timeout: number, f: (isTimedOut: () => boolean) => Promise<T>): Promise<T> {\n    return new Promise<T>((resolve, reject) => {\n        let isTimedOut = false;\n        const promise = f(() => isTimedOut);\n\n        const t = setTimeout(() => {\n            isTimedOut = true;\n            reject(new TimeoutError(promise));\n        }, timeout);\n\n        promise\n            .then(v => {\n                clearTimeout(t);\n                resolve(v);\n            })\n            .catch(e => {\n                clearTimeout(t);\n                reject(e);\n            });\n    })\n}\n\nexport function createPromiseDebouncer<T>() {\n    let current: Promise<T>;\n\n    return (func: () => Promise<T>): Promise<T> => {\n        if (!current)\n            current = func().finally(() => current = undefined);\n        return current;\n    }\n}\n\nexport function createMapPromiseDebouncer<T>() {\n    const map = new Map<string, Promise<T>>();\n\n    return (key: any, debounce: number, func: () => Promise<T>): Promise<T> => {\n        const keyStr = JSON.stringify(key);\n        let value = map.get(keyStr);\n        if (!value) {\n            value = func().finally(() => {\n                if (!debounce) {\n                    map.delete(keyStr);\n                    return;\n                }\n                setTimeout(() => map.delete(keyStr), debounce);\n            });\n            map.set(keyStr, value);\n        }\n        return value;\n    }\n}\n","'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst {\n  ArrayPrototypeIndexOf,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberParseInt,\n  ObjectDefineProperties,\n  ObjectKeys,\n  ObjectSetPrototypeOf,\n  Promise,\n  SafeSet,\n  SymbolAsyncDispose,\n  SymbolAsyncIterator,\n  Symbol\n} = require('../../ours/primordials')\nmodule.exports = Readable\nReadable.ReadableState = ReadableState\nconst { EventEmitter: EE } = require('events')\nconst { Stream, prependListener } = require('./legacy')\nconst { Buffer } = require('buffer')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst eos = require('./end-of-stream')\nlet debug = require('../../ours/util').debuglog('stream', (fn) => {\n  debug = fn\n})\nconst BufferList = require('./buffer_list')\nconst destroyImpl = require('./destroy')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_OUT_OF_RANGE,\n    ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateObject } = require('../validators')\nconst kPaused = Symbol('kPaused')\nconst { StringDecoder } = require('string_decoder')\nconst from = require('./from')\nObjectSetPrototypeOf(Readable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Readable, Stream)\nconst nop = () => {}\nconst { errorOrDestroy } = destroyImpl\nconst kObjectMode = 1 << 0\nconst kEnded = 1 << 1\nconst kEndEmitted = 1 << 2\nconst kReading = 1 << 3\nconst kConstructed = 1 << 4\nconst kSync = 1 << 5\nconst kNeedReadable = 1 << 6\nconst kEmittedReadable = 1 << 7\nconst kReadableListening = 1 << 8\nconst kResumeScheduled = 1 << 9\nconst kErrorEmitted = 1 << 10\nconst kEmitClose = 1 << 11\nconst kAutoDestroy = 1 << 12\nconst kDestroyed = 1 << 13\nconst kClosed = 1 << 14\nconst kCloseEmitted = 1 << 15\nconst kMultiAwaitDrain = 1 << 16\nconst kReadingMore = 1 << 17\nconst kDataEmitted = 1 << 18\n\n// TODO(benjamingr) it is likely slower to do it this way than with free functions\nfunction makeBitMapDescriptor(bit) {\n  return {\n    enumerable: false,\n    get() {\n      return (this.state & bit) !== 0\n    },\n    set(value) {\n      if (value) this.state |= bit\n      else this.state &= ~bit\n    }\n  }\n}\nObjectDefineProperties(ReadableState.prototype, {\n  objectMode: makeBitMapDescriptor(kObjectMode),\n  ended: makeBitMapDescriptor(kEnded),\n  endEmitted: makeBitMapDescriptor(kEndEmitted),\n  reading: makeBitMapDescriptor(kReading),\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  constructed: makeBitMapDescriptor(kConstructed),\n  // A flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  sync: makeBitMapDescriptor(kSync),\n  // Whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  needReadable: makeBitMapDescriptor(kNeedReadable),\n  emittedReadable: makeBitMapDescriptor(kEmittedReadable),\n  readableListening: makeBitMapDescriptor(kReadableListening),\n  resumeScheduled: makeBitMapDescriptor(kResumeScheduled),\n  // True if the error was already emitted and should not be thrown again.\n  errorEmitted: makeBitMapDescriptor(kErrorEmitted),\n  emitClose: makeBitMapDescriptor(kEmitClose),\n  autoDestroy: makeBitMapDescriptor(kAutoDestroy),\n  // Has it been destroyed.\n  destroyed: makeBitMapDescriptor(kDestroyed),\n  // Indicates whether the stream has finished destroying.\n  closed: makeBitMapDescriptor(kClosed),\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  closeEmitted: makeBitMapDescriptor(kCloseEmitted),\n  multiAwaitDrain: makeBitMapDescriptor(kMultiAwaitDrain),\n  // If true, a maybeReadMore has been scheduled.\n  readingMore: makeBitMapDescriptor(kReadingMore),\n  dataEmitted: makeBitMapDescriptor(kDataEmitted)\n})\nfunction ReadableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Bit map field to store ReadableState more effciently with 1 bit per field\n  // instead of a V8 slot per field.\n  this.state = kEmitClose | kAutoDestroy | kConstructed | kSync\n  // Object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away.\n  if (options && options.objectMode) this.state |= kObjectMode\n  if (isDuplex && options && options.readableObjectMode) this.state |= kObjectMode\n\n  // The point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift().\n  this.buffer = new BufferList()\n  this.length = 0\n  this.pipes = []\n  this.flowing = null\n  this[kPaused] = null\n\n  // Should close be emitted on destroy. Defaults to true.\n  if (options && options.emitClose === false) this.state &= ~kEmitClose\n\n  // Should .destroy() be called after 'end' (and potentially 'finish').\n  if (options && options.autoDestroy === false) this.state &= ~kAutoDestroy\n\n  // Indicates whether the stream has errored. When true no further\n  // _read calls, 'data' or 'readable' events should occur. This is needed\n  // since when autoDestroy is disabled we need a way to tell whether the\n  // stream has failed.\n  this.errored = null\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Ref the piped dest which we need a drain event on it\n  // type: null | Writable | Set<Writable>.\n  this.awaitDrainWriters = null\n  this.decoder = null\n  this.encoding = null\n  if (options && options.encoding) {\n    this.decoder = new StringDecoder(options.encoding)\n    this.encoding = options.encoding\n  }\n}\nfunction Readable(options) {\n  if (!(this instanceof Readable)) return new Readable(options)\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  this._readableState = new ReadableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal && !isDuplex) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    if (this._readableState.needReadable) {\n      maybeReadMore(this, this._readableState)\n    }\n  })\n}\nReadable.prototype.destroy = destroyImpl.destroy\nReadable.prototype._undestroy = destroyImpl.undestroy\nReadable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nReadable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nReadable.prototype[SymbolAsyncDispose] = function () {\n  let error\n  if (!this.destroyed) {\n    error = this.readableEnded ? null : new AbortError()\n    this.destroy(error)\n  }\n  return new Promise((resolve, reject) => eos(this, (err) => (err && err !== error ? reject(err) : resolve(null))))\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, false)\n}\n\n// Unshift should *always* be something directly out of read().\nReadable.prototype.unshift = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, true)\n}\nfunction readableAddChunk(stream, chunk, encoding, addToFront) {\n  debug('readableAddChunk', chunk)\n  const state = stream._readableState\n  let err\n  if ((state.state & kObjectMode) === 0) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding\n      if (state.encoding !== encoding) {\n        if (addToFront && state.encoding) {\n          // When unshifting, if state.encoding is set, we have to save\n          // the string in the BufferList with the state encoding.\n          chunk = Buffer.from(chunk, encoding).toString(state.encoding)\n        } else {\n          chunk = Buffer.from(chunk, encoding)\n          encoding = ''\n        }\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = ''\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = ''\n    } else if (chunk != null) {\n      err = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  if (err) {\n    errorOrDestroy(stream, err)\n  } else if (chunk === null) {\n    state.state &= ~kReading\n    onEofChunk(stream, state)\n  } else if ((state.state & kObjectMode) !== 0 || (chunk && chunk.length > 0)) {\n    if (addToFront) {\n      if ((state.state & kEndEmitted) !== 0) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT())\n      else if (state.destroyed || state.errored) return false\n      else addChunk(stream, state, chunk, true)\n    } else if (state.ended) {\n      errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF())\n    } else if (state.destroyed || state.errored) {\n      return false\n    } else {\n      state.state &= ~kReading\n      if (state.decoder && !encoding) {\n        chunk = state.decoder.write(chunk)\n        if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false)\n        else maybeReadMore(stream, state)\n      } else {\n        addChunk(stream, state, chunk, false)\n      }\n    }\n  } else if (!addToFront) {\n    state.state &= ~kReading\n    maybeReadMore(stream, state)\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0)\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync && stream.listenerCount('data') > 0) {\n    // Use the guard to avoid creating `Set()` repeatedly\n    // when we have multiple pipes.\n    if ((state.state & kMultiAwaitDrain) !== 0) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n    state.dataEmitted = true\n    stream.emit('data', chunk)\n  } else {\n    // Update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length\n    if (addToFront) state.buffer.unshift(chunk)\n    else state.buffer.push(chunk)\n    if ((state.state & kNeedReadable) !== 0) emitReadable(stream)\n  }\n  maybeReadMore(stream, state)\n}\nReadable.prototype.isPaused = function () {\n  const state = this._readableState\n  return state[kPaused] === true || state.flowing === false\n}\n\n// Backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  const decoder = new StringDecoder(enc)\n  this._readableState.decoder = decoder\n  // If setEncoding(null), decoder.encoding equals utf8.\n  this._readableState.encoding = this._readableState.decoder.encoding\n  const buffer = this._readableState.buffer\n  // Iterate over current buffer to convert already stored Buffers:\n  let content = ''\n  for (const data of buffer) {\n    content += decoder.write(data)\n  }\n  buffer.clear()\n  if (content !== '') buffer.push(content)\n  this._readableState.length = content.length\n  return this\n}\n\n// Don't raise the hwm > 1GB.\nconst MAX_HWM = 0x40000000\nfunction computeNewHighWaterMark(n) {\n  if (n > MAX_HWM) {\n    throw new ERR_OUT_OF_RANGE('size', '<= 1GiB', n)\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts.\n    n--\n    n |= n >>> 1\n    n |= n >>> 2\n    n |= n >>> 4\n    n |= n >>> 8\n    n |= n >>> 16\n    n++\n  }\n  return n\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || (state.length === 0 && state.ended)) return 0\n  if ((state.state & kObjectMode) !== 0) return 1\n  if (NumberIsNaN(n)) {\n    // Only flow one buffer at a time.\n    if (state.flowing && state.length) return state.buffer.first().length\n    return state.length\n  }\n  if (n <= state.length) return n\n  return state.ended ? state.length : 0\n}\n\n// You can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n)\n  // Same as parseInt(undefined, 10), however V8 7.3 performance regressed\n  // in this scenario, so we are doing it manually.\n  if (n === undefined) {\n    n = NaN\n  } else if (!NumberIsInteger(n)) {\n    n = NumberParseInt(n, 10)\n  }\n  const state = this._readableState\n  const nOrig = n\n\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n)\n  if (n !== 0) state.state &= ~kEmittedReadable\n\n  // If we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (\n    n === 0 &&\n    state.needReadable &&\n    ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)\n  ) {\n    debug('read: emitReadable', state.length, state.ended)\n    if (state.length === 0 && state.ended) endReadable(this)\n    else emitReadable(this)\n    return null\n  }\n  n = howMuchToRead(n, state)\n\n  // If we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this)\n    return null\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  let doRead = (state.state & kNeedReadable) !== 0\n  debug('need readable', doRead)\n\n  // If we currently have less than the highWaterMark, then also read some.\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true\n    debug('length less than watermark', doRead)\n  }\n\n  // However, if we've ended, then there's no point, if we're already\n  // reading, then it's unnecessary, if we're constructing we have to wait,\n  // and if we're destroyed or errored, then it's not allowed,\n  if (state.ended || state.reading || state.destroyed || state.errored || !state.constructed) {\n    doRead = false\n    debug('reading, ended or constructing', doRead)\n  } else if (doRead) {\n    debug('do read')\n    state.state |= kReading | kSync\n    // If the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.state |= kNeedReadable\n\n    // Call internal read method\n    try {\n      this._read(state.highWaterMark)\n    } catch (err) {\n      errorOrDestroy(this, err)\n    }\n    state.state &= ~kSync\n\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state)\n  }\n  let ret\n  if (n > 0) ret = fromList(n, state)\n  else ret = null\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark\n    n = 0\n  } else {\n    state.length -= n\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this)\n  }\n  if (ret !== null && !state.errorEmitted && !state.closeEmitted) {\n    state.dataEmitted = true\n    this.emit('data', ret)\n  }\n  return ret\n}\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk')\n  if (state.ended) return\n  if (state.decoder) {\n    const chunk = state.decoder.end()\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk)\n      state.length += state.objectMode ? 1 : chunk.length\n    }\n  }\n  state.ended = true\n  if (state.sync) {\n    // If we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call.\n    emitReadable(stream)\n  } else {\n    // Emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false\n    state.emittedReadable = true\n    // We have to emit readable now that we are EOF. Modules\n    // in the ecosystem (e.g. dicer) rely on this event being sync.\n    emitReadable_(stream)\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  const state = stream._readableState\n  debug('emitReadable', state.needReadable, state.emittedReadable)\n  state.needReadable = false\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing)\n    state.emittedReadable = true\n    process.nextTick(emitReadable_, stream)\n  }\n}\nfunction emitReadable_(stream) {\n  const state = stream._readableState\n  debug('emitReadable_', state.destroyed, state.length, state.ended)\n  if (!state.destroyed && !state.errored && (state.length || state.ended)) {\n    stream.emit('readable')\n    state.emittedReadable = false\n  }\n\n  // The stream needs another readable event if:\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark\n  flow(stream)\n}\n\n// At this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore && state.constructed) {\n    state.readingMore = true\n    process.nextTick(maybeReadMore_, stream, state)\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (\n    !state.reading &&\n    !state.ended &&\n    (state.length < state.highWaterMark || (state.flowing && state.length === 0))\n  ) {\n    const len = state.length\n    debug('maybeReadMore read 0')\n    stream.read(0)\n    if (len === state.length)\n      // Didn't get any data, stop spinning.\n      break\n  }\n  state.readingMore = false\n}\n\n// Abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_read()')\n}\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  const src = this\n  const state = this._readableState\n  if (state.pipes.length === 1) {\n    if (!state.multiAwaitDrain) {\n      state.multiAwaitDrain = true\n      state.awaitDrainWriters = new SafeSet(state.awaitDrainWriters ? [state.awaitDrainWriters] : [])\n    }\n  }\n  state.pipes.push(dest)\n  debug('pipe count=%d opts=%j', state.pipes.length, pipeOpts)\n  const doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr\n  const endFn = doEnd ? onend : unpipe\n  if (state.endEmitted) process.nextTick(endFn)\n  else src.once('end', endFn)\n  dest.on('unpipe', onunpipe)\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe')\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true\n        cleanup()\n      }\n    }\n  }\n  function onend() {\n    debug('onend')\n    dest.end()\n  }\n  let ondrain\n  let cleanedUp = false\n  function cleanup() {\n    debug('cleanup')\n    // Cleanup event handlers once the pipe is broken.\n    dest.removeListener('close', onclose)\n    dest.removeListener('finish', onfinish)\n    if (ondrain) {\n      dest.removeListener('drain', ondrain)\n    }\n    dest.removeListener('error', onerror)\n    dest.removeListener('unpipe', onunpipe)\n    src.removeListener('end', onend)\n    src.removeListener('end', unpipe)\n    src.removeListener('data', ondata)\n    cleanedUp = true\n\n    // If the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (ondrain && state.awaitDrainWriters && (!dest._writableState || dest._writableState.needDrain)) ondrain()\n  }\n  function pause() {\n    // If the user unpiped during `dest.write()`, it is possible\n    // to get stuck in a permanently paused state if that write\n    // also returned false.\n    // => Check whether `dest` is still a piping destination.\n    if (!cleanedUp) {\n      if (state.pipes.length === 1 && state.pipes[0] === dest) {\n        debug('false write response, pause', 0)\n        state.awaitDrainWriters = dest\n        state.multiAwaitDrain = false\n      } else if (state.pipes.length > 1 && state.pipes.includes(dest)) {\n        debug('false write response, pause', state.awaitDrainWriters.size)\n        state.awaitDrainWriters.add(dest)\n      }\n      src.pause()\n    }\n    if (!ondrain) {\n      // When the dest drains, it reduces the awaitDrain counter\n      // on the source.  This would be more elegant with a .once()\n      // handler in flow(), but adding and removing repeatedly is\n      // too slow.\n      ondrain = pipeOnDrain(src, dest)\n      dest.on('drain', ondrain)\n    }\n  }\n  src.on('data', ondata)\n  function ondata(chunk) {\n    debug('ondata')\n    const ret = dest.write(chunk)\n    debug('dest.write', ret)\n    if (ret === false) {\n      pause()\n    }\n  }\n\n  // If the dest has an error, then stop piping into it.\n  // However, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er)\n    unpipe()\n    dest.removeListener('error', onerror)\n    if (dest.listenerCount('error') === 0) {\n      const s = dest._writableState || dest._readableState\n      if (s && !s.errorEmitted) {\n        // User incorrectly emitted 'error' directly on the stream.\n        errorOrDestroy(dest, er)\n      } else {\n        dest.emit('error', er)\n      }\n    }\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror)\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish)\n    unpipe()\n  }\n  dest.once('close', onclose)\n  function onfinish() {\n    debug('onfinish')\n    dest.removeListener('close', onclose)\n    unpipe()\n  }\n  dest.once('finish', onfinish)\n  function unpipe() {\n    debug('unpipe')\n    src.unpipe(dest)\n  }\n\n  // Tell the dest that it's being piped to.\n  dest.emit('pipe', src)\n\n  // Start the flow if it hasn't been started already.\n\n  if (dest.writableNeedDrain === true) {\n    pause()\n  } else if (!state.flowing) {\n    debug('pipe resume')\n    src.resume()\n  }\n  return dest\n}\nfunction pipeOnDrain(src, dest) {\n  return function pipeOnDrainFunctionResult() {\n    const state = src._readableState\n\n    // `ondrain` will call directly,\n    // `this` maybe not a reference to dest,\n    // so we use the real dest here.\n    if (state.awaitDrainWriters === dest) {\n      debug('pipeOnDrain', 1)\n      state.awaitDrainWriters = null\n    } else if (state.multiAwaitDrain) {\n      debug('pipeOnDrain', state.awaitDrainWriters.size)\n      state.awaitDrainWriters.delete(dest)\n    }\n    if ((!state.awaitDrainWriters || state.awaitDrainWriters.size === 0) && src.listenerCount('data')) {\n      src.resume()\n    }\n  }\n}\nReadable.prototype.unpipe = function (dest) {\n  const state = this._readableState\n  const unpipeInfo = {\n    hasUnpiped: false\n  }\n\n  // If we're not piping anywhere, then do nothing.\n  if (state.pipes.length === 0) return this\n  if (!dest) {\n    // remove all.\n    const dests = state.pipes\n    state.pipes = []\n    this.pause()\n    for (let i = 0; i < dests.length; i++)\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      })\n    return this\n  }\n\n  // Try to find the right one.\n  const index = ArrayPrototypeIndexOf(state.pipes, dest)\n  if (index === -1) return this\n  state.pipes.splice(index, 1)\n  if (state.pipes.length === 0) this.pause()\n  dest.emit('unpipe', this, unpipeInfo)\n  return this\n}\n\n// Set up data events if they are asked for\n// Ensure readable listeners eventually get something.\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn)\n  const state = this._readableState\n  if (ev === 'data') {\n    // Update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0\n\n    // Try start flowing on next tick if stream isn't explicitly paused.\n    if (state.flowing !== false) this.resume()\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true\n      state.flowing = false\n      state.emittedReadable = false\n      debug('on readable', state.length, state.reading)\n      if (state.length) {\n        emitReadable(this)\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this)\n      }\n    }\n  }\n  return res\n}\nReadable.prototype.addListener = Readable.prototype.on\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn)\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nReadable.prototype.off = Readable.prototype.removeListener\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments)\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nfunction updateReadableListening(self) {\n  const state = self._readableState\n  state.readableListening = self.listenerCount('readable') > 0\n  if (state.resumeScheduled && state[kPaused] === false) {\n    // Flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true\n\n    // Crude way to check if we should resume.\n  } else if (self.listenerCount('data') > 0) {\n    self.resume()\n  } else if (!state.readableListening) {\n    state.flowing = null\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0')\n  self.read(0)\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  const state = this._readableState\n  if (!state.flowing) {\n    debug('resume')\n    // We flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume().\n    state.flowing = !state.readableListening\n    resume(this, state)\n  }\n  state[kPaused] = false\n  return this\n}\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true\n    process.nextTick(resume_, stream, state)\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading)\n  if (!state.reading) {\n    stream.read(0)\n  }\n  state.resumeScheduled = false\n  stream.emit('resume')\n  flow(stream)\n  if (state.flowing && !state.reading) stream.read(0)\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing)\n  if (this._readableState.flowing !== false) {\n    debug('pause')\n    this._readableState.flowing = false\n    this.emit('pause')\n  }\n  this._readableState[kPaused] = true\n  return this\n}\nfunction flow(stream) {\n  const state = stream._readableState\n  debug('flow', state.flowing)\n  while (state.flowing && stream.read() !== null);\n}\n\n// Wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  let paused = false\n\n  // TODO (ronag): Should this.destroy(err) emit\n  // 'error' on the wrapped stream? Would require\n  // a static factory method, e.g. Readable.wrap(stream).\n\n  stream.on('data', (chunk) => {\n    if (!this.push(chunk) && stream.pause) {\n      paused = true\n      stream.pause()\n    }\n  })\n  stream.on('end', () => {\n    this.push(null)\n  })\n  stream.on('error', (err) => {\n    errorOrDestroy(this, err)\n  })\n  stream.on('close', () => {\n    this.destroy()\n  })\n  stream.on('destroy', () => {\n    this.destroy()\n  })\n  this._read = () => {\n    if (paused && stream.resume) {\n      paused = false\n      stream.resume()\n    }\n  }\n\n  // Proxy all the other methods. Important when wrapping filters and duplexes.\n  const streamKeys = ObjectKeys(stream)\n  for (let j = 1; j < streamKeys.length; j++) {\n    const i = streamKeys[j]\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = stream[i].bind(stream)\n    }\n  }\n  return this\n}\nReadable.prototype[SymbolAsyncIterator] = function () {\n  return streamToAsyncIterator(this)\n}\nReadable.prototype.iterator = function (options) {\n  if (options !== undefined) {\n    validateObject(options, 'options')\n  }\n  return streamToAsyncIterator(this, options)\n}\nfunction streamToAsyncIterator(stream, options) {\n  if (typeof stream.read !== 'function') {\n    stream = Readable.wrap(stream, {\n      objectMode: true\n    })\n  }\n  const iter = createAsyncIterator(stream, options)\n  iter.stream = stream\n  return iter\n}\nasync function* createAsyncIterator(stream, options) {\n  let callback = nop\n  function next(resolve) {\n    if (this === stream) {\n      callback()\n      callback = nop\n    } else {\n      callback = resolve\n    }\n  }\n  stream.on('readable', next)\n  let error\n  const cleanup = eos(\n    stream,\n    {\n      writable: false\n    },\n    (err) => {\n      error = err ? aggregateTwoErrors(error, err) : null\n      callback()\n      callback = nop\n    }\n  )\n  try {\n    while (true) {\n      const chunk = stream.destroyed ? null : stream.read()\n      if (chunk !== null) {\n        yield chunk\n      } else if (error) {\n        throw error\n      } else if (error === null) {\n        return\n      } else {\n        await new Promise(next)\n      }\n    }\n  } catch (err) {\n    error = aggregateTwoErrors(error, err)\n    throw error\n  } finally {\n    if (\n      (error || (options === null || options === undefined ? undefined : options.destroyOnReturn) !== false) &&\n      (error === undefined || stream._readableState.autoDestroy)\n    ) {\n      destroyImpl.destroyer(stream, null)\n    } else {\n      stream.off('readable', next)\n      cleanup()\n    }\n  }\n}\n\n// Making it explicit these properties are not enumerable\n// because otherwise some prototype manipulation in\n// userland will fail.\nObjectDefineProperties(Readable.prototype, {\n  readable: {\n    __proto__: null,\n    get() {\n      const r = this._readableState\n      // r.readable === false means that this is part of a Duplex stream\n      // where the readable side was disabled upon construction.\n      // Compat. The user might manually disable readable side through\n      // deprecated setter.\n      return !!r && r.readable !== false && !r.destroyed && !r.errorEmitted && !r.endEmitted\n    },\n    set(val) {\n      // Backwards compat.\n      if (this._readableState) {\n        this._readableState.readable = !!val\n      }\n    }\n  },\n  readableDidRead: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.dataEmitted\n    }\n  },\n  readableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._readableState.readable !== false &&\n        (this._readableState.destroyed || this._readableState.errored) &&\n        !this._readableState.endEmitted\n      )\n    }\n  },\n  readableHighWaterMark: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.highWaterMark\n    }\n  },\n  readableBuffer: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState && this._readableState.buffer\n    }\n  },\n  readableFlowing: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.flowing\n    },\n    set: function (state) {\n      if (this._readableState) {\n        this._readableState.flowing = state\n      }\n    }\n  },\n  readableLength: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState.length\n    }\n  },\n  readableObjectMode: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.objectMode : false\n    }\n  },\n  readableEncoding: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.encoding : null\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.errored : null\n    }\n  },\n  closed: {\n    __proto__: null,\n    get() {\n      return this._readableState ? this._readableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.destroyed : false\n    },\n    set(value) {\n      // We ignore the value if the stream\n      // has not been initialized yet.\n      if (!this._readableState) {\n        return\n      }\n\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      this._readableState.destroyed = value\n    }\n  },\n  readableEnded: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.endEmitted : false\n    }\n  }\n})\nObjectDefineProperties(ReadableState.prototype, {\n  // Legacy getter for `pipesCount`.\n  pipesCount: {\n    __proto__: null,\n    get() {\n      return this.pipes.length\n    }\n  },\n  // Legacy property for `paused`.\n  paused: {\n    __proto__: null,\n    get() {\n      return this[kPaused] !== false\n    },\n    set(value) {\n      this[kPaused] = !!value\n    }\n  }\n})\n\n// Exposed for testing purposes only.\nReadable._fromList = fromList\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered.\n  if (state.length === 0) return null\n  let ret\n  if (state.objectMode) ret = state.buffer.shift()\n  else if (!n || n >= state.length) {\n    // Read it all, truncate the list.\n    if (state.decoder) ret = state.buffer.join('')\n    else if (state.buffer.length === 1) ret = state.buffer.first()\n    else ret = state.buffer.concat(state.length)\n    state.buffer.clear()\n  } else {\n    // read part of list.\n    ret = state.buffer.consume(n, state.decoder)\n  }\n  return ret\n}\nfunction endReadable(stream) {\n  const state = stream._readableState\n  debug('endReadable', state.endEmitted)\n  if (!state.endEmitted) {\n    state.ended = true\n    process.nextTick(endReadableNT, state, stream)\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length)\n\n  // Check that we didn't get one last unshift.\n  if (!state.errored && !state.closeEmitted && !state.endEmitted && state.length === 0) {\n    state.endEmitted = true\n    stream.emit('end')\n    if (stream.writable && stream.allowHalfOpen === false) {\n      process.nextTick(endWritableNT, stream)\n    } else if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well.\n      const wState = stream._writableState\n      const autoDestroy =\n        !wState ||\n        (wState.autoDestroy &&\n          // We don't expect the writable to ever 'finish'\n          // if writable is explicitly set to false.\n          (wState.finished || wState.writable === false))\n      if (autoDestroy) {\n        stream.destroy()\n      }\n    }\n  }\n}\nfunction endWritableNT(stream) {\n  const writable = stream.writable && !stream.writableEnded && !stream.destroyed\n  if (writable) {\n    stream.end()\n  }\n}\nReadable.from = function (iterable, opts) {\n  return from(Readable, iterable, opts)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nReadable.fromWeb = function (readableStream, options) {\n  return lazyWebStreams().newStreamReadableFromReadableStream(readableStream, options)\n}\nReadable.toWeb = function (streamReadable, options) {\n  return lazyWebStreams().newReadableStreamFromStreamReadable(streamReadable, options)\n}\nReadable.wrap = function (src, options) {\n  var _ref, _src$readableObjectMo\n  return new Readable({\n    objectMode:\n      (_ref =\n        (_src$readableObjectMo = src.readableObjectMode) !== null && _src$readableObjectMo !== undefined\n          ? _src$readableObjectMo\n          : src.objectMode) !== null && _ref !== undefined\n        ? _ref\n        : true,\n    ...options,\n    destroy(err, callback) {\n      destroyImpl.destroyer(src, err)\n      callback(err)\n    }\n  }).wrap(src)\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { ArrayIsArray, Promise, SymbolAsyncIterator, SymbolDispose } = require('../../ours/primordials')\nconst eos = require('./end-of-stream')\nconst { once } = require('../../ours/util')\nconst destroyImpl = require('./destroy')\nconst Duplex = require('./duplex')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED,\n    ERR_STREAM_PREMATURE_CLOSE\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateFunction, validateAbortSignal } = require('../validators')\nconst {\n  isIterable,\n  isReadable,\n  isReadableNodeStream,\n  isNodeStream,\n  isTransformStream,\n  isWebStream,\n  isReadableStream,\n  isReadableFinished\n} = require('./utils')\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nlet PassThrough\nlet Readable\nlet addAbortListener\nfunction destroyer(stream, reading, writing) {\n  let finished = false\n  stream.on('close', () => {\n    finished = true\n  })\n  const cleanup = eos(\n    stream,\n    {\n      readable: reading,\n      writable: writing\n    },\n    (err) => {\n      finished = !err\n    }\n  )\n  return {\n    destroy: (err) => {\n      if (finished) return\n      finished = true\n      destroyImpl.destroyer(stream, err || new ERR_STREAM_DESTROYED('pipe'))\n    },\n    cleanup\n  }\n}\nfunction popCallback(streams) {\n  // Streams should never be an empty array. It should always contain at least\n  // a single stream. Therefore optimize for the average case instead of\n  // checking for length === 0 as well.\n  validateFunction(streams[streams.length - 1], 'streams[stream.length - 1]')\n  return streams.pop()\n}\nfunction makeAsyncIterable(val) {\n  if (isIterable(val)) {\n    return val\n  } else if (isReadableNodeStream(val)) {\n    // Legacy streams are not Iterable.\n    return fromReadable(val)\n  }\n  throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], val)\n}\nasync function* fromReadable(val) {\n  if (!Readable) {\n    Readable = require('./readable')\n  }\n  yield* Readable.prototype[SymbolAsyncIterator].call(val)\n}\nasync function pumpToNode(iterable, writable, finish, { end }) {\n  let error\n  let onresolve = null\n  const resume = (err) => {\n    if (err) {\n      error = err\n    }\n    if (onresolve) {\n      const callback = onresolve\n      onresolve = null\n      callback()\n    }\n  }\n  const wait = () =>\n    new Promise((resolve, reject) => {\n      if (error) {\n        reject(error)\n      } else {\n        onresolve = () => {\n          if (error) {\n            reject(error)\n          } else {\n            resolve()\n          }\n        }\n      }\n    })\n  writable.on('drain', resume)\n  const cleanup = eos(\n    writable,\n    {\n      readable: false\n    },\n    resume\n  )\n  try {\n    if (writable.writableNeedDrain) {\n      await wait()\n    }\n    for await (const chunk of iterable) {\n      if (!writable.write(chunk)) {\n        await wait()\n      }\n    }\n    if (end) {\n      writable.end()\n      await wait()\n    }\n    finish()\n  } catch (err) {\n    finish(error !== err ? aggregateTwoErrors(error, err) : err)\n  } finally {\n    cleanup()\n    writable.off('drain', resume)\n  }\n}\nasync function pumpToWeb(readable, writable, finish, { end }) {\n  if (isTransformStream(writable)) {\n    writable = writable.writable\n  }\n  // https://streams.spec.whatwg.org/#example-manual-write-with-backpressure\n  const writer = writable.getWriter()\n  try {\n    for await (const chunk of readable) {\n      await writer.ready\n      writer.write(chunk).catch(() => {})\n    }\n    await writer.ready\n    if (end) {\n      await writer.close()\n    }\n    finish()\n  } catch (err) {\n    try {\n      await writer.abort(err)\n      finish(err)\n    } catch (err) {\n      finish(err)\n    }\n  }\n}\nfunction pipeline(...streams) {\n  return pipelineImpl(streams, once(popCallback(streams)))\n}\nfunction pipelineImpl(streams, callback, opts) {\n  if (streams.length === 1 && ArrayIsArray(streams[0])) {\n    streams = streams[0]\n  }\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  const outerSignal = opts === null || opts === undefined ? undefined : opts.signal\n\n  // Need to cleanup event listeners if last stream is readable\n  // https://github.com/nodejs/node/issues/35452\n  const lastStreamCleanup = []\n  validateAbortSignal(outerSignal, 'options.signal')\n  function abort() {\n    finishImpl(new AbortError())\n  }\n  addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n  let disposable\n  if (outerSignal) {\n    disposable = addAbortListener(outerSignal, abort)\n  }\n  let error\n  let value\n  const destroys = []\n  let finishCount = 0\n  function finish(err) {\n    finishImpl(err, --finishCount === 0)\n  }\n  function finishImpl(err, final) {\n    var _disposable\n    if (err && (!error || error.code === 'ERR_STREAM_PREMATURE_CLOSE')) {\n      error = err\n    }\n    if (!error && !final) {\n      return\n    }\n    while (destroys.length) {\n      destroys.shift()(error)\n    }\n    ;(_disposable = disposable) === null || _disposable === undefined ? undefined : _disposable[SymbolDispose]()\n    ac.abort()\n    if (final) {\n      if (!error) {\n        lastStreamCleanup.forEach((fn) => fn())\n      }\n      process.nextTick(callback, error, value)\n    }\n  }\n  let ret\n  for (let i = 0; i < streams.length; i++) {\n    const stream = streams[i]\n    const reading = i < streams.length - 1\n    const writing = i > 0\n    const end = reading || (opts === null || opts === undefined ? undefined : opts.end) !== false\n    const isLastStream = i === streams.length - 1\n    if (isNodeStream(stream)) {\n      if (end) {\n        const { destroy, cleanup } = destroyer(stream, reading, writing)\n        destroys.push(destroy)\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n\n      // Catch stream errors that occur after pipe/pump has completed.\n      function onError(err) {\n        if (err && err.name !== 'AbortError' && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n          finish(err)\n        }\n      }\n      stream.on('error', onError)\n      if (isReadable(stream) && isLastStream) {\n        lastStreamCleanup.push(() => {\n          stream.removeListener('error', onError)\n        })\n      }\n    }\n    if (i === 0) {\n      if (typeof stream === 'function') {\n        ret = stream({\n          signal\n        })\n        if (!isIterable(ret)) {\n          throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or Stream', 'source', ret)\n        }\n      } else if (isIterable(stream) || isReadableNodeStream(stream) || isTransformStream(stream)) {\n        ret = stream\n      } else {\n        ret = Duplex.from(stream)\n      }\n    } else if (typeof stream === 'function') {\n      if (isTransformStream(ret)) {\n        var _ret\n        ret = makeAsyncIterable((_ret = ret) === null || _ret === undefined ? undefined : _ret.readable)\n      } else {\n        ret = makeAsyncIterable(ret)\n      }\n      ret = stream(ret, {\n        signal\n      })\n      if (reading) {\n        if (!isIterable(ret, true)) {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable', `transform[${i - 1}]`, ret)\n        }\n      } else {\n        var _ret2\n        if (!PassThrough) {\n          PassThrough = require('./passthrough')\n        }\n\n        // If the last argument to pipeline is not a stream\n        // we must create a proxy stream so that pipeline(...)\n        // always returns a stream which can be further\n        // composed through `.pipe(stream)`.\n\n        const pt = new PassThrough({\n          objectMode: true\n        })\n\n        // Handle Promises/A+ spec, `then` could be a getter that throws on\n        // second use.\n        const then = (_ret2 = ret) === null || _ret2 === undefined ? undefined : _ret2.then\n        if (typeof then === 'function') {\n          finishCount++\n          then.call(\n            ret,\n            (val) => {\n              value = val\n              if (val != null) {\n                pt.write(val)\n              }\n              if (end) {\n                pt.end()\n              }\n              process.nextTick(finish)\n            },\n            (err) => {\n              pt.destroy(err)\n              process.nextTick(finish, err)\n            }\n          )\n        } else if (isIterable(ret, true)) {\n          finishCount++\n          pumpToNode(ret, pt, finish, {\n            end\n          })\n        } else if (isReadableStream(ret) || isTransformStream(ret)) {\n          const toRead = ret.readable || ret\n          finishCount++\n          pumpToNode(toRead, pt, finish, {\n            end\n          })\n        } else {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable or Promise', 'destination', ret)\n        }\n        ret = pt\n        const { destroy, cleanup } = destroyer(ret, false, true)\n        destroys.push(destroy)\n        if (isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n    } else if (isNodeStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount += 2\n        const cleanup = pipe(ret, stream, finish, {\n          end\n        })\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } else if (isTransformStream(ret) || isReadableStream(ret)) {\n        const toRead = ret.readable || ret\n        finishCount++\n        pumpToNode(toRead, stream, finish, {\n          end\n        })\n      } else if (isIterable(ret)) {\n        finishCount++\n        pumpToNode(ret, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else if (isWebStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount++\n        pumpToWeb(makeAsyncIterable(ret), stream, finish, {\n          end\n        })\n      } else if (isReadableStream(ret) || isIterable(ret)) {\n        finishCount++\n        pumpToWeb(ret, stream, finish, {\n          end\n        })\n      } else if (isTransformStream(ret)) {\n        finishCount++\n        pumpToWeb(ret.readable, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else {\n      ret = Duplex.from(stream)\n    }\n  }\n  if (\n    (signal !== null && signal !== undefined && signal.aborted) ||\n    (outerSignal !== null && outerSignal !== undefined && outerSignal.aborted)\n  ) {\n    process.nextTick(abort)\n  }\n  return ret\n}\nfunction pipe(src, dst, finish, { end }) {\n  let ended = false\n  dst.on('close', () => {\n    if (!ended) {\n      // Finish if the destination closes before the source has completed.\n      finish(new ERR_STREAM_PREMATURE_CLOSE())\n    }\n  })\n  src.pipe(dst, {\n    end: false\n  }) // If end is true we already will have a listener to end dst.\n\n  if (end) {\n    // Compat. Before node v10.12.0 stdio used to throw an error so\n    // pipe() did/does not end() stdio destinations.\n    // Now they allow it but \"secretly\" don't close the underlying fd.\n\n    function endFn() {\n      ended = true\n      dst.end()\n    }\n    if (isReadableFinished(src)) {\n      // End the destination if the source has already ended.\n      process.nextTick(endFn)\n    } else {\n      src.once('end', endFn)\n    }\n  } else {\n    finish()\n  }\n  eos(\n    src,\n    {\n      readable: true,\n      writable: false\n    },\n    (err) => {\n      const rState = src._readableState\n      if (\n        err &&\n        err.code === 'ERR_STREAM_PREMATURE_CLOSE' &&\n        rState &&\n        rState.ended &&\n        !rState.errored &&\n        !rState.errorEmitted\n      ) {\n        // Some readable streams will emit 'close' before 'end'. However, since\n        // this is on the readable side 'end' should still be emitted if the\n        // stream has been ended and no error emitted. This should be allowed in\n        // favor of backwards compatibility. Since the stream is piped to a\n        // destination this should not result in any observable difference.\n        // We don't need to check if this is a writable premature close since\n        // eos will only fail with premature close on the reading side for\n        // duplex streams.\n        src.once('end', finish).once('error', finish)\n      } else {\n        finish(err)\n      }\n    }\n  )\n  return eos(\n    dst,\n    {\n      readable: false,\n      writable: true\n    },\n    finish\n  )\n}\nmodule.exports = {\n  pipelineImpl,\n  pipeline\n}\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst readable_stream_1 = require(\"readable-stream\");\nconst BufferedDuplex_1 = require(\"../BufferedDuplex\");\nlet my;\nlet proxy;\nlet stream;\nlet isInitialized = false;\nfunction buildProxy() {\n    const _proxy = new readable_stream_1.Transform();\n    _proxy._write = (chunk, encoding, next) => {\n        my.sendSocketMessage({\n            data: chunk.buffer,\n            success() {\n                next();\n            },\n            fail() {\n                next(new Error());\n            },\n        });\n    };\n    _proxy._flush = (done) => {\n        my.closeSocket({\n            success() {\n                done();\n            },\n        });\n    };\n    return _proxy;\n}\nfunction setDefaultOpts(opts) {\n    if (!opts.hostname) {\n        opts.hostname = 'localhost';\n    }\n    if (!opts.path) {\n        opts.path = '/';\n    }\n    if (!opts.wsOptions) {\n        opts.wsOptions = {};\n    }\n}\nfunction buildUrl(opts, client) {\n    const protocol = opts.protocol === 'alis' ? 'wss' : 'ws';\n    let url = `${protocol}://${opts.hostname}${opts.path}`;\n    if (opts.port && opts.port !== 80 && opts.port !== 443) {\n        url = `${protocol}://${opts.hostname}:${opts.port}${opts.path}`;\n    }\n    if (typeof opts.transformWsUrl === 'function') {\n        url = opts.transformWsUrl(url, opts, client);\n    }\n    return url;\n}\nfunction bindEventHandler() {\n    if (isInitialized)\n        return;\n    isInitialized = true;\n    my.onSocketOpen(() => {\n        stream.socketReady();\n    });\n    my.onSocketMessage((res) => {\n        if (typeof res.data === 'string') {\n            const buffer = buffer_1.Buffer.from(res.data, 'base64');\n            proxy.push(buffer);\n        }\n        else {\n            const reader = new FileReader();\n            reader.addEventListener('load', () => {\n                let data = reader.result;\n                if (data instanceof ArrayBuffer)\n                    data = buffer_1.Buffer.from(data);\n                else\n                    data = buffer_1.Buffer.from(data, 'utf8');\n                proxy.push(data);\n            });\n            reader.readAsArrayBuffer(res.data);\n        }\n    });\n    my.onSocketClose(() => {\n        stream.end();\n        stream.destroy();\n    });\n    my.onSocketError((err) => {\n        stream.destroy(err);\n    });\n}\nconst buildStream = (client, opts) => {\n    opts.hostname = opts.hostname || opts.host;\n    if (!opts.hostname) {\n        throw new Error('Could not determine host. Specify host manually.');\n    }\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    setDefaultOpts(opts);\n    const url = buildUrl(opts, client);\n    my = opts.my;\n    my.connectSocket({\n        url,\n        protocols: websocketSubProtocol,\n    });\n    proxy = buildProxy();\n    stream = new BufferedDuplex_1.BufferedDuplex(opts, proxy, my);\n    bindEventHandler();\n    return stream;\n};\nexports.default = buildStream;\n//# sourceMappingURL=ali.js.map","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf } = require('../../ours/primordials')\nmodule.exports = PassThrough\nconst Transform = require('./transform')\nObjectSetPrototypeOf(PassThrough.prototype, Transform.prototype)\nObjectSetPrototypeOf(PassThrough, Transform)\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options)\n  Transform.call(this, options)\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk)\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst buffer_1 = require(\"buffer\");\nconst readable_stream_1 = require(\"readable-stream\");\nconst BufferedDuplex_1 = require(\"../BufferedDuplex\");\nlet socketTask;\nlet proxy;\nlet stream;\nfunction buildProxy() {\n    const _proxy = new readable_stream_1.Transform();\n    _proxy._write = (chunk, encoding, next) => {\n        socketTask.send({\n            data: chunk.buffer,\n            success() {\n                next();\n            },\n            fail(errMsg) {\n                next(new Error(errMsg));\n            },\n        });\n    };\n    _proxy._flush = (done) => {\n        socketTask.close({\n            success() {\n                done();\n            },\n        });\n    };\n    return _proxy;\n}\nfunction setDefaultOpts(opts) {\n    if (!opts.hostname) {\n        opts.hostname = 'localhost';\n    }\n    if (!opts.path) {\n        opts.path = '/';\n    }\n    if (!opts.wsOptions) {\n        opts.wsOptions = {};\n    }\n}\nfunction buildUrl(opts, client) {\n    const protocol = opts.protocol === 'wxs' ? 'wss' : 'ws';\n    let url = `${protocol}://${opts.hostname}${opts.path}`;\n    if (opts.port && opts.port !== 80 && opts.port !== 443) {\n        url = `${protocol}://${opts.hostname}:${opts.port}${opts.path}`;\n    }\n    if (typeof opts.transformWsUrl === 'function') {\n        url = opts.transformWsUrl(url, opts, client);\n    }\n    return url;\n}\nfunction bindEventHandler() {\n    socketTask.onOpen(() => {\n        stream.socketReady();\n    });\n    socketTask.onMessage((res) => {\n        let { data } = res;\n        if (data instanceof ArrayBuffer)\n            data = buffer_1.Buffer.from(data);\n        else\n            data = buffer_1.Buffer.from(data, 'utf8');\n        proxy.push(data);\n    });\n    socketTask.onClose(() => {\n        stream.emit('close');\n        stream.end();\n        stream.destroy();\n    });\n    socketTask.onError((error) => {\n        const err = new Error(error.errMsg);\n        stream.destroy(err);\n    });\n}\nconst buildStream = (client, opts) => {\n    opts.hostname = opts.hostname || opts.host;\n    if (!opts.hostname) {\n        throw new Error('Could not determine host. Specify host manually.');\n    }\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    setDefaultOpts(opts);\n    const url = buildUrl(opts, client);\n    socketTask = wx.connectSocket({\n        url,\n        protocols: [websocketSubProtocol],\n    });\n    proxy = buildProxy();\n    stream = new BufferedDuplex_1.BufferedDuplex(opts, proxy, socketTask);\n    stream._destroy = (err, cb) => {\n        socketTask.close({\n            success() {\n                if (cb)\n                    cb(err);\n            },\n        });\n    };\n    const destroyRef = stream.destroy;\n    stream.destroy = (err, cb) => {\n        stream.destroy = destroyRef;\n        setTimeout(() => {\n            socketTask.close({\n                fail() {\n                    stream._destroy(err, cb);\n                },\n            });\n        }, 0);\n        return stream;\n    };\n    bindEventHandler();\n    return stream;\n};\nexports.default = buildStream;\n//# sourceMappingURL=wx.js.map","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(' ', ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 5520;\nmodule.exports = webpackEmptyContext;","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || defaults.transitional;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","\"use strict\";\n/**\n * @module LRUCache\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = void 0;\nconst perf = typeof performance === 'object' &&\n    performance &&\n    typeof performance.now === 'function'\n    ? performance\n    : Date;\nconst warned = new Set();\n/* c8 ignore start */\nconst PROCESS = (typeof process === 'object' && !!process ? process : {});\n/* c8 ignore start */\nconst emitWarning = (msg, type, code, fn) => {\n    typeof PROCESS.emitWarning === 'function'\n        ? PROCESS.emitWarning(msg, type, code, fn)\n        : console.error(`[${code}] ${type}: ${msg}`);\n};\nlet AC = globalThis.AbortController;\nlet AS = globalThis.AbortSignal;\n/* c8 ignore start */\nif (typeof AC === 'undefined') {\n    //@ts-ignore\n    AS = class AbortSignal {\n        onabort;\n        _onabort = [];\n        reason;\n        aborted = false;\n        addEventListener(_, fn) {\n            this._onabort.push(fn);\n        }\n    };\n    //@ts-ignore\n    AC = class AbortController {\n        constructor() {\n            warnACPolyfill();\n        }\n        signal = new AS();\n        abort(reason) {\n            if (this.signal.aborted)\n                return;\n            //@ts-ignore\n            this.signal.reason = reason;\n            //@ts-ignore\n            this.signal.aborted = true;\n            //@ts-ignore\n            for (const fn of this.signal._onabort) {\n                fn(reason);\n            }\n            this.signal.onabort?.(reason);\n        }\n    };\n    let printACPolyfillWarning = PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING !== '1';\n    const warnACPolyfill = () => {\n        if (!printACPolyfillWarning)\n            return;\n        printACPolyfillWarning = false;\n        emitWarning('AbortController is not defined. If using lru-cache in ' +\n            'node 14, load an AbortController polyfill from the ' +\n            '`node-abort-controller` package. A minimal polyfill is ' +\n            'provided for use by LRUCache.fetch(), but it should not be ' +\n            'relied upon in other contexts (eg, passing it to other APIs that ' +\n            'use AbortController/AbortSignal might have undesirable effects). ' +\n            'You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.', 'NO_ABORT_CONTROLLER', 'ENOTSUP', warnACPolyfill);\n    };\n}\n/* c8 ignore stop */\nconst shouldWarn = (code) => !warned.has(code);\nconst TYPE = Symbol('type');\nconst isPosInt = (n) => n && n === Math.floor(n) && n > 0 && isFinite(n);\n/* c8 ignore start */\n// This is a little bit ridiculous, tbh.\n// The maximum array length is 2^32-1 or thereabouts on most JS impls.\n// And well before that point, you're caching the entire world, I mean,\n// that's ~32GB of just integers for the next/prev links, plus whatever\n// else to hold that many keys and values.  Just filling the memory with\n// zeroes at init time is brutal when you get that big.\n// But why not be complete?\n// Maybe in the future, these limits will have expanded.\nconst getUintArray = (max) => !isPosInt(max)\n    ? null\n    : max <= Math.pow(2, 8)\n        ? Uint8Array\n        : max <= Math.pow(2, 16)\n            ? Uint16Array\n            : max <= Math.pow(2, 32)\n                ? Uint32Array\n                : max <= Number.MAX_SAFE_INTEGER\n                    ? ZeroArray\n                    : null;\n/* c8 ignore stop */\nclass ZeroArray extends Array {\n    constructor(size) {\n        super(size);\n        this.fill(0);\n    }\n}\nclass Stack {\n    heap;\n    length;\n    // private constructor\n    static #constructing = false;\n    static create(max) {\n        const HeapCls = getUintArray(max);\n        if (!HeapCls)\n            return [];\n        Stack.#constructing = true;\n        const s = new Stack(max, HeapCls);\n        Stack.#constructing = false;\n        return s;\n    }\n    constructor(max, HeapCls) {\n        /* c8 ignore start */\n        if (!Stack.#constructing) {\n            throw new TypeError('instantiate Stack using Stack.create(n)');\n        }\n        /* c8 ignore stop */\n        this.heap = new HeapCls(max);\n        this.length = 0;\n    }\n    push(n) {\n        this.heap[this.length++] = n;\n    }\n    pop() {\n        return this.heap[--this.length];\n    }\n}\n/**\n * Default export, the thing you're using this module to get.\n *\n * The `K` and `V` types define the key and value types, respectively. The\n * optional `FC` type defines the type of the `context` object passed to\n * `cache.fetch()` and `cache.memo()`.\n *\n * Keys and values **must not** be `null` or `undefined`.\n *\n * All properties from the options object (with the exception of `max`,\n * `maxSize`, `fetchMethod`, `memoMethod`, `dispose` and `disposeAfter`) are\n * added as normal public members. (The listed options are read-only getters.)\n *\n * Changing any of these will alter the defaults for subsequent method calls.\n */\nclass LRUCache {\n    // options that cannot be changed without disaster\n    #max;\n    #maxSize;\n    #dispose;\n    #disposeAfter;\n    #fetchMethod;\n    #memoMethod;\n    /**\n     * {@link LRUCache.OptionsBase.ttl}\n     */\n    ttl;\n    /**\n     * {@link LRUCache.OptionsBase.ttlResolution}\n     */\n    ttlResolution;\n    /**\n     * {@link LRUCache.OptionsBase.ttlAutopurge}\n     */\n    ttlAutopurge;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnGet}\n     */\n    updateAgeOnGet;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnHas}\n     */\n    updateAgeOnHas;\n    /**\n     * {@link LRUCache.OptionsBase.allowStale}\n     */\n    allowStale;\n    /**\n     * {@link LRUCache.OptionsBase.noDisposeOnSet}\n     */\n    noDisposeOnSet;\n    /**\n     * {@link LRUCache.OptionsBase.noUpdateTTL}\n     */\n    noUpdateTTL;\n    /**\n     * {@link LRUCache.OptionsBase.maxEntrySize}\n     */\n    maxEntrySize;\n    /**\n     * {@link LRUCache.OptionsBase.sizeCalculation}\n     */\n    sizeCalculation;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnFetchRejection}\n     */\n    noDeleteOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnStaleGet}\n     */\n    noDeleteOnStaleGet;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort}\n     */\n    allowStaleOnFetchAbort;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchRejection}\n     */\n    allowStaleOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.ignoreFetchAbort}\n     */\n    ignoreFetchAbort;\n    // computed properties\n    #size;\n    #calculatedSize;\n    #keyMap;\n    #keyList;\n    #valList;\n    #next;\n    #prev;\n    #head;\n    #tail;\n    #free;\n    #disposed;\n    #sizes;\n    #starts;\n    #ttls;\n    #hasDispose;\n    #hasFetchMethod;\n    #hasDisposeAfter;\n    /**\n     * Do not call this method unless you need to inspect the\n     * inner workings of the cache.  If anything returned by this\n     * object is modified in any way, strange breakage may occur.\n     *\n     * These fields are private for a reason!\n     *\n     * @internal\n     */\n    static unsafeExposeInternals(c) {\n        return {\n            // properties\n            starts: c.#starts,\n            ttls: c.#ttls,\n            sizes: c.#sizes,\n            keyMap: c.#keyMap,\n            keyList: c.#keyList,\n            valList: c.#valList,\n            next: c.#next,\n            prev: c.#prev,\n            get head() {\n                return c.#head;\n            },\n            get tail() {\n                return c.#tail;\n            },\n            free: c.#free,\n            // methods\n            isBackgroundFetch: (p) => c.#isBackgroundFetch(p),\n            backgroundFetch: (k, index, options, context) => c.#backgroundFetch(k, index, options, context),\n            moveToTail: (index) => c.#moveToTail(index),\n            indexes: (options) => c.#indexes(options),\n            rindexes: (options) => c.#rindexes(options),\n            isStale: (index) => c.#isStale(index),\n        };\n    }\n    // Protected read-only members\n    /**\n     * {@link LRUCache.OptionsBase.max} (read-only)\n     */\n    get max() {\n        return this.#max;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.maxSize} (read-only)\n     */\n    get maxSize() {\n        return this.#maxSize;\n    }\n    /**\n     * The total computed size of items in the cache (read-only)\n     */\n    get calculatedSize() {\n        return this.#calculatedSize;\n    }\n    /**\n     * The number of items stored in the cache (read-only)\n     */\n    get size() {\n        return this.#size;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.fetchMethod} (read-only)\n     */\n    get fetchMethod() {\n        return this.#fetchMethod;\n    }\n    get memoMethod() {\n        return this.#memoMethod;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.dispose} (read-only)\n     */\n    get dispose() {\n        return this.#dispose;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.disposeAfter} (read-only)\n     */\n    get disposeAfter() {\n        return this.#disposeAfter;\n    }\n    constructor(options) {\n        const { max = 0, ttl, ttlResolution = 1, ttlAutopurge, updateAgeOnGet, updateAgeOnHas, allowStale, dispose, disposeAfter, noDisposeOnSet, noUpdateTTL, maxSize = 0, maxEntrySize = 0, sizeCalculation, fetchMethod, memoMethod, noDeleteOnFetchRejection, noDeleteOnStaleGet, allowStaleOnFetchRejection, allowStaleOnFetchAbort, ignoreFetchAbort, } = options;\n        if (max !== 0 && !isPosInt(max)) {\n            throw new TypeError('max option must be a nonnegative integer');\n        }\n        const UintArray = max ? getUintArray(max) : Array;\n        if (!UintArray) {\n            throw new Error('invalid max value: ' + max);\n        }\n        this.#max = max;\n        this.#maxSize = maxSize;\n        this.maxEntrySize = maxEntrySize || this.#maxSize;\n        this.sizeCalculation = sizeCalculation;\n        if (this.sizeCalculation) {\n            if (!this.#maxSize && !this.maxEntrySize) {\n                throw new TypeError('cannot set sizeCalculation without setting maxSize or maxEntrySize');\n            }\n            if (typeof this.sizeCalculation !== 'function') {\n                throw new TypeError('sizeCalculation set to non-function');\n            }\n        }\n        if (memoMethod !== undefined &&\n            typeof memoMethod !== 'function') {\n            throw new TypeError('memoMethod must be a function if defined');\n        }\n        this.#memoMethod = memoMethod;\n        if (fetchMethod !== undefined &&\n            typeof fetchMethod !== 'function') {\n            throw new TypeError('fetchMethod must be a function if specified');\n        }\n        this.#fetchMethod = fetchMethod;\n        this.#hasFetchMethod = !!fetchMethod;\n        this.#keyMap = new Map();\n        this.#keyList = new Array(max).fill(undefined);\n        this.#valList = new Array(max).fill(undefined);\n        this.#next = new UintArray(max);\n        this.#prev = new UintArray(max);\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free = Stack.create(max);\n        this.#size = 0;\n        this.#calculatedSize = 0;\n        if (typeof dispose === 'function') {\n            this.#dispose = dispose;\n        }\n        if (typeof disposeAfter === 'function') {\n            this.#disposeAfter = disposeAfter;\n            this.#disposed = [];\n        }\n        else {\n            this.#disposeAfter = undefined;\n            this.#disposed = undefined;\n        }\n        this.#hasDispose = !!this.#dispose;\n        this.#hasDisposeAfter = !!this.#disposeAfter;\n        this.noDisposeOnSet = !!noDisposeOnSet;\n        this.noUpdateTTL = !!noUpdateTTL;\n        this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection;\n        this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection;\n        this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort;\n        this.ignoreFetchAbort = !!ignoreFetchAbort;\n        // NB: maxEntrySize is set to maxSize if it's set\n        if (this.maxEntrySize !== 0) {\n            if (this.#maxSize !== 0) {\n                if (!isPosInt(this.#maxSize)) {\n                    throw new TypeError('maxSize must be a positive integer if specified');\n                }\n            }\n            if (!isPosInt(this.maxEntrySize)) {\n                throw new TypeError('maxEntrySize must be a positive integer if specified');\n            }\n            this.#initializeSizeTracking();\n        }\n        this.allowStale = !!allowStale;\n        this.noDeleteOnStaleGet = !!noDeleteOnStaleGet;\n        this.updateAgeOnGet = !!updateAgeOnGet;\n        this.updateAgeOnHas = !!updateAgeOnHas;\n        this.ttlResolution =\n            isPosInt(ttlResolution) || ttlResolution === 0\n                ? ttlResolution\n                : 1;\n        this.ttlAutopurge = !!ttlAutopurge;\n        this.ttl = ttl || 0;\n        if (this.ttl) {\n            if (!isPosInt(this.ttl)) {\n                throw new TypeError('ttl must be a positive integer if specified');\n            }\n            this.#initializeTTLTracking();\n        }\n        // do not allow completely unbounded caches\n        if (this.#max === 0 && this.ttl === 0 && this.#maxSize === 0) {\n            throw new TypeError('At least one of max, maxSize, or ttl is required');\n        }\n        if (!this.ttlAutopurge && !this.#max && !this.#maxSize) {\n            const code = 'LRU_CACHE_UNBOUNDED';\n            if (shouldWarn(code)) {\n                warned.add(code);\n                const msg = 'TTL caching without ttlAutopurge, max, or maxSize can ' +\n                    'result in unbounded memory consumption.';\n                emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache);\n            }\n        }\n    }\n    /**\n     * Return the number of ms left in the item's TTL. If item is not in cache,\n     * returns `0`. Returns `Infinity` if item is in cache without a defined TTL.\n     */\n    getRemainingTTL(key) {\n        return this.#keyMap.has(key) ? Infinity : 0;\n    }\n    #initializeTTLTracking() {\n        const ttls = new ZeroArray(this.#max);\n        const starts = new ZeroArray(this.#max);\n        this.#ttls = ttls;\n        this.#starts = starts;\n        this.#setItemTTL = (index, ttl, start = perf.now()) => {\n            starts[index] = ttl !== 0 ? start : 0;\n            ttls[index] = ttl;\n            if (ttl !== 0 && this.ttlAutopurge) {\n                const t = setTimeout(() => {\n                    if (this.#isStale(index)) {\n                        this.#delete(this.#keyList[index], 'expire');\n                    }\n                }, ttl + 1);\n                // unref() not supported on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n        };\n        this.#updateItemAge = index => {\n            starts[index] = ttls[index] !== 0 ? perf.now() : 0;\n        };\n        this.#statusTTL = (status, index) => {\n            if (ttls[index]) {\n                const ttl = ttls[index];\n                const start = starts[index];\n                /* c8 ignore next */\n                if (!ttl || !start)\n                    return;\n                status.ttl = ttl;\n                status.start = start;\n                status.now = cachedNow || getNow();\n                const age = status.now - start;\n                status.remainingTTL = ttl - age;\n            }\n        };\n        // debounce calls to perf.now() to 1s so we're not hitting\n        // that costly call repeatedly.\n        let cachedNow = 0;\n        const getNow = () => {\n            const n = perf.now();\n            if (this.ttlResolution > 0) {\n                cachedNow = n;\n                const t = setTimeout(() => (cachedNow = 0), this.ttlResolution);\n                // not available on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n            return n;\n        };\n        this.getRemainingTTL = key => {\n            const index = this.#keyMap.get(key);\n            if (index === undefined) {\n                return 0;\n            }\n            const ttl = ttls[index];\n            const start = starts[index];\n            if (!ttl || !start) {\n                return Infinity;\n            }\n            const age = (cachedNow || getNow()) - start;\n            return ttl - age;\n        };\n        this.#isStale = index => {\n            const s = starts[index];\n            const t = ttls[index];\n            return !!t && !!s && (cachedNow || getNow()) - s > t;\n        };\n    }\n    // conditionally set private methods related to TTL\n    #updateItemAge = () => { };\n    #statusTTL = () => { };\n    #setItemTTL = () => { };\n    /* c8 ignore stop */\n    #isStale = () => false;\n    #initializeSizeTracking() {\n        const sizes = new ZeroArray(this.#max);\n        this.#calculatedSize = 0;\n        this.#sizes = sizes;\n        this.#removeItemSize = index => {\n            this.#calculatedSize -= sizes[index];\n            sizes[index] = 0;\n        };\n        this.#requireSize = (k, v, size, sizeCalculation) => {\n            // provisionally accept background fetches.\n            // actual value size will be checked when they return.\n            if (this.#isBackgroundFetch(v)) {\n                return 0;\n            }\n            if (!isPosInt(size)) {\n                if (sizeCalculation) {\n                    if (typeof sizeCalculation !== 'function') {\n                        throw new TypeError('sizeCalculation must be a function');\n                    }\n                    size = sizeCalculation(v, k);\n                    if (!isPosInt(size)) {\n                        throw new TypeError('sizeCalculation return invalid (expect positive integer)');\n                    }\n                }\n                else {\n                    throw new TypeError('invalid size value (must be positive integer). ' +\n                        'When maxSize or maxEntrySize is used, sizeCalculation ' +\n                        'or size must be set.');\n                }\n            }\n            return size;\n        };\n        this.#addItemSize = (index, size, status) => {\n            sizes[index] = size;\n            if (this.#maxSize) {\n                const maxSize = this.#maxSize - sizes[index];\n                while (this.#calculatedSize > maxSize) {\n                    this.#evict(true);\n                }\n            }\n            this.#calculatedSize += sizes[index];\n            if (status) {\n                status.entrySize = size;\n                status.totalCalculatedSize = this.#calculatedSize;\n            }\n        };\n    }\n    #removeItemSize = _i => { };\n    #addItemSize = (_i, _s, _st) => { };\n    #requireSize = (_k, _v, size, sizeCalculation) => {\n        if (size || sizeCalculation) {\n            throw new TypeError('cannot set size without setting maxSize or maxEntrySize on cache');\n        }\n        return 0;\n    };\n    *#indexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#tail; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#head) {\n                    break;\n                }\n                else {\n                    i = this.#prev[i];\n                }\n            }\n        }\n    }\n    *#rindexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#head; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#tail) {\n                    break;\n                }\n                else {\n                    i = this.#next[i];\n                }\n            }\n        }\n    }\n    #isValidIndex(index) {\n        return (index !== undefined &&\n            this.#keyMap.get(this.#keyList[index]) === index);\n    }\n    /**\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from most recently used to least recently used.\n     */\n    *entries() {\n        for (const i of this.#indexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.entries}\n     *\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from least recently used to most recently used.\n     */\n    *rentries() {\n        for (const i of this.#rindexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the keys in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *keys() {\n        for (const i of this.#indexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.keys}\n     *\n     * Return a generator yielding the keys in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rkeys() {\n        for (const i of this.#rindexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the values in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *values() {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.values}\n     *\n     * Return a generator yielding the values in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rvalues() {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Iterating over the cache itself yields the same results as\n     * {@link LRUCache.entries}\n     */\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    /**\n     * A String value that is used in the creation of the default string\n     * description of an object. Called by the built-in method\n     * `Object.prototype.toString`.\n     */\n    [Symbol.toStringTag] = 'LRUCache';\n    /**\n     * Find a value for which the supplied fn method returns a truthy value,\n     * similar to `Array.find()`. fn is called as `fn(value, key, cache)`.\n     */\n    find(fn, getOptions = {}) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            if (fn(value, this.#keyList[i], this)) {\n                return this.get(this.#keyList[i], getOptions);\n            }\n        }\n    }\n    /**\n     * Call the supplied function on each item in the cache, in order from most\n     * recently used to least recently used.\n     *\n     * `fn` is called as `fn(value, key, cache)`.\n     *\n     * If `thisp` is provided, function will be called in the `this`-context of\n     * the provided object, or the cache if no `thisp` object is provided.\n     *\n     * Does not update age or recenty of use, or iterate over stale values.\n     */\n    forEach(fn, thisp = this) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * The same as {@link LRUCache.forEach} but items are iterated over in\n     * reverse order.  (ie, less recently used items are iterated over first.)\n     */\n    rforEach(fn, thisp = this) {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * Delete any stale entries. Returns true if anything was removed,\n     * false otherwise.\n     */\n    purgeStale() {\n        let deleted = false;\n        for (const i of this.#rindexes({ allowStale: true })) {\n            if (this.#isStale(i)) {\n                this.#delete(this.#keyList[i], 'expire');\n                deleted = true;\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Get the extended info about a given entry, to get its value, size, and\n     * TTL info simultaneously. Returns `undefined` if the key is not present.\n     *\n     * Unlike {@link LRUCache#dump}, which is designed to be portable and survive\n     * serialization, the `start` value is always the current timestamp, and the\n     * `ttl` is a calculated remaining time to live (negative if expired).\n     *\n     * Always returns stale values, if their info is found in the cache, so be\n     * sure to check for expirations (ie, a negative {@link LRUCache.Entry#ttl})\n     * if relevant.\n     */\n    info(key) {\n        const i = this.#keyMap.get(key);\n        if (i === undefined)\n            return undefined;\n        const v = this.#valList[i];\n        const value = this.#isBackgroundFetch(v)\n            ? v.__staleWhileFetching\n            : v;\n        if (value === undefined)\n            return undefined;\n        const entry = { value };\n        if (this.#ttls && this.#starts) {\n            const ttl = this.#ttls[i];\n            const start = this.#starts[i];\n            if (ttl && start) {\n                const remain = ttl - (perf.now() - start);\n                entry.ttl = remain;\n                entry.start = Date.now();\n            }\n        }\n        if (this.#sizes) {\n            entry.size = this.#sizes[i];\n        }\n        return entry;\n    }\n    /**\n     * Return an array of [key, {@link LRUCache.Entry}] tuples which can be\n     * passed to {@link LRLUCache#load}.\n     *\n     * The `start` fields are calculated relative to a portable `Date.now()`\n     * timestamp, even if `performance.now()` is available.\n     *\n     * Stale entries are always included in the `dump`, even if\n     * {@link LRUCache.OptionsBase.allowStale} is false.\n     *\n     * Note: this returns an actual array, not a generator, so it can be more\n     * easily passed around.\n     */\n    dump() {\n        const arr = [];\n        for (const i of this.#indexes({ allowStale: true })) {\n            const key = this.#keyList[i];\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v)\n                ? v.__staleWhileFetching\n                : v;\n            if (value === undefined || key === undefined)\n                continue;\n            const entry = { value };\n            if (this.#ttls && this.#starts) {\n                entry.ttl = this.#ttls[i];\n                // always dump the start relative to a portable timestamp\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = perf.now() - this.#starts[i];\n                entry.start = Math.floor(Date.now() - age);\n            }\n            if (this.#sizes) {\n                entry.size = this.#sizes[i];\n            }\n            arr.unshift([key, entry]);\n        }\n        return arr;\n    }\n    /**\n     * Reset the cache and load in the items in entries in the order listed.\n     *\n     * The shape of the resulting cache may be different if the same options are\n     * not used in both caches.\n     *\n     * The `start` fields are assumed to be calculated relative to a portable\n     * `Date.now()` timestamp, even if `performance.now()` is available.\n     */\n    load(arr) {\n        this.clear();\n        for (const [key, entry] of arr) {\n            if (entry.start) {\n                // entry.start is a portable timestamp, but we may be using\n                // node's performance.now(), so calculate the offset, so that\n                // we get the intended remaining TTL, no matter how long it's\n                // been on ice.\n                //\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = Date.now() - entry.start;\n                entry.start = perf.now() - age;\n            }\n            this.set(key, entry.value, entry);\n        }\n    }\n    /**\n     * Add a value to the cache.\n     *\n     * Note: if `undefined` is specified as a value, this is an alias for\n     * {@link LRUCache#delete}\n     *\n     * Fields on the {@link LRUCache.SetOptions} options param will override\n     * their corresponding values in the constructor options for the scope\n     * of this single `set()` operation.\n     *\n     * If `start` is provided, then that will set the effective start\n     * time for the TTL calculation. Note that this must be a previous\n     * value of `performance.now()` if supported, or a previous value of\n     * `Date.now()` if not.\n     *\n     * Options object may also include `size`, which will prevent\n     * calling the `sizeCalculation` function and just use the specified\n     * number if it is a positive integer, and `noDisposeOnSet` which\n     * will prevent calling a `dispose` function in the case of\n     * overwrites.\n     *\n     * If the `size` (or return value of `sizeCalculation`) for a given\n     * entry is greater than `maxEntrySize`, then the item will not be\n     * added to the cache.\n     *\n     * Will update the recency of the entry.\n     *\n     * If the value is `undefined`, then this is an alias for\n     * `cache.delete(key)`. `undefined` is never stored in the cache.\n     */\n    set(k, v, setOptions = {}) {\n        if (v === undefined) {\n            this.delete(k);\n            return this;\n        }\n        const { ttl = this.ttl, start, noDisposeOnSet = this.noDisposeOnSet, sizeCalculation = this.sizeCalculation, status, } = setOptions;\n        let { noUpdateTTL = this.noUpdateTTL } = setOptions;\n        const size = this.#requireSize(k, v, setOptions.size || 0, sizeCalculation);\n        // if the item doesn't fit, don't do anything\n        // NB: maxEntrySize set to maxSize by default\n        if (this.maxEntrySize && size > this.maxEntrySize) {\n            if (status) {\n                status.set = 'miss';\n                status.maxEntrySizeExceeded = true;\n            }\n            // have to delete, in case something is there already.\n            this.#delete(k, 'set');\n            return this;\n        }\n        let index = this.#size === 0 ? undefined : this.#keyMap.get(k);\n        if (index === undefined) {\n            // addition\n            index = (this.#size === 0\n                ? this.#tail\n                : this.#free.length !== 0\n                    ? this.#free.pop()\n                    : this.#size === this.#max\n                        ? this.#evict(false)\n                        : this.#size);\n            this.#keyList[index] = k;\n            this.#valList[index] = v;\n            this.#keyMap.set(k, index);\n            this.#next[this.#tail] = index;\n            this.#prev[index] = this.#tail;\n            this.#tail = index;\n            this.#size++;\n            this.#addItemSize(index, size, status);\n            if (status)\n                status.set = 'add';\n            noUpdateTTL = false;\n        }\n        else {\n            // update\n            this.#moveToTail(index);\n            const oldVal = this.#valList[index];\n            if (v !== oldVal) {\n                if (this.#hasFetchMethod && this.#isBackgroundFetch(oldVal)) {\n                    oldVal.__abortController.abort(new Error('replaced'));\n                    const { __staleWhileFetching: s } = oldVal;\n                    if (s !== undefined && !noDisposeOnSet) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(s, k, 'set');\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([s, k, 'set']);\n                        }\n                    }\n                }\n                else if (!noDisposeOnSet) {\n                    if (this.#hasDispose) {\n                        this.#dispose?.(oldVal, k, 'set');\n                    }\n                    if (this.#hasDisposeAfter) {\n                        this.#disposed?.push([oldVal, k, 'set']);\n                    }\n                }\n                this.#removeItemSize(index);\n                this.#addItemSize(index, size, status);\n                this.#valList[index] = v;\n                if (status) {\n                    status.set = 'replace';\n                    const oldValue = oldVal && this.#isBackgroundFetch(oldVal)\n                        ? oldVal.__staleWhileFetching\n                        : oldVal;\n                    if (oldValue !== undefined)\n                        status.oldValue = oldValue;\n                }\n            }\n            else if (status) {\n                status.set = 'update';\n            }\n        }\n        if (ttl !== 0 && !this.#ttls) {\n            this.#initializeTTLTracking();\n        }\n        if (this.#ttls) {\n            if (!noUpdateTTL) {\n                this.#setItemTTL(index, ttl, start);\n            }\n            if (status)\n                this.#statusTTL(status, index);\n        }\n        if (!noDisposeOnSet && this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return this;\n    }\n    /**\n     * Evict the least recently used item, returning its value or\n     * `undefined` if cache is empty.\n     */\n    pop() {\n        try {\n            while (this.#size) {\n                const val = this.#valList[this.#head];\n                this.#evict(true);\n                if (this.#isBackgroundFetch(val)) {\n                    if (val.__staleWhileFetching) {\n                        return val.__staleWhileFetching;\n                    }\n                }\n                else if (val !== undefined) {\n                    return val;\n                }\n            }\n        }\n        finally {\n            if (this.#hasDisposeAfter && this.#disposed) {\n                const dt = this.#disposed;\n                let task;\n                while ((task = dt?.shift())) {\n                    this.#disposeAfter?.(...task);\n                }\n            }\n        }\n    }\n    #evict(free) {\n        const head = this.#head;\n        const k = this.#keyList[head];\n        const v = this.#valList[head];\n        if (this.#hasFetchMethod && this.#isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('evicted'));\n        }\n        else if (this.#hasDispose || this.#hasDisposeAfter) {\n            if (this.#hasDispose) {\n                this.#dispose?.(v, k, 'evict');\n            }\n            if (this.#hasDisposeAfter) {\n                this.#disposed?.push([v, k, 'evict']);\n            }\n        }\n        this.#removeItemSize(head);\n        // if we aren't about to use the index, then null these out\n        if (free) {\n            this.#keyList[head] = undefined;\n            this.#valList[head] = undefined;\n            this.#free.push(head);\n        }\n        if (this.#size === 1) {\n            this.#head = this.#tail = 0;\n            this.#free.length = 0;\n        }\n        else {\n            this.#head = this.#next[head];\n        }\n        this.#keyMap.delete(k);\n        this.#size--;\n        return head;\n    }\n    /**\n     * Check if a key is in the cache, without updating the recency of use.\n     * Will return false if the item is stale, even though it is technically\n     * in the cache.\n     *\n     * Check if a key is in the cache, without updating the recency of\n     * use. Age is updated if {@link LRUCache.OptionsBase.updateAgeOnHas} is set\n     * to `true` in either the options or the constructor.\n     *\n     * Will return `false` if the item is stale, even though it is technically in\n     * the cache. The difference can be determined (if it matters) by using a\n     * `status` argument, and inspecting the `has` field.\n     *\n     * Will not update item age unless\n     * {@link LRUCache.OptionsBase.updateAgeOnHas} is set.\n     */\n    has(k, hasOptions = {}) {\n        const { updateAgeOnHas = this.updateAgeOnHas, status } = hasOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v) &&\n                v.__staleWhileFetching === undefined) {\n                return false;\n            }\n            if (!this.#isStale(index)) {\n                if (updateAgeOnHas) {\n                    this.#updateItemAge(index);\n                }\n                if (status) {\n                    status.has = 'hit';\n                    this.#statusTTL(status, index);\n                }\n                return true;\n            }\n            else if (status) {\n                status.has = 'stale';\n                this.#statusTTL(status, index);\n            }\n        }\n        else if (status) {\n            status.has = 'miss';\n        }\n        return false;\n    }\n    /**\n     * Like {@link LRUCache#get} but doesn't update recency or delete stale\n     * items.\n     *\n     * Returns `undefined` if the item is stale, unless\n     * {@link LRUCache.OptionsBase.allowStale} is set.\n     */\n    peek(k, peekOptions = {}) {\n        const { allowStale = this.allowStale } = peekOptions;\n        const index = this.#keyMap.get(k);\n        if (index === undefined ||\n            (!allowStale && this.#isStale(index))) {\n            return;\n        }\n        const v = this.#valList[index];\n        // either stale and allowed, or forcing a refresh of non-stale value\n        return this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n    }\n    #backgroundFetch(k, index, options, context) {\n        const v = index === undefined ? undefined : this.#valList[index];\n        if (this.#isBackgroundFetch(v)) {\n            return v;\n        }\n        const ac = new AC();\n        const { signal } = options;\n        // when/if our AC signals, then stop listening to theirs.\n        signal?.addEventListener('abort', () => ac.abort(signal.reason), {\n            signal: ac.signal,\n        });\n        const fetchOpts = {\n            signal: ac.signal,\n            options,\n            context,\n        };\n        const cb = (v, updateCache = false) => {\n            const { aborted } = ac.signal;\n            const ignoreAbort = options.ignoreFetchAbort && v !== undefined;\n            if (options.status) {\n                if (aborted && !updateCache) {\n                    options.status.fetchAborted = true;\n                    options.status.fetchError = ac.signal.reason;\n                    if (ignoreAbort)\n                        options.status.fetchAbortIgnored = true;\n                }\n                else {\n                    options.status.fetchResolved = true;\n                }\n            }\n            if (aborted && !ignoreAbort && !updateCache) {\n                return fetchFail(ac.signal.reason);\n            }\n            // either we didn't abort, and are still here, or we did, and ignored\n            const bf = p;\n            if (this.#valList[index] === p) {\n                if (v === undefined) {\n                    if (bf.__staleWhileFetching) {\n                        this.#valList[index] = bf.__staleWhileFetching;\n                    }\n                    else {\n                        this.#delete(k, 'fetch');\n                    }\n                }\n                else {\n                    if (options.status)\n                        options.status.fetchUpdated = true;\n                    this.set(k, v, fetchOpts.options);\n                }\n            }\n            return v;\n        };\n        const eb = (er) => {\n            if (options.status) {\n                options.status.fetchRejected = true;\n                options.status.fetchError = er;\n            }\n            return fetchFail(er);\n        };\n        const fetchFail = (er) => {\n            const { aborted } = ac.signal;\n            const allowStaleAborted = aborted && options.allowStaleOnFetchAbort;\n            const allowStale = allowStaleAborted || options.allowStaleOnFetchRejection;\n            const noDelete = allowStale || options.noDeleteOnFetchRejection;\n            const bf = p;\n            if (this.#valList[index] === p) {\n                // if we allow stale on fetch rejections, then we need to ensure that\n                // the stale value is not removed from the cache when the fetch fails.\n                const del = !noDelete || bf.__staleWhileFetching === undefined;\n                if (del) {\n                    this.#delete(k, 'fetch');\n                }\n                else if (!allowStaleAborted) {\n                    // still replace the *promise* with the stale value,\n                    // since we are done with the promise at this point.\n                    // leave it untouched if we're still waiting for an\n                    // aborted background fetch that hasn't yet returned.\n                    this.#valList[index] = bf.__staleWhileFetching;\n                }\n            }\n            if (allowStale) {\n                if (options.status && bf.__staleWhileFetching !== undefined) {\n                    options.status.returnedStale = true;\n                }\n                return bf.__staleWhileFetching;\n            }\n            else if (bf.__returned === bf) {\n                throw er;\n            }\n        };\n        const pcall = (res, rej) => {\n            const fmp = this.#fetchMethod?.(k, v, fetchOpts);\n            if (fmp && fmp instanceof Promise) {\n                fmp.then(v => res(v === undefined ? undefined : v), rej);\n            }\n            // ignored, we go until we finish, regardless.\n            // defer check until we are actually aborting,\n            // so fetchMethod can override.\n            ac.signal.addEventListener('abort', () => {\n                if (!options.ignoreFetchAbort ||\n                    options.allowStaleOnFetchAbort) {\n                    res(undefined);\n                    // when it eventually resolves, update the cache.\n                    if (options.allowStaleOnFetchAbort) {\n                        res = v => cb(v, true);\n                    }\n                }\n            });\n        };\n        if (options.status)\n            options.status.fetchDispatched = true;\n        const p = new Promise(pcall).then(cb, eb);\n        const bf = Object.assign(p, {\n            __abortController: ac,\n            __staleWhileFetching: v,\n            __returned: undefined,\n        });\n        if (index === undefined) {\n            // internal, don't expose status.\n            this.set(k, bf, { ...fetchOpts.options, status: undefined });\n            index = this.#keyMap.get(k);\n        }\n        else {\n            this.#valList[index] = bf;\n        }\n        return bf;\n    }\n    #isBackgroundFetch(p) {\n        if (!this.#hasFetchMethod)\n            return false;\n        const b = p;\n        return (!!b &&\n            b instanceof Promise &&\n            b.hasOwnProperty('__staleWhileFetching') &&\n            b.__abortController instanceof AC);\n    }\n    async fetch(k, fetchOptions = {}) {\n        const { \n        // get options\n        allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, \n        // set options\n        ttl = this.ttl, noDisposeOnSet = this.noDisposeOnSet, size = 0, sizeCalculation = this.sizeCalculation, noUpdateTTL = this.noUpdateTTL, \n        // fetch exclusive options\n        noDeleteOnFetchRejection = this.noDeleteOnFetchRejection, allowStaleOnFetchRejection = this.allowStaleOnFetchRejection, ignoreFetchAbort = this.ignoreFetchAbort, allowStaleOnFetchAbort = this.allowStaleOnFetchAbort, context, forceRefresh = false, status, signal, } = fetchOptions;\n        if (!this.#hasFetchMethod) {\n            if (status)\n                status.fetch = 'get';\n            return this.get(k, {\n                allowStale,\n                updateAgeOnGet,\n                noDeleteOnStaleGet,\n                status,\n            });\n        }\n        const options = {\n            allowStale,\n            updateAgeOnGet,\n            noDeleteOnStaleGet,\n            ttl,\n            noDisposeOnSet,\n            size,\n            sizeCalculation,\n            noUpdateTTL,\n            noDeleteOnFetchRejection,\n            allowStaleOnFetchRejection,\n            allowStaleOnFetchAbort,\n            ignoreFetchAbort,\n            status,\n            signal,\n        };\n        let index = this.#keyMap.get(k);\n        if (index === undefined) {\n            if (status)\n                status.fetch = 'miss';\n            const p = this.#backgroundFetch(k, index, options, context);\n            return (p.__returned = p);\n        }\n        else {\n            // in cache, maybe already fetching\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                const stale = allowStale && v.__staleWhileFetching !== undefined;\n                if (status) {\n                    status.fetch = 'inflight';\n                    if (stale)\n                        status.returnedStale = true;\n                }\n                return stale ? v.__staleWhileFetching : (v.__returned = v);\n            }\n            // if we force a refresh, that means do NOT serve the cached value,\n            // unless we are already in the process of refreshing the cache.\n            const isStale = this.#isStale(index);\n            if (!forceRefresh && !isStale) {\n                if (status)\n                    status.fetch = 'hit';\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                if (status)\n                    this.#statusTTL(status, index);\n                return v;\n            }\n            // ok, it is stale or a forced refresh, and not already fetching.\n            // refresh the cache.\n            const p = this.#backgroundFetch(k, index, options, context);\n            const hasStale = p.__staleWhileFetching !== undefined;\n            const staleVal = hasStale && allowStale;\n            if (status) {\n                status.fetch = isStale ? 'stale' : 'refresh';\n                if (staleVal && isStale)\n                    status.returnedStale = true;\n            }\n            return staleVal ? p.__staleWhileFetching : (p.__returned = p);\n        }\n    }\n    async forceFetch(k, fetchOptions = {}) {\n        const v = await this.fetch(k, fetchOptions);\n        if (v === undefined)\n            throw new Error('fetch() returned undefined');\n        return v;\n    }\n    memo(k, memoOptions = {}) {\n        const memoMethod = this.#memoMethod;\n        if (!memoMethod) {\n            throw new Error('no memoMethod provided to constructor');\n        }\n        const { context, forceRefresh, ...options } = memoOptions;\n        const v = this.get(k, options);\n        if (!forceRefresh && v !== undefined)\n            return v;\n        const vv = memoMethod(k, v, {\n            options,\n            context,\n        });\n        this.set(k, vv, options);\n        return vv;\n    }\n    /**\n     * Return a value from the cache. Will update the recency of the cache\n     * entry found.\n     *\n     * If the key is not found, get() will return `undefined`.\n     */\n    get(k, getOptions = {}) {\n        const { allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, status, } = getOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const value = this.#valList[index];\n            const fetching = this.#isBackgroundFetch(value);\n            if (status)\n                this.#statusTTL(status, index);\n            if (this.#isStale(index)) {\n                if (status)\n                    status.get = 'stale';\n                // delete only if not an in-flight background fetch\n                if (!fetching) {\n                    if (!noDeleteOnStaleGet) {\n                        this.#delete(k, 'expire');\n                    }\n                    if (status && allowStale)\n                        status.returnedStale = true;\n                    return allowStale ? value : undefined;\n                }\n                else {\n                    if (status &&\n                        allowStale &&\n                        value.__staleWhileFetching !== undefined) {\n                        status.returnedStale = true;\n                    }\n                    return allowStale ? value.__staleWhileFetching : undefined;\n                }\n            }\n            else {\n                if (status)\n                    status.get = 'hit';\n                // if we're currently fetching it, we don't actually have it yet\n                // it's not stale, which means this isn't a staleWhileRefetching.\n                // If it's not stale, and fetching, AND has a __staleWhileFetching\n                // value, then that means the user fetched with {forceRefresh:true},\n                // so it's safe to return that value.\n                if (fetching) {\n                    return value.__staleWhileFetching;\n                }\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                return value;\n            }\n        }\n        else if (status) {\n            status.get = 'miss';\n        }\n    }\n    #connect(p, n) {\n        this.#prev[n] = p;\n        this.#next[p] = n;\n    }\n    #moveToTail(index) {\n        // if tail already, nothing to do\n        // if head, move head to next[index]\n        // else\n        //   move next[prev[index]] to next[index] (head has no prev)\n        //   move prev[next[index]] to prev[index]\n        // prev[index] = tail\n        // next[tail] = index\n        // tail = index\n        if (index !== this.#tail) {\n            if (index === this.#head) {\n                this.#head = this.#next[index];\n            }\n            else {\n                this.#connect(this.#prev[index], this.#next[index]);\n            }\n            this.#connect(this.#tail, index);\n            this.#tail = index;\n        }\n    }\n    /**\n     * Deletes a key out of the cache.\n     *\n     * Returns true if the key was deleted, false otherwise.\n     */\n    delete(k) {\n        return this.#delete(k, 'delete');\n    }\n    #delete(k, reason) {\n        let deleted = false;\n        if (this.#size !== 0) {\n            const index = this.#keyMap.get(k);\n            if (index !== undefined) {\n                deleted = true;\n                if (this.#size === 1) {\n                    this.#clear(reason);\n                }\n                else {\n                    this.#removeItemSize(index);\n                    const v = this.#valList[index];\n                    if (this.#isBackgroundFetch(v)) {\n                        v.__abortController.abort(new Error('deleted'));\n                    }\n                    else if (this.#hasDispose || this.#hasDisposeAfter) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(v, k, reason);\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([v, k, reason]);\n                        }\n                    }\n                    this.#keyMap.delete(k);\n                    this.#keyList[index] = undefined;\n                    this.#valList[index] = undefined;\n                    if (index === this.#tail) {\n                        this.#tail = this.#prev[index];\n                    }\n                    else if (index === this.#head) {\n                        this.#head = this.#next[index];\n                    }\n                    else {\n                        const pi = this.#prev[index];\n                        this.#next[pi] = this.#next[index];\n                        const ni = this.#next[index];\n                        this.#prev[ni] = this.#prev[index];\n                    }\n                    this.#size--;\n                    this.#free.push(index);\n                }\n            }\n        }\n        if (this.#hasDisposeAfter && this.#disposed?.length) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Clear the cache entirely, throwing away all values.\n     */\n    clear() {\n        return this.#clear('delete');\n    }\n    #clear(reason) {\n        for (const index of this.#rindexes({ allowStale: true })) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                v.__abortController.abort(new Error('deleted'));\n            }\n            else {\n                const k = this.#keyList[index];\n                if (this.#hasDispose) {\n                    this.#dispose?.(v, k, reason);\n                }\n                if (this.#hasDisposeAfter) {\n                    this.#disposed?.push([v, k, reason]);\n                }\n            }\n        }\n        this.#keyMap.clear();\n        this.#valList.fill(undefined);\n        this.#keyList.fill(undefined);\n        if (this.#ttls && this.#starts) {\n            this.#ttls.fill(0);\n            this.#starts.fill(0);\n        }\n        if (this.#sizes) {\n            this.#sizes.fill(0);\n        }\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free.length = 0;\n        this.#calculatedSize = 0;\n        this.#size = 0;\n        if (this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=index.js.map","module.exports = require(\"https\");","'use strict'\n\nconst { MathFloor, NumberIsInteger } = require('../../ours/primordials')\nconst { validateInteger } = require('../validators')\nconst { ERR_INVALID_ARG_VALUE } = require('../../ours/errors').codes\nlet defaultHighWaterMarkBytes = 16 * 1024\nlet defaultHighWaterMarkObjectMode = 16\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null\n}\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? defaultHighWaterMarkObjectMode : defaultHighWaterMarkBytes\n}\nfunction setDefaultHighWaterMark(objectMode, value) {\n  validateInteger(value, 'value', 0)\n  if (objectMode) {\n    defaultHighWaterMarkObjectMode = value\n  } else {\n    defaultHighWaterMarkBytes = value\n  }\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey)\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark'\n      throw new ERR_INVALID_ARG_VALUE(name, hwm)\n    }\n    return MathFloor(hwm)\n  }\n\n  // Default value\n  return getDefaultHighWaterMark(state.objectMode)\n}\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark,\n  setDefaultHighWaterMark\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototype inheritance, this class\n// prototypically inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict'\n\nconst {\n  ObjectDefineProperties,\n  ObjectGetOwnPropertyDescriptor,\n  ObjectKeys,\n  ObjectSetPrototypeOf\n} = require('../../ours/primordials')\nmodule.exports = Duplex\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nObjectSetPrototypeOf(Duplex.prototype, Readable.prototype)\nObjectSetPrototypeOf(Duplex, Readable)\n{\n  const keys = ObjectKeys(Writable.prototype)\n  // Allow the keys array to be GC'ed.\n  for (let i = 0; i < keys.length; i++) {\n    const method = keys[i]\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method]\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options)\n  Readable.call(this, options)\n  Writable.call(this, options)\n  if (options) {\n    this.allowHalfOpen = options.allowHalfOpen !== false\n    if (options.readable === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if (options.writable === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  } else {\n    this.allowHalfOpen = true\n  }\n}\nObjectDefineProperties(Duplex.prototype, {\n  writable: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writable')\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableHighWaterMark')\n  },\n  writableObjectMode: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableObjectMode')\n  },\n  writableBuffer: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableBuffer')\n  },\n  writableLength: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableLength')\n  },\n  writableFinished: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableFinished')\n  },\n  writableCorked: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableCorked')\n  },\n  writableEnded: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableEnded')\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableNeedDrain')\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      if (this._readableState === undefined || this._writableState === undefined) {\n        return false\n      }\n      return this._readableState.destroyed && this._writableState.destroyed\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      if (this._readableState && this._writableState) {\n        this._readableState.destroyed = value\n        this._writableState.destroyed = value\n      }\n    }\n  }\n})\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nDuplex.fromWeb = function (pair, options) {\n  return lazyWebStreams().newStreamDuplexFromReadableWritablePair(pair, options)\n}\nDuplex.toWeb = function (duplex) {\n  return lazyWebStreams().newReadableWritablePairFromDuplex(duplex)\n}\nlet duplexify\nDuplex.from = function (body) {\n  if (!duplexify) {\n    duplexify = require('./duplexify')\n  }\n  return duplexify(body, 'body')\n}\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexports.defineEventAttribute = defineEventAttribute;\nexports.EventTarget = EventTarget;\nexports.default = EventTarget;\n\nmodule.exports = EventTarget\nmodule.exports.EventTarget = module.exports[\"default\"] = EventTarget\nmodule.exports.defineEventAttribute = defineEventAttribute\n//# sourceMappingURL=event-target-shim.js.map\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict'\n\nconst Stream = require('stream')\nif (Stream && process.env.READABLE_STREAM === 'disable') {\n  const promises = Stream.promises\n\n  // Explicit export naming is needed for ESM\n  module.exports._uint8ArrayToBuffer = Stream._uint8ArrayToBuffer\n  module.exports._isUint8Array = Stream._isUint8Array\n  module.exports.isDisturbed = Stream.isDisturbed\n  module.exports.isErrored = Stream.isErrored\n  module.exports.isReadable = Stream.isReadable\n  module.exports.Readable = Stream.Readable\n  module.exports.Writable = Stream.Writable\n  module.exports.Duplex = Stream.Duplex\n  module.exports.Transform = Stream.Transform\n  module.exports.PassThrough = Stream.PassThrough\n  module.exports.addAbortSignal = Stream.addAbortSignal\n  module.exports.finished = Stream.finished\n  module.exports.destroy = Stream.destroy\n  module.exports.pipeline = Stream.pipeline\n  module.exports.compose = Stream.compose\n  Object.defineProperty(Stream, 'promises', {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return promises\n    }\n  })\n  module.exports.Stream = Stream.Stream\n} else {\n  const CustomStream = require('../stream')\n  const promises = require('../stream/promises')\n  const originalDestroy = CustomStream.Readable.destroy\n  module.exports = CustomStream.Readable\n\n  // Explicit export naming is needed for ESM\n  module.exports._uint8ArrayToBuffer = CustomStream._uint8ArrayToBuffer\n  module.exports._isUint8Array = CustomStream._isUint8Array\n  module.exports.isDisturbed = CustomStream.isDisturbed\n  module.exports.isErrored = CustomStream.isErrored\n  module.exports.isReadable = CustomStream.isReadable\n  module.exports.Readable = CustomStream.Readable\n  module.exports.Writable = CustomStream.Writable\n  module.exports.Duplex = CustomStream.Duplex\n  module.exports.Transform = CustomStream.Transform\n  module.exports.PassThrough = CustomStream.PassThrough\n  module.exports.addAbortSignal = CustomStream.addAbortSignal\n  module.exports.finished = CustomStream.finished\n  module.exports.destroy = CustomStream.destroy\n  module.exports.destroy = originalDestroy\n  module.exports.pipeline = CustomStream.pipeline\n  module.exports.compose = CustomStream.compose\n  Object.defineProperty(CustomStream, 'promises', {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return promises\n    }\n  })\n  module.exports.Stream = CustomStream.Stream\n}\n\n// Allow default importing\nmodule.exports.default = module.exports\n","'use strict';\n\nconst WebSocket = require('./lib/websocket');\n\nWebSocket.createWebSocketStream = require('./lib/stream');\nWebSocket.Server = require('./lib/websocket-server');\nWebSocket.Receiver = require('./lib/receiver');\nWebSocket.Sender = require('./lib/sender');\n\nWebSocket.WebSocket = WebSocket;\nWebSocket.WebSocketServer = WebSocket.Server;\n\nmodule.exports = WebSocket;\n","import { MixinProvider, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, SettingValue, WritableDeviceState } from \"@scrypted/sdk\";\nimport { StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport { getMqttBasicClient, logLevelSetting } from '../../scrypted-apocaliss-base/src/basePlugin';\nimport FrigateBridgePlugin from \"./main\";\nimport { FrigateBridgeObjectDetectorMixin } from \"./objectDetectorMixin\";\nimport { audioTopic, eventsTopic, FRIGATE_OBJECT_DETECTOR_INTERFACE, FrigateEvent, isAudioLevelValue } from \"./utils\";\nimport MqttClient, { MqttMessageCb } from \"../../scrypted-apocaliss-base/src/mqtt-client\";\n\nexport default class FrigateBridgeObjectDetector extends ScryptedDeviceBase implements MixinProvider {\n    initStorage: StorageSettingsDict<string> = {\n        logLevel: {\n            ...logLevelSetting,\n        },\n    };\n    storageSettings = new StorageSettings(this, this.initStorage);\n    currentMixinsMap: Record<string, FrigateBridgeObjectDetectorMixin> = {};\n    plugin: FrigateBridgePlugin;\n    logger: Console;\n    mqttCb: MqttMessageCb;\n    initializingMqtt = false;\n    public mqttClient: MqttClient;\n\n    constructor(nativeId: string, plugin: FrigateBridgePlugin) {\n        super(nativeId);\n        this.plugin = plugin;\n        this.startStop(this.storageSettings.values.pluginEnabled).then().catch(this.getLogger().log);\n    }\n\n    async startStop(enabled: boolean) {\n        if (enabled) {\n            await this.start();\n        } else {\n            await this.stop();\n        }\n    }\n\n    async stop() {\n        const logger = this.getLogger();\n        logger.log('Stopping ObjectDetector listeners');\n        await this.mqttClient?.disconnect();\n    }\n\n    async start() {\n        try {\n            const logger = this.getLogger();\n            logger.log('Starting ObjectDetector listeners');\n            await this.startMqttListener();\n        } catch (e) {\n            this.getLogger().log(`Error in initFlow`, e);\n        }\n    }\n\n    async startMqttListener() {\n        const mqttClient = await this.getMqttClient();\n        const logger = this.getLogger();\n\n        this.mqttCb = async (messageTopic, message) => {\n            if (messageTopic === eventsTopic) {\n                const obj: FrigateEvent = JSON.parse(message.toString());\n                logger.debug(`Event received: ${JSON.stringify(obj)}`);\n\n                const foundMixin = Object.values(this.currentMixinsMap).find(mixin => {\n                    const { cameraName } = mixin.storageSettings.values;\n\n                    return cameraName === obj.after.camera;\n                });\n\n                if (foundMixin) {\n                    await foundMixin.onFrigateDetectionEvent(obj);\n                }\n            } else {\n                const [_, camera, eventType, eventSubType] = messageTopic.split('/');\n\n                if (eventType === 'audio' && !isAudioLevelValue(eventSubType) && eventSubType !== 'state') {\n                    // frigate/salone/audio/speech\n                    logger.info(`Audio message received ${messageTopic} ${message}: ${camera} ${eventSubType}`);\n                    const foundMixin = Object.values(this.currentMixinsMap).find(mixin => {\n                        const { cameraName } = mixin.storageSettings.values;\n\n                        return cameraName === camera;\n                    });\n\n                    if (foundMixin) {\n                        await foundMixin.onFrigateAudioEvent(eventSubType, message);\n                    }\n                }\n            }\n        };\n\n        await mqttClient?.subscribe([eventsTopic, audioTopic], this.mqttCb);\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    private async setupMqttClient() {\n        const { useMqttPluginCredentials, pluginEnabled } = this.plugin.storageSettings.values;\n        if (pluginEnabled) {\n            this.initializingMqtt = true;\n            const logger = this.getLogger();\n\n            if (this.mqttClient) {\n                this.mqttClient.disconnect();\n                this.mqttClient = undefined;\n            }\n\n            try {\n                this.mqttClient = await getMqttBasicClient({\n                    logger,\n                    useMqttPluginCredentials,\n                    mqttHost: this.plugin.storageSettings.getItem('mqttHost'),\n                    mqttUsename: this.plugin.storageSettings.getItem('mqttUsename'),\n                    mqttPassword: this.plugin.storageSettings.getItem('mqttPassword'),\n                    clientId: 'scrypted_frigate_object_detectoor',\n                });\n            } catch (e) {\n                logger.log('Error setting up MQTT client', e);\n            } finally {\n                this.initializingMqtt = false;\n            }\n        }\n    }\n\n    async getMqttClient() {\n        if (!this.mqttClient && !this.initializingMqtt) {\n            await this.setupMqttClient();\n        }\n\n        return this.mqttClient;\n    }\n\n    getLogger() {\n        if (!this.logger) {\n            this.logger = this.plugin.getLogger({\n                console: this.console,\n                storage: this.storageSettings,\n            });\n        }\n\n        return this.logger;\n    }\n\n    async getSettings() {\n        try {\n            const settings = await this.storageSettings.getSettings();\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getSettings', e);\n            return [];\n        }\n    }\n\n    async canMixin(type: ScryptedDeviceType, interfaces: string[]): Promise<string[]> {\n        if ((type === ScryptedDeviceType.Camera || type === ScryptedDeviceType.Doorbell) &&\n            (interfaces.includes(ScryptedInterface.VideoCamera) || interfaces.includes(ScryptedInterface.Camera))) {\n            return [\n                ScryptedInterface.Settings,\n                ScryptedInterface.ObjectDetector,\n                FRIGATE_OBJECT_DETECTOR_INTERFACE\n            ];\n        }\n\n        return undefined;\n    }\n\n    async getMixin(mixinDevice: any, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n        return new FrigateBridgeObjectDetectorMixin({\n            mixinDevice,\n            mixinDeviceInterfaces,\n            mixinDeviceState,\n            mixinProviderNativeId: this.nativeId,\n            group: 'Frigate Object Detector',\n            groupKey: 'frigateObjectDetector',\n        }, this)\n    }\n\n    async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n        await mixinDevice.release();\n    }\n}\n\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst publish_1 = __importDefault(require(\"./publish\"));\nconst auth_1 = __importDefault(require(\"./auth\"));\nconst connack_1 = __importDefault(require(\"./connack\"));\nconst ack_1 = __importDefault(require(\"./ack\"));\nconst pubrel_1 = __importDefault(require(\"./pubrel\"));\nconst handle = (client, packet, done) => {\n    const { options } = client;\n    if (options.protocolVersion === 5 &&\n        options.properties &&\n        options.properties.maximumPacketSize &&\n        options.properties.maximumPacketSize < packet.length) {\n        client.emit('error', new Error(`exceeding packets size ${packet.cmd}`));\n        client.end({\n            reasonCode: 149,\n            properties: { reasonString: 'Maximum packet size was exceeded' },\n        });\n        return client;\n    }\n    client.log('_handlePacket :: emitting packetreceive');\n    client.emit('packetreceive', packet);\n    switch (packet.cmd) {\n        case 'publish':\n            (0, publish_1.default)(client, packet, done);\n            break;\n        case 'puback':\n        case 'pubrec':\n        case 'pubcomp':\n        case 'suback':\n        case 'unsuback':\n            client.reschedulePing();\n            (0, ack_1.default)(client, packet);\n            done();\n            break;\n        case 'pubrel':\n            client.reschedulePing();\n            (0, pubrel_1.default)(client, packet, done);\n            break;\n        case 'connack':\n            (0, connack_1.default)(client, packet);\n            done();\n            break;\n        case 'auth':\n            client.reschedulePing();\n            (0, auth_1.default)(client, packet);\n            done();\n            break;\n        case 'pingresp':\n            client.log('_handlePacket :: received pingresp');\n            client.reschedulePing(true);\n            done();\n            break;\n        case 'disconnect':\n            client.emit('disconnect', packet);\n            done();\n            break;\n        default:\n            client.log('_handlePacket :: unknown command');\n            done();\n            break;\n    }\n};\nexports.default = handle;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageSettings = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { systemManager } = _1.default;\nfunction parseValue(value, setting, readDefaultValue, rawDevice) {\n    if (value === null || value === undefined) {\n        return readDefaultValue();\n    }\n    const type = setting.multiple ? 'array' : setting.type;\n    if (type === 'boolean') {\n        if (value === 'true')\n            return true;\n        if (value === 'false')\n            return false;\n        return readDefaultValue() || false;\n    }\n    if (type === 'number') {\n        const n = parseFloat(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'integer') {\n        const n = parseInt(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'array') {\n        if (!value)\n            return readDefaultValue() || [];\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue() || [];\n        }\n    }\n    if (type === 'device') {\n        if (rawDevice)\n            return value;\n        return systemManager.getDeviceById(value) || systemManager.getDeviceById(readDefaultValue());\n    }\n    // string type, so check if it is json.\n    if (value && setting.json) {\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue();\n        }\n    }\n    return value || readDefaultValue();\n}\nclass StorageSettings {\n    constructor(device, settings) {\n        this.device = device;\n        this.settings = settings;\n        this.values = {};\n        this.hasValue = {};\n        for (const key of Object.keys(settings)) {\n            const setting = settings[key];\n            const rawGet = () => this.getItem(key);\n            let get;\n            if (setting.type !== 'clippath') {\n                get = rawGet;\n            }\n            else {\n                // maybe need a mapPut. clippath is the only complex type at the moment.\n                get = () => {\n                    try {\n                        return JSON.parse(rawGet());\n                    }\n                    catch (e) {\n                    }\n                };\n            }\n            Object.defineProperty(this.values, key, {\n                get,\n                set: value => this.putSetting(key, value),\n                enumerable: true,\n            });\n            Object.defineProperty(this.hasValue, key, {\n                get: () => this.device.storage.getItem(key) != null,\n                enumerable: true,\n            });\n        }\n    }\n    get keys() {\n        const ret = {};\n        for (const key of Object.keys(this.settings)) {\n            ret[key] = key;\n        }\n        return ret;\n    }\n    async getSettings() {\n        const onGet = await this.options?.onGet?.();\n        const ret = [];\n        for (const [key, setting] of Object.entries(this.settings)) {\n            let s = Object.assign({}, setting);\n            if (onGet?.[key])\n                s = Object.assign(s, onGet[key]);\n            if (s.onGet)\n                s = Object.assign(s, await s.onGet());\n            if (s.hide || await this.options?.hide?.[key]?.())\n                continue;\n            s.key = key;\n            s.value = this.getItemInternal(key, s, true);\n            if (typeof s.deviceFilter === 'function')\n                s.deviceFilter = s.deviceFilter.toString();\n            ret.push(s);\n            delete s.onPut;\n            delete s.onGet;\n            delete s.mapPut;\n            delete s.mapGet;\n        }\n        return ret;\n    }\n    async putSetting(key, value) {\n        const setting = this.settings[key];\n        let oldValue;\n        if (setting)\n            oldValue = this.getItemInternal(key, setting);\n        return this.putSettingInternal(setting, oldValue, key, value);\n    }\n    putSettingInternal(setting, oldValue, key, value) {\n        if (!setting?.noStore) {\n            if (setting?.mapPut)\n                value = setting.mapPut(oldValue, value);\n            // nullish values should be removed, since Storage can't persist them correctly.\n            if (value == null)\n                this.device.storage.removeItem(key);\n            else if (typeof value === 'object')\n                this.device.storage.setItem(key, JSON.stringify(value));\n            else\n                this.device.storage.setItem(key, value?.toString());\n        }\n        setting?.onPut?.(oldValue, value);\n        if (!setting?.hide)\n            this.device.onDeviceEvent(_1.ScryptedInterface.Settings, undefined);\n    }\n    getItemInternal(key, setting, rawDevice) {\n        if (!setting)\n            return this.device.storage.getItem(key);\n        const readDefaultValue = () => {\n            if (setting.persistedDefaultValue != null) {\n                this.putSettingInternal(setting, undefined, key, setting.persistedDefaultValue);\n                return setting.persistedDefaultValue;\n            }\n            return setting.defaultValue;\n        };\n        const ret = parseValue(this.device.storage.getItem(key), setting, readDefaultValue, rawDevice);\n        return setting.mapGet ? setting.mapGet(ret) : ret;\n    }\n    getItem(key) {\n        return this.getItemInternal(key, this.settings[key]);\n    }\n}\nexports.StorageSettings = StorageSettings;\n//# sourceMappingURL=storage-settings.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tls_1 = __importDefault(require(\"tls\"));\nconst net_1 = __importDefault(require(\"net\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)('mqttjs:tls');\nconst buildStream = (client, opts) => {\n    opts.port = opts.port || 8883;\n    opts.host = opts.hostname || opts.host || 'localhost';\n    if (net_1.default.isIP(opts.host) === 0) {\n        opts.servername = opts.host;\n    }\n    opts.rejectUnauthorized = opts.rejectUnauthorized !== false;\n    delete opts.path;\n    debug('port %d host %s rejectUnauthorized %b', opts.port, opts.host, opts.rejectUnauthorized);\n    const connection = tls_1.default.connect(opts);\n    connection.on('secureConnect', () => {\n        if (opts.rejectUnauthorized && !connection.authorized) {\n            connection.emit('error', new Error('TLS not authorized'));\n        }\n        else {\n            connection.removeListener('error', handleTLSerrors);\n        }\n    });\n    function handleTLSerrors(err) {\n        if (opts.rejectUnauthorized) {\n            client.emit('error', err);\n        }\n        connection.end();\n    }\n    connection.on('error', handleTLSerrors);\n    return connection;\n};\nexports.default = buildStream;\n//# sourceMappingURL=tls.js.map","import { ObjectsDetected } from '@scrypted/sdk';\nimport axios, { Method } from 'axios';\nimport { name } from '../package.json';\n\nexport const objectDetectorNativeId = 'frigateObjectDetector';\nexport const animalClassifierNativeId = 'frigateAnimalClassifier';\nexport const vehicleClassifierNativeId = 'frigateVehicleClassifier';\nexport const motionDetectorNativeId = 'frigateMotionDetector';\nexport const audioDetectorNativeId = 'frigateAudioDetector';\nexport const videoclipsNativeId = 'frigateVideoclips';\nexport const snapshotNativeId = 'frigateSnapshot';\nexport const birdseyeCameraNativeId = 'frigateBirdseyeCamera';\nexport const importedCameraNativeIdPrefix = 'frigateCamera';\nexport const pluginId = name;\n\nexport const FRIGATE_OBJECT_DETECTOR_INTERFACE = `${pluginId}:objectDetector`;\nexport const FRIGATE_MOTION_DETECTOR_INTERFACE = `${pluginId}:motionDetector`;\nexport const FRIGATE_AUDIO_DETECTOR_INTERFACE = `${pluginId}:audioDetector`;\nexport const FRIGATE_VIDEOCLIPS_INTERFACE = `${pluginId}:videoclips`;\nexport const FRIGATE_SNAPSHOT_INTERFACE = `${pluginId}:snapshot`;\n\nexport type FrigateObjectDetection = ObjectsDetected & { frigateEvent: ObjectsDetected };\n\nexport const motionTopic = `frigate/+/motion`;\nexport const eventsTopic = `frigate/events`;\nexport const audioTopic = `frigate/+/audio/+`;\n\ninterface Snapshot {\n    frame_time: number;\n    box: [number, number, number, number];\n    area: number;\n    region: [number, number, number, number];\n    score: number;\n    attributes: any[]; // Lista vuota o altri attributi se servono pi dettagli\n}\n\ninterface AttributeDetail {\n    label: string;\n    box: [number, number, number, number];\n    score: number;\n}\n\nexport interface DetectionData {\n    id: string;\n    camera: string;\n    frame_time: number;\n    snapshot: Snapshot;\n    label: string;\n    sub_label: [string, number] | null;\n    top_score: number;\n    false_positive: boolean;\n    start_time: number;\n    end_time: number | null;\n    score: number;\n    box: [number, number, number, number];\n    area: number;\n    ratio: number;\n    region: [number, number, number, number];\n    current_zones: string[];\n    entered_zones: string[];\n    thumbnail: string | null;\n    has_snapshot: boolean;\n    has_clip: boolean;\n    active: boolean;\n    stationary: boolean;\n    motionless_count: number;\n    position_changes: number;\n    attributes: Record<string, number>; // esempio: { face: 0.86 }\n    current_attributes: AttributeDetail[];\n    data?: { type: 'object' | 'audio' }\n}\n\nexport interface FrigateEvent {\n    type: 'new' | 'update' | 'end';\n    before: DetectionData;\n    after: DetectionData;\n}\n\nexport interface FrigateVideoClip {\n    id: string;\n    camera: string;\n    label: string;\n    zones: string[];\n    start_time: number;\n    end_time: number;\n    has_clip: boolean;\n    has_snapshot: boolean;\n    plus_id: string | null;\n    retain_indefinitely: boolean;\n    sub_label: string | null;\n    top_score: number | null;\n    false_positive: boolean | null;\n    box: number[] | null;\n    data: {\n        box: number[];\n        region: number[];\n        score: number;\n        top_score: number;\n        attributes: string[];\n        type: 'object';\n        max_severity: 'alert' | 'detection'; // se \"alert\"  l'unico valore possibile, lascialo cos\n    };\n    thumbnail: string; // base64 stringa dell'immagine\n}\n\nexport const convertFrigateBoxToScryptedBox = (frigateBox: [number, number, number, number]): [number, number, number, number] => {\n    const [xMin, yMin, xMax, yMax] = frigateBox;\n    const width = xMax - xMin;\n    const height = yMax - yMin;\n    return [xMin, yMin, width, height];\n}\n\nexport const baseFrigateApi = <T = any>(props: {\n    apiUrl: string;\n    service: string;\n    params?: any;\n    body?: any;\n    method?: Method;\n}) => {\n    const { apiUrl, service, params, body, method = 'GET' } = props;\n\n    const url = `${apiUrl}/${service}`;\n    return axios.request<T>({\n        method,\n        url: url.toString(),\n        params,\n        data: body\n    })\n}\n\nexport type AudioType = 'dBFS' | 'rms' | string;\n\nexport const isAudioLevelValue = (eventType: AudioType) => ['dBFS', 'rms'].includes(eventType);\n\nexport const toSnakeCase = (str: string) => str\n    .replace(/([a-z])([A-Z])/g, '$1 $2')\n    .replace(/[-\\s]+/g, '_')\n    .toLowerCase();","'use strict'\n\nconst { SymbolAsyncIterator, SymbolIterator, SymbolFor } = require('../../ours/primordials')\n\n// We need to use SymbolFor to make these globally available\n// for interopt with readable-stream, i.e. readable-stream\n// and node core needs to be able to read/write private state\n// from each other for proper interoperability.\nconst kIsDestroyed = SymbolFor('nodejs.stream.destroyed')\nconst kIsErrored = SymbolFor('nodejs.stream.errored')\nconst kIsReadable = SymbolFor('nodejs.stream.readable')\nconst kIsWritable = SymbolFor('nodejs.stream.writable')\nconst kIsDisturbed = SymbolFor('nodejs.stream.disturbed')\nconst kIsClosedPromise = SymbolFor('nodejs.webstream.isClosedPromise')\nconst kControllerErrorFunction = SymbolFor('nodejs.webstream.controllerErrorFunction')\nfunction isReadableNodeStream(obj, strict = false) {\n  var _obj$_readableState\n  return !!(\n    (\n      obj &&\n      typeof obj.pipe === 'function' &&\n      typeof obj.on === 'function' &&\n      (!strict || (typeof obj.pause === 'function' && typeof obj.resume === 'function')) &&\n      (!obj._writableState ||\n        ((_obj$_readableState = obj._readableState) === null || _obj$_readableState === undefined\n          ? undefined\n          : _obj$_readableState.readable) !== false) &&\n      // Duplex\n      (!obj._writableState || obj._readableState)\n    ) // Writable has .pipe.\n  )\n}\n\nfunction isWritableNodeStream(obj) {\n  var _obj$_writableState\n  return !!(\n    (\n      obj &&\n      typeof obj.write === 'function' &&\n      typeof obj.on === 'function' &&\n      (!obj._readableState ||\n        ((_obj$_writableState = obj._writableState) === null || _obj$_writableState === undefined\n          ? undefined\n          : _obj$_writableState.writable) !== false)\n    ) // Duplex\n  )\n}\n\nfunction isDuplexNodeStream(obj) {\n  return !!(\n    obj &&\n    typeof obj.pipe === 'function' &&\n    obj._readableState &&\n    typeof obj.on === 'function' &&\n    typeof obj.write === 'function'\n  )\n}\nfunction isNodeStream(obj) {\n  return (\n    obj &&\n    (obj._readableState ||\n      obj._writableState ||\n      (typeof obj.write === 'function' && typeof obj.on === 'function') ||\n      (typeof obj.pipe === 'function' && typeof obj.on === 'function'))\n  )\n}\nfunction isReadableStream(obj) {\n  return !!(\n    obj &&\n    !isNodeStream(obj) &&\n    typeof obj.pipeThrough === 'function' &&\n    typeof obj.getReader === 'function' &&\n    typeof obj.cancel === 'function'\n  )\n}\nfunction isWritableStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.getWriter === 'function' && typeof obj.abort === 'function')\n}\nfunction isTransformStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.readable === 'object' && typeof obj.writable === 'object')\n}\nfunction isWebStream(obj) {\n  return isReadableStream(obj) || isWritableStream(obj) || isTransformStream(obj)\n}\nfunction isIterable(obj, isAsync) {\n  if (obj == null) return false\n  if (isAsync === true) return typeof obj[SymbolAsyncIterator] === 'function'\n  if (isAsync === false) return typeof obj[SymbolIterator] === 'function'\n  return typeof obj[SymbolAsyncIterator] === 'function' || typeof obj[SymbolIterator] === 'function'\n}\nfunction isDestroyed(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return !!(stream.destroyed || stream[kIsDestroyed] || (state !== null && state !== undefined && state.destroyed))\n}\n\n// Have been end():d.\nfunction isWritableEnded(stream) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableEnded === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.ended) !== 'boolean') return null\n  return wState.ended\n}\n\n// Have emitted 'finish'.\nfunction isWritableFinished(stream, strict) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableFinished === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.finished) !== 'boolean') return null\n  return !!(wState.finished || (strict === false && wState.ended === true && wState.length === 0))\n}\n\n// Have been push(null):d.\nfunction isReadableEnded(stream) {\n  if (!isReadableNodeStream(stream)) return null\n  if (stream.readableEnded === true) return true\n  const rState = stream._readableState\n  if (!rState || rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.ended) !== 'boolean') return null\n  return rState.ended\n}\n\n// Have emitted 'end'.\nfunction isReadableFinished(stream, strict) {\n  if (!isReadableNodeStream(stream)) return null\n  const rState = stream._readableState\n  if (rState !== null && rState !== undefined && rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.endEmitted) !== 'boolean') return null\n  return !!(rState.endEmitted || (strict === false && rState.ended === true && rState.length === 0))\n}\nfunction isReadable(stream) {\n  if (stream && stream[kIsReadable] != null) return stream[kIsReadable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.readable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isReadableNodeStream(stream) && stream.readable && !isReadableFinished(stream)\n}\nfunction isWritable(stream) {\n  if (stream && stream[kIsWritable] != null) return stream[kIsWritable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.writable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isWritableNodeStream(stream) && stream.writable && !isWritableEnded(stream)\n}\nfunction isFinished(stream, opts) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (isDestroyed(stream)) {\n    return true\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.readable) !== false && isReadable(stream)) {\n    return false\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.writable) !== false && isWritable(stream)) {\n    return false\n  }\n  return true\n}\nfunction isWritableErrored(stream) {\n  var _stream$_writableStat, _stream$_writableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.writableErrored) {\n    return stream.writableErrored\n  }\n  return (_stream$_writableStat =\n    (_stream$_writableStat2 = stream._writableState) === null || _stream$_writableStat2 === undefined\n      ? undefined\n      : _stream$_writableStat2.errored) !== null && _stream$_writableStat !== undefined\n    ? _stream$_writableStat\n    : null\n}\nfunction isReadableErrored(stream) {\n  var _stream$_readableStat, _stream$_readableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.readableErrored) {\n    return stream.readableErrored\n  }\n  return (_stream$_readableStat =\n    (_stream$_readableStat2 = stream._readableState) === null || _stream$_readableStat2 === undefined\n      ? undefined\n      : _stream$_readableStat2.errored) !== null && _stream$_readableStat !== undefined\n    ? _stream$_readableStat\n    : null\n}\nfunction isClosed(stream) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (typeof stream.closed === 'boolean') {\n    return stream.closed\n  }\n  const wState = stream._writableState\n  const rState = stream._readableState\n  if (\n    typeof (wState === null || wState === undefined ? undefined : wState.closed) === 'boolean' ||\n    typeof (rState === null || rState === undefined ? undefined : rState.closed) === 'boolean'\n  ) {\n    return (\n      (wState === null || wState === undefined ? undefined : wState.closed) ||\n      (rState === null || rState === undefined ? undefined : rState.closed)\n    )\n  }\n  if (typeof stream._closed === 'boolean' && isOutgoingMessage(stream)) {\n    return stream._closed\n  }\n  return null\n}\nfunction isOutgoingMessage(stream) {\n  return (\n    typeof stream._closed === 'boolean' &&\n    typeof stream._defaultKeepAlive === 'boolean' &&\n    typeof stream._removedConnection === 'boolean' &&\n    typeof stream._removedContLen === 'boolean'\n  )\n}\nfunction isServerResponse(stream) {\n  return typeof stream._sent100 === 'boolean' && isOutgoingMessage(stream)\n}\nfunction isServerRequest(stream) {\n  var _stream$req\n  return (\n    typeof stream._consuming === 'boolean' &&\n    typeof stream._dumped === 'boolean' &&\n    ((_stream$req = stream.req) === null || _stream$req === undefined ? undefined : _stream$req.upgradeOrConnect) ===\n      undefined\n  )\n}\nfunction willEmitClose(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return (\n    (!state && isServerResponse(stream)) || !!(state && state.autoDestroy && state.emitClose && state.closed === false)\n  )\n}\nfunction isDisturbed(stream) {\n  var _stream$kIsDisturbed\n  return !!(\n    stream &&\n    ((_stream$kIsDisturbed = stream[kIsDisturbed]) !== null && _stream$kIsDisturbed !== undefined\n      ? _stream$kIsDisturbed\n      : stream.readableDidRead || stream.readableAborted)\n  )\n}\nfunction isErrored(stream) {\n  var _ref,\n    _ref2,\n    _ref3,\n    _ref4,\n    _ref5,\n    _stream$kIsErrored,\n    _stream$_readableStat3,\n    _stream$_writableStat3,\n    _stream$_readableStat4,\n    _stream$_writableStat4\n  return !!(\n    stream &&\n    ((_ref =\n      (_ref2 =\n        (_ref3 =\n          (_ref4 =\n            (_ref5 =\n              (_stream$kIsErrored = stream[kIsErrored]) !== null && _stream$kIsErrored !== undefined\n                ? _stream$kIsErrored\n                : stream.readableErrored) !== null && _ref5 !== undefined\n              ? _ref5\n              : stream.writableErrored) !== null && _ref4 !== undefined\n            ? _ref4\n            : (_stream$_readableStat3 = stream._readableState) === null || _stream$_readableStat3 === undefined\n            ? undefined\n            : _stream$_readableStat3.errorEmitted) !== null && _ref3 !== undefined\n          ? _ref3\n          : (_stream$_writableStat3 = stream._writableState) === null || _stream$_writableStat3 === undefined\n          ? undefined\n          : _stream$_writableStat3.errorEmitted) !== null && _ref2 !== undefined\n        ? _ref2\n        : (_stream$_readableStat4 = stream._readableState) === null || _stream$_readableStat4 === undefined\n        ? undefined\n        : _stream$_readableStat4.errored) !== null && _ref !== undefined\n      ? _ref\n      : (_stream$_writableStat4 = stream._writableState) === null || _stream$_writableStat4 === undefined\n      ? undefined\n      : _stream$_writableStat4.errored)\n  )\n}\nmodule.exports = {\n  isDestroyed,\n  kIsDestroyed,\n  isDisturbed,\n  kIsDisturbed,\n  isErrored,\n  kIsErrored,\n  isReadable,\n  kIsReadable,\n  kIsClosedPromise,\n  kControllerErrorFunction,\n  kIsWritable,\n  isClosed,\n  isDuplexNodeStream,\n  isFinished,\n  isIterable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableEnded,\n  isReadableFinished,\n  isReadableErrored,\n  isNodeStream,\n  isWebStream,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableEnded,\n  isWritableFinished,\n  isWritableErrored,\n  isServerRequest,\n  isServerResponse,\n  willEmitClose,\n  isTransformStream\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst readable_stream_1 = require(\"readable-stream\");\nconst streamsOpts = { objectMode: true };\nconst defaultStoreOptions = {\n    clean: true,\n};\nclass Store {\n    constructor(options) {\n        this.options = options || {};\n        this.options = Object.assign(Object.assign({}, defaultStoreOptions), options);\n        this._inflights = new Map();\n    }\n    put(packet, cb) {\n        this._inflights.set(packet.messageId, packet);\n        if (cb) {\n            cb();\n        }\n        return this;\n    }\n    createStream() {\n        const stream = new readable_stream_1.Readable(streamsOpts);\n        const values = [];\n        let destroyed = false;\n        let i = 0;\n        this._inflights.forEach((value, key) => {\n            values.push(value);\n        });\n        stream._read = () => {\n            if (!destroyed && i < values.length) {\n                stream.push(values[i++]);\n            }\n            else {\n                stream.push(null);\n            }\n        };\n        stream.destroy = (err) => {\n            if (destroyed) {\n                return;\n            }\n            destroyed = true;\n            setTimeout(() => {\n                stream.emit('close');\n            }, 0);\n            return stream;\n        };\n        return stream;\n    }\n    del(packet, cb) {\n        const toDelete = this._inflights.get(packet.messageId);\n        if (toDelete) {\n            this._inflights.delete(packet.messageId);\n            cb(null, toDelete);\n        }\n        else if (cb) {\n            cb(new Error('missing packet'));\n        }\n        return this;\n    }\n    get(packet, cb) {\n        const storedPacket = this._inflights.get(packet.messageId);\n        if (storedPacket) {\n            cb(null, storedPacket);\n        }\n        else if (cb) {\n            cb(new Error('missing packet'));\n        }\n        return this;\n    }\n    close(cb) {\n        if (this.options.clean) {\n            this._inflights = null;\n        }\n        if (cb) {\n            cb();\n        }\n    }\n}\nexports.default = Store;\n//# sourceMappingURL=store.js.map","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 6570;\nmodule.exports = webpackEmptyContext;","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","/*! Axios v1.10.0 Copyright (c) 2025 Matt Zabriskie and contributors */\n'use strict';\n\nconst FormData$1 = require('form-data');\nconst crypto = require('crypto');\nconst url = require('url');\nconst proxyFromEnv = require('proxy-from-env');\nconst http = require('http');\nconst https = require('https');\nconst util = require('util');\nconst followRedirects = require('follow-redirects');\nconst zlib = require('zlib');\nconst stream = require('stream');\nconst events = require('events');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nconst FormData__default = /*#__PURE__*/_interopDefaultLegacy(FormData$1);\nconst crypto__default = /*#__PURE__*/_interopDefaultLegacy(crypto);\nconst url__default = /*#__PURE__*/_interopDefaultLegacy(url);\nconst proxyFromEnv__default = /*#__PURE__*/_interopDefaultLegacy(proxyFromEnv);\nconst http__default = /*#__PURE__*/_interopDefaultLegacy(http);\nconst https__default = /*#__PURE__*/_interopDefaultLegacy(https);\nconst util__default = /*#__PURE__*/_interopDefaultLegacy(util);\nconst followRedirects__default = /*#__PURE__*/_interopDefaultLegacy(followRedirects);\nconst zlib__default = /*#__PURE__*/_interopDefaultLegacy(zlib);\nconst stream__default = /*#__PURE__*/_interopDefaultLegacy(stream);\n\nfunction bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n};\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n};\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n};\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  };\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n};\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n};\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n};\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n};\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n};\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n};\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n};\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n};\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n};\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n};\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  };\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n};\n\nconst noop = () => {};\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n};\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  };\n\n  return visit(obj, 0);\n};\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nconst utils$1 = {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils$1.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils$1.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype$1 = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype$1, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype$1);\n\n  utils$1.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils$1.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (FormData__default[\"default\"] || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils$1.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils$1.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);\n\n  if (!utils$1.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils$1.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils$1.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils$1.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils$1.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils$1.isArray(value) && isFlatArray(value)) ||\n        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils$1.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils$1.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils$1.forEach(value, function each(el, key) {\n      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode$1(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode$1);\n  } : encode$1;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nfunction buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils$1.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils$1.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils$1.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nconst InterceptorManager$1 = InterceptorManager;\n\nconst transitionalDefaults = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\nconst URLSearchParams = url__default[\"default\"].URLSearchParams;\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz';\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n};\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  const randomValues = new Uint32Array(size);\n  crypto__default[\"default\"].randomFillSync(randomValues);\n  for (let i = 0; i < size; i++) {\n    str += alphabet[randomValues[i] % length];\n  }\n\n  return str;\n};\n\n\nconst platform$1 = {\n  isNode: true,\n  classes: {\n    URLSearchParams,\n    FormData: FormData__default[\"default\"],\n    Blob: typeof Blob !== 'undefined' && Blob || null\n  },\n  ALPHABET,\n  generateString,\n  protocols: [ 'http', 'https', 'file', 'data' ]\n};\n\nconst hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nconst utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  hasBrowserEnv: hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv: hasStandardBrowserEnv,\n  navigator: _navigator,\n  origin: origin\n});\n\nconst platform = {\n  ...utils,\n  ...platform$1\n};\n\nfunction toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils$1.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils$1.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils$1.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils$1.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils$1.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils$1.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils$1.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils$1.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils$1.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils$1.isObject(data);\n\n    if (isObjectPayload && utils$1.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils$1.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils$1.isArrayBuffer(data) ||\n      utils$1.isBuffer(data) ||\n      utils$1.isStream(data) ||\n      utils$1.isFile(data) ||\n      utils$1.isBlob(data) ||\n      utils$1.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils$1.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils$1.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nconst defaults$1 = defaults;\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils$1.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nconst parseHeaders = rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils$1.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils$1.isString(value)) return;\n\n  if (utils$1.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils$1.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils$1.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils$1.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite);\n    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils$1.isObject(header) && utils$1.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils$1.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils$1.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils$1.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils$1.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils$1.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils$1.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils$1.forEach(this, (value, header) => {\n      const key = utils$1.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils$1.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils$1.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils$1.freezeMethods(AxiosHeaders);\n\nconst AxiosHeaders$1 = AxiosHeaders;\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nfunction transformData(fns, response) {\n  const config = this || defaults$1;\n  const context = response || config;\n  const headers = AxiosHeaders$1.from(context.headers);\n  let data = context.data;\n\n  utils$1.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils$1.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nfunction settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nfunction buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n\nconst VERSION = \"1.10.0\";\n\nfunction parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nfunction fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n\n    const match = DATA_URL_PATTERN.exec(uri);\n\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n\n      return new _Blob([buffer], {type: mime});\n    }\n\n    return buffer;\n  }\n\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}\n\nconst kInternals = Symbol('internals');\n\nclass AxiosTransformStream extends stream__default[\"default\"].Transform{\n  constructor(options) {\n    options = utils$1.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, (prop, source) => {\n      return !utils$1.isUndefined(source[prop]);\n    });\n\n    super({\n      readableHighWaterMark: options.chunkSize\n    });\n\n    const internals = this[kInternals] = {\n      timeWindow: options.timeWindow,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    this.on('newListener', event => {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n  }\n\n  _read(size) {\n    const internals = this[kInternals];\n\n    if (internals.onReadCallback) {\n      internals.onReadCallback();\n    }\n\n    return super._read(size);\n  }\n\n  _transform(chunk, encoding, callback) {\n    const internals = this[kInternals];\n    const maxRate = internals.maxRate;\n\n    const readableHighWaterMark = this.readableHighWaterMark;\n\n    const timeWindow = internals.timeWindow;\n\n    const divider = 1000 / timeWindow;\n    const bytesThreshold = (maxRate / divider);\n    const minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n    const pushChunk = (_chunk, _callback) => {\n      const bytes = Buffer.byteLength(_chunk);\n      internals.bytesSeen += bytes;\n      internals.bytes += bytes;\n\n      internals.isCaptured && this.emit('progress', internals.bytesSeen);\n\n      if (this.push(_chunk)) {\n        process.nextTick(_callback);\n      } else {\n        internals.onReadCallback = () => {\n          internals.onReadCallback = null;\n          process.nextTick(_callback);\n        };\n      }\n    };\n\n    const transformChunk = (_chunk, _callback) => {\n      const chunkSize = Buffer.byteLength(_chunk);\n      let chunkRemainder = null;\n      let maxChunkSize = readableHighWaterMark;\n      let bytesLeft;\n      let passed = 0;\n\n      if (maxRate) {\n        const now = Date.now();\n\n        if (!internals.ts || (passed = (now - internals.ts)) >= timeWindow) {\n          internals.ts = now;\n          bytesLeft = bytesThreshold - internals.bytes;\n          internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n          passed = 0;\n        }\n\n        bytesLeft = bytesThreshold - internals.bytes;\n      }\n\n      if (maxRate) {\n        if (bytesLeft <= 0) {\n          // next time window\n          return setTimeout(() => {\n            _callback(null, _chunk);\n          }, timeWindow - passed);\n        }\n\n        if (bytesLeft < maxChunkSize) {\n          maxChunkSize = bytesLeft;\n        }\n      }\n\n      if (maxChunkSize && chunkSize > maxChunkSize && (chunkSize - maxChunkSize) > minChunkSize) {\n        chunkRemainder = _chunk.subarray(maxChunkSize);\n        _chunk = _chunk.subarray(0, maxChunkSize);\n      }\n\n      pushChunk(_chunk, chunkRemainder ? () => {\n        process.nextTick(_callback, null, chunkRemainder);\n      } : _callback);\n    };\n\n    transformChunk(chunk, function transformNextChunk(err, _chunk) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_chunk) {\n        transformChunk(_chunk, transformNextChunk);\n      } else {\n        callback(null);\n      }\n    });\n  }\n}\n\nconst AxiosTransformStream$1 = AxiosTransformStream;\n\nconst {asyncIterator} = Symbol;\n\nconst readBlob = async function* (blob) {\n  if (blob.stream) {\n    yield* blob.stream();\n  } else if (blob.arrayBuffer) {\n    yield await blob.arrayBuffer();\n  } else if (blob[asyncIterator]) {\n    yield* blob[asyncIterator]();\n  } else {\n    yield blob;\n  }\n};\n\nconst readBlob$1 = readBlob;\n\nconst BOUNDARY_ALPHABET = platform.ALPHABET.ALPHA_DIGIT + '-_';\n\nconst textEncoder = typeof TextEncoder === 'function' ? new TextEncoder() : new util__default[\"default\"].TextEncoder();\n\nconst CRLF = '\\r\\n';\nconst CRLF_BYTES = textEncoder.encode(CRLF);\nconst CRLF_BYTES_COUNT = 2;\n\nclass FormDataPart {\n  constructor(name, value) {\n    const {escapeName} = this.constructor;\n    const isStringValue = utils$1.isString(value);\n\n    let headers = `Content-Disposition: form-data; name=\"${escapeName(name)}\"${\n      !isStringValue && value.name ? `; filename=\"${escapeName(value.name)}\"` : ''\n    }${CRLF}`;\n\n    if (isStringValue) {\n      value = textEncoder.encode(String(value).replace(/\\r?\\n|\\r\\n?/g, CRLF));\n    } else {\n      headers += `Content-Type: ${value.type || \"application/octet-stream\"}${CRLF}`;\n    }\n\n    this.headers = textEncoder.encode(headers + CRLF);\n\n    this.contentLength = isStringValue ? value.byteLength : value.size;\n\n    this.size = this.headers.byteLength + this.contentLength + CRLF_BYTES_COUNT;\n\n    this.name = name;\n    this.value = value;\n  }\n\n  async *encode(){\n    yield this.headers;\n\n    const {value} = this;\n\n    if(utils$1.isTypedArray(value)) {\n      yield value;\n    } else {\n      yield* readBlob$1(value);\n    }\n\n    yield CRLF_BYTES;\n  }\n\n  static escapeName(name) {\n      return String(name).replace(/[\\r\\n\"]/g, (match) => ({\n        '\\r' : '%0D',\n        '\\n' : '%0A',\n        '\"' : '%22',\n      }[match]));\n  }\n}\n\nconst formDataToStream = (form, headersHandler, options) => {\n  const {\n    tag = 'form-data-boundary',\n    size = 25,\n    boundary = tag + '-' + platform.generateString(size, BOUNDARY_ALPHABET)\n  } = options || {};\n\n  if(!utils$1.isFormData(form)) {\n    throw TypeError('FormData instance required');\n  }\n\n  if (boundary.length < 1 || boundary.length > 70) {\n    throw Error('boundary must be 10-70 characters long')\n  }\n\n  const boundaryBytes = textEncoder.encode('--' + boundary + CRLF);\n  const footerBytes = textEncoder.encode('--' + boundary + '--' + CRLF);\n  let contentLength = footerBytes.byteLength;\n\n  const parts = Array.from(form.entries()).map(([name, value]) => {\n    const part = new FormDataPart(name, value);\n    contentLength += part.size;\n    return part;\n  });\n\n  contentLength += boundaryBytes.byteLength * parts.length;\n\n  contentLength = utils$1.toFiniteNumber(contentLength);\n\n  const computedHeaders = {\n    'Content-Type': `multipart/form-data; boundary=${boundary}`\n  };\n\n  if (Number.isFinite(contentLength)) {\n    computedHeaders['Content-Length'] = contentLength;\n  }\n\n  headersHandler && headersHandler(computedHeaders);\n\n  return stream.Readable.from((async function *() {\n    for(const part of parts) {\n      yield boundaryBytes;\n      yield* part.encode();\n    }\n\n    yield footerBytes;\n  })());\n};\n\nconst formDataToStream$1 = formDataToStream;\n\nclass ZlibHeaderTransformStream extends stream__default[\"default\"].Transform {\n  __transform(chunk, encoding, callback) {\n    this.push(chunk);\n    callback();\n  }\n\n  _transform(chunk, encoding, callback) {\n    if (chunk.length !== 0) {\n      this._transform = this.__transform;\n\n      // Add Default Compression headers if no zlib headers are present\n      if (chunk[0] !== 120) { // Hex: 78\n        const header = Buffer.alloc(2);\n        header[0] = 120; // Hex: 78\n        header[1] = 156; // Hex: 9C \n        this.push(header, encoding);\n      }\n    }\n\n    this.__transform(chunk, encoding, callback);\n  }\n}\n\nconst ZlibHeaderTransformStream$1 = ZlibHeaderTransformStream;\n\nconst callbackify = (fn, reducer) => {\n  return utils$1.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n};\n\nconst callbackify$1 = callbackify;\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  };\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs);\n        }, threshold - passed);\n      }\n    }\n  };\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nconst progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n};\n\nconst progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n};\n\nconst asyncDecorator = (fn) => (...args) => utils$1.asap(() => fn(...args));\n\nconst zlibOptions = {\n  flush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH\n};\n\nconst brotliOptions = {\n  flush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH\n};\n\nconst isBrotliSupported = utils$1.isFunction(zlib__default[\"default\"].createBrotliDecompress);\n\nconst {http: httpFollow, https: httpsFollow} = followRedirects__default[\"default\"];\n\nconst isHttps = /https:?/;\n\nconst supportedProtocols = platform.protocols.map(protocol => {\n  return protocol + ':';\n});\n\nconst flushOnFinish = (stream, [throttled, flush]) => {\n  stream\n    .on('end', flush)\n    .on('error', flush);\n\n  return throttled;\n};\n\n/**\n * If the proxy or config beforeRedirects functions are defined, call them with the options\n * object.\n *\n * @param {Object<string, any>} options - The options object that was passed to the request.\n *\n * @returns {Object<string, any>}\n */\nfunction dispatchBeforeRedirect(options, responseDetails) {\n  if (options.beforeRedirects.proxy) {\n    options.beforeRedirects.proxy(options);\n  }\n  if (options.beforeRedirects.config) {\n    options.beforeRedirects.config(options, responseDetails);\n  }\n}\n\n/**\n * If the proxy or config afterRedirects functions are defined, call them with the options\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} configProxy configuration from Axios options object\n * @param {string} location\n *\n * @returns {http.ClientRequestArgs}\n */\nfunction setProxy(options, configProxy, location) {\n  let proxy = configProxy;\n  if (!proxy && proxy !== false) {\n    const proxyUrl = proxyFromEnv__default[\"default\"].getProxyForUrl(location);\n    if (proxyUrl) {\n      proxy = new URL(proxyUrl);\n    }\n  }\n  if (proxy) {\n    // Basic proxy authorization\n    if (proxy.username) {\n      proxy.auth = (proxy.username || '') + ':' + (proxy.password || '');\n    }\n\n    if (proxy.auth) {\n      // Support proxy auth object form\n      if (proxy.auth.username || proxy.auth.password) {\n        proxy.auth = (proxy.auth.username || '') + ':' + (proxy.auth.password || '');\n      }\n      const base64 = Buffer\n        .from(proxy.auth, 'utf8')\n        .toString('base64');\n      options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n    }\n\n    options.headers.host = options.hostname + (options.port ? ':' + options.port : '');\n    const proxyHost = proxy.hostname || proxy.host;\n    options.hostname = proxyHost;\n    // Replace 'host' since options is not a URL object\n    options.host = proxyHost;\n    options.port = proxy.port;\n    options.path = location;\n    if (proxy.protocol) {\n      options.protocol = proxy.protocol.includes(':') ? proxy.protocol : `${proxy.protocol}:`;\n    }\n  }\n\n  options.beforeRedirects.proxy = function beforeRedirect(redirectOptions) {\n    // Configure proxy for redirected request, passing the original config proxy to apply\n    // the exact same logic as if the redirected request was performed by axios directly.\n    setProxy(redirectOptions, configProxy, redirectOptions.href);\n  };\n}\n\nconst isHttpAdapterSupported = typeof process !== 'undefined' && utils$1.kindOf(process) === 'process';\n\n// temporary hotfix\n\nconst wrapAsync = (asyncExecutor) => {\n  return new Promise((resolve, reject) => {\n    let onDone;\n    let isDone;\n\n    const done = (value, isRejected) => {\n      if (isDone) return;\n      isDone = true;\n      onDone && onDone(value, isRejected);\n    };\n\n    const _resolve = (value) => {\n      done(value);\n      resolve(value);\n    };\n\n    const _reject = (reason) => {\n      done(reason, true);\n      reject(reason);\n    };\n\n    asyncExecutor(_resolve, _reject, (onDoneHandler) => (onDone = onDoneHandler)).catch(_reject);\n  })\n};\n\nconst resolveFamily = ({address, family}) => {\n  if (!utils$1.isString(address)) {\n    throw TypeError('address must be a string');\n  }\n  return ({\n    address,\n    family: family || (address.indexOf('.') < 0 ? 6 : 4)\n  });\n};\n\nconst buildAddressEntry = (address, family) => resolveFamily(utils$1.isObject(address) ? address : {address, family});\n\n/*eslint consistent-return:0*/\nconst httpAdapter = isHttpAdapterSupported && function httpAdapter(config) {\n  return wrapAsync(async function dispatchHttpRequest(resolve, reject, onDone) {\n    let {data, lookup, family} = config;\n    const {responseType, responseEncoding} = config;\n    const method = config.method.toUpperCase();\n    let isDone;\n    let rejected = false;\n    let req;\n\n    if (lookup) {\n      const _lookup = callbackify$1(lookup, (value) => utils$1.isArray(value) ? value : [value]);\n      // hotfix to support opt.all option which is required for node 20.x\n      lookup = (hostname, opt, cb) => {\n        _lookup(hostname, opt, (err, arg0, arg1) => {\n          if (err) {\n            return cb(err);\n          }\n\n          const addresses = utils$1.isArray(arg0) ? arg0.map(addr => buildAddressEntry(addr)) : [buildAddressEntry(arg0, arg1)];\n\n          opt.all ? cb(err, addresses) : cb(err, addresses[0].address, addresses[0].family);\n        });\n      };\n    }\n\n    // temporary internal emitter until the AxiosRequest class will be implemented\n    const emitter = new events.EventEmitter();\n\n    const onFinished = () => {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(abort);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', abort);\n      }\n\n      emitter.removeAllListeners();\n    };\n\n    onDone((value, isRejected) => {\n      isDone = true;\n      if (isRejected) {\n        rejected = true;\n        onFinished();\n      }\n    });\n\n    function abort(reason) {\n      emitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n    }\n\n    emitter.once('abort', reject);\n\n    if (config.cancelToken || config.signal) {\n      config.cancelToken && config.cancelToken.subscribe(abort);\n      if (config.signal) {\n        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n      }\n    }\n\n    // Parse url\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    const parsed = new URL(fullPath, platform.hasBrowserEnv ? platform.origin : undefined);\n    const protocol = parsed.protocol || supportedProtocols[0];\n\n    if (protocol === 'data:') {\n      let convertedData;\n\n      if (method !== 'GET') {\n        return settle(resolve, reject, {\n          status: 405,\n          statusText: 'method not allowed',\n          headers: {},\n          config\n        });\n      }\n\n      try {\n        convertedData = fromDataURI(config.url, responseType === 'blob', {\n          Blob: config.env && config.env.Blob\n        });\n      } catch (err) {\n        throw AxiosError.from(err, AxiosError.ERR_BAD_REQUEST, config);\n      }\n\n      if (responseType === 'text') {\n        convertedData = convertedData.toString(responseEncoding);\n\n        if (!responseEncoding || responseEncoding === 'utf8') {\n          convertedData = utils$1.stripBOM(convertedData);\n        }\n      } else if (responseType === 'stream') {\n        convertedData = stream__default[\"default\"].Readable.from(convertedData);\n      }\n\n      return settle(resolve, reject, {\n        data: convertedData,\n        status: 200,\n        statusText: 'OK',\n        headers: new AxiosHeaders$1(),\n        config\n      });\n    }\n\n    if (supportedProtocols.indexOf(protocol) === -1) {\n      return reject(new AxiosError(\n        'Unsupported protocol ' + protocol,\n        AxiosError.ERR_BAD_REQUEST,\n        config\n      ));\n    }\n\n    const headers = AxiosHeaders$1.from(config.headers).normalize();\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    // User-Agent is specified; handle case where no UA header is desired\n    // Only set header if it hasn't been set in config\n    headers.set('User-Agent', 'axios/' + VERSION, false);\n\n    const {onUploadProgress, onDownloadProgress} = config;\n    const maxRate = config.maxRate;\n    let maxUploadRate = undefined;\n    let maxDownloadRate = undefined;\n\n    // support for spec compliant FormData objects\n    if (utils$1.isSpecCompliantForm(data)) {\n      const userBoundary = headers.getContentType(/boundary=([-_\\w\\d]{10,70})/i);\n\n      data = formDataToStream$1(data, (formHeaders) => {\n        headers.set(formHeaders);\n      }, {\n        tag: `axios-${VERSION}-boundary`,\n        boundary: userBoundary && userBoundary[1] || undefined\n      });\n      // support for https://www.npmjs.com/package/form-data api\n    } else if (utils$1.isFormData(data) && utils$1.isFunction(data.getHeaders)) {\n      headers.set(data.getHeaders());\n\n      if (!headers.hasContentLength()) {\n        try {\n          const knownLength = await util__default[\"default\"].promisify(data.getLength).call(data);\n          Number.isFinite(knownLength) && knownLength >= 0 && headers.setContentLength(knownLength);\n          /*eslint no-empty:0*/\n        } catch (e) {\n        }\n      }\n    } else if (utils$1.isBlob(data) || utils$1.isFile(data)) {\n      data.size && headers.setContentType(data.type || 'application/octet-stream');\n      headers.setContentLength(data.size || 0);\n      data = stream__default[\"default\"].Readable.from(readBlob$1(data));\n    } else if (data && !utils$1.isStream(data)) {\n      if (Buffer.isBuffer(data)) ; else if (utils$1.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils$1.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(new AxiosError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers.setContentLength(data.length, false);\n\n      if (config.maxBodyLength > -1 && data.length > config.maxBodyLength) {\n        return reject(new AxiosError(\n          'Request body larger than maxBodyLength limit',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n    }\n\n    const contentLength = utils$1.toFiniteNumber(headers.getContentLength());\n\n    if (utils$1.isArray(maxRate)) {\n      maxUploadRate = maxRate[0];\n      maxDownloadRate = maxRate[1];\n    } else {\n      maxUploadRate = maxDownloadRate = maxRate;\n    }\n\n    if (data && (onUploadProgress || maxUploadRate)) {\n      if (!utils$1.isStream(data)) {\n        data = stream__default[\"default\"].Readable.from(data, {objectMode: false});\n      }\n\n      data = stream__default[\"default\"].pipeline([data, new AxiosTransformStream$1({\n        maxRate: utils$1.toFiniteNumber(maxUploadRate)\n      })], utils$1.noop);\n\n      onUploadProgress && data.on('progress', flushOnFinish(\n        data,\n        progressEventDecorator(\n          contentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress), false, 3)\n        )\n      ));\n    }\n\n    // HTTP basic authentication\n    let auth = undefined;\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    if (!auth && parsed.username) {\n      const urlUsername = parsed.username;\n      const urlPassword = parsed.password;\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    auth && headers.delete('authorization');\n\n    let path;\n\n    try {\n      path = buildURL(\n        parsed.pathname + parsed.search,\n        config.params,\n        config.paramsSerializer\n      ).replace(/^\\?/, '');\n    } catch (err) {\n      const customErr = new Error(err.message);\n      customErr.config = config;\n      customErr.url = config.url;\n      customErr.exists = true;\n      return reject(customErr);\n    }\n\n    headers.set(\n      'Accept-Encoding',\n      'gzip, compress, deflate' + (isBrotliSupported ? ', br' : ''), false\n      );\n\n    const options = {\n      path,\n      method: method,\n      headers: headers.toJSON(),\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth,\n      protocol,\n      family,\n      beforeRedirect: dispatchBeforeRedirect,\n      beforeRedirects: {}\n    };\n\n    // cacheable-lookup integration hotfix\n    !utils$1.isUndefined(lookup) && (options.lookup = lookup);\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname.startsWith(\"[\") ? parsed.hostname.slice(1, -1) : parsed.hostname;\n      options.port = parsed.port;\n      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    let transport;\n    const isHttpsRequest = isHttps.test(options.protocol);\n    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsRequest ? https__default[\"default\"] : http__default[\"default\"];\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      if (config.beforeRedirect) {\n        options.beforeRedirects.config = config.beforeRedirect;\n      }\n      transport = isHttpsRequest ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    } else {\n      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n      options.maxBodyLength = Infinity;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    req = transport.request(options, function handleResponse(res) {\n      if (req.destroyed) return;\n\n      const streams = [res];\n\n      const responseLength = +res.headers['content-length'];\n\n      if (onDownloadProgress || maxDownloadRate) {\n        const transformStream = new AxiosTransformStream$1({\n          maxRate: utils$1.toFiniteNumber(maxDownloadRate)\n        });\n\n        onDownloadProgress && transformStream.on('progress', flushOnFinish(\n          transformStream,\n          progressEventDecorator(\n            responseLength,\n            progressEventReducer(asyncDecorator(onDownloadProgress), true, 3)\n          )\n        ));\n\n        streams.push(transformStream);\n      }\n\n      // decompress the response body transparently if required\n      let responseStream = res;\n\n      // return the last request in case of redirects\n      const lastRequest = res.req || req;\n\n      // if decompress disabled we should not decompress\n      if (config.decompress !== false && res.headers['content-encoding']) {\n        // if no content, but headers still say that it is encoded,\n        // remove the header not confuse downstream operations\n        if (method === 'HEAD' || res.statusCode === 204) {\n          delete res.headers['content-encoding'];\n        }\n\n        switch ((res.headers['content-encoding'] || '').toLowerCase()) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'x-gzip':\n        case 'compress':\n        case 'x-compress':\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'deflate':\n          streams.push(new ZlibHeaderTransformStream$1());\n\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'br':\n          if (isBrotliSupported) {\n            streams.push(zlib__default[\"default\"].createBrotliDecompress(brotliOptions));\n            delete res.headers['content-encoding'];\n          }\n        }\n      }\n\n      responseStream = streams.length > 1 ? stream__default[\"default\"].pipeline(streams, utils$1.noop) : streams[0];\n\n      const offListeners = stream__default[\"default\"].finished(responseStream, () => {\n        offListeners();\n        onFinished();\n      });\n\n      const response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: new AxiosHeaders$1(res.headers),\n        config,\n        request: lastRequest\n      };\n\n      if (responseType === 'stream') {\n        response.data = responseStream;\n        settle(resolve, reject, response);\n      } else {\n        const responseBuffer = [];\n        let totalResponseBytes = 0;\n\n        responseStream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n            rejected = true;\n            responseStream.destroy();\n            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n          }\n        });\n\n        responseStream.on('aborted', function handlerStreamAborted() {\n          if (rejected) {\n            return;\n          }\n\n          const err = new AxiosError(\n            'stream has been aborted',\n            AxiosError.ERR_BAD_RESPONSE,\n            config,\n            lastRequest\n          );\n          responseStream.destroy(err);\n          reject(err);\n        });\n\n        responseStream.on('error', function handleStreamError(err) {\n          if (req.destroyed) return;\n          reject(AxiosError.from(err, null, config, lastRequest));\n        });\n\n        responseStream.on('end', function handleStreamEnd() {\n          try {\n            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n            if (responseType !== 'arraybuffer') {\n              responseData = responseData.toString(responseEncoding);\n              if (!responseEncoding || responseEncoding === 'utf8') {\n                responseData = utils$1.stripBOM(responseData);\n              }\n            }\n            response.data = responseData;\n          } catch (err) {\n            return reject(AxiosError.from(err, null, config, response.request, response));\n          }\n          settle(resolve, reject, response);\n        });\n      }\n\n      emitter.once('abort', err => {\n        if (!responseStream.destroyed) {\n          responseStream.emit('error', err);\n          responseStream.destroy();\n        }\n      });\n    });\n\n    emitter.once('abort', err => {\n      reject(err);\n      req.destroy(err);\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      // @todo remove\n      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n      reject(AxiosError.from(err, null, config, req));\n    });\n\n    // set tcp keep alive to prevent drop connection by peer\n    req.on('socket', function handleRequestSocket(socket) {\n      // default interval of sending ack packet is 1 minute\n      socket.setKeepAlive(true, 1000 * 60);\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      const timeout = parseInt(config.timeout, 10);\n\n      if (Number.isNaN(timeout)) {\n        reject(new AxiosError(\n          'error trying to parse `config.timeout` to int',\n          AxiosError.ERR_BAD_OPTION_VALUE,\n          config,\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devouring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        if (isDone) return;\n        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n        const transitional = config.transitional || transitionalDefaults;\n        if (config.timeoutErrorMessage) {\n          timeoutErrorMessage = config.timeoutErrorMessage;\n        }\n        reject(new AxiosError(\n          timeoutErrorMessage,\n          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n          config,\n          req\n        ));\n        abort();\n      });\n    }\n\n\n    // Send the request\n    if (utils$1.isStream(data)) {\n      let ended = false;\n      let errored = false;\n\n      data.on('end', () => {\n        ended = true;\n      });\n\n      data.once('error', err => {\n        errored = true;\n        req.destroy(err);\n      });\n\n      data.on('close', () => {\n        if (!ended && !errored) {\n          abort(new CanceledError('Request stream has been aborted', config, req));\n        }\n      });\n\n      data.pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n\nconst isURLSameOrigin = platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n\nconst cookies = platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils$1.isString(path) && cookie.push('path=' + path);\n\n      utils$1.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nfunction mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {\n      return utils$1.merge.call({caseless}, target, source);\n    } else if (utils$1.isPlainObject(source)) {\n      return utils$1.merge({}, source);\n    } else if (utils$1.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n\nconst resolveConfig = (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders$1.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils$1.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n};\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nconst xhrAdapter = isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders$1.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils$1.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n};\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    };\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT));\n    }, timeout);\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    };\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils$1.asap(unsubscribe);\n\n    return signal;\n  }\n};\n\nconst composeSignals$1 = composeSignals;\n\nconst streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n};\n\nconst readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n};\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n};\n\nconst trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  };\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n};\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n};\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils$1.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils$1.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      });\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils$1.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils$1.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils$1.isArrayBufferView(body) || utils$1.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils$1.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils$1.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n};\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils$1.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n};\n\nconst fetchAdapter = isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals$1([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader);\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils$1.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request, fetchOptions);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders$1.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      });\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n};\n\nutils$1.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;\n\nconst adapters = {\n  getAdapter: (adapters) => {\n    adapters = utils$1.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n};\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nfunction dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders$1.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults$1.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders$1.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n\nconst validators$1 = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators$1[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators$1.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators$1.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nconst validator = {\n  assertOptions,\n  validators: validators$1\n};\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager$1(),\n      response: new InterceptorManager$1()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack;\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils$1.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        };\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) ; else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils$1.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils$1.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nconst Axios$1 = Axios;\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nconst CancelToken$1 = CancelToken;\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nfunction spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nfunction isAxiosError(payload) {\n  return utils$1.isObject(payload) && (payload.isAxiosError === true);\n}\n\nconst HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nconst HttpStatusCode$1 = HttpStatusCode;\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios$1(defaultConfig);\n  const instance = bind(Axios$1.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils$1.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults$1);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios$1;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken$1;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders$1;\n\naxios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode$1;\n\naxios.default = axios;\n\nmodule.exports = axios;\n//# sourceMappingURL=axios.cjs.map\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","'use strict';\n\nconst BINARY_TYPES = ['nodebuffer', 'arraybuffer', 'fragments'];\nconst hasBlob = typeof Blob !== 'undefined';\n\nif (hasBlob) BINARY_TYPES.push('blob');\n\nmodule.exports = {\n  BINARY_TYPES,\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  hasBlob,\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) {\n    return new FastBuffer(target.buffer, target.byteOffset, offset);\n  }\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.length === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = new FastBuffer(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = new FastBuffer(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","import sdk, { MediaObject, ObjectDetectionResult, ObjectDetectionTypes, ObjectDetector, ObjectsDetected, ScryptedInterface, Setting, Settings, SettingValue } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport axios from \"axios\";\nimport { DetectionClass } from \"../../scrypted-advanced-notifier/src/detectionClasses\";\nimport FrigateBridgeObjectDetector from \"./objectDetector\";\nimport { AudioType, convertFrigateBoxToScryptedBox, FrigateEvent, FrigateObjectDetection, isAudioLevelValue, pluginId } from \"./utils\";\n\nexport class FrigateBridgeObjectDetectorMixin extends SettingsMixinDeviceBase<any> implements Settings, ObjectDetector {\n    storageSettings = new StorageSettings(this, {\n        cameraName: {\n            title: 'Frigate camera name',\n            type: 'string',\n            choices: [],\n            immediate: true,\n            onPut: async (_, cameraName) => await this.setZones(cameraName),\n        },\n        labels: {\n            title: 'Labels to import',\n            type: 'string',\n            multiple: true,\n            combobox: true,\n            immediate: true,\n            choices: [],\n            defaultValue: [],\n            onGet: async () => {\n                return {\n                    choices: this.plugin.plugin.storageSettings.values.labels,\n                    defaultValue: this.plugin.plugin.storageSettings.values.labels\n                };\n            }\n        },\n        eventTypes: {\n            title: 'Event types',\n            type: 'string',\n            multiple: true,\n            combobox: true,\n            immediate: true,\n            choices: ['new', 'update', 'end'],\n            defaultValue: ['end']\n        },\n        zones: {\n            title: 'Zones',\n            multiple: true,\n            readonly: true,\n            choices: [],\n        },\n    });\n\n    logger: Console;\n\n    constructor(\n        options: SettingsMixinDeviceOptions<any>,\n        public plugin: FrigateBridgeObjectDetector\n    ) {\n        super(options);\n\n        this.plugin.currentMixinsMap[this.id] = this;\n\n        const logger = this.getLogger();\n        this.init().catch(logger.error);\n    }\n\n    async setZones(cameraName: string) {\n        let zones: string[] = [];\n        if (cameraName) {\n            zones = this.plugin.plugin.storageSettings.values.cameraZones?.[cameraName] ?? [];\n        } else {\n            zones = [];\n        }\n\n        this.storageSettings.values.zones = zones;\n    }\n\n    async init() {\n        if (this.pluginId === pluginId) {\n            const [_, cameraName] = this.nativeId.split('_');\n            await this.storageSettings.putSetting('cameraName', cameraName);\n            this.storageSettings.settings.cameraName.readonly = true;\n        }\n\n        const { labels } = this.storageSettings.values;\n        if (labels.some(label => isAudioLevelValue(label))) {\n            const fixedLabels = labels.filter(label =>\n                !isAudioLevelValue(label)\n            );\n            await this.storageSettings.putSetting('labels', fixedLabels);\n        }\n\n        await this.setZones(this.storageSettings.values.cameraName);\n    }\n\n    ensureMixinsOrder() {\n        const logger = this.getLogger();\n        const nvrObjectDetector = sdk.systemManager.getDeviceById('@scrypted/nvr', 'detection')?.id;\n        const basicObjectDetector = sdk.systemManager.getDeviceById('@apocaliss92/scrypted-basic-object-detector')?.id;\n        let shouldBeMoved = false;\n        const thisMixinOrder = this.mixins.indexOf(this.plugin.id);\n\n        if (nvrObjectDetector && this.mixins.indexOf(nvrObjectDetector) > thisMixinOrder) {\n            shouldBeMoved = true\n        }\n        if (basicObjectDetector && this.mixins.indexOf(basicObjectDetector) > thisMixinOrder) {\n            shouldBeMoved = true\n        }\n\n        if (shouldBeMoved) {\n            logger.log('This plugin needs other object detection plugins to come before, fixing');\n            setTimeout(() => {\n                const currentMixins = this.mixins.filter(mixin => mixin !== this.plugin.id);\n                currentMixins.push(this.plugin.id);\n                const thisDevice = sdk.systemManager.getDeviceById(this.id);\n                thisDevice.setMixins(currentMixins);\n            }, 1000);\n        }\n    }\n\n    async getDetectionInput(detectionId: string, eventId?: any): Promise<MediaObject> {\n        const logger = this.getLogger();\n\n        const url = `${this.plugin.plugin.storageSettings.values.serverUrl}/events/${detectionId}/snapshot.jpg`;\n        try {\n            const jpeg = await axios.get(url, { responseType: \"arraybuffer\" });\n            const mo = await sdk.mediaManager.createMediaObject(jpeg.data, 'image/jpeg');\n            logger.info(`Frigate event ${detectionId} found`);\n            return mo;\n        } catch (e) {\n            logger.info(`Error fetching Frigate event ${detectionId} ${eventId} from ${url}`, e.message);\n            return this.mixinDevice.getDetectionInput(detectionId, eventId);\n        }\n    }\n\n    async getObjectTypes(): Promise<ObjectDetectionTypes> {\n        let deviceClasses: string[] = [];\n        try {\n            deviceClasses = (await this.mixinDevice.getObjectTypes())?.classes;\n        } catch { }\n\n        return {\n            classes: [\n                ...deviceClasses,\n                ...this.storageSettings.values.labels,\n            ]\n        };\n    }\n\n    async onFrigateDetectionEvent(event: FrigateEvent) {\n        const { eventTypes, labels } = this.storageSettings.values;\n        const boundingBox: ObjectDetectionResult['boundingBox'] = convertFrigateBoxToScryptedBox(event.after.box);\n        let className = event.after.label;\n        const [label, labelScore] = event.after.sub_label ?? [];\n\n        if (className === 'person' && label) {\n            className = 'face';\n        }\n\n        const logger = this.getLogger();\n\n        if (\n            !eventTypes?.length ||\n            !labels?.length ||\n            !labels.includes(event.after.label) ||\n            !eventTypes.includes(event.type)) {\n\n            logger.debug('Event skipped', JSON.stringify(event));\n            return;\n        }\n\n        const timestamp = Math.trunc(event.after.start_time * 1000);\n        const score = event.after.score;\n\n        const frigateEvent: ObjectsDetected = {\n            timestamp,\n            inputDimensions: [0, 0],\n            detectionId: event.after.id,\n            detections: [\n                { className: 'motion', score: 1, boundingBox },\n                {\n                    className,\n                    score,\n                    boundingBox,\n                    label,\n                    labelScore,\n                    movement: {\n                        moving: event.after.active,\n                        firstSeen: Math.trunc(event.after.start_time * 1000),\n                        lastSeen: Math.trunc(event.after.end_time * 1000),\n                    },\n                    zones: event.after.current_zones,\n                },\n            ]\n        }\n\n        const detection: FrigateObjectDetection = {\n            timestamp,\n            detections: [\n                { className: 'motion', score: 1 },\n                {\n                    className,\n                    score,\n                },\n            ],\n            sourceId: this.pluginId,\n            frigateEvent\n        }\n\n        logger.log(`Detection event forwarded, ${className}${label ? '-' + label : ''}-${event.type}`);\n        logger.info(JSON.stringify(detection));\n        this.onDeviceEvent(ScryptedInterface.ObjectDetector, detection);\n    }\n\n    async onFrigateAudioEvent(audioType: AudioType, value: any) {\n        const { labels, cameraName } = this.storageSettings.values;\n        const now = Date.now();\n\n        const logger = this.getLogger();\n        if (labels?.includes(audioType) && value === 'ON') {\n            const frigateEvent: ObjectsDetected = {\n                timestamp: now,\n                inputDimensions: [0, 0],\n                detections: [\n                    {\n                        className: DetectionClass.Audio,\n                        score: 1,\n                        label: audioType\n                    },\n                ]\n            }\n\n            logger.log(`Audio event forwarded, ${audioType}`);\n            logger.info(JSON.stringify(frigateEvent));\n            this.onDeviceEvent(ScryptedInterface.ObjectDetector, frigateEvent);\n        } else {\n            logger.info('Audio event skipped', audioType, value);\n        }\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        try {\n            const classes = await this.getObjectTypes();\n            this.storageSettings.settings.labels.choices = classes.classes;\n            this.storageSettings.settings.cameraName.choices = this.plugin.plugin.storageSettings.values.cameras;\n\n            return this.storageSettings.getSettings();\n        } catch (e) {\n            this.getLogger().log('Error in getMixinSettings', e);\n            return [];\n        }\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        const [group, ...rest] = key.split(':');\n        if (group === this.settingsGroupKey) {\n            this.storageSettings.putSetting(rest.join(':'), value);\n        } else {\n            super.putSetting(key, value);\n        }\n    }\n\n    async putMixinSetting(key: string, value: string) {\n        this.storageSettings.putSetting(key, value);\n    }\n\n    async release() {\n        const logger = this.getLogger();\n        logger.info('Releasing mixin');\n    }\n\n    getLogger() {\n        if (!this.logger) {\n            this.logger = this.plugin.plugin.getLogger({\n                console: this.console,\n                storage: this.storageSettings,\n            });\n        }\n\n        return this.logger;\n    }\n}\n","import { MediaObject, PictureOptions, Setting } from \"@scrypted/sdk\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport EventEmitter from \"events\";\nimport { UrlMediaStreamOptions } from '../../scrypted/plugins/ffmpeg-camera/src/common';\nimport { Destroyable, RtspSmartCamera, createRtspMediaStreamOptions } from '../../scrypted/plugins/rtsp/src/rtsp';\nimport FrigateBridgePlugin from \"./main\";\n\nclass FrigateBridgeBirdseyeCamera extends RtspSmartCamera {\n    takeSmartCameraPicture(options?: PictureOptions): Promise<MediaObject> {\n        return null;\n    }\n\n    async listenEvents(): Promise<Destroyable> {\n        const events = new EventEmitter();\n        const ret: Destroyable = {\n            on: function (eventName: string | symbol, listener: (...args: any[]) => void): void {\n                events.on(eventName, listener);\n            },\n            destroy: async () => {\n            },\n            emit: function (eventName: string | symbol, ...args: any[]): boolean {\n                return events.emit(eventName, ...args);\n            }\n        };\n\n        return ret;\n    }\n    videoStreamOptions: Promise<UrlMediaStreamOptions[]>;\n\n    storageSettings = new StorageSettings(this, {\n    });\n\n    constructor(nativeId: string, public provider: FrigateBridgePlugin) {\n        super(nativeId, provider);\n    }\n\n    createRtspMediaStreamOptions(url: string, index: number) {\n        const ret = createRtspMediaStreamOptions(url, index);\n        ret.tool = 'scrypted';\n        return ret;\n    }\n\n    async getConstructedVideoStreamOptions(): Promise<UrlMediaStreamOptions[]> {\n        const { serverUrl } = this.provider.storageSettings.values;\n        const address = new URL(serverUrl).hostname;\n\n        const streams: UrlMediaStreamOptions[] = [\n            {\n                name: 'Birdseye',\n                id: 'birdseye',\n                container: 'rtsp',\n                url: `rtsp://${address}:8554/birdseye`\n            },\n        ];\n\n        this.videoStreamOptions = new Promise(r => r(streams));\n\n        return this.videoStreamOptions;\n    }\n\n    async putSetting(key: string, value: string) {\n        if (this.storageSettings.keys[key]) {\n            await this.storageSettings.putSetting(key, value);\n        }\n        else {\n            await super.putSetting(key, value);\n        }\n    }\n\n    showRtspUrlOverride() {\n        return false;\n    }\n\n    async getSettings(): Promise<Setting[]> {\n        return await this.storageSettings.getSettings();\n    }\n}\n\nexport default FrigateBridgeBirdseyeCamera;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validReasonCodes = [0, 16, 128, 131, 135, 144, 145, 151, 153];\nconst handlePublish = (client, packet, done) => {\n    client.log('handlePublish: packet %o', packet);\n    done = typeof done !== 'undefined' ? done : client.noop;\n    let topic = packet.topic.toString();\n    const message = packet.payload;\n    const { qos } = packet;\n    const { messageId } = packet;\n    const { options } = client;\n    if (client.options.protocolVersion === 5) {\n        let alias;\n        if (packet.properties) {\n            alias = packet.properties.topicAlias;\n        }\n        if (typeof alias !== 'undefined') {\n            if (topic.length === 0) {\n                if (alias > 0 && alias <= 0xffff) {\n                    const gotTopic = client['topicAliasRecv'].getTopicByAlias(alias);\n                    if (gotTopic) {\n                        topic = gotTopic;\n                        client.log('handlePublish :: topic complemented by alias. topic: %s - alias: %d', topic, alias);\n                    }\n                    else {\n                        client.log('handlePublish :: unregistered topic alias. alias: %d', alias);\n                        client.emit('error', new Error('Received unregistered Topic Alias'));\n                        return;\n                    }\n                }\n                else {\n                    client.log('handlePublish :: topic alias out of range. alias: %d', alias);\n                    client.emit('error', new Error('Received Topic Alias is out of range'));\n                    return;\n                }\n            }\n            else if (client['topicAliasRecv'].put(topic, alias)) {\n                client.log('handlePublish :: registered topic: %s - alias: %d', topic, alias);\n            }\n            else {\n                client.log('handlePublish :: topic alias out of range. alias: %d', alias);\n                client.emit('error', new Error('Received Topic Alias is out of range'));\n                return;\n            }\n        }\n    }\n    client.log('handlePublish: qos %d', qos);\n    switch (qos) {\n        case 2: {\n            options.customHandleAcks(topic, message, packet, (error, code) => {\n                if (typeof error === 'number') {\n                    code = error;\n                    error = null;\n                }\n                if (error) {\n                    return client.emit('error', error);\n                }\n                if (validReasonCodes.indexOf(code) === -1) {\n                    return client.emit('error', new Error('Wrong reason code for pubrec'));\n                }\n                if (code) {\n                    client['_sendPacket']({ cmd: 'pubrec', messageId, reasonCode: code }, done);\n                }\n                else {\n                    client.incomingStore.put(packet, () => {\n                        client['_sendPacket']({ cmd: 'pubrec', messageId }, done);\n                    });\n                }\n            });\n            break;\n        }\n        case 1: {\n            options.customHandleAcks(topic, message, packet, (error, code) => {\n                if (typeof error === 'number') {\n                    code = error;\n                    error = null;\n                }\n                if (error) {\n                    return client.emit('error', error);\n                }\n                if (validReasonCodes.indexOf(code) === -1) {\n                    return client.emit('error', new Error('Wrong reason code for puback'));\n                }\n                if (!code) {\n                    client.emit('message', topic, message, packet);\n                }\n                client.handleMessage(packet, (err) => {\n                    if (err) {\n                        return done && done(err);\n                    }\n                    client['_sendPacket']({ cmd: 'puback', messageId, reasonCode: code }, done);\n                });\n            });\n            break;\n        }\n        case 0:\n            client.emit('message', topic, message, packet);\n            client.handleMessage(packet, done);\n            break;\n        default:\n            client.log('handlePublish: unknown QoS. Doing nothing.');\n            break;\n    }\n};\nexports.default = handlePublish;\n//# sourceMappingURL=publish.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lru_cache_1 = require(\"lru-cache\");\nconst number_allocator_1 = require(\"number-allocator\");\nclass TopicAliasSend {\n    constructor(max) {\n        if (max > 0) {\n            this.aliasToTopic = new lru_cache_1.LRUCache({ max });\n            this.topicToAlias = {};\n            this.numberAllocator = new number_allocator_1.NumberAllocator(1, max);\n            this.max = max;\n            this.length = 0;\n        }\n    }\n    put(topic, alias) {\n        if (alias === 0 || alias > this.max) {\n            return false;\n        }\n        const entry = this.aliasToTopic.get(alias);\n        if (entry) {\n            delete this.topicToAlias[entry];\n        }\n        this.aliasToTopic.set(alias, topic);\n        this.topicToAlias[topic] = alias;\n        this.numberAllocator.use(alias);\n        this.length = this.aliasToTopic.size;\n        return true;\n    }\n    getTopicByAlias(alias) {\n        return this.aliasToTopic.get(alias);\n    }\n    getAliasByTopic(topic) {\n        const alias = this.topicToAlias[topic];\n        if (typeof alias !== 'undefined') {\n            this.aliasToTopic.get(alias);\n        }\n        return alias;\n    }\n    clear() {\n        this.aliasToTopic.clear();\n        this.topicToAlias = {};\n        this.numberAllocator.clear();\n        this.length = 0;\n    }\n    getLruAlias() {\n        const alias = this.numberAllocator.firstVacant();\n        if (alias)\n            return alias;\n        return [...this.aliasToTopic.keys()][this.aliasToTopic.size - 1];\n    }\n}\nexports.default = TopicAliasSend;\n//# sourceMappingURL=topic-alias-send.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.streamBuilder = exports.browserStreamBuilder = void 0;\nconst buffer_1 = require(\"buffer\");\nconst ws_1 = __importDefault(require(\"ws\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst readable_stream_1 = require(\"readable-stream\");\nconst is_browser_1 = __importDefault(require(\"../is-browser\"));\nconst BufferedDuplex_1 = require(\"../BufferedDuplex\");\nconst debug = (0, debug_1.default)('mqttjs:ws');\nconst WSS_OPTIONS = [\n    'rejectUnauthorized',\n    'ca',\n    'cert',\n    'key',\n    'pfx',\n    'passphrase',\n];\nfunction buildUrl(opts, client) {\n    let url = `${opts.protocol}://${opts.hostname}:${opts.port}${opts.path}`;\n    if (typeof opts.transformWsUrl === 'function') {\n        url = opts.transformWsUrl(url, opts, client);\n    }\n    return url;\n}\nfunction setDefaultOpts(opts) {\n    const options = opts;\n    if (!opts.port) {\n        if (opts.protocol === 'wss') {\n            options.port = 443;\n        }\n        else {\n            options.port = 80;\n        }\n    }\n    if (!opts.path) {\n        options.path = '/';\n    }\n    if (!opts.wsOptions) {\n        options.wsOptions = {};\n    }\n    if (!is_browser_1.default && !opts.forceNativeWebSocket && opts.protocol === 'wss') {\n        WSS_OPTIONS.forEach((prop) => {\n            if (Object.prototype.hasOwnProperty.call(opts, prop) &&\n                !Object.prototype.hasOwnProperty.call(opts.wsOptions, prop)) {\n                options.wsOptions[prop] = opts[prop];\n            }\n        });\n    }\n    return options;\n}\nfunction setDefaultBrowserOpts(opts) {\n    const options = setDefaultOpts(opts);\n    if (!options.hostname) {\n        options.hostname = options.host;\n    }\n    if (!options.hostname) {\n        if (typeof document === 'undefined') {\n            throw new Error('Could not determine host. Specify host manually.');\n        }\n        const parsed = new URL(document.URL);\n        options.hostname = parsed.hostname;\n        if (!options.port) {\n            options.port = Number(parsed.port);\n        }\n    }\n    if (options.objectMode === undefined) {\n        options.objectMode = !(options.binary === true || options.binary === undefined);\n    }\n    return options;\n}\nfunction createWebSocket(client, url, opts) {\n    debug('createWebSocket');\n    debug(`protocol: ${opts.protocolId} ${opts.protocolVersion}`);\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    debug(`creating new Websocket for url: ${url} and protocol: ${websocketSubProtocol}`);\n    let socket;\n    if (opts.createWebsocket) {\n        socket = opts.createWebsocket(url, [websocketSubProtocol], opts);\n    }\n    else {\n        socket = new ws_1.default(url, [websocketSubProtocol], opts.wsOptions);\n    }\n    return socket;\n}\nfunction createBrowserWebSocket(client, opts) {\n    const websocketSubProtocol = opts.protocolId === 'MQIsdp' && opts.protocolVersion === 3\n        ? 'mqttv3.1'\n        : 'mqtt';\n    const url = buildUrl(opts, client);\n    let socket;\n    if (opts.createWebsocket) {\n        socket = opts.createWebsocket(url, [websocketSubProtocol], opts);\n    }\n    else {\n        socket = new WebSocket(url, [websocketSubProtocol]);\n    }\n    socket.binaryType = 'arraybuffer';\n    return socket;\n}\nconst streamBuilder = (client, opts) => {\n    debug('streamBuilder');\n    const options = setDefaultOpts(opts);\n    options.hostname = options.hostname || options.host || 'localhost';\n    const url = buildUrl(options, client);\n    const socket = createWebSocket(client, url, options);\n    const webSocketStream = ws_1.default.createWebSocketStream(socket, options.wsOptions);\n    webSocketStream['url'] = url;\n    socket.on('close', () => {\n        webSocketStream.destroy();\n    });\n    return webSocketStream;\n};\nexports.streamBuilder = streamBuilder;\nconst browserStreamBuilder = (client, opts) => {\n    debug('browserStreamBuilder');\n    let stream;\n    const options = setDefaultBrowserOpts(opts);\n    const bufferSize = options.browserBufferSize || 1024 * 512;\n    const bufferTimeout = opts.browserBufferTimeout || 1000;\n    const coerceToBuffer = !opts.objectMode;\n    const socket = createBrowserWebSocket(client, opts);\n    const proxy = buildProxy(opts, socketWriteBrowser, socketEndBrowser);\n    if (!opts.objectMode) {\n        proxy._writev = BufferedDuplex_1.writev.bind(proxy);\n    }\n    proxy.on('close', () => {\n        socket.close();\n    });\n    const eventListenerSupport = typeof socket.addEventListener !== 'undefined';\n    if (socket.readyState === socket.OPEN) {\n        stream = proxy;\n        stream.socket = socket;\n    }\n    else {\n        stream = new BufferedDuplex_1.BufferedDuplex(opts, proxy, socket);\n        if (eventListenerSupport) {\n            socket.addEventListener('open', onOpen);\n        }\n        else {\n            socket.onopen = onOpen;\n        }\n    }\n    if (eventListenerSupport) {\n        socket.addEventListener('close', onClose);\n        socket.addEventListener('error', onError);\n        socket.addEventListener('message', onMessage);\n    }\n    else {\n        socket.onclose = onClose;\n        socket.onerror = onError;\n        socket.onmessage = onMessage;\n    }\n    function buildProxy(pOptions, socketWrite, socketEnd) {\n        const _proxy = new readable_stream_1.Transform({\n            objectMode: pOptions.objectMode,\n        });\n        _proxy._write = socketWrite;\n        _proxy._flush = socketEnd;\n        return _proxy;\n    }\n    function onOpen() {\n        debug('WebSocket onOpen');\n        if (stream instanceof BufferedDuplex_1.BufferedDuplex) {\n            stream.socketReady();\n        }\n    }\n    function onClose(event) {\n        debug('WebSocket onClose', event);\n        stream.end();\n        stream.destroy();\n    }\n    function onError(err) {\n        debug('WebSocket onError', err);\n        const error = new Error('WebSocket error');\n        error['event'] = err;\n        stream.destroy(error);\n    }\n    async function onMessage(event) {\n        let { data } = event;\n        if (data instanceof ArrayBuffer)\n            data = buffer_1.Buffer.from(data);\n        else if (data instanceof Blob)\n            data = buffer_1.Buffer.from(await new Response(data).arrayBuffer());\n        else\n            data = buffer_1.Buffer.from(data, 'utf8');\n        if (proxy && !proxy.destroyed) {\n            proxy.push(data);\n        }\n    }\n    function socketWriteBrowser(chunk, enc, next) {\n        if (socket.bufferedAmount > bufferSize) {\n            setTimeout(socketWriteBrowser, bufferTimeout, chunk, enc, next);\n            return;\n        }\n        if (coerceToBuffer && typeof chunk === 'string') {\n            chunk = buffer_1.Buffer.from(chunk, 'utf8');\n        }\n        try {\n            socket.send(chunk);\n        }\n        catch (err) {\n            return next(err);\n        }\n        next();\n    }\n    function socketEndBrowser(done) {\n        socket.close();\n        done();\n    }\n    return stream;\n};\nexports.browserStreamBuilder = browserStreamBuilder;\n//# sourceMappingURL=ws.js.map","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (Array.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity > read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function(boundary) {\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","module.exports = require(\"path\");","const writeToStream = require('./writeToStream')\nconst { EventEmitter } = require('events')\nconst { Buffer } = require('buffer')\n\nfunction generate (packet, opts) {\n  const stream = new Accumulator()\n  writeToStream(packet, stream, opts)\n  return stream.concat()\n}\n\nclass Accumulator extends EventEmitter {\n  constructor () {\n    super()\n    this._array = new Array(20)\n    this._i = 0\n  }\n\n  write (chunk) {\n    this._array[this._i++] = chunk\n    return true\n  }\n\n  concat () {\n    let length = 0\n    const lengths = new Array(this._array.length)\n    const list = this._array\n    let pos = 0\n    let i\n\n    for (i = 0; i < list.length && list[i] !== undefined; i++) {\n      if (typeof list[i] !== 'string') lengths[i] = list[i].length\n      else lengths[i] = Buffer.byteLength(list[i])\n\n      length += lengths[i]\n    }\n\n    const result = Buffer.allocUnsafe(length)\n\n    for (i = 0; i < list.length && list[i] !== undefined; i++) {\n      if (typeof list[i] !== 'string') {\n        list[i].copy(result, pos)\n        pos += lengths[i]\n      } else {\n        result.write(list[i], pos)\n        pos += lengths[i]\n      }\n    }\n\n    return result\n  }\n\n  destroy (err) {\n    if (err) this.emit('error', err)\n  }\n}\n\nmodule.exports = generate\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst index_1 = require(\"../types/gen/index\");\nconst module_1 = require(\"module\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = exports.sdk.deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = exports.sdk.deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = exports.sdk.deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = exports.sdk.systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = exports.sdk.deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = exports.sdk.deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (exports.sdk.deviceManager.getMixinConsole)\n                this._console = exports.sdk.deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = exports.sdk.deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let loaded = false;\n    try {\n        // todo: remove usage of process.env.SCRYPTED_SDK_MODULE, only existed in prerelease builds.\n        // import.meta is not a reliable way to detect es module support in webpack since webpack\n        // evaluates that to true at runtime.\n        const esModule = process.env.SCRYPTED_SDK_ES_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        const cjsModule = process.env.SCRYPTED_SDK_CJS_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        // @ts-expect-error\n        if (esModule && typeof import.meta !== 'undefined') {\n            // @ts-expect-error\n            const require = (0, module_1.createRequire)(import.meta.url);\n            const sdkModule = require(esModule);\n            Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n            loaded = true;\n        }\n        else if (cjsModule) {\n            // @ts-expect-error\n            if (typeof __non_webpack_require__ !== 'undefined') {\n                // @ts-expect-error\n                const sdkModule = __non_webpack_require__(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n            else {\n                const sdkModule = require(cjsModule);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n        }\n    }\n    catch (e) {\n        console.warn(\"failed to load sdk module\", e);\n        throw e;\n    }\n    if (!loaded) {\n        let runtimeAPI;\n        try {\n            runtimeAPI = pluginRuntimeAPI;\n        }\n        catch (e) {\n        }\n        Object.assign(exports.sdk, {\n            log: deviceManager.getDeviceLogger(undefined),\n            deviceManager,\n            endpointManager,\n            mediaManager,\n            systemManager,\n            pluginHostAPI,\n            ...runtimeAPI,\n        });\n    }\n    try {\n        exports.sdk.systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, index_1.ScryptedInterfaceDescriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","module.exports = require(\"crypto\");","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","module.exports = require(\"url\");","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","import { AudioVolumeControl, AudioVolumes, MotionSensor, Setting, Settings, SettingValue } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport FrigateBridgeAudioDetector from \"./audioDetector\";\nimport { AudioType, pluginId } from \"./utils\";\n\nexport class FrigateBridgeAudioDetectorMixin extends SettingsMixinDeviceBase<any> implements Settings, AudioVolumeControl {\n    storageSettings = new StorageSettings(this, {\n        cameraName: {\n            title: 'Frigate camera name',\n            type: 'string',\n            choices: [],\n            immediate: true,\n        },\n        updateSeconds: {\n            title: 'Minimum update delay',\n            description: 'Amount of seconds to wait within updates',\n            type: 'number',\n            defaultValue: 5,\n        },\n    });\n\n    logger: Console;\n    lastSet: number;\n\n    constructor(\n        options: SettingsMixinDeviceOptions<any>,\n        public plugin: FrigateBridgeAudioDetector\n    ) {\n        super(options);\n\n        this.plugin.currentMixinsMap[this.id] = this;\n\n        const logger = this.getLogger();\n        this.init().catch(logger.error);\n    }\n\n    async setAudioVolumes(audioVolumes: AudioVolumes): Promise<void> {\n        this.audioVolumes = {\n            ...this.audioVolumes,\n            ...audioVolumes\n        };\n    }\n\n    async init() {\n        if (this.pluginId === pluginId) {\n            const [_, cameraName] = this.nativeId.split('_');\n            await this.storageSettings.putSetting('cameraName', cameraName);\n            this.storageSettings.settings.cameraName.readonly = true;\n        }\n    }\n\n    async onFrigateAudioEvent(audioType: AudioType, value: any) {\n        const parsedValue = JSON.parse(value);\n        const { updateSeconds } = this.storageSettings.values;\n        const now = Date.now();\n\n        if (!this.lastSet || now - this.lastSet > 1000 * (updateSeconds - 1)) {\n            this.lastSet = now;\n            this.setAudioVolumes({\n                [audioType]: parsedValue\n            });\n        }\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        const logger = this.getLogger();\n        try {\n            this.storageSettings.settings.cameraName.choices = this.plugin.plugin.storageSettings.values.cameras;\n\n            return this.storageSettings.getSettings();\n        } catch (e) {\n            logger.log('Error in getMixinSettings', e);\n            return [];\n        }\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        const [group, ...rest] = key.split(':');\n        if (group === this.settingsGroupKey) {\n            this.storageSettings.putSetting(rest.join(':'), value);\n        } else {\n            super.putSetting(key, value);\n        }\n    }\n\n    async putMixinSetting(key: string, value: string) {\n        this.storageSettings.putSetting(key, value);\n    }\n\n    async release() {\n        const logger = this.getLogger();\n        logger.info('Releasing mixin');\n    }\n\n    getLogger() {\n        if (!this.logger) {\n            this.logger = this.plugin.plugin.getLogger({\n                console: this.console,\n                storage: this.storageSettings,\n            });\n        }\n\n        return this.logger;\n    }\n}\n","/* Protocol - protocol constants */\nconst protocol = module.exports\nconst { Buffer } = require('buffer')\n\n/* Command code => mnemonic */\nprotocol.types = {\n  0: 'reserved',\n  1: 'connect',\n  2: 'connack',\n  3: 'publish',\n  4: 'puback',\n  5: 'pubrec',\n  6: 'pubrel',\n  7: 'pubcomp',\n  8: 'subscribe',\n  9: 'suback',\n  10: 'unsubscribe',\n  11: 'unsuback',\n  12: 'pingreq',\n  13: 'pingresp',\n  14: 'disconnect',\n  15: 'auth'\n}\n\nprotocol.requiredHeaderFlags = {\n  1: 0, // 'connect'\n  2: 0, // 'connack'\n  4: 0, // 'puback'\n  5: 0, // 'pubrec'\n  6: 2, // 'pubrel'\n  7: 0, // 'pubcomp'\n  8: 2, // 'subscribe'\n  9: 0, // 'suback'\n  10: 2, // 'unsubscribe'\n  11: 0, // 'unsuback'\n  12: 0, // 'pingreq'\n  13: 0, // 'pingresp'\n  14: 0, // 'disconnect'\n  15: 0 // 'auth'\n}\n\nprotocol.requiredHeaderFlagsErrors = {}\nfor (const k in protocol.requiredHeaderFlags) {\n  const v = protocol.requiredHeaderFlags[k]\n  protocol.requiredHeaderFlagsErrors[k] = 'Invalid header flag bits, must be 0x' + v.toString(16) + ' for ' + protocol.types[k] + ' packet'\n}\n\n/* Mnemonic => Command code */\nprotocol.codes = {}\nfor (const k in protocol.types) {\n  const v = protocol.types[k]\n  protocol.codes[v] = k\n}\n\n/* Header */\nprotocol.CMD_SHIFT = 4\nprotocol.CMD_MASK = 0xF0\nprotocol.DUP_MASK = 0x08\nprotocol.QOS_MASK = 0x03\nprotocol.QOS_SHIFT = 1\nprotocol.RETAIN_MASK = 0x01\n\n/* Length */\nprotocol.VARBYTEINT_MASK = 0x7F\nprotocol.VARBYTEINT_FIN_MASK = 0x80\nprotocol.VARBYTEINT_MAX = 268435455\n\n/* Connack */\nprotocol.SESSIONPRESENT_MASK = 0x01\nprotocol.SESSIONPRESENT_HEADER = Buffer.from([protocol.SESSIONPRESENT_MASK])\nprotocol.CONNACK_HEADER = Buffer.from([protocol.codes.connack << protocol.CMD_SHIFT])\n\n/* Connect */\nprotocol.USERNAME_MASK = 0x80\nprotocol.PASSWORD_MASK = 0x40\nprotocol.WILL_RETAIN_MASK = 0x20\nprotocol.WILL_QOS_MASK = 0x18\nprotocol.WILL_QOS_SHIFT = 3\nprotocol.WILL_FLAG_MASK = 0x04\nprotocol.CLEAN_SESSION_MASK = 0x02\nprotocol.CONNECT_HEADER = Buffer.from([protocol.codes.connect << protocol.CMD_SHIFT])\n\n/* Properties */\nprotocol.properties = {\n  sessionExpiryInterval: 17,\n  willDelayInterval: 24,\n  receiveMaximum: 33,\n  maximumPacketSize: 39,\n  topicAliasMaximum: 34,\n  requestResponseInformation: 25,\n  requestProblemInformation: 23,\n  userProperties: 38,\n  authenticationMethod: 21,\n  authenticationData: 22,\n  payloadFormatIndicator: 1,\n  messageExpiryInterval: 2,\n  contentType: 3,\n  responseTopic: 8,\n  correlationData: 9,\n  maximumQoS: 36,\n  retainAvailable: 37,\n  assignedClientIdentifier: 18,\n  reasonString: 31,\n  wildcardSubscriptionAvailable: 40,\n  subscriptionIdentifiersAvailable: 41,\n  sharedSubscriptionAvailable: 42,\n  serverKeepAlive: 19,\n  responseInformation: 26,\n  serverReference: 28,\n  topicAlias: 35,\n  subscriptionIdentifier: 11\n}\nprotocol.propertiesCodes = {}\nfor (const prop in protocol.properties) {\n  const id = protocol.properties[prop]\n  protocol.propertiesCodes[id] = prop\n}\nprotocol.propertiesTypes = {\n  sessionExpiryInterval: 'int32',\n  willDelayInterval: 'int32',\n  receiveMaximum: 'int16',\n  maximumPacketSize: 'int32',\n  topicAliasMaximum: 'int16',\n  requestResponseInformation: 'byte',\n  requestProblemInformation: 'byte',\n  userProperties: 'pair',\n  authenticationMethod: 'string',\n  authenticationData: 'binary',\n  payloadFormatIndicator: 'byte',\n  messageExpiryInterval: 'int32',\n  contentType: 'string',\n  responseTopic: 'string',\n  correlationData: 'binary',\n  maximumQoS: 'int8',\n  retainAvailable: 'byte',\n  assignedClientIdentifier: 'string',\n  reasonString: 'string',\n  wildcardSubscriptionAvailable: 'byte',\n  subscriptionIdentifiersAvailable: 'byte',\n  sharedSubscriptionAvailable: 'byte',\n  serverKeepAlive: 'int16',\n  responseInformation: 'string',\n  serverReference: 'string',\n  topicAlias: 'int16',\n  subscriptionIdentifier: 'var'\n}\n\nfunction genHeader (type) {\n  return [0, 1, 2].map(qos => {\n    return [0, 1].map(dup => {\n      return [0, 1].map(retain => {\n        const buf = Buffer.alloc(1)\n        buf.writeUInt8(\n          protocol.codes[type] << protocol.CMD_SHIFT |\n          (dup ? protocol.DUP_MASK : 0) |\n          qos << protocol.QOS_SHIFT | retain, 0, true)\n        return buf\n      })\n    })\n  })\n}\n\n/* Publish */\nprotocol.PUBLISH_HEADER = genHeader('publish')\n\n/* Subscribe */\nprotocol.SUBSCRIBE_HEADER = genHeader('subscribe')\nprotocol.SUBSCRIBE_OPTIONS_QOS_MASK = 0x03\nprotocol.SUBSCRIBE_OPTIONS_NL_MASK = 0x01\nprotocol.SUBSCRIBE_OPTIONS_NL_SHIFT = 2\nprotocol.SUBSCRIBE_OPTIONS_RAP_MASK = 0x01\nprotocol.SUBSCRIBE_OPTIONS_RAP_SHIFT = 3\nprotocol.SUBSCRIBE_OPTIONS_RH_MASK = 0x03\nprotocol.SUBSCRIBE_OPTIONS_RH_SHIFT = 4\nprotocol.SUBSCRIBE_OPTIONS_RH = [0x00, 0x10, 0x20]\nprotocol.SUBSCRIBE_OPTIONS_NL = 0x04\nprotocol.SUBSCRIBE_OPTIONS_RAP = 0x08\nprotocol.SUBSCRIBE_OPTIONS_QOS = [0x00, 0x01, 0x02]\n\n/* Unsubscribe */\nprotocol.UNSUBSCRIBE_HEADER = genHeader('unsubscribe')\n\n/* Confirmations */\nprotocol.ACKS = {\n  unsuback: genHeader('unsuback'),\n  puback: genHeader('puback'),\n  pubcomp: genHeader('pubcomp'),\n  pubrel: genHeader('pubrel'),\n  pubrec: genHeader('pubrec')\n}\n\nprotocol.SUBACK_HEADER = Buffer.from([protocol.codes.suback << protocol.CMD_SHIFT])\n\n/* Protocol versions */\nprotocol.VERSION3 = Buffer.from([3])\nprotocol.VERSION4 = Buffer.from([4])\nprotocol.VERSION5 = Buffer.from([5])\nprotocol.VERSION131 = Buffer.from([131])\nprotocol.VERSION132 = Buffer.from([132])\n\n/* QoS */\nprotocol.QOS = [0, 1, 2].map(qos => {\n  return Buffer.from([qos])\n})\n\n/* Empty packets */\nprotocol.EMPTY = {\n  pingreq: Buffer.from([protocol.codes.pingreq << 4, 0]),\n  pingresp: Buffer.from([protocol.codes.pingresp << 4, 0]),\n  disconnect: Buffer.from([protocol.codes.disconnect << 4, 0])\n}\n\nprotocol.MQTT5_PUBACK_PUBREC_CODES = {\n  0x00: 'Success',\n  0x10: 'No matching subscribers',\n  0x80: 'Unspecified error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x90: 'Topic Name invalid',\n  0x91: 'Packet identifier in use',\n  0x97: 'Quota exceeded',\n  0x99: 'Payload format invalid'\n}\n\nprotocol.MQTT5_PUBREL_PUBCOMP_CODES = {\n  0x00: 'Success',\n  0x92: 'Packet Identifier not found'\n}\n\nprotocol.MQTT5_SUBACK_CODES = {\n  0x00: 'Granted QoS 0',\n  0x01: 'Granted QoS 1',\n  0x02: 'Granted QoS 2',\n  0x80: 'Unspecified error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x8F: 'Topic Filter invalid',\n  0x91: 'Packet Identifier in use',\n  0x97: 'Quota exceeded',\n  0x9E: 'Shared Subscriptions not supported',\n  0xA1: 'Subscription Identifiers not supported',\n  0xA2: 'Wildcard Subscriptions not supported'\n}\n\nprotocol.MQTT5_UNSUBACK_CODES = {\n  0x00: 'Success',\n  0x11: 'No subscription existed',\n  0x80: 'Unspecified error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x8F: 'Topic Filter invalid',\n  0x91: 'Packet Identifier in use'\n}\n\nprotocol.MQTT5_DISCONNECT_CODES = {\n  0x00: 'Normal disconnection',\n  0x04: 'Disconnect with Will Message',\n  0x80: 'Unspecified error',\n  0x81: 'Malformed Packet',\n  0x82: 'Protocol Error',\n  0x83: 'Implementation specific error',\n  0x87: 'Not authorized',\n  0x89: 'Server busy',\n  0x8B: 'Server shutting down',\n  0x8D: 'Keep Alive timeout',\n  0x8E: 'Session taken over',\n  0x8F: 'Topic Filter invalid',\n  0x90: 'Topic Name invalid',\n  0x93: 'Receive Maximum exceeded',\n  0x94: 'Topic Alias invalid',\n  0x95: 'Packet too large',\n  0x96: 'Message rate too high',\n  0x97: 'Quota exceeded',\n  0x98: 'Administrative action',\n  0x99: 'Payload format invalid',\n  0x9A: 'Retain not supported',\n  0x9B: 'QoS not supported',\n  0x9C: 'Use another server',\n  0x9D: 'Server moved',\n  0x9E: 'Shared Subscriptions not supported',\n  0x9F: 'Connection rate exceeded',\n  0xA0: 'Maximum connect time',\n  0xA1: 'Subscription Identifiers not supported',\n  0xA2: 'Wildcard Subscriptions not supported'\n}\n\nprotocol.MQTT5_AUTH_CODES = {\n  0x00: 'Success',\n  0x18: 'Continue authentication',\n  0x19: 'Re-authenticate'\n}\n","// for now just expose the builtin process global from node.js\nmodule.exports = global.process;\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst FastBuffer = Buffer[Symbol.species];\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\nconst DEFER_EVENT = 6;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._allowSynchronousEvents =\n      options.allowSynchronousEvents !== undefined\n        ? options.allowSynchronousEvents\n        : true;\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._errored = false;\n    this._loop = false;\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = new FastBuffer(\n        buf.buffer,\n        buf.byteOffset + n,\n        buf.length - n\n      );\n\n      return new FastBuffer(buf.buffer, buf.byteOffset, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = new FastBuffer(\n          buf.buffer,\n          buf.byteOffset + n,\n          buf.length - n\n        );\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          this.getInfo(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          this.getPayloadLength16(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          this.getPayloadLength64(cb);\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          this.getData(cb);\n          break;\n        case INFLATING:\n        case DEFER_EVENT:\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    if (!this._errored) cb();\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getInfo(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      const error = this.createError(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n\n      cb(error);\n      return;\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      const error = this.createError(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (!this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        const error = this.createError(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (\n        this._payloadLength > 0x7d ||\n        (this._opcode === 0x08 && this._payloadLength === 1)\n      ) {\n        const error = this.createError(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    } else {\n      const error = this.createError(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        const error = this.createError(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n\n        cb(error);\n        return;\n      }\n    } else if (this._masked) {\n      const error = this.createError(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength16(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength64(cb) {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      const error = this.createError(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  haveLength(cb) {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        const error = this.createError(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) {\n      this.controlMessage(data, cb);\n      return;\n    }\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    this.dataMessage(cb);\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          const error = this.createError(\n            RangeError,\n            'Max payload size exceeded',\n            false,\n            1009,\n            'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._fragments.push(buf);\n      }\n\n      this.dataMessage(cb);\n      if (this._state === GET_INFO) this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  dataMessage(cb) {\n    if (!this._fin) {\n      this._state = GET_INFO;\n      return;\n    }\n\n    const messageLength = this._messageLength;\n    const fragments = this._fragments;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragmented = 0;\n    this._fragments = [];\n\n    if (this._opcode === 2) {\n      let data;\n\n      if (this._binaryType === 'nodebuffer') {\n        data = concat(fragments, messageLength);\n      } else if (this._binaryType === 'arraybuffer') {\n        data = toArrayBuffer(concat(fragments, messageLength));\n      } else if (this._binaryType === 'blob') {\n        data = new Blob(fragments);\n      } else {\n        data = fragments;\n      }\n\n      if (this._allowSynchronousEvents) {\n        this.emit('message', data, true);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', data, true);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    } else {\n      const buf = concat(fragments, messageLength);\n\n      if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n        const error = this.createError(\n          Error,\n          'invalid UTF-8 sequence',\n          true,\n          1007,\n          'WS_ERR_INVALID_UTF8'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (this._state === INFLATING || this._allowSynchronousEvents) {\n        this.emit('message', buf, false);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', buf, false);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    }\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data, cb) {\n    if (this._opcode === 0x08) {\n      if (data.length === 0) {\n        this._loop = false;\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          const error = this.createError(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n\n          cb(error);\n          return;\n        }\n\n        const buf = new FastBuffer(\n          data.buffer,\n          data.byteOffset + 2,\n          data.length - 2\n        );\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          const error = this.createError(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._loop = false;\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n\n      this._state = GET_INFO;\n      return;\n    }\n\n    if (this._allowSynchronousEvents) {\n      this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n      this._state = GET_INFO;\n    } else {\n      this._state = DEFER_EVENT;\n      setImmediate(() => {\n        this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n        this._state = GET_INFO;\n        this.startLoop(cb);\n      });\n    }\n  }\n\n  /**\n   * Builds an error object.\n   *\n   * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n   * @param {String} message The error message\n   * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n   *     `message`\n   * @param {Number} statusCode The status code\n   * @param {String} errorCode The exposed error code\n   * @return {(Error|RangeError)} The error\n   * @private\n   */\n  createError(ErrorCtor, message, prefix, statusCode, errorCode) {\n    this._loop = false;\n    this._errored = true;\n\n    const err = new ErrorCtor(\n      prefix ? `Invalid WebSocket frame: ${message}` : message\n    );\n\n    Error.captureStackTrace(err, this.createError);\n    err.code = errorCode;\n    err[kStatusCode] = statusCode;\n    return err;\n  }\n}\n\nmodule.exports = Receiver;\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","import sdk, { DeviceProvider, StreamService } from \"@scrypted/sdk\";\nimport { createAsyncQueue, createAsyncQueueFromGenerator } from '../../scrypted/common/src/async-queue';\nimport net from 'net';\nimport { once } from 'events';\n\nexport interface RemoteLogService {\n    console: Console;\n\n    disconnect(): Promise<void>;\n    push(props: { level: LogLevel, plugin: string, message: string, timestamp: Date }): Promise<void>;\n}\n\nexport enum RemoteLogServiceEnum {\n    Syslog = 'Syslog',\n}\n\nexport enum LogLevel {\n    ERROR = 'ERROR',\n    WARN = 'WARN',\n    NOTICE = 'NOTICE',\n    INFO = 'INFO',\n    DEBUG = 'DEBUG',\n}\n\nexport const getPluginConsole = async (props: {\n    pluginId: string,\n    onClosed: () => void,\n}) => {\n    const { pluginId, onClosed } = props;\n\n    const dataQueue = createAsyncQueue<Buffer>();\n    const hello = Buffer.from('undefined', 'utf8');\n    dataQueue.enqueue(hello);\n\n    async function* localGenerator() {\n        while (true) {\n            const dataBuffers = dataQueue.clear();\n            if (dataBuffers.length === 0) {\n                const buf = await dataQueue.dequeue();\n                if (buf.length)\n                    yield buf;\n                continue;\n            }\n\n            const concat = Buffer.concat(dataBuffers);\n            if (concat.length)\n                yield concat;\n        }\n    }\n\n    const localQueue = createAsyncQueueFromGenerator(localGenerator());\n\n    const plugin = sdk.systemManager.getDeviceByName<DeviceProvider>(\"@scrypted/core\");\n    const streamSvc = await plugin.getDevice('consoleservice') as StreamService<Buffer | string, Buffer>;\n    const streamSvcDirect = await sdk.connectRPCObject(streamSvc);\n    const remoteGenerator = await streamSvcDirect.connectStream(localQueue.queue as AsyncGenerator<Buffer | string>, {\n        pluginId\n    });\n\n    const plugins = await sdk.systemManager.getComponent('plugins');\n    const servicePort = await plugins.getRemoteServicePort(pluginId, 'console') as number | [number, string];\n    const [port, host] = Array.isArray(servicePort) ? servicePort : [servicePort, undefined];\n\n    const socket = net.connect({\n        port,\n        host,\n    });\n    await once(socket, 'connect');\n\n    socket.on('close', onClosed);\n    // socket.on('end', () => queue.end());\n\n    return { remoteGenerator };\n}\n\nexport const parseLog = (lineParent: string) => {\n    const line = lineParent.replaceAll('\\n', '');\n    const cameraRegex = /^(\\[.*\\]) .*, .* - \\[(.*)\\]: (.*)$/;\n    const matchCamera = line.match(cameraRegex);\n\n    if (matchCamera) {\n        const cameraName = matchCamera[1];\n        const severity = matchCamera[2] as LogLevel;\n        const messageBody = matchCamera[3];\n\n        const message = `[${severity}]: ${cameraName} - ${messageBody}`;\n\n        return { severity, message };\n    } else {\n        const pluginRegex = /^.*, .* - \\[(.*)\\]: (.*)$/;\n        const matchPlugin = line.match(pluginRegex);\n\n        if (matchPlugin) {\n            const severity = matchPlugin[1] as LogLevel;\n            const messageBody = matchPlugin[2];\n\n            const message = `[${severity}]: ${messageBody}`;\n\n            return { severity, message };\n        }\n    }\n\n    return { message: line, severity: LogLevel.NOTICE };\n}","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\n;('use strict')\nconst bufferModule = require('buffer')\nconst {\n  isReadable,\n  isWritable,\n  isIterable,\n  isNodeStream,\n  isReadableNodeStream,\n  isWritableNodeStream,\n  isDuplexNodeStream,\n  isReadableStream,\n  isWritableStream\n} = require('./utils')\nconst eos = require('./end-of-stream')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_TYPE, ERR_INVALID_RETURN_VALUE }\n} = require('../../ours/errors')\nconst { destroyer } = require('./destroy')\nconst Duplex = require('./duplex')\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nconst { createDeferredPromise } = require('../../ours/util')\nconst from = require('./from')\nconst Blob = globalThis.Blob || bufferModule.Blob\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst { FunctionPrototypeCall } = require('../../ours/primordials')\n\n// This is needed for pre node 17.\nclass Duplexify extends Duplex {\n  constructor(options) {\n    super(options)\n\n    // https://github.com/nodejs/node/pull/34385\n\n    if ((options === null || options === undefined ? undefined : options.readable) === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if ((options === null || options === undefined ? undefined : options.writable) === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  }\n}\nmodule.exports = function duplexify(body, name) {\n  if (isDuplexNodeStream(body)) {\n    return body\n  }\n  if (isReadableNodeStream(body)) {\n    return _duplexify({\n      readable: body\n    })\n  }\n  if (isWritableNodeStream(body)) {\n    return _duplexify({\n      writable: body\n    })\n  }\n  if (isNodeStream(body)) {\n    return _duplexify({\n      writable: false,\n      readable: false\n    })\n  }\n  if (isReadableStream(body)) {\n    return _duplexify({\n      readable: Readable.fromWeb(body)\n    })\n  }\n  if (isWritableStream(body)) {\n    return _duplexify({\n      writable: Writable.fromWeb(body)\n    })\n  }\n  if (typeof body === 'function') {\n    const { value, write, final, destroy } = fromAsyncGen(body)\n    if (isIterable(value)) {\n      return from(Duplexify, value, {\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        write,\n        final,\n        destroy\n      })\n    }\n    const then = value === null || value === undefined ? undefined : value.then\n    if (typeof then === 'function') {\n      let d\n      const promise = FunctionPrototypeCall(\n        then,\n        value,\n        (val) => {\n          if (val != null) {\n            throw new ERR_INVALID_RETURN_VALUE('nully', 'body', val)\n          }\n        },\n        (err) => {\n          destroyer(d, err)\n        }\n      )\n      return (d = new Duplexify({\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        readable: false,\n        write,\n        final(cb) {\n          final(async () => {\n            try {\n              await promise\n              process.nextTick(cb, null)\n            } catch (err) {\n              process.nextTick(cb, err)\n            }\n          })\n        },\n        destroy\n      }))\n    }\n    throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or AsyncFunction', name, value)\n  }\n  if (isBlob(body)) {\n    return duplexify(body.arrayBuffer())\n  }\n  if (isIterable(body)) {\n    return from(Duplexify, body, {\n      // TODO (ronag): highWaterMark?\n      objectMode: true,\n      writable: false\n    })\n  }\n  if (\n    isReadableStream(body === null || body === undefined ? undefined : body.readable) &&\n    isWritableStream(body === null || body === undefined ? undefined : body.writable)\n  ) {\n    return Duplexify.fromWeb(body)\n  }\n  if (\n    typeof (body === null || body === undefined ? undefined : body.writable) === 'object' ||\n    typeof (body === null || body === undefined ? undefined : body.readable) === 'object'\n  ) {\n    const readable =\n      body !== null && body !== undefined && body.readable\n        ? isReadableNodeStream(body === null || body === undefined ? undefined : body.readable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.readable\n          : duplexify(body.readable)\n        : undefined\n    const writable =\n      body !== null && body !== undefined && body.writable\n        ? isWritableNodeStream(body === null || body === undefined ? undefined : body.writable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.writable\n          : duplexify(body.writable)\n        : undefined\n    return _duplexify({\n      readable,\n      writable\n    })\n  }\n  const then = body === null || body === undefined ? undefined : body.then\n  if (typeof then === 'function') {\n    let d\n    FunctionPrototypeCall(\n      then,\n      body,\n      (val) => {\n        if (val != null) {\n          d.push(val)\n        }\n        d.push(null)\n      },\n      (err) => {\n        destroyer(d, err)\n      }\n    )\n    return (d = new Duplexify({\n      objectMode: true,\n      writable: false,\n      read() {}\n    }))\n  }\n  throw new ERR_INVALID_ARG_TYPE(\n    name,\n    [\n      'Blob',\n      'ReadableStream',\n      'WritableStream',\n      'Stream',\n      'Iterable',\n      'AsyncIterable',\n      'Function',\n      '{ readable, writable } pair',\n      'Promise'\n    ],\n    body\n  )\n}\nfunction fromAsyncGen(fn) {\n  let { promise, resolve } = createDeferredPromise()\n  const ac = new AbortController()\n  const signal = ac.signal\n  const value = fn(\n    (async function* () {\n      while (true) {\n        const _promise = promise\n        promise = null\n        const { chunk, done, cb } = await _promise\n        process.nextTick(cb)\n        if (done) return\n        if (signal.aborted)\n          throw new AbortError(undefined, {\n            cause: signal.reason\n          })\n        ;({ promise, resolve } = createDeferredPromise())\n        yield chunk\n      }\n    })(),\n    {\n      signal\n    }\n  )\n  return {\n    value,\n    write(chunk, encoding, cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        chunk,\n        done: false,\n        cb\n      })\n    },\n    final(cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        done: true,\n        cb\n      })\n    },\n    destroy(err, cb) {\n      ac.abort()\n      cb(err)\n    }\n  }\n}\nfunction _duplexify(pair) {\n  const r = pair.readable && typeof pair.readable.read !== 'function' ? Readable.wrap(pair.readable) : pair.readable\n  const w = pair.writable\n  let readable = !!isReadable(r)\n  let writable = !!isWritable(w)\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    }\n  }\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplexify({\n    // TODO (ronag): highWaterMark?\n    readableObjectMode: !!(r !== null && r !== undefined && r.readableObjectMode),\n    writableObjectMode: !!(w !== null && w !== undefined && w.writableObjectMode),\n    readable,\n    writable\n  })\n  if (writable) {\n    eos(w, (err) => {\n      writable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    d._write = function (chunk, encoding, callback) {\n      if (w.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n    d._final = function (callback) {\n      w.end()\n      onfinish = callback\n    }\n    w.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    w.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    eos(r, (err) => {\n      readable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    r.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    r.on('end', function () {\n      d.push(null)\n    })\n    d._read = function () {\n      while (true) {\n        const buf = r.read()\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(w, err)\n      destroyer(r, err)\n    }\n  }\n  return d\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","'use strict';\n\nvar parseUrl = require('url').parse;\n\nvar DEFAULT_PORTS = {\n  ftp: 21,\n  gopher: 70,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443,\n};\n\nvar stringEndsWith = String.prototype.endsWith || function(s) {\n  return s.length <= this.length &&\n    this.indexOf(s, this.length - s.length) !== -1;\n};\n\n/**\n * @param {string|object} url - The URL, or the result from url.parse.\n * @return {string} The URL of the proxy that should handle the request to the\n *  given URL. If no proxy is set, this will be an empty string.\n */\nfunction getProxyForUrl(url) {\n  var parsedUrl = typeof url === 'string' ? parseUrl(url) : url || {};\n  var proto = parsedUrl.protocol;\n  var hostname = parsedUrl.host;\n  var port = parsedUrl.port;\n  if (typeof hostname !== 'string' || !hostname || typeof proto !== 'string') {\n    return '';  // Don't proxy URLs without a valid scheme or host.\n  }\n\n  proto = proto.split(':', 1)[0];\n  // Stripping ports in this way instead of using parsedUrl.hostname to make\n  // sure that the brackets around IPv6 addresses are kept.\n  hostname = hostname.replace(/:\\d*$/, '');\n  port = parseInt(port) || DEFAULT_PORTS[proto] || 0;\n  if (!shouldProxy(hostname, port)) {\n    return '';  // Don't proxy URLs that match NO_PROXY.\n  }\n\n  var proxy =\n    getEnv('npm_config_' + proto + '_proxy') ||\n    getEnv(proto + '_proxy') ||\n    getEnv('npm_config_proxy') ||\n    getEnv('all_proxy');\n  if (proxy && proxy.indexOf('://') === -1) {\n    // Missing scheme in proxy, default to the requested URL's scheme.\n    proxy = proto + '://' + proxy;\n  }\n  return proxy;\n}\n\n/**\n * Determines whether a given URL should be proxied.\n *\n * @param {string} hostname - The host name of the URL.\n * @param {number} port - The effective port of the URL.\n * @returns {boolean} Whether the given URL should be proxied.\n * @private\n */\nfunction shouldProxy(hostname, port) {\n  var NO_PROXY =\n    (getEnv('npm_config_no_proxy') || getEnv('no_proxy')).toLowerCase();\n  if (!NO_PROXY) {\n    return true;  // Always proxy if NO_PROXY is not set.\n  }\n  if (NO_PROXY === '*') {\n    return false;  // Never proxy if wildcard is set.\n  }\n\n  return NO_PROXY.split(/[,\\s]/).every(function(proxy) {\n    if (!proxy) {\n      return true;  // Skip zero-length hosts.\n    }\n    var parsedProxy = proxy.match(/^(.+):(\\d+)$/);\n    var parsedProxyHostname = parsedProxy ? parsedProxy[1] : proxy;\n    var parsedProxyPort = parsedProxy ? parseInt(parsedProxy[2]) : 0;\n    if (parsedProxyPort && parsedProxyPort !== port) {\n      return true;  // Skip if ports don't match.\n    }\n\n    if (!/^[.*]/.test(parsedProxyHostname)) {\n      // No wildcards, so stop proxying if there is an exact match.\n      return hostname !== parsedProxyHostname;\n    }\n\n    if (parsedProxyHostname.charAt(0) === '*') {\n      // Remove leading wildcard.\n      parsedProxyHostname = parsedProxyHostname.slice(1);\n    }\n    // Stop proxying if the hostname ends with the no_proxy host.\n    return !stringEndsWith.call(hostname, parsedProxyHostname);\n  });\n}\n\n/**\n * Get the value for an environment variable.\n *\n * @param {string} key - The name of the environment variable.\n * @return {string} The value of the environment variable.\n * @private\n */\nfunction getEnv(key) {\n  return process.env[key.toLowerCase()] || process.env[key.toUpperCase()] || '';\n}\n\nexports.getProxyForUrl = getProxyForUrl;\n","export async function sleep(ms: number) {\n    await new Promise(resolve => setTimeout(resolve, ms));\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex|Readable$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Duplex, Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst { isBlob } = require('./validation');\n\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._errorEmitted = false;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._autoPong = options.autoPong;\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * For historical reasons, the custom \"nodebuffer\" type is used by the default\n   * instead of \"blob\".\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Boolean} [options.allowSynchronousEvents=false] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      allowSynchronousEvents: options.allowSynchronousEvents,\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    const sender = new Sender(socket, this._extensions, options.generateMask);\n\n    this._receiver = receiver;\n    this._sender = sender;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    sender[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    sender.onerror = senderOnError;\n\n    //\n    // These methods may not be available if `socket` is just a `Duplex`.\n    //\n    if (socket.setTimeout) socket.setTimeout(0);\n    if (socket.setNoDelay) socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    setCloseTimer(this);\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether any\n *     of the `'message'`, `'ping'`, and `'pong'` events can be emitted multiple\n *     times in the same tick\n * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n *     automatically send a pong in response to a ping\n * @param {Function} [options.finishRequest] A function which can be used to\n *     customize the headers of each http request before it is sent\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    allowSynchronousEvents: true,\n    autoPong: true,\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  websocket._autoPong = opts.autoPong;\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n  }\n\n  if (parsedUrl.protocol === 'http:') {\n    parsedUrl.protocol = 'ws:';\n  } else if (parsedUrl.protocol === 'https:') {\n    parsedUrl.protocol = 'wss:';\n  }\n\n  websocket._url = parsedUrl.href;\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", ' +\n      '\"http:\", \"https\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection =\n    opts.createConnection || (isSecure ? tlsConnect : netConnect);\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n          ? false\n          : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    const upgrade = res.headers.upgrade;\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      allowSynchronousEvents: opts.allowSynchronousEvents,\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  if (opts.finishRequest) {\n    opts.finishRequest(req, websocket);\n  } else {\n    req.end();\n  }\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  //\n  // The following assignment is practically useless and is done only for\n  // consistency.\n  //\n  websocket._errorEmitted = true;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = isBlob(data) ? data.size : toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    process.nextTick(cb, err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._autoPong) websocket.pong(data, !this._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The `Sender` error event handler.\n *\n * @param {Error} The error\n * @private\n */\nfunction senderOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket.readyState === WebSocket.CLOSED) return;\n  if (websocket.readyState === WebSocket.OPEN) {\n    websocket._readyState = WebSocket.CLOSING;\n    setCloseTimer(websocket);\n  }\n\n  //\n  // `socket.end()` is used instead of `socket.destroy()` to allow the other\n  // peer to finish sending queued data. There is no need to set a timer here\n  // because `CLOSING` means that it is already set or not needed.\n  //\n  this._socket.end();\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * Set a timer to destroy the underlying raw socket of a WebSocket.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @private\n */\nfunction setCloseTimer(websocket) {\n  websocket._closeTimer = setTimeout(\n    websocket._socket.destroy.bind(websocket._socket),\n    closeTimeout\n  );\n}\n\n/**\n * The listener of the socket `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the socket `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the socket `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the socket `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","'use strict'\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst {\n  codes: { ERR_INVALID_ARG_VALUE, ERR_INVALID_ARG_TYPE, ERR_MISSING_ARGS, ERR_OUT_OF_RANGE },\n  AbortError\n} = require('../../ours/errors')\nconst { validateAbortSignal, validateInteger, validateObject } = require('../validators')\nconst kWeakHandler = require('../../ours/primordials').Symbol('kWeak')\nconst kResistStopPropagation = require('../../ours/primordials').Symbol('kResistStopPropagation')\nconst { finished } = require('./end-of-stream')\nconst staticCompose = require('./compose')\nconst { addAbortSignalNoValidate } = require('./add-abort-signal')\nconst { isWritable, isNodeStream } = require('./utils')\nconst { deprecate } = require('../../ours/util')\nconst {\n  ArrayPrototypePush,\n  Boolean,\n  MathFloor,\n  Number,\n  NumberIsNaN,\n  Promise,\n  PromiseReject,\n  PromiseResolve,\n  PromisePrototypeThen,\n  Symbol\n} = require('../../ours/primordials')\nconst kEmpty = Symbol('kEmpty')\nconst kEof = Symbol('kEof')\nfunction compose(stream, options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  if (isNodeStream(stream) && !isWritable(stream)) {\n    throw new ERR_INVALID_ARG_VALUE('stream', stream, 'must be writable')\n  }\n  const composedStream = staticCompose(this, stream)\n  if (options !== null && options !== undefined && options.signal) {\n    // Not validating as we already validated before\n    addAbortSignalNoValidate(options.signal, composedStream)\n  }\n  return composedStream\n}\nfunction map(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let concurrency = 1\n  if ((options === null || options === undefined ? undefined : options.concurrency) != null) {\n    concurrency = MathFloor(options.concurrency)\n  }\n  let highWaterMark = concurrency - 1\n  if ((options === null || options === undefined ? undefined : options.highWaterMark) != null) {\n    highWaterMark = MathFloor(options.highWaterMark)\n  }\n  validateInteger(concurrency, 'options.concurrency', 1)\n  validateInteger(highWaterMark, 'options.highWaterMark', 0)\n  highWaterMark += concurrency\n  return async function* map() {\n    const signal = require('../../ours/util').AbortSignalAny(\n      [options === null || options === undefined ? undefined : options.signal].filter(Boolean)\n    )\n    const stream = this\n    const queue = []\n    const signalOpt = {\n      signal\n    }\n    let next\n    let resume\n    let done = false\n    let cnt = 0\n    function onCatch() {\n      done = true\n      afterItemProcessed()\n    }\n    function afterItemProcessed() {\n      cnt -= 1\n      maybeResume()\n    }\n    function maybeResume() {\n      if (resume && !done && cnt < concurrency && queue.length < highWaterMark) {\n        resume()\n        resume = null\n      }\n    }\n    async function pump() {\n      try {\n        for await (let val of stream) {\n          if (done) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          try {\n            val = fn(val, signalOpt)\n            if (val === kEmpty) {\n              continue\n            }\n            val = PromiseResolve(val)\n          } catch (err) {\n            val = PromiseReject(err)\n          }\n          cnt += 1\n          PromisePrototypeThen(val, afterItemProcessed, onCatch)\n          queue.push(val)\n          if (next) {\n            next()\n            next = null\n          }\n          if (!done && (queue.length >= highWaterMark || cnt >= concurrency)) {\n            await new Promise((resolve) => {\n              resume = resolve\n            })\n          }\n        }\n        queue.push(kEof)\n      } catch (err) {\n        const val = PromiseReject(err)\n        PromisePrototypeThen(val, afterItemProcessed, onCatch)\n        queue.push(val)\n      } finally {\n        done = true\n        if (next) {\n          next()\n          next = null\n        }\n      }\n    }\n    pump()\n    try {\n      while (true) {\n        while (queue.length > 0) {\n          const val = await queue[0]\n          if (val === kEof) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          if (val !== kEmpty) {\n            yield val\n          }\n          queue.shift()\n          maybeResume()\n        }\n        await new Promise((resolve) => {\n          next = resolve\n        })\n      }\n    } finally {\n      done = true\n      if (resume) {\n        resume()\n        resume = null\n      }\n    }\n  }.call(this)\n}\nfunction asIndexedPairs(options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  return async function* asIndexedPairs() {\n    let index = 0\n    for await (const val of this) {\n      var _options$signal\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal = options.signal) !== null &&\n        _options$signal !== undefined &&\n        _options$signal.aborted\n      ) {\n        throw new AbortError({\n          cause: options.signal.reason\n        })\n      }\n      yield [index++, val]\n    }\n  }.call(this)\n}\nasync function some(fn, options = undefined) {\n  for await (const unused of filter.call(this, fn, options)) {\n    return true\n  }\n  return false\n}\nasync function every(fn, options = undefined) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  // https://en.wikipedia.org/wiki/De_Morgan%27s_laws\n  return !(await some.call(\n    this,\n    async (...args) => {\n      return !(await fn(...args))\n    },\n    options\n  ))\n}\nasync function find(fn, options) {\n  for await (const result of filter.call(this, fn, options)) {\n    return result\n  }\n  return undefined\n}\nasync function forEach(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function forEachFn(value, options) {\n    await fn(value, options)\n    return kEmpty\n  }\n  // eslint-disable-next-line no-unused-vars\n  for await (const unused of map.call(this, forEachFn, options));\n}\nfunction filter(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function filterFn(value, options) {\n    if (await fn(value, options)) {\n      return value\n    }\n    return kEmpty\n  }\n  return map.call(this, filterFn, options)\n}\n\n// Specific to provide better error to reduce since the argument is only\n// missing if the stream has no items in it - but the code is still appropriate\nclass ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS {\n  constructor() {\n    super('reduce')\n    this.message = 'Reduce of an empty stream requires an initial value'\n  }\n}\nasync function reduce(reducer, initialValue, options) {\n  var _options$signal2\n  if (typeof reducer !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('reducer', ['Function', 'AsyncFunction'], reducer)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let hasInitialValue = arguments.length > 1\n  if (\n    options !== null &&\n    options !== undefined &&\n    (_options$signal2 = options.signal) !== null &&\n    _options$signal2 !== undefined &&\n    _options$signal2.aborted\n  ) {\n    const err = new AbortError(undefined, {\n      cause: options.signal.reason\n    })\n    this.once('error', () => {}) // The error is already propagated\n    await finished(this.destroy(err))\n    throw err\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  if (options !== null && options !== undefined && options.signal) {\n    const opts = {\n      once: true,\n      [kWeakHandler]: this,\n      [kResistStopPropagation]: true\n    }\n    options.signal.addEventListener('abort', () => ac.abort(), opts)\n  }\n  let gotAnyItemFromStream = false\n  try {\n    for await (const value of this) {\n      var _options$signal3\n      gotAnyItemFromStream = true\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal3 = options.signal) !== null &&\n        _options$signal3 !== undefined &&\n        _options$signal3.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (!hasInitialValue) {\n        initialValue = value\n        hasInitialValue = true\n      } else {\n        initialValue = await reducer(initialValue, value, {\n          signal\n        })\n      }\n    }\n    if (!gotAnyItemFromStream && !hasInitialValue) {\n      throw new ReduceAwareErrMissingArgs()\n    }\n  } finally {\n    ac.abort()\n  }\n  return initialValue\n}\nasync function toArray(options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  const result = []\n  for await (const val of this) {\n    var _options$signal4\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal4 = options.signal) !== null &&\n      _options$signal4 !== undefined &&\n      _options$signal4.aborted\n    ) {\n      throw new AbortError(undefined, {\n        cause: options.signal.reason\n      })\n    }\n    ArrayPrototypePush(result, val)\n  }\n  return result\n}\nfunction flatMap(fn, options) {\n  const values = map.call(this, fn, options)\n  return async function* flatMap() {\n    for await (const val of values) {\n      yield* val\n    }\n  }.call(this)\n}\nfunction toIntegerOrInfinity(number) {\n  // We coerce here to align with the spec\n  // https://github.com/tc39/proposal-iterator-helpers/issues/169\n  number = Number(number)\n  if (NumberIsNaN(number)) {\n    return 0\n  }\n  if (number < 0) {\n    throw new ERR_OUT_OF_RANGE('number', '>= 0', number)\n  }\n  return number\n}\nfunction drop(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* drop() {\n    var _options$signal5\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal5 = options.signal) !== null &&\n      _options$signal5 !== undefined &&\n      _options$signal5.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal6\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal6 = options.signal) !== null &&\n        _options$signal6 !== undefined &&\n        _options$signal6.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- <= 0) {\n        yield val\n      }\n    }\n  }.call(this)\n}\nfunction take(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* take() {\n    var _options$signal7\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal7 = options.signal) !== null &&\n      _options$signal7 !== undefined &&\n      _options$signal7.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal8\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal8 = options.signal) !== null &&\n        _options$signal8 !== undefined &&\n        _options$signal8.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- > 0) {\n        yield val\n      }\n\n      // Don't get another item from iterator in case we reached the end\n      if (number <= 0) {\n        return\n      }\n    }\n  }.call(this)\n}\nmodule.exports.streamReturningOperators = {\n  asIndexedPairs: deprecate(asIndexedPairs, 'readable.asIndexedPairs will be removed in a future version.'),\n  drop,\n  filter,\n  flatMap,\n  map,\n  take,\n  compose\n}\nmodule.exports.promiseReturningOperators = {\n  every,\n  forEach,\n  reduce,\n  toArray,\n  some,\n  find\n}\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst fs_1 = __importDefault(require(\"fs\"));\nconst index_1 = require(\"../types/gen/index\");\nconst module_1 = require(\"module\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = exports.sdk.deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = exports.sdk.deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = exports.sdk.deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = exports.sdk.systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = exports.sdk.deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = exports.sdk.deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (exports.sdk.deviceManager.getMixinConsole)\n                this._console = exports.sdk.deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = exports.sdk.deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let loaded = false;\n    try {\n        // todo: remove usage of process.env.SCRYPTED_SDK_MODULE, only existed in prerelease builds.\n        // import.meta is not a reliable way to detect es module support in webpack since webpack\n        // evaluates that to true at runtime.\n        const esModule = process.env.SCRYPTED_SDK_ES_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        const cjsModule = process.env.SCRYPTED_SDK_CJS_MODULE || process.env.SCRYPTED_SDK_MODULE;\n        // @ts-expect-error\n        if (esModule && typeof import.meta !== 'undefined') {\n            // @ts-expect-error\n            const require = (0, module_1.createRequire)(import.meta.url);\n            const sdkModule = require(esModule);\n            Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n            loaded = true;\n        }\n        else if (cjsModule) {\n            // @ts-expect-error\n            if (typeof __non_webpack_require__ !== 'undefined') {\n                // @ts-expect-error\n                const sdkModule = __non_webpack_require__(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n            else {\n                const sdkModule = require(cjsModule);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n        }\n    }\n    catch (e) {\n        console.warn(\"failed to load sdk module\", e);\n        throw e;\n    }\n    if (!loaded) {\n        let runtimeAPI;\n        try {\n            runtimeAPI = pluginRuntimeAPI;\n        }\n        catch (e) {\n        }\n        Object.assign(exports.sdk, {\n            log: deviceManager.getDeviceLogger(undefined),\n            deviceManager,\n            endpointManager,\n            mediaManager,\n            systemManager,\n            pluginHostAPI,\n            ...runtimeAPI,\n        });\n    }\n    try {\n        let descriptors = {\n            ...index_1.ScryptedInterfaceDescriptors,\n        };\n        try {\n            const sdkJson = JSON.parse(fs_1.default.readFileSync('../sdk.json').toString());\n            const customDescriptors = sdkJson.interfaceDescriptors;\n            if (customDescriptors) {\n                descriptors = {\n                    ...descriptors,\n                    ...customDescriptors,\n                };\n            }\n        }\n        catch (e) {\n            console.warn('failed to load custom interface descriptors', e);\n        }\n        exports.sdk.systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, descriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC72305.3.1: When making a request directly to an origin server, []\n  // a client MUST send only the absolute path [] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, []\n    // a client MUST send the target URI in absolute-form [].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/* replacement start */\n\nconst { Buffer } = require('buffer')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst { ObjectDefineProperty, ObjectKeys, ReflectApply } = require('./ours/primordials')\nconst {\n  promisify: { custom: customPromisify }\n} = require('./ours/util')\nconst { streamReturningOperators, promiseReturningOperators } = require('./internal/streams/operators')\nconst {\n  codes: { ERR_ILLEGAL_CONSTRUCTOR }\n} = require('./ours/errors')\nconst compose = require('./internal/streams/compose')\nconst { setDefaultHighWaterMark, getDefaultHighWaterMark } = require('./internal/streams/state')\nconst { pipeline } = require('./internal/streams/pipeline')\nconst { destroyer } = require('./internal/streams/destroy')\nconst eos = require('./internal/streams/end-of-stream')\nconst internalBuffer = {}\nconst promises = require('./stream/promises')\nconst utils = require('./internal/streams/utils')\nconst Stream = (module.exports = require('./internal/streams/legacy').Stream)\nStream.isDestroyed = utils.isDestroyed\nStream.isDisturbed = utils.isDisturbed\nStream.isErrored = utils.isErrored\nStream.isReadable = utils.isReadable\nStream.isWritable = utils.isWritable\nStream.Readable = require('./internal/streams/readable')\nfor (const key of ObjectKeys(streamReturningOperators)) {\n  const op = streamReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return Stream.Readable.from(ReflectApply(op, this, args))\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nfor (const key of ObjectKeys(promiseReturningOperators)) {\n  const op = promiseReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return ReflectApply(op, this, args)\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nStream.Writable = require('./internal/streams/writable')\nStream.Duplex = require('./internal/streams/duplex')\nStream.Transform = require('./internal/streams/transform')\nStream.PassThrough = require('./internal/streams/passthrough')\nStream.pipeline = pipeline\nconst { addAbortSignal } = require('./internal/streams/add-abort-signal')\nStream.addAbortSignal = addAbortSignal\nStream.finished = eos\nStream.destroy = destroyer\nStream.compose = compose\nStream.setDefaultHighWaterMark = setDefaultHighWaterMark\nStream.getDefaultHighWaterMark = getDefaultHighWaterMark\nObjectDefineProperty(Stream, 'promises', {\n  __proto__: null,\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nObjectDefineProperty(pipeline, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.pipeline\n  }\n})\nObjectDefineProperty(eos, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.finished\n  }\n})\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream\nStream._isUint8Array = function isUint8Array(value) {\n  return value instanceof Uint8Array\n}\nStream._uint8ArrayToBuffer = function _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength)\n}\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n;('use strict')\nconst {\n  ArrayPrototypeSlice,\n  Error,\n  FunctionPrototypeSymbolHasInstance,\n  ObjectDefineProperty,\n  ObjectDefineProperties,\n  ObjectSetPrototypeOf,\n  StringPrototypeToLowerCase,\n  Symbol,\n  SymbolHasInstance\n} = require('../../ours/primordials')\nmodule.exports = Writable\nWritable.WritableState = WritableState\nconst { EventEmitter: EE } = require('events')\nconst Stream = require('./legacy').Stream\nconst { Buffer } = require('buffer')\nconst destroyImpl = require('./destroy')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED,\n  ERR_STREAM_ALREADY_FINISHED,\n  ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING\n} = require('../../ours/errors').codes\nconst { errorOrDestroy } = destroyImpl\nObjectSetPrototypeOf(Writable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Writable, Stream)\nfunction nop() {}\nconst kOnFinished = Symbol('kOnFinished')\nfunction WritableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.writableObjectMode)\n\n  // The point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write().\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // if _final has been called.\n  this.finalCalled = false\n\n  // drain event flag.\n  this.needDrain = false\n  // At the start of calling end()\n  this.ending = false\n  // When end() has been called, and returned.\n  this.ended = false\n  // When 'finish' is emitted.\n  this.finished = false\n\n  // Has it been destroyed\n  this.destroyed = false\n\n  // Should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  const noDecode = !!(options && options.decodeStrings === false)\n  this.decodeStrings = !noDecode\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0\n\n  // A flag to see when we're in the middle of a write.\n  this.writing = false\n\n  // When true all writes will be buffered until .uncork() call.\n  this.corked = 0\n\n  // A flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true\n\n  // A flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false\n\n  // The callback that's passed to _write(chunk, cb).\n  this.onwrite = onwrite.bind(undefined, stream)\n\n  // The callback that the user supplies to write(chunk, encoding, cb).\n  this.writecb = null\n\n  // The amount that is being written when _write is called.\n  this.writelen = 0\n\n  // Storage for data passed to the afterWrite() callback in case of\n  // synchronous _write() completion.\n  this.afterWriteTickInfo = null\n  resetBuffer(this)\n\n  // Number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted.\n  this.pendingcb = 0\n\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  this.constructed = true\n\n  // Emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams.\n  this.prefinished = false\n\n  // True if the error was already emitted and should not be thrown again.\n  this.errorEmitted = false\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = !options || options.emitClose !== false\n\n  // Should .destroy() be called after 'finish' (and potentially 'end').\n  this.autoDestroy = !options || options.autoDestroy !== false\n\n  // Indicates whether the stream has errored. When true all write() calls\n  // should return false. This is needed since when autoDestroy\n  // is disabled we need a way to tell whether the stream has failed.\n  this.errored = null\n\n  // Indicates whether the stream has finished destroying.\n  this.closed = false\n\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  this.closeEmitted = false\n  this[kOnFinished] = []\n}\nfunction resetBuffer(state) {\n  state.buffered = []\n  state.bufferedIndex = 0\n  state.allBuffers = true\n  state.allNoop = true\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  return ArrayPrototypeSlice(this.buffered, this.bufferedIndex)\n}\nObjectDefineProperty(WritableState.prototype, 'bufferedRequestCount', {\n  __proto__: null,\n  get() {\n    return this.buffered.length - this.bufferedIndex\n  }\n})\nfunction Writable(options) {\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  if (!isDuplex && !FunctionPrototypeSymbolHasInstance(Writable, this)) return new Writable(options)\n  this._writableState = new WritableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write\n    if (typeof options.writev === 'function') this._writev = options.writev\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.final === 'function') this._final = options.final\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    const state = this._writableState\n    if (!state.writing) {\n      clearBuffer(this, state)\n    }\n    finishMaybe(this, state)\n  })\n}\nObjectDefineProperty(Writable, SymbolHasInstance, {\n  __proto__: null,\n  value: function (object) {\n    if (FunctionPrototypeSymbolHasInstance(this, object)) return true\n    if (this !== Writable) return false\n    return object && object._writableState instanceof WritableState\n  }\n})\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE())\n}\nfunction _write(stream, chunk, encoding, cb) {\n  const state = stream._writableState\n  if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = state.defaultEncoding\n  } else {\n    if (!encoding) encoding = state.defaultEncoding\n    else if (encoding !== 'buffer' && !Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n    if (typeof cb !== 'function') cb = nop\n  }\n  if (chunk === null) {\n    throw new ERR_STREAM_NULL_VALUES()\n  } else if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      if (state.decodeStrings !== false) {\n        chunk = Buffer.from(chunk, encoding)\n        encoding = 'buffer'\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = 'buffer'\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = 'buffer'\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  let err\n  if (state.ending) {\n    err = new ERR_STREAM_WRITE_AFTER_END()\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('write')\n  }\n  if (err) {\n    process.nextTick(cb, err)\n    errorOrDestroy(stream, err, true)\n    return err\n  }\n  state.pendingcb++\n  return writeOrBuffer(stream, state, chunk, encoding, cb)\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  return _write(this, chunk, encoding, cb) === true\n}\nWritable.prototype.cork = function () {\n  this._writableState.corked++\n}\nWritable.prototype.uncork = function () {\n  const state = this._writableState\n  if (state.corked) {\n    state.corked--\n    if (!state.writing) clearBuffer(this, state)\n  }\n}\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = StringPrototypeToLowerCase(encoding)\n  if (!Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n  this._writableState.defaultEncoding = encoding\n  return this\n}\n\n// If we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, callback) {\n  const len = state.objectMode ? 1 : chunk.length\n  state.length += len\n\n  // stream._write resets state.length\n  const ret = state.length < state.highWaterMark\n  // We must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true\n  if (state.writing || state.corked || state.errored || !state.constructed) {\n    state.buffered.push({\n      chunk,\n      encoding,\n      callback\n    })\n    if (state.allBuffers && encoding !== 'buffer') {\n      state.allBuffers = false\n    }\n    if (state.allNoop && callback !== nop) {\n      state.allNoop = false\n    }\n  } else {\n    state.writelen = len\n    state.writecb = callback\n    state.writing = true\n    state.sync = true\n    stream._write(chunk, encoding, state.onwrite)\n    state.sync = false\n  }\n\n  // Return false if errored or destroyed in order to break\n  // any synchronous while(stream.write(data)) loops.\n  return ret && !state.errored && !state.destroyed\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len\n  state.writecb = cb\n  state.writing = true\n  state.sync = true\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'))\n  else if (writev) stream._writev(chunk, state.onwrite)\n  else stream._write(chunk, encoding, state.onwrite)\n  state.sync = false\n}\nfunction onwriteError(stream, state, er, cb) {\n  --state.pendingcb\n  cb(er)\n  // Ensure callbacks are invoked even when autoDestroy is\n  // not enabled. Passing `er` here doesn't make sense since\n  // it's related to one specific write, not to the buffered\n  // writes.\n  errorBuffer(state)\n  // This can emit error, but error must always follow cb.\n  errorOrDestroy(stream, er)\n}\nfunction onwrite(stream, er) {\n  const state = stream._writableState\n  const sync = state.sync\n  const cb = state.writecb\n  if (typeof cb !== 'function') {\n    errorOrDestroy(stream, new ERR_MULTIPLE_CALLBACK())\n    return\n  }\n  state.writing = false\n  state.writecb = null\n  state.length -= state.writelen\n  state.writelen = 0\n  if (er) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    er.stack // eslint-disable-line no-unused-expressions\n\n    if (!state.errored) {\n      state.errored = er\n    }\n\n    // In case of duplex streams we need to notify the readable side of the\n    // error.\n    if (stream._readableState && !stream._readableState.errored) {\n      stream._readableState.errored = er\n    }\n    if (sync) {\n      process.nextTick(onwriteError, stream, state, er, cb)\n    } else {\n      onwriteError(stream, state, er, cb)\n    }\n  } else {\n    if (state.buffered.length > state.bufferedIndex) {\n      clearBuffer(stream, state)\n    }\n    if (sync) {\n      // It is a common case that the callback passed to .write() is always\n      // the same. In that case, we do not schedule a new nextTick(), but\n      // rather just increase a counter, to improve performance and avoid\n      // memory allocations.\n      if (state.afterWriteTickInfo !== null && state.afterWriteTickInfo.cb === cb) {\n        state.afterWriteTickInfo.count++\n      } else {\n        state.afterWriteTickInfo = {\n          count: 1,\n          cb,\n          stream,\n          state\n        }\n        process.nextTick(afterWriteTick, state.afterWriteTickInfo)\n      }\n    } else {\n      afterWrite(stream, state, 1, cb)\n    }\n  }\n}\nfunction afterWriteTick({ stream, state, count, cb }) {\n  state.afterWriteTickInfo = null\n  return afterWrite(stream, state, count, cb)\n}\nfunction afterWrite(stream, state, count, cb) {\n  const needDrain = !state.ending && !stream.destroyed && state.length === 0 && state.needDrain\n  if (needDrain) {\n    state.needDrain = false\n    stream.emit('drain')\n  }\n  while (count-- > 0) {\n    state.pendingcb--\n    cb()\n  }\n  if (state.destroyed) {\n    errorBuffer(state)\n  }\n  finishMaybe(stream, state)\n}\n\n// If there's something in the buffer waiting, then invoke callbacks.\nfunction errorBuffer(state) {\n  if (state.writing) {\n    return\n  }\n  for (let n = state.bufferedIndex; n < state.buffered.length; ++n) {\n    var _state$errored\n    const { chunk, callback } = state.buffered[n]\n    const len = state.objectMode ? 1 : chunk.length\n    state.length -= len\n    callback(\n      (_state$errored = state.errored) !== null && _state$errored !== undefined\n        ? _state$errored\n        : new ERR_STREAM_DESTROYED('write')\n    )\n  }\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    var _state$errored2\n    onfinishCallbacks[i](\n      (_state$errored2 = state.errored) !== null && _state$errored2 !== undefined\n        ? _state$errored2\n        : new ERR_STREAM_DESTROYED('end')\n    )\n  }\n  resetBuffer(state)\n}\n\n// If there's something in the buffer waiting, then process it.\nfunction clearBuffer(stream, state) {\n  if (state.corked || state.bufferProcessing || state.destroyed || !state.constructed) {\n    return\n  }\n  const { buffered, bufferedIndex, objectMode } = state\n  const bufferedLength = buffered.length - bufferedIndex\n  if (!bufferedLength) {\n    return\n  }\n  let i = bufferedIndex\n  state.bufferProcessing = true\n  if (bufferedLength > 1 && stream._writev) {\n    state.pendingcb -= bufferedLength - 1\n    const callback = state.allNoop\n      ? nop\n      : (err) => {\n          for (let n = i; n < buffered.length; ++n) {\n            buffered[n].callback(err)\n          }\n        }\n    // Make a copy of `buffered` if it's going to be used by `callback` above,\n    // since `doWrite` will mutate the array.\n    const chunks = state.allNoop && i === 0 ? buffered : ArrayPrototypeSlice(buffered, i)\n    chunks.allBuffers = state.allBuffers\n    doWrite(stream, state, true, state.length, chunks, '', callback)\n    resetBuffer(state)\n  } else {\n    do {\n      const { chunk, encoding, callback } = buffered[i]\n      buffered[i++] = null\n      const len = objectMode ? 1 : chunk.length\n      doWrite(stream, state, false, len, chunk, encoding, callback)\n    } while (i < buffered.length && !state.writing)\n    if (i === buffered.length) {\n      resetBuffer(state)\n    } else if (i > 256) {\n      buffered.splice(0, i)\n      state.bufferedIndex = 0\n    } else {\n      state.bufferedIndex = i\n    }\n  }\n  state.bufferProcessing = false\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  if (this._writev) {\n    this._writev(\n      [\n        {\n          chunk,\n          encoding\n        }\n      ],\n      cb\n    )\n  } else {\n    throw new ERR_METHOD_NOT_IMPLEMENTED('_write()')\n  }\n}\nWritable.prototype._writev = null\nWritable.prototype.end = function (chunk, encoding, cb) {\n  const state = this._writableState\n  if (typeof chunk === 'function') {\n    cb = chunk\n    chunk = null\n    encoding = null\n  } else if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = null\n  }\n  let err\n  if (chunk !== null && chunk !== undefined) {\n    const ret = _write(this, chunk, encoding)\n    if (ret instanceof Error) {\n      err = ret\n    }\n  }\n\n  // .end() fully uncorks.\n  if (state.corked) {\n    state.corked = 1\n    this.uncork()\n  }\n  if (err) {\n    // Do nothing...\n  } else if (!state.errored && !state.ending) {\n    // This is forgiving in terms of unnecessary calls to end() and can hide\n    // logic errors. However, usually such errors are harmless and causing a\n    // hard error can be disproportionately destructive. It is not always\n    // trivial for the user to determine whether end() needs to be called\n    // or not.\n\n    state.ending = true\n    finishMaybe(this, state, true)\n    state.ended = true\n  } else if (state.finished) {\n    err = new ERR_STREAM_ALREADY_FINISHED('end')\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('end')\n  }\n  if (typeof cb === 'function') {\n    if (err || state.finished) {\n      process.nextTick(cb, err)\n    } else {\n      state[kOnFinished].push(cb)\n    }\n  }\n  return this\n}\nfunction needFinish(state) {\n  return (\n    state.ending &&\n    !state.destroyed &&\n    state.constructed &&\n    state.length === 0 &&\n    !state.errored &&\n    state.buffered.length === 0 &&\n    !state.finished &&\n    !state.writing &&\n    !state.errorEmitted &&\n    !state.closeEmitted\n  )\n}\nfunction callFinal(stream, state) {\n  let called = false\n  function onFinish(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    state.pendingcb--\n    if (err) {\n      const onfinishCallbacks = state[kOnFinished].splice(0)\n      for (let i = 0; i < onfinishCallbacks.length; i++) {\n        onfinishCallbacks[i](err)\n      }\n      errorOrDestroy(stream, err, state.sync)\n    } else if (needFinish(state)) {\n      state.prefinished = true\n      stream.emit('prefinish')\n      // Backwards compat. Don't check state.sync here.\n      // Some streams assume 'finish' will be emitted\n      // asynchronously relative to _final callback.\n      state.pendingcb++\n      process.nextTick(finish, stream, state)\n    }\n  }\n  state.sync = true\n  state.pendingcb++\n  try {\n    stream._final(onFinish)\n  } catch (err) {\n    onFinish(err)\n  }\n  state.sync = false\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.finalCalled = true\n      callFinal(stream, state)\n    } else {\n      state.prefinished = true\n      stream.emit('prefinish')\n    }\n  }\n}\nfunction finishMaybe(stream, state, sync) {\n  if (needFinish(state)) {\n    prefinish(stream, state)\n    if (state.pendingcb === 0) {\n      if (sync) {\n        state.pendingcb++\n        process.nextTick(\n          (stream, state) => {\n            if (needFinish(state)) {\n              finish(stream, state)\n            } else {\n              state.pendingcb--\n            }\n          },\n          stream,\n          state\n        )\n      } else if (needFinish(state)) {\n        state.pendingcb++\n        finish(stream, state)\n      }\n    }\n  }\n}\nfunction finish(stream, state) {\n  state.pendingcb--\n  state.finished = true\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    onfinishCallbacks[i]()\n  }\n  stream.emit('finish')\n  if (state.autoDestroy) {\n    // In case of duplex streams we need a way to detect\n    // if the readable side is ready for autoDestroy as well.\n    const rState = stream._readableState\n    const autoDestroy =\n      !rState ||\n      (rState.autoDestroy &&\n        // We don't expect the readable to ever 'end'\n        // if readable is explicitly set to false.\n        (rState.endEmitted || rState.readable === false))\n    if (autoDestroy) {\n      stream.destroy()\n    }\n  }\n}\nObjectDefineProperties(Writable.prototype, {\n  closed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.destroyed : false\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly managing destroyed.\n      if (this._writableState) {\n        this._writableState.destroyed = value\n      }\n    }\n  },\n  writable: {\n    __proto__: null,\n    get() {\n      const w = this._writableState\n      // w.writable === false means that this is part of a Duplex stream\n      // where the writable side was disabled upon construction.\n      // Compat. The user might manually disable writable side through\n      // deprecated setter.\n      return !!w && w.writable !== false && !w.destroyed && !w.errored && !w.ending && !w.ended\n    },\n    set(val) {\n      // Backwards compatible.\n      if (this._writableState) {\n        this._writableState.writable = !!val\n      }\n    }\n  },\n  writableFinished: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.finished : false\n    }\n  },\n  writableObjectMode: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.objectMode : false\n    }\n  },\n  writableBuffer: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.getBuffer()\n    }\n  },\n  writableEnded: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.ending : false\n    }\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    get() {\n      const wState = this._writableState\n      if (!wState) return false\n      return !wState.destroyed && !wState.ending && wState.needDrain\n    }\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.highWaterMark\n    }\n  },\n  writableCorked: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.corked : 0\n    }\n  },\n  writableLength: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.length\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._writableState ? this._writableState.errored : null\n    }\n  },\n  writableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._writableState.writable !== false &&\n        (this._writableState.destroyed || this._writableState.errored) &&\n        !this._writableState.finished\n      )\n    }\n  }\n})\nconst destroy = destroyImpl.destroy\nWritable.prototype.destroy = function (err, cb) {\n  const state = this._writableState\n\n  // Invoke pending callbacks.\n  if (!state.destroyed && (state.bufferedIndex < state.buffered.length || state[kOnFinished].length)) {\n    process.nextTick(errorBuffer, state)\n  }\n  destroy.call(this, err, cb)\n  return this\n}\nWritable.prototype._undestroy = destroyImpl.undestroy\nWritable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nWritable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nWritable.fromWeb = function (writableStream, options) {\n  return lazyWebStreams().newStreamWritableFromWritableStream(writableStream, options)\n}\nWritable.toWeb = function (streamWritable) {\n  return lazyWebStreams().newWritableStreamFromStreamWritable(streamWritable)\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst handlePubrel = (client, packet, done) => {\n    client.log('handling pubrel packet');\n    const callback = typeof done !== 'undefined' ? done : client.noop;\n    const { messageId } = packet;\n    const comp = { cmd: 'pubcomp', messageId };\n    client.incomingStore.get(packet, (err, pub) => {\n        if (!err) {\n            client.emit('message', pub.topic, pub.payload, pub);\n            client.handleMessage(pub, (err2) => {\n                if (err2) {\n                    return callback(err2);\n                }\n                client.incomingStore.del(pub, client.noop);\n                client['_sendPacket'](comp, callback);\n            });\n        }\n        else {\n            client['_sendPacket'](comp, callback);\n        }\n    });\n};\nexports.default = handlePubrel;\n//# sourceMappingURL=pubrel.js.map","import sdk, { DeviceCreator, DeviceCreatorSettings, DeviceProvider, HttpRequest, HttpRequestHandler, HttpResponse, ScryptedDeviceType, ScryptedInterface, Setting, Settings, SettingValue, VideoCamera } from \"@scrypted/sdk\";\nimport { StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport http from 'http';\nimport { BaseSettingsKey, getBaseLogger, getBaseSettings } from '../../scrypted-apocaliss-base/src/basePlugin';\nimport { RtspProvider } from \"../../scrypted/plugins/rtsp/src/rtsp\";\nimport FrigateBridgeAudioDetector from \"./audioDetector\";\nimport FrigateBridgeBirdseyeCamera from \"./birdseyeCamera\";\nimport FrigateBridgeCamera from \"./camera\";\nimport FrigateBridgeClassifier from \"./classsifier\";\nimport FrigateBridgeMotionDetector from \"./motionDetector\";\nimport FrigateBridgeObjectDetector from \"./objectDetector\";\nimport { animalClassifierNativeId, audioDetectorNativeId, baseFrigateApi, birdseyeCameraNativeId, importedCameraNativeIdPrefix, motionDetectorNativeId, objectDetectorNativeId, toSnakeCase, vehicleClassifierNativeId, videoclipsNativeId } from \"./utils\";\nimport FrigateBridgeVideoclips from \"./videoclips\";\nimport { FrigateBridgeVideoclipsMixin } from \"./videoclipsMixin\";\n\ntype StorageKey = BaseSettingsKey |\n    'serverUrl' |\n    'labels' |\n    'cameras' |\n    'cameraZones' |\n    'exportCameraDevice' |\n    'exportWithRebroadcast' |\n    'enableBirdseyeCamera' |\n    'logLevel' |\n    'exportButton';\n\nexport default class FrigateBridgePlugin extends RtspProvider implements DeviceProvider, HttpRequestHandler, DeviceCreator {\n    initStorage: StorageSettingsDict<StorageKey> = {\n        ...getBaseSettings({\n            onPluginSwitch: (_, enabled) => {\n                this.startStop(enabled);\n            },\n            hideHa: true,\n            baseGroupName: '',\n            defaultMqtt: true,\n            mqttAlwaysEnabled: true\n        }),\n        serverUrl: {\n            title: 'Frigate server API URL',\n            description: 'URL to the Frigate server. Example: http://192.168.1.100:5000/api',\n            type: 'string',\n        },\n        labels: {\n            title: 'Available labels',\n            type: 'string',\n            readonly: true,\n            multiple: true,\n            choices: [],\n        },\n        cameras: {\n            title: 'Available cameras',\n            type: 'string',\n            readonly: true,\n            multiple: true,\n            choices: [],\n        },\n        cameraZones: {\n            json: true,\n            hide: true,\n        },\n        enableBirdseyeCamera: {\n            title: 'Enable birdseye camera',\n            type: 'boolean',\n            immediate: true,\n            defaultValue: true,\n        },\n        exportCameraDevice: {\n            title: 'Camera',\n            group: 'Export camera',\n            type: 'device',\n            immediate: true,\n            deviceFilter: `interfaces.some(int => ['${ScryptedInterface.Camera}', '${ScryptedInterface.VideoCamera}'].includes(int))`\n        },\n        exportWithRebroadcast: {\n            title: 'Export with rebroadcast',\n            description: 'If checked will provide rebroadcast urls, otherwise camera ones',\n            group: 'Export camera',\n            type: 'boolean',\n            defaultValue: true,\n            immediate: true,\n        },\n        exportButton: {\n            title: 'Export',\n            group: 'Export camera',\n            type: 'button',\n            onPut: async () => await this.exportCamera()\n        },\n    };\n    storageSettings = new StorageSettings(this, this.initStorage);\n\n    objectDetectorDevice: FrigateBridgeObjectDetector;\n    motionDetectorDevice: FrigateBridgeMotionDetector;\n    audioDetectorDevice: FrigateBridgeAudioDetector;\n    videoclipsDevice: FrigateBridgeVideoclips;\n    birdseyeCamera: FrigateBridgeBirdseyeCamera;\n    animalClassifier: FrigateBridgeClassifier;\n    vehicleClassifier: FrigateBridgeClassifier;\n    camerasMap: Record<string, FrigateBridgeCamera> = {};\n    logger: Console;\n    config: any;\n\n    constructor(nativeId: string) {\n        super(nativeId);\n        const logger = this.getLogger();\n\n        this.initData().catch(logger.log);\n    }\n\n    async startStop(enabled: boolean) {\n        if (enabled) {\n            await this.start();\n        } else {\n            await this.stop();\n        }\n    }\n\n    async stop() {\n        await this.motionDetectorDevice?.stop();\n        await this.audioDetectorDevice?.stop();\n        await this.objectDetectorDevice?.stop();\n    }\n\n    async start() {\n        try {\n            await this.motionDetectorDevice?.start();\n            await this.audioDetectorDevice?.start();\n            await this.objectDetectorDevice?.start();\n        } catch (e) {\n            this.getLogger().log(`Error in initFlow`, e);\n        }\n    }\n\n    getLogger(props?: {\n        console: Console,\n        storage: StorageSettings<any>,\n    }) {\n        const { console, storage } = props ?? {};\n\n        if (console && storage) {\n            return getBaseLogger({\n                console,\n                storage,\n            });\n        } else if (!this.logger) {\n            this.logger = getBaseLogger({\n                console: this.console,\n                storage: this.storageSettings,\n            });\n        }\n\n        return this.logger;\n    }\n\n    getScryptedDeviceCreator(): string {\n        return 'Frigate birdseye camera';\n    }\n\n    async getConfiguration() {\n        const configsResponse = await baseFrigateApi({\n            apiUrl: this.storageSettings.values.serverUrl,\n            service: 'config',\n        });\n\n        return configsResponse.data;\n    }\n\n    async initData() {\n        const logger = this.getLogger();\n\n        const fn = async () => {\n            if (!this.storageSettings.values.serverUrl) {\n                return;\n            }\n            const res = await baseFrigateApi({\n                apiUrl: this.storageSettings.values.serverUrl,\n                service: 'labels',\n            });\n\n            const labels = res.data as string[];\n            logger.log(`Labels found: ${labels}`);\n            this.putSetting('labels', [...labels]);\n\n            this.config = await this.getConfiguration();\n\n            const cameras = Object.keys((this.config ?? {})?.cameras);\n            logger.log(`Cameras found: ${cameras}`);\n            this.putSetting('cameras', cameras);\n\n            const cameraZones = {}\n            for (const cameraName of cameras) {\n                cameraZones[cameraName] = Object.keys(this.config?.cameras?.[cameraName]?.zones ?? {}) ?? [];\n            }\n            this.putSetting('cameraZones', JSON.stringify(cameraZones));\n            logger.log(`Zones found: ${JSON.stringify(cameraZones)}`);\n        }\n\n        setInterval(async () => await fn(), 1000 * 60 * 10);\n        setTimeout(async () => {\n            logger.log(`Restarting`);\n            await sdk.deviceManager.requestRestart();\n        }, 1000 * 60 * 60 * 2);\n        await fn();\n\n        await sdk.deviceManager.onDeviceDiscovered(\n            {\n                name: 'Frigate Object Detector',\n                nativeId: objectDetectorNativeId,\n                interfaces: [ScryptedInterface.MixinProvider, ScryptedInterface.Settings],\n                type: ScryptedDeviceType.API,\n            }\n        );\n        await sdk.deviceManager.onDeviceDiscovered(\n            {\n                name: 'Frigate Motion Detector',\n                nativeId: motionDetectorNativeId,\n                interfaces: [ScryptedInterface.MixinProvider, ScryptedInterface.Settings],\n                type: ScryptedDeviceType.API,\n            }\n        );\n        await sdk.deviceManager.onDeviceDiscovered(\n            {\n                name: 'Frigate Audio Detector',\n                nativeId: audioDetectorNativeId,\n                interfaces: [ScryptedInterface.MixinProvider, ScryptedInterface.Settings],\n                type: ScryptedDeviceType.API,\n            }\n        );\n        await sdk.deviceManager.onDeviceDiscovered(\n            {\n                name: 'Frigate Videoclips',\n                nativeId: videoclipsNativeId,\n                interfaces: [ScryptedInterface.MixinProvider, ScryptedInterface.Settings],\n                type: ScryptedDeviceType.API,\n            }\n        );\n        // await sdk.deviceManager.onDeviceDiscovered(\n        //     {\n        //         name: 'Frigate Animal Classifier',\n        //         nativeId: animalClassifierNativeId,\n        //         interfaces: [ScryptedInterface.ObjectDetection, ScryptedInterface.ClusterForkInterface, 'CustomObjectDetection'],\n        //         type: ScryptedDeviceType.API,\n        //     }\n        // );\n        // await sdk.deviceManager.onDeviceDiscovered(\n        //     {\n        //         name: 'Frigate Vehicle Classifier',\n        //         nativeId: vehicleClassifierNativeId,\n        //         interfaces: [ScryptedInterface.ObjectDetection, ScryptedInterface.ClusterForkInterface, 'CustomObjectDetection'],\n        //         type: ScryptedDeviceType.API,\n        //     }\n        // );\n\n        await this.executeCameraDiscovery(this.storageSettings.values.enableBirdseyeCamera);\n        await this.startStop(this.storageSettings.values.pluginEnabled);\n    }\n\n    async executeCameraDiscovery(active: boolean) {\n        const interfaces: ScryptedInterface[] = [ScryptedInterface.Camera];\n\n        if (active) {\n            interfaces.push(ScryptedInterface.VideoCamera);\n        }\n\n        await sdk.deviceManager.onDeviceDiscovered(\n            {\n                name: 'Frigate Birdseye',\n                nativeId: birdseyeCameraNativeId,\n                interfaces,\n                type: ScryptedDeviceType.Camera,\n            }\n        );\n    }\n\n    async onRequest(request: HttpRequest, response: HttpResponse): Promise<void> {\n        const url = new URL(`http://localhost${request.url}`);\n        const params = url.searchParams.get('params') ?? '{}';\n\n        try {\n            const [_, __, ___, ____, _____, webhook] = url.pathname.split('/');\n            const { deviceId, eventId } = JSON.parse(params);\n            const dev: FrigateBridgeVideoclipsMixin = this.videoclipsDevice.currentMixinsMap[deviceId];\n            const devConsole = dev.getLogger();\n            devConsole.debug(`Request with parameters: ${JSON.stringify({\n                webhook,\n                deviceId,\n                eventId,\n            })}`);\n\n            try {\n                if (webhook === 'videoclip') {\n                    // const { serverUrl } = this.storageSettings.values;\n                    const { videoUrl } = dev.getVideoclipUrls(eventId);\n                    // const eventUrl = `${serverUrl}/events/${eventId}`;\n                    // const eventResponse = await axios.get<DetectionData>(eventUrl);\n                    // const event = eventResponse.data;\n                    // const frigateOrigin = new URL(serverUrl).origin;\n                    // const vodUrl = `${frigateOrigin}/vod/${event.camera}/start/${event.start_time}/end/${event.end_time}/index.m3u8`;\n\n                    const sendVideo = async () => {\n                        return new Promise<void>((resolve, reject) => {\n                            http.get(videoUrl, { headers: request.headers }, (httpResponse) => {\n                                if (httpResponse.statusCode[0] === 400) {\n                                    reject(new Error(`Error loading the video: ${httpResponse.statusCode} - ${httpResponse.statusMessage}. Headers: ${JSON.stringify(request.headers)}`));\n                                    return;\n                                }\n\n                                try {\n                                    response.sendStream((async function* () {\n                                        for await (const chunk of httpResponse) {\n                                            yield chunk;\n                                        }\n                                    })(), {\n                                        headers: httpResponse.headers\n                                    });\n\n                                    resolve();\n                                } catch (err) {\n                                    reject(err);\n                                }\n                            }).on('error', (e) => {\n                                devConsole.log('Error fetching videoclip', e);\n                                reject(e)\n                            });\n                        });\n                    };\n                    // const sendVideo = async () => {\n                    //     return new Promise<void>(async (resolve, reject) => {\n                    //         const playlistRes = await axios.get<string>(vodUrl);\n                    //         const lines = playlistRes.data.split('\\n');\n\n                    //         devConsole.log(`Lines found`, lines);\n                    //         for (const line of lines) {\n                    //             if (line.includes('.mp4') || line.includes('.m4s')) {\n                    //                 const parsed = line.replaceAll('#EXT-X-MAP:URI=', '').replaceAll('\"', '');\n                    //                 const segmentUrl = new URL(parsed, vodUrl).href;\n                    //                 devConsole.log(`Segment ${segmentUrl}`);\n\n                    //                 try {\n                    //                     const segmentRes = await axios.get<Buffer[]>(segmentUrl, {\n                    //                         responseType: 'arraybuffer',\n                    //                     });\n                    //                     response.sendStream((async function* () {\n                    //                         for await (const chunk of segmentRes.data) {\n                    //                             devConsole.log(chunk);\n                    //                             yield chunk;\n                    //                         }\n                    //                     })(), {\n                    //                         headers: segmentRes.headers\n                    //                     });\n                    //                 } catch (err) {\n                    //                     console.error(`Errore nel segmento: ${segmentUrl}`, err);\n                    //                     reject();\n                    //                 }\n                    //             }\n                    //         }\n                    //         resolve();\n                    //     });\n                    // };\n\n                    try {\n                        await sendVideo();\n                        return;\n                    } catch (e) {\n                        devConsole.log('Error fetching videoclip', e);\n                    }\n                    // }\n\n                    return;\n                } else\n                    if (webhook === 'thumbnail') {\n                        const thumbnailMo = await dev.getVideoClipThumbnail(eventId);\n                        const jpeg = await sdk.mediaManager.convertMediaObjectToBuffer(thumbnailMo, 'image/jpeg');\n                        response.send(jpeg, {\n                            headers: {\n                                'Content-Type': 'image/jpeg',\n                            }\n                        });\n                        return;\n                    }\n            } catch (e) {\n                devConsole.log(`Error in webhook`, e);\n                response.send(`${JSON.stringify(e)}, ${e.message}`, {\n                    code: 400,\n                });\n\n                return;\n            }\n\n            response.send(`Webhook not found: ${url.pathname}`, {\n                code: 404,\n            });\n\n            return;\n        } catch (e) {\n            this.console.log('Error in data parsing for webhook', e);\n            response.send(`Error in data parsing for webhook: ${JSON.stringify({\n                params,\n                url: request.url\n            })}`, {\n                code: 500,\n            });\n        }\n    }\n\n    async exportCamera() {\n        const logger = this.getLogger();\n        const { exportCameraDevice, exportWithRebroadcast } = this.storageSettings.values;\n        if (!exportCameraDevice) {\n            return;\n        }\n        const cameraDevice = sdk.systemManager.getDeviceById<VideoCamera & Settings>(exportCameraDevice.id);\n        const streams = await cameraDevice.getVideoStreamOptions();\n        const settings = await cameraDevice.getSettings();\n\n        const highResStream = streams.find(stream => stream.destinations.includes('local'));\n        const lowResStream = streams.find(stream => stream.destinations.includes('low-resolution'));\n\n        const restreamHighStreamSetting = settings.find(setting =>\n            setting.key === 'prebuffer:rtspRebroadcastUrl' &&\n            setting.subgroup === `Stream: ${highResStream.name}`\n        );\n        const restreamLowStreamSetting = settings.find(setting =>\n            setting.key === 'prebuffer:rtspRebroadcastUrl' &&\n            setting.subgroup === `Stream: ${lowResStream.name}`\n        );\n\n        const localEndpoint = await sdk.endpointManager.getLocalEndpoint();\n        const hostname = new URL(localEndpoint).hostname;\n        const highResUrl = exportWithRebroadcast ? restreamHighStreamSetting?.value.toString().replace(\n            'localhost', hostname\n        ) : (highResStream as any).url\n        const lowResUrl = exportWithRebroadcast ? restreamLowStreamSetting?.value.toString().replace(\n            'localhost', hostname\n        ) : (lowResStream as any).url;\n\n        const highHwacclArgs = highResStream.video.codec === 'h265' ?\n            'preset-intel-qsv-h265' :\n            'preset-intel-qsv-h264';\n        const lowHwacclArgs = lowResStream.video.codec === 'h265' ?\n            'preset-intel-qsv-h265' :\n            'preset-intel-qsv-h264';\n\n        const cameraName = toSnakeCase(cameraDevice.name);\n        const cameraConfig = `\n${cameraName}:\n  ffmpeg:\n    inputs:\n      - path: ${highResUrl}\n        hwaccel_args: ${highHwacclArgs}\n        input_args: preset-rtsp-generic\n        roles:\n          - record\n      - path: ${lowResUrl}\n        hwaccel_args: ${lowHwacclArgs}\n        input_args: preset-rtsp-generic\n        roles:\n          - detect\n          - audio\n`;\n\n        logger.log(`Add the following snippet to your cameras configuration`);\n        logger.log(cameraConfig);\n\n        // const cameraObj = {\n        //     \"ffmpeg\": {\n        //         \"inputs\": [\n        //             {\n        //                 \"path\": highResUrl,\n        //                 \"hwaccel_args\": highHwacclArgs,\n        //                 \"input_args\": \"preset-rtsp-generic\",\n        //                 \"roles\": [\n        //                     \"record\"\n        //                 ]\n        //             },\n        //             {\n        //                 \"path\": lowResUrl,\n        //                 \"hwaccel_args\": lowHwacclArgs,\n        //                 \"input_args\": \"preset-rtsp-generic\",\n        //                 \"roles\": [\n        //                     \"detect\",\n        //                     \"audio\"\n        //                 ]\n        //             }\n        //         ]\n        //     }\n        // };\n        // const currentConfig = await this.getConfiguration();\n        // const newConfig = {\n        //     ...currentConfig,\n        //     cameras: {\n        //         ...currentConfig.cameras,\n        //         [cameraName]: cameraObj,\n        //     }\n        // };\n\n        // const response = await baseFrigateApi({\n        //     apiUrl: this.storageSettings.values.serverUrl,\n        //     service: 'config/save',\n        //     params: { save_option: 'saveonly' },\n        //     body: newConfig,\n        //     method: \"POST\"\n        // });\n        // logger.log(response);\n    }\n\n    getAdditionalInterfaces() {\n        return [\n            ScryptedInterface.VideoCameraConfiguration,\n            ScryptedInterface.Camera,\n        ];\n    }\n\n    async getDevice(nativeId: string) {\n        if (nativeId === objectDetectorNativeId)\n            return this.objectDetectorDevice ||= new FrigateBridgeObjectDetector(objectDetectorNativeId, this);\n\n        if (nativeId === motionDetectorNativeId)\n            return this.motionDetectorDevice ||= new FrigateBridgeMotionDetector(motionDetectorNativeId, this);\n\n        if (nativeId === audioDetectorNativeId)\n            return this.audioDetectorDevice ||= new FrigateBridgeAudioDetector(audioDetectorNativeId, this);\n\n        if (nativeId === videoclipsNativeId)\n            return this.videoclipsDevice ||= new FrigateBridgeVideoclips(videoclipsNativeId, this);\n\n        if (nativeId === birdseyeCameraNativeId)\n            return this.birdseyeCamera ||= new FrigateBridgeBirdseyeCamera(birdseyeCameraNativeId, this);\n\n        if (nativeId === animalClassifierNativeId)\n            return this.animalClassifier ||= new FrigateBridgeClassifier(animalClassifierNativeId, this, 'Animal');\n\n        if (nativeId === vehicleClassifierNativeId)\n            return this.vehicleClassifier ||= new FrigateBridgeClassifier(vehicleClassifierNativeId, this, 'Vehicle');\n\n        if (nativeId.startsWith(importedCameraNativeIdPrefix)) {\n            const found = this.camerasMap[nativeId];\n\n            if (found) {\n                return found;\n            } else {\n                const [_, cameraName] = nativeId.split('_');\n                const newCamera = new FrigateBridgeCamera(nativeId, this, cameraName);\n                this.camerasMap[nativeId] = newCamera;\n                return newCamera;\n            }\n        }\n    }\n\n    async releaseDevice(id: string, nativeId: string): Promise<void> {\n        delete this.camerasMap[nativeId];\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n    async getSettings() {\n        try {\n            this.storageSettings.settings.mqttEnabled.hide = true;\n            const settings = await this.storageSettings.getSettings();\n            return settings;\n        } catch (e) {\n            this.getLogger().log('Error in getSettings', e);\n            return [];\n        }\n    }\n\n    async getCreateDeviceSettings(): Promise<Setting[]> {\n        const config = await this.getConfiguration();\n        const cameraNames = Object.keys(config.cameras);\n        return [\n            {\n                key: 'cameraName',\n                title: 'Camera to import',\n                type: 'string',\n                choices: cameraNames\n            },\n        ]\n    }\n\n    async createDevice(settings: DeviceCreatorSettings, nativeId?: string): Promise<string> {\n        const cameraName = settings.cameraName as string;\n\n        if (!cameraName) {\n            this.console.log('Camera name is required');\n            return;\n        }\n\n        settings.newCamera = cameraName;\n        const cameraNativeId = `${importedCameraNativeIdPrefix}_${cameraName}`;\n        await super.createDevice(settings, cameraNativeId);\n\n        const device = await this.getDevice(cameraNativeId) as FrigateBridgeCamera;\n        device.storageSettings.putSetting('cameraName', cameraName);\n\n        return cameraNativeId;\n    }\n}\n\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildFullPath = require('../core/buildFullPath');\nvar buildURL = require('./../helpers/buildURL');\nvar http = require('http');\nvar https = require('https');\nvar httpFollow = require('follow-redirects').http;\nvar httpsFollow = require('follow-redirects').https;\nvar url = require('url');\nvar zlib = require('zlib');\nvar VERSION = require('./../env/data').version;\nvar createError = require('../core/createError');\nvar enhanceError = require('../core/enhanceError');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\nvar isHttps = /https:?/;\n\n/**\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} proxy\n * @param {string} location\n */\nfunction setProxy(options, proxy, location) {\n  options.hostname = proxy.host;\n  options.host = proxy.host;\n  options.port = proxy.port;\n  options.path = location;\n\n  // Basic proxy authorization\n  if (proxy.auth) {\n    var base64 = Buffer.from(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\n    options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n  }\n\n  // If a proxy is used, any redirects must also pass through the proxy\n  options.beforeRedirect = function beforeRedirect(redirection) {\n    redirection.headers.host = redirection.host;\n    setProxy(redirection, proxy, redirection.href);\n  };\n}\n\n/*eslint consistent-return:0*/\nmodule.exports = function httpAdapter(config) {\n  return new Promise(function dispatchHttpRequest(resolvePromise, rejectPromise) {\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n    var resolve = function resolve(value) {\n      done();\n      resolvePromise(value);\n    };\n    var reject = function reject(value) {\n      done();\n      rejectPromise(value);\n    };\n    var data = config.data;\n    var headers = config.headers;\n    var headerNames = {};\n\n    Object.keys(headers).forEach(function storeLowerName(name) {\n      headerNames[name.toLowerCase()] = name;\n    });\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    if ('user-agent' in headerNames) {\n      // User-Agent is specified; handle case where no UA header is desired\n      if (!headers[headerNames['user-agent']]) {\n        delete headers[headerNames['user-agent']];\n      }\n      // Otherwise, use specified value\n    } else {\n      // Only set header if it hasn't been set in config\n      headers['User-Agent'] = 'axios/' + VERSION;\n    }\n\n    if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(createError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      if (!headerNames['content-length']) {\n        headers['Content-Length'] = data.length;\n      }\n    }\n\n    // HTTP basic authentication\n    var auth = undefined;\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    // Parse url\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    var parsed = url.parse(fullPath);\n    var protocol = parsed.protocol || 'http:';\n\n    if (!auth && parsed.auth) {\n      var urlAuth = parsed.auth.split(':');\n      var urlUsername = urlAuth[0] || '';\n      var urlPassword = urlAuth[1] || '';\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    if (auth && headerNames.authorization) {\n      delete headers[headerNames.authorization];\n    }\n\n    var isHttpsRequest = isHttps.test(protocol);\n    var agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n\n    var options = {\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\n      method: config.method.toUpperCase(),\n      headers: headers,\n      agent: agent,\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth: auth\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n    }\n\n    var proxy = config.proxy;\n    if (!proxy && proxy !== false) {\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\n      if (proxyUrl) {\n        var parsedProxyUrl = url.parse(proxyUrl);\n        var noProxyEnv = process.env.no_proxy || process.env.NO_PROXY;\n        var shouldProxy = true;\n\n        if (noProxyEnv) {\n          var noProxy = noProxyEnv.split(',').map(function trim(s) {\n            return s.trim();\n          });\n\n          shouldProxy = !noProxy.some(function proxyMatch(proxyElement) {\n            if (!proxyElement) {\n              return false;\n            }\n            if (proxyElement === '*') {\n              return true;\n            }\n            if (proxyElement[0] === '.' &&\n                parsed.hostname.substr(parsed.hostname.length - proxyElement.length) === proxyElement) {\n              return true;\n            }\n\n            return parsed.hostname === proxyElement;\n          });\n        }\n\n        if (shouldProxy) {\n          proxy = {\n            host: parsedProxyUrl.hostname,\n            port: parsedProxyUrl.port,\n            protocol: parsedProxyUrl.protocol\n          };\n\n          if (parsedProxyUrl.auth) {\n            var proxyUrlAuth = parsedProxyUrl.auth.split(':');\n            proxy.auth = {\n              username: proxyUrlAuth[0],\n              password: proxyUrlAuth[1]\n            };\n          }\n        }\n      }\n    }\n\n    if (proxy) {\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\n      setProxy(options, proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    var transport;\n    var isHttpsProxy = isHttpsRequest && (proxy ? isHttps.test(proxy.protocol) : true);\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsProxy ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      transport = isHttpsProxy ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    var req = transport.request(options, function handleResponse(res) {\n      if (req.aborted) return;\n\n      // uncompress the response body transparently if required\n      var stream = res;\n\n      // return the last request in case of redirects\n      var lastRequest = res.req || req;\n\n\n      // if no content, is HEAD request or decompress disabled we should not decompress\n      if (res.statusCode !== 204 && lastRequest.method !== 'HEAD' && config.decompress !== false) {\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'compress':\n        case 'deflate':\n        // add the unzipper to the body stream processing pipeline\n          stream = stream.pipe(zlib.createUnzip());\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        }\n      }\n\n      var response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: res.headers,\n        config: config,\n        request: lastRequest\n      };\n\n      if (config.responseType === 'stream') {\n        response.data = stream;\n        settle(resolve, reject, response);\n      } else {\n        var responseBuffer = [];\n        var totalResponseBytes = 0;\n        stream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            stream.destroy();\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              config, null, lastRequest));\n          }\n        });\n\n        stream.on('error', function handleStreamError(err) {\n          if (req.aborted) return;\n          reject(enhanceError(err, config, null, lastRequest));\n        });\n\n        stream.on('end', function handleStreamEnd() {\n          var responseData = Buffer.concat(responseBuffer);\n          if (config.responseType !== 'arraybuffer') {\n            responseData = responseData.toString(config.responseEncoding);\n            if (!config.responseEncoding || config.responseEncoding === 'utf8') {\n              responseData = utils.stripBOM(responseData);\n            }\n          }\n\n          response.data = responseData;\n          settle(resolve, reject, response);\n        });\n      }\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      if (req.aborted && err.code !== 'ERR_FR_TOO_MANY_REDIRECTS') return;\n      reject(enhanceError(err, config, null, req));\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      var timeout = parseInt(config.timeout, 10);\n\n      if (isNaN(timeout)) {\n        reject(createError(\n          'error trying to parse `config.timeout` to int',\n          config,\n          'ERR_PARSE_TIMEOUT',\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devoring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        req.abort();\n        var transitional = config.transitional || defaults.transitional;\n        reject(createError(\n          'timeout of ' + timeout + 'ms exceeded',\n          config,\n          transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n          req\n        ));\n      });\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (req.aborted) return;\n\n        req.abort();\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n\n    // Send the request\n    if (utils.isStream(data)) {\n      data.on('error', function handleStreamError(err) {\n        reject(enhanceError(err, config, null, req));\n      }).pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n","export enum DetectionClass {\n    Motion = 'motion',\n    Person = 'person',\n    Vehicle = 'vehicle',\n    Animal = 'animal',\n    Audio = 'audio',\n    AnyObject = 'any_object',\n    Face = 'face',\n    Plate = 'plate',\n    Package = 'package',\n    Doorbell = 'doorbell',\n    Sensor = 'sensor',\n}\n\nexport const classnamePrio: Partial<Record<DetectionClass, number>> = {\n    [DetectionClass.Face]: 1,\n    [DetectionClass.Plate]: 1,\n    [DetectionClass.Person]: 2,\n    [DetectionClass.Vehicle]: 3,\n    [DetectionClass.Animal]: 4,\n    [DetectionClass.Package]: 5,\n    [DetectionClass.Motion]: 6,\n}\n\nexport const basicDetectionClasses = [\n    DetectionClass.Vehicle,\n    DetectionClass.Person,\n    DetectionClass.Animal,\n];\n\nexport const defaultDetectionClasses = Object.values(DetectionClass);\n\nexport const animalClasses = [\n    // General\n    DetectionClass.Animal,\n\n    // Camera specific\n    'dog_cat',\n\n    // Mammals\n    'dog',\n    'cat',\n    'horse',\n    'sheep',\n    'cow',\n    'elephant',\n    'bear',\n    'zebra',\n    'giraffe',\n    'mouse',\n    'rabbit',\n    'deer',\n    'lion',\n    'tiger',\n\n    // Birds\n    'bird',\n    'eagle',\n    'owl',\n    'pigeon',\n\n    // Marine Animals\n    'fish',\n    'whale',\n    'dolphin',\n\n    // Reptiles/Amphibians\n    'snake',\n    'turtle',\n    'lizard'\n];\n\nexport const personClasses = [\n    // General\n    DetectionClass.Person,\n\n    // Camera specific\n    'people',\n\n    // Activities\n    'pedestrian',\n    'rider',\n    'driver',\n    'cyclist',\n    'skier',\n    'skateboarder',\n\n    // Body Parts\n    'face',\n    'hand',\n    'head',\n    'body'\n];\n\nexport const vehicleClasses = [\n    // General\n    DetectionClass.Vehicle,\n\n    // Road Vehicles\n    'car',\n    'truck',\n    'bus',\n    'motorcycle',\n    'bicycle',\n    'van',\n\n    // Special Vehicles\n    'ambulance',\n    'police_car',\n    'fire_truck',\n\n    // Public Transportation\n    'train',\n    'subway',\n    'tram',\n\n    // Others\n    'airplane',\n    'boat',\n    'ship',\n    'helicopter'\n];\n\nexport const faceClasses = [\n    DetectionClass.Face,\n\n    // Main Face Components\n    'eyes',\n    'nose',\n    'mouth',\n    'ears',\n    'eyebrows',\n\n    // Detailed Eye Features\n    'left_eye',\n    'right_eye',\n    'pupil',\n    'iris',\n    'eyelid',\n    'eye_corner',\n\n    // Detailed Mouth Features\n    'upper_lip',\n    'lower_lip',\n    'teeth',\n\n    // Other Facial Features\n    'chin',\n    'cheek',\n    'forehead',\n    'jaw',\n\n    // Facial Accessories\n    'glasses',\n    'sunglasses',\n    'facial_hair',\n    'beard',\n    'mustache',\n\n    // Facial Landmarks\n    'facial_landmark',\n    'facial_keypoint'\n];\n\nexport const licensePlateClasses = [\n    DetectionClass.Plate,\n\n    // Plate Types\n    'license_plate',\n    'front_plate',\n    'rear_plate',\n    'motorcycle_plate',\n    'temporary_plate',\n    'dealer_plate',\n    'licensePlate',\n\n    // Plate Components\n    'plate_number',\n    'plate_character',\n    'plate_digit',\n    'plate_letter',\n    'plate_symbol',\n    'plate_region',\n    'plate_country_identifier',\n\n    // Plate Features\n    'plate_frame',\n    'plate_bolt',\n    'plate_sticker',\n    'plate_validation_tag',\n\n    // Plate Conditions\n    'damaged_plate',\n    'obscured_plate',\n    'dirty_plate'\n];\n\nexport const motionClasses = [\n    DetectionClass.Motion,\n    'movement',\n\n    // Reolink battery cams\n    'other',\n]\n\nexport const packageClasses = [\n    DetectionClass.Package,\n    'packet',\n]\n\nexport const objectClasses = [\n    DetectionClass.AnyObject,\n    'object',\n]\n\nexport const audioClasses = [\n    DetectionClass.Audio,\n\n    \"speech\", \"scream\", \"babbling\", \"yell\", \"bellow\", \"whoop\", \"whispering\", \"laughter\", \"snicker\",\n    \"crying\", \"sigh\", \"singing\", \"choir\", \"sodeling\", \"chant\", \"mantra\", \"child_singing\",\n    \"synthetic_singing\", \"rapping\", \"humming\", \"groan\", \"grunt\", \"whistling\", \"breathing\",\n    \"wheeze\", \"snoring\", \"gasp\", \"pant\", \"snort\", \"cough\", \"throat_clearing\", \"sneeze\",\n    \"sniff\", \"run\", \"shuffle\", \"footsteps\", \"chewing\", \"biting\", \"gargling\", \"stomach_rumble\",\n    \"burping\", \"hiccup\", \"fart\", \"hands\", \"finger_snapping\", \"clapping\", \"heartbeat\",\n    \"heart_murmur\", \"cheering\", \"applause\", \"chatter\", \"crowd\", \"children_playing\",\n    \"pets\", \"bark\", \"yip\", \"howl\", \"bow-wow\", \"growling\", \"whimper_dog\", \"purr\", \"meow\", \"hiss\",\n    \"caterwaul\", \"livestock\", \"clip-clop\", \"neigh\", \"cattle\", \"moo\", \"cowbell\", \"pig\", \"oink\",\n    \"goat\", \"bleat\", \"fowl\", \"chicken\", \"cluck\", \"cock-a-doodle-doo\", \"turkey\", \"gobble\", \"duck\",\n    \"quack\", \"goose\", \"honk\", \"wild_animals\", \"roaring_cats\", \"roar\", \"chird\", \"chirp\", \"squawk\",\n    \"coo\", \"crow\", \"caw\", \"hoot\", \"flapping_wings\", \"dogs\", \"rats\", \"patter\", \"insect\", \"cricket\",\n    \"mosquito\", \"fly\", \"buzz\", \"frog\", \"croak\", \"rattle\", \"whale_vocalization\", \"music\",\n    \"musical_instrument\", \"plucked_string_instrument\", \"guitar\", \"electric_guitar\", \"bass_guitar\",\n    \"acoustic_guitar\", \"steel_guitar\", \"tapping\", \"strum\", \"banjo\", \"sitar\", \"mandolin\", \"zither\",\n    \"ukulele\", \"keyboard\", \"piano\", \"electric_piano\", \"organ\", \"electronic_organ\", \"hammond_organ\",\n    \"synthesizer\", \"sampler\", \"harpsichord\", \"percussion\", \"drum_kit\", \"drum_machine\", \"drum\",\n    \"snare_drum\", \"rimshot\", \"drum_roll\", \"bass_drum\", \"timpani\", \"tabla\", \"cymbal\", \"hi-hat\",\n    \"wood_block\", \"tambourine\", \"maraca\", \"gong\", \"tubular_bells\", \"mallet_percussion\", \"marimba\",\n    \"glockenspiel\", \"vibraphone\", \"steelpan\", \"orchestra\", \"brass_instrument\", \"french_horn\",\n    \"trumpet\", \"trombone\", \"bowed_string_instrument\", \"string_section\", \"violin\", \"pizzicato\",\n    \"cello\", \"double_bass\", \"wind_instrument\", \"flute\", \"saxophone\", \"clarinet\", \"harp\", \"bell\",\n    \"church_bell\", \"jingle_bell\", \"bicycle_bell\", \"tuning_fork\", \"chime\", \"wind_chime\",\n    \"change_ringing\", \"harmonica\", \"accordion\", \"bagpipes\", \"didgeridoo\", \"shofar\", \"theremin\",\n    \"singing_bowl\", \"scratching\", \"pop_music\", \"hip_hop_music\", \"beatboxing\", \"rock_music\",\n    \"heavy_metal\", \"punk_rock\", \"grunge\", \"progressive_rock\", \"rock_and_roll\", \"psychedelic_rock\",\n    \"rhythm_and_blues\", \"soul_music\", \"reggae\", \"country\", \"swing_music\", \"bluegrass\", \"funk\",\n    \"folk_music\", \"middle_eastern_music\", \"jazz\", \"disco\", \"classical_music\", \"opera\",\n    \"electronic_music\", \"house_music\", \"techno\", \"dubstep\", \"drum_and_bass\", \"electronica\",\n    \"electronic_dance_music\", \"ambient_music\", \"trance_music\", \"music_of_latin_america\",\n    \"salsa_music\", \"flamenco\", \"blues\", \"music_for_children\", \"new-age_music\", \"vocal_music\",\n    \"a_capella\", \"music_of_africa\", \"afrobeat\", \"christian_music\", \"gospel_music\", \"music_of_asia\",\n    \"carnatic_music\", \"music_of_bollywood\", \"ska\", \"traditional_music\", \"independent_music\",\n    \"song\", \"background_music\", \"theme_music\", \"jingle\", \"soundtrack_music\", \"lullaby\",\n    \"video_game_music\", \"christmas_music\", \"dance_music\", \"wedding_music\", \"happy_music\",\n    \"sad_music\", \"tender_music\", \"exciting_music\", \"angry_music\", \"scary_music\", \"wind\",\n    \"rustling_leaves\", \"wind_noise\", \"thunderstorm\", \"thunder\", \"water\", \"rain\", \"raindrop\",\n    \"rain_on_surface\", \"stream\", \"waterfall\", \"ocean\", \"waves\", \"steam\", \"gurgling\", \"fire\",\n    \"crackle\", \"sailboat\", \"rowboat\", \"motorboat\", \"air_brake\", \"air_horn\",\n    \"reversing_beeps\", \"ice_cream_truck\", \"aircraft_engine\", \"jet_engine\", \"propeller\",\n    \"fixed-wing_aircraft\", \"engine\", \"light_engine\", \"dental_drill's_drill\", \"lawn_mower\",\n    \"chainsaw\", \"medium_engine\", \"heavy_engine\", \"engine_knocking\", \"engine_starting\", \"idling\",\n    \"accelerating\", \"door\", \"doorbell\", \"ding-dong\", \"sliding_door\", \"slam\", \"knock\", \"tap\",\n    \"squeak\", \"cupboard_open_or_close\", \"drawer_open_or_close\", \"dishes\", \"cutlery\", \"chopping\",\n    \"frying\", \"microwave_oven\", \"blender\", \"water_tap\", \"sink\", \"bathtub\", \"hair_dryer\",\n    \"toilet_flush\", \"toothbrush\", \"electric_toothbrush\", \"vacuum_cleaner\", \"zipper\",\n    \"keys_jangling\", \"coin\", \"scissors\", \"electric_shaver\", \"shuffling_cards\", \"typing\",\n    \"typewriter\", \"computer_keyboard\", \"writing\", \"alarm\", \"telephone\", \"telephone_bell_ringing\",\n    \"ringtone\", \"telephone_dialing\", \"dial_tone\", \"busy_signal\", \"alarm_clock\", \"siren\",\n    \"civil_defense_siren\", \"buzzer\", \"smoke_detector\", \"fire_alarm\", \"foghorn\", \"whistle\",\n    \"steam_whistle\", \"mechanisms\", \"ratchet\", \"clock\", \"tick\", \"tick-tock\", \"gears\", \"pulleys\",\n    \"sewing_machine\", \"mechanical_fan\", \"air_conditioning\", \"cash_register\", \"printer\", \"camera\",\n    \"single-lens_reflex_camera\", \"tools\", \"hammer\", \"jackhammer\", \"sawing\", \"filing\", \"sanding\",\n    \"power_tool\", \"drill\", \"explosion\", \"gunshot\", \"machine_gun\", \"fusillade\", \"artillery_fire\",\n    \"cap_gun\", \"fireworks\", \"firecracker\", \"burst\", \"eruption\", \"boom\", \"wood\", \"chop\", \"splinter\",\n    \"crack\", \"glass\", \"chink\", \"shatter\", \"liquid\", \"splash\", \"slosh\", \"squish\", \"drip\", \"pour\",\n    \"trickle\", \"gush\", \"fill\", \"spray\", \"pump\", \"stir\", \"boiling\", \"sonar\", \"arrow\", \"whoosh\",\n    \"thump\", \"thunk\", \"electronic_tuner\", \"effects_unit\", \"chorus_effect\", \"basketball_bounce\",\n    \"bang\", \"slap\", \"whack\", \"smash\", \"breaking\", \"bouncing\", \"whip\", \"flap\", \"scratch\", \"scrape\",\n    \"rub\", \"roll\", \"crushing\", \"crumpling\", \"tearing\", \"beep\", \"ping\", \"ding\", \"clang\", \"squeal\",\n    \"creak\", \"rustle\", \"whir\", \"clatter\", \"sizzle\", \"clicking\", \"clickety-clack\", \"rumble\", \"plop\",\n    \"jingle\", \"hum\", \"zing\", \"boing\", \"crunch\", \"silence\", \"sine_wave\", \"harmonic\", \"chirp_tone\",\n    \"sound_effect\", \"pulse\", \"inside\", \"outside\", \"reverberation\", \"echo\", \"noise\",\n    \"environmental_noise\", \"static\", \"mains_hum\", \"distortion\", \"sidetone\", \"cacophony\",\n    \"white_noise\", \"pink_noise\", \"throbbing\", \"vibration\", \"television\", \"radio\", \"field_recording\"\n];\n\nexport const doorbellClasses = [\n    DetectionClass.Doorbell,\n\n    'ring',\n];\n\nexport const isFaceClassname = (classname: string) => faceClasses.includes(classname);\nexport const isPlateClassname = (classname: string) => licensePlateClasses.includes(classname);\nexport const isAnimalClassname = (classname: string) => animalClasses.includes(classname);\nexport const isPersonClassname = (classname: string) => personClasses.includes(classname);\nexport const isVehicleClassname = (classname: string) => vehicleClasses.includes(classname);\nexport const isMotionClassname = (classname: string) => motionClasses.includes(classname);\nexport const isDoorbellClassname = (classname: string) => doorbellClasses.includes(classname);\nexport const isPackageClassname = (classname: string) => packageClasses.includes(classname);\nexport const isAudioClassname = (classname: string) => audioClasses.includes(classname);\nexport const isLabelDetection = (classname: string) => isFaceClassname(classname) || isPlateClassname(classname);\nexport const isObjectClassname = (classname: string) =>\n    isPackageClassname(classname) ||\n    isAnimalClassname(classname) ||\n    isPersonClassname(classname) ||\n    isVehicleClassname(classname);\n\nexport const detectionClassesDefaultMap: Record<string, DetectionClass> = {\n    ...animalClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Animal }), {}),\n    ...personClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Person }), {}),\n    ...vehicleClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Vehicle }), {}),\n    ...motionClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Motion }), {}),\n    ...packageClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Package }), {}),\n    ...faceClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Face }), {}),\n    ...licensePlateClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Plate }), {}),\n    ...objectClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.AnyObject }), {}),\n    ...audioClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Audio }), {}),\n    ...doorbellClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Doorbell }), {}),\n}\n\nexport const getParentDetectionClass = (det: { label?: string, className: string }) => {\n    const { className } = det;\n    const baseMap = {\n        [DetectionClass.Face]: DetectionClass.Person,\n        [DetectionClass.Plate]: DetectionClass.Vehicle,\n    };\n\n    const parentGroup = detectionClassesDefaultMap[className];\n    if (parentGroup && parentGroup !== className) {\n        return parentGroup;\n    } else {\n        return baseMap[className];\n    }\n};\n\n// visual similarity\nconst similarCharacters = [\n    ['0', 'O', 'D'],\n    ['1', 'I'],\n    ['2', 'Z'],\n    ['4', 'A'],\n    ['5', 'S'],\n    ['8', 'B'],\n    ['6', 'G'],\n    // not sure about this one.\n    ['A', '4'],\n    ['C', 'G'],\n    ['E', 'F'],\n];\n\nconst similarCharactersMap = new Map<string, Set<string>>();\nfor (const similarCharacter of similarCharacters) {\n    for (const character of similarCharacter) {\n        if (!similarCharactersMap.has(character)) {\n            similarCharactersMap.set(character, new Set());\n        }\n        for (const similar of similarCharacter) {\n            similarCharactersMap.get(character)!.add(similar);\n        }\n    }\n}\n\nconst isSameCharacter = (c1: string, c2: string) => {\n    if (c1 === c2)\n        return true;\n\n    return similarCharactersMap.get(c1)?.has(c2);\n}\n\nexport const levenshteinDistance = (str1: string, str2: string): number => {\n    // todo: handle lower/uppercase similarity in similarCharacters above.\n    // ie, b is visualy similar to 6, but does not really look like B.\n    // others include e and C. v, u and Y. l, i, 1.\n    str1 = str1.toUpperCase();\n    str2 = str2.toUpperCase();\n\n    const len1 = str1.length;\n    const len2 = str2.length;\n\n    // If either string is empty, the distance is the length of the other string\n    if (len1 === 0) return len2;\n    if (len2 === 0) return len1;\n\n    let prev: number[] = new Array(len2 + 1);\n    let curr: number[] = new Array(len2 + 1);\n\n    // Initialize the first row of the matrix to be the index of the second string\n    for (let i = 0; i <= len2; i++) {\n        prev[i] = i;\n    }\n\n    for (let i = 1; i <= len1; i++) {\n        // Initialize the current row with the distance from the previous row's first element\n        curr[0] = i;\n\n        for (let j = 1; j <= len2; j++) {\n            let cost = isSameCharacter(str1.charAt(i - 1), str2.charAt(j - 1)) ? 0 : 1;\n\n            // Compute the minimum of three possible operations: insertion, deletion, or substitution\n            curr[j] = Math.min(prev[j] + 1, curr[j - 1] + 1, prev[j - 1] + cost);\n        }\n\n        // Swap the previous and current rows for the next iteration\n        const temp = prev;\n        prev = curr;\n        curr = temp;\n    }\n\n    return prev[len2];\n}\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isReactNativeBrowser = exports.isWebWorker = void 0;\nconst isStandardBrowserEnv = () => {\n    var _a;\n    if (typeof window !== 'undefined') {\n        const electronRenderCheck = typeof navigator !== 'undefined' &&\n            ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.toLowerCase().indexOf(' electron/')) > -1;\n        if (electronRenderCheck && (process === null || process === void 0 ? void 0 : process.versions)) {\n            const electronMainCheck = Object.prototype.hasOwnProperty.call(process.versions, 'electron');\n            return !electronMainCheck;\n        }\n        return typeof window.document !== 'undefined';\n    }\n    return false;\n};\nconst isWebWorkerEnv = () => {\n    var _a, _b;\n    return Boolean(typeof self === 'object' &&\n        ((_b = (_a = self === null || self === void 0 ? void 0 : self.constructor) === null || _a === void 0 ? void 0 : _a.name) === null || _b === void 0 ? void 0 : _b.includes('WorkerGlobalScope')));\n};\nconst isReactNativeEnv = () => typeof navigator !== 'undefined' && navigator.product === 'ReactNative';\nconst isBrowser = isStandardBrowserEnv() || isWebWorkerEnv() || isReactNativeEnv();\nexports.isWebWorker = isWebWorkerEnv();\nexports.isReactNativeBrowser = isReactNativeEnv();\nexports.default = isBrowser;\n//# sourceMappingURL=is-browser.js.map","'use strict'\n\nconst { pipeline } = require('./pipeline')\nconst Duplex = require('./duplex')\nconst { destroyer } = require('./destroy')\nconst {\n  isNodeStream,\n  isReadable,\n  isWritable,\n  isWebStream,\n  isTransformStream,\n  isWritableStream,\n  isReadableStream\n} = require('./utils')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_VALUE, ERR_MISSING_ARGS }\n} = require('../../ours/errors')\nconst eos = require('./end-of-stream')\nmodule.exports = function compose(...streams) {\n  if (streams.length === 0) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  if (streams.length === 1) {\n    return Duplex.from(streams[0])\n  }\n  const orgStreams = [...streams]\n  if (typeof streams[0] === 'function') {\n    streams[0] = Duplex.from(streams[0])\n  }\n  if (typeof streams[streams.length - 1] === 'function') {\n    const idx = streams.length - 1\n    streams[idx] = Duplex.from(streams[idx])\n  }\n  for (let n = 0; n < streams.length; ++n) {\n    if (!isNodeStream(streams[n]) && !isWebStream(streams[n])) {\n      // TODO(ronag): Add checks for non streams.\n      continue\n    }\n    if (\n      n < streams.length - 1 &&\n      !(isReadable(streams[n]) || isReadableStream(streams[n]) || isTransformStream(streams[n]))\n    ) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be readable')\n    }\n    if (n > 0 && !(isWritable(streams[n]) || isWritableStream(streams[n]) || isTransformStream(streams[n]))) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be writable')\n    }\n  }\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  }\n  const head = streams[0]\n  const tail = pipeline(streams, onfinished)\n  const writable = !!(isWritable(head) || isWritableStream(head) || isTransformStream(head))\n  const readable = !!(isReadable(tail) || isReadableStream(tail) || isTransformStream(tail))\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplex({\n    // TODO (ronag): highWaterMark?\n    writableObjectMode: !!(head !== null && head !== undefined && head.writableObjectMode),\n    readableObjectMode: !!(tail !== null && tail !== undefined && tail.readableObjectMode),\n    writable,\n    readable\n  })\n  if (writable) {\n    if (isNodeStream(head)) {\n      d._write = function (chunk, encoding, callback) {\n        if (head.write(chunk, encoding)) {\n          callback()\n        } else {\n          ondrain = callback\n        }\n      }\n      d._final = function (callback) {\n        head.end()\n        onfinish = callback\n      }\n      head.on('drain', function () {\n        if (ondrain) {\n          const cb = ondrain\n          ondrain = null\n          cb()\n        }\n      })\n    } else if (isWebStream(head)) {\n      const writable = isTransformStream(head) ? head.writable : head\n      const writer = writable.getWriter()\n      d._write = async function (chunk, encoding, callback) {\n        try {\n          await writer.ready\n          writer.write(chunk).catch(() => {})\n          callback()\n        } catch (err) {\n          callback(err)\n        }\n      }\n      d._final = async function (callback) {\n        try {\n          await writer.ready\n          writer.close().catch(() => {})\n          onfinish = callback\n        } catch (err) {\n          callback(err)\n        }\n      }\n    }\n    const toRead = isTransformStream(tail) ? tail.readable : tail\n    eos(toRead, () => {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    if (isNodeStream(tail)) {\n      tail.on('readable', function () {\n        if (onreadable) {\n          const cb = onreadable\n          onreadable = null\n          cb()\n        }\n      })\n      tail.on('end', function () {\n        d.push(null)\n      })\n      d._read = function () {\n        while (true) {\n          const buf = tail.read()\n          if (buf === null) {\n            onreadable = d._read\n            return\n          }\n          if (!d.push(buf)) {\n            return\n          }\n        }\n      }\n    } else if (isWebStream(tail)) {\n      const readable = isTransformStream(tail) ? tail.readable : tail\n      const reader = readable.getReader()\n      d._read = async function () {\n        while (true) {\n          try {\n            const { value, done } = await reader.read()\n            if (!d.push(value)) {\n              return\n            }\n            if (done) {\n              d.push(null)\n              return\n            }\n          } catch {\n            return\n          }\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      if (isNodeStream(tail)) {\n        destroyer(tail, err)\n      }\n    }\n  }\n  return d\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.5.49\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"buttons\"] = \"buttons\";\n    ScryptedInterfaceProperty[\"sensors\"] = \"sensors\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"resolution\"] = \"resolution\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"sleeping\"] = \"sleeping\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"chatCompletionCapabilities\"] = \"chatCompletionCapabilities\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"pressButton\"] = \"pressButton\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getVideoTextOverlays\"] = \"getVideoTextOverlays\";\n    ScryptedInterfaceMethod[\"setVideoTextOverlay\"] = \"setVideoTextOverlay\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"forkInterface\"] = \"forkInterface\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n    ScryptedInterfaceMethod[\"getChatCompletion\"] = \"getChatCompletion\";\n    ScryptedInterfaceMethod[\"streamChatCompletion\"] = \"streamChatCompletion\";\n    ScryptedInterfaceMethod[\"getTextEmbedding\"] = \"getTextEmbedding\";\n    ScryptedInterfaceMethod[\"getImageEmbedding\"] = \"getImageEmbedding\";\n    ScryptedInterfaceMethod[\"callLLMTool\"] = \"callLLMTool\";\n    ScryptedInterfaceMethod[\"getLLMTools\"] = \"getLLMTools\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    \"ScryptedDevice\": {\n        \"name\": \"ScryptedDevice\",\n        \"methods\": [\n            \"listen\",\n            \"probe\",\n            \"setMixins\",\n            \"setName\",\n            \"setRoom\",\n            \"setType\"\n        ],\n        \"properties\": [\n            \"id\",\n            \"info\",\n            \"interfaces\",\n            \"mixins\",\n            \"name\",\n            \"nativeId\",\n            \"pluginId\",\n            \"providedInterfaces\",\n            \"providedName\",\n            \"providedRoom\",\n            \"providedType\",\n            \"providerId\",\n            \"room\",\n            \"type\"\n        ]\n    },\n    \"ScryptedPlugin\": {\n        \"name\": \"ScryptedPlugin\",\n        \"methods\": [\n            \"getPluginJson\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedPluginRuntime\": {\n        \"name\": \"ScryptedPluginRuntime\",\n        \"methods\": [],\n        \"properties\": [\n            \"scryptedRuntimeArguments\"\n        ]\n    },\n    \"OnOff\": {\n        \"name\": \"OnOff\",\n        \"methods\": [\n            \"turnOff\",\n            \"turnOn\"\n        ],\n        \"properties\": [\n            \"on\"\n        ]\n    },\n    \"Brightness\": {\n        \"name\": \"Brightness\",\n        \"methods\": [\n            \"setBrightness\"\n        ],\n        \"properties\": [\n            \"brightness\"\n        ]\n    },\n    \"ColorSettingTemperature\": {\n        \"name\": \"ColorSettingTemperature\",\n        \"methods\": [\n            \"getTemperatureMaxK\",\n            \"getTemperatureMinK\",\n            \"setColorTemperature\"\n        ],\n        \"properties\": [\n            \"colorTemperature\"\n        ]\n    },\n    \"ColorSettingRgb\": {\n        \"name\": \"ColorSettingRgb\",\n        \"methods\": [\n            \"setRgb\"\n        ],\n        \"properties\": [\n            \"rgb\"\n        ]\n    },\n    \"ColorSettingHsv\": {\n        \"name\": \"ColorSettingHsv\",\n        \"methods\": [\n            \"setHsv\"\n        ],\n        \"properties\": [\n            \"hsv\"\n        ]\n    },\n    \"Buttons\": {\n        \"name\": \"Buttons\",\n        \"methods\": [],\n        \"properties\": [\n            \"buttons\"\n        ]\n    },\n    \"PressButtons\": {\n        \"name\": \"PressButtons\",\n        \"methods\": [\n            \"pressButton\"\n        ],\n        \"properties\": []\n    },\n    \"Sensors\": {\n        \"name\": \"Sensors\",\n        \"methods\": [],\n        \"properties\": [\n            \"sensors\"\n        ]\n    },\n    \"Notifier\": {\n        \"name\": \"Notifier\",\n        \"methods\": [\n            \"sendNotification\"\n        ],\n        \"properties\": []\n    },\n    \"StartStop\": {\n        \"name\": \"StartStop\",\n        \"methods\": [\n            \"start\",\n            \"stop\"\n        ],\n        \"properties\": [\n            \"running\"\n        ]\n    },\n    \"Pause\": {\n        \"name\": \"Pause\",\n        \"methods\": [\n            \"pause\",\n            \"resume\"\n        ],\n        \"properties\": [\n            \"paused\"\n        ]\n    },\n    \"Dock\": {\n        \"name\": \"Dock\",\n        \"methods\": [\n            \"dock\"\n        ],\n        \"properties\": [\n            \"docked\"\n        ]\n    },\n    \"TemperatureSetting\": {\n        \"name\": \"TemperatureSetting\",\n        \"methods\": [\n            \"setTemperature\"\n        ],\n        \"properties\": [\n            \"temperatureSetting\"\n        ]\n    },\n    \"Thermometer\": {\n        \"name\": \"Thermometer\",\n        \"methods\": [\n            \"setTemperatureUnit\"\n        ],\n        \"properties\": [\n            \"temperature\",\n            \"temperatureUnit\"\n        ]\n    },\n    \"HumiditySensor\": {\n        \"name\": \"HumiditySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"humidity\"\n        ]\n    },\n    \"Camera\": {\n        \"name\": \"Camera\",\n        \"methods\": [\n            \"getPictureOptions\",\n            \"takePicture\"\n        ],\n        \"properties\": []\n    },\n    \"Resolution\": {\n        \"name\": \"Resolution\",\n        \"methods\": [],\n        \"properties\": [\n            \"resolution\"\n        ]\n    },\n    \"Microphone\": {\n        \"name\": \"Microphone\",\n        \"methods\": [\n            \"getAudioStream\"\n        ],\n        \"properties\": []\n    },\n    \"AudioVolumeControl\": {\n        \"name\": \"AudioVolumeControl\",\n        \"methods\": [\n            \"setAudioVolumes\"\n        ],\n        \"properties\": [\n            \"audioVolumes\"\n        ]\n    },\n    \"Display\": {\n        \"name\": \"Display\",\n        \"methods\": [\n            \"startDisplay\",\n            \"stopDisplay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCamera\": {\n        \"name\": \"VideoCamera\",\n        \"methods\": [\n            \"getVideoStream\",\n            \"getVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraMask\": {\n        \"name\": \"VideoCameraMask\",\n        \"methods\": [\n            \"getPrivacyMasks\",\n            \"setPrivacyMasks\"\n        ],\n        \"properties\": []\n    },\n    \"VideoTextOverlays\": {\n        \"name\": \"VideoTextOverlays\",\n        \"methods\": [\n            \"getVideoTextOverlays\",\n            \"setVideoTextOverlay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoRecorder\": {\n        \"name\": \"VideoRecorder\",\n        \"methods\": [\n            \"getRecordingStream\",\n            \"getRecordingStreamCurrentTime\",\n            \"getRecordingStreamOptions\",\n            \"getRecordingStreamThumbnail\"\n        ],\n        \"properties\": [\n            \"recordingActive\"\n        ]\n    },\n    \"VideoRecorderManagement\": {\n        \"name\": \"VideoRecorderManagement\",\n        \"methods\": [\n            \"deleteRecordingStream\",\n            \"setRecordingActive\"\n        ],\n        \"properties\": []\n    },\n    \"PanTiltZoom\": {\n        \"name\": \"PanTiltZoom\",\n        \"methods\": [\n            \"ptzCommand\"\n        ],\n        \"properties\": [\n            \"ptzCapabilities\"\n        ]\n    },\n    \"EventRecorder\": {\n        \"name\": \"EventRecorder\",\n        \"methods\": [\n            \"getRecordedEvents\"\n        ],\n        \"properties\": []\n    },\n    \"VideoClips\": {\n        \"name\": \"VideoClips\",\n        \"methods\": [\n            \"getVideoClip\",\n            \"getVideoClips\",\n            \"getVideoClipThumbnail\",\n            \"removeVideoClips\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraConfiguration\": {\n        \"name\": \"VideoCameraConfiguration\",\n        \"methods\": [\n            \"setVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"Intercom\": {\n        \"name\": \"Intercom\",\n        \"methods\": [\n            \"startIntercom\",\n            \"stopIntercom\"\n        ],\n        \"properties\": []\n    },\n    \"Lock\": {\n        \"name\": \"Lock\",\n        \"methods\": [\n            \"lock\",\n            \"unlock\"\n        ],\n        \"properties\": [\n            \"lockState\"\n        ]\n    },\n    \"PasswordStore\": {\n        \"name\": \"PasswordStore\",\n        \"methods\": [\n            \"addPassword\",\n            \"getPasswords\",\n            \"removePassword\"\n        ],\n        \"properties\": []\n    },\n    \"Scene\": {\n        \"name\": \"Scene\",\n        \"methods\": [\n            \"activate\",\n            \"deactivate\",\n            \"isReversible\"\n        ],\n        \"properties\": []\n    },\n    \"Entry\": {\n        \"name\": \"Entry\",\n        \"methods\": [\n            \"closeEntry\",\n            \"openEntry\"\n        ],\n        \"properties\": []\n    },\n    \"EntrySensor\": {\n        \"name\": \"EntrySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"entryOpen\"\n        ]\n    },\n    \"DeviceProvider\": {\n        \"name\": \"DeviceProvider\",\n        \"methods\": [\n            \"getDevice\",\n            \"releaseDevice\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceDiscovery\": {\n        \"name\": \"DeviceDiscovery\",\n        \"methods\": [\n            \"adoptDevice\",\n            \"discoverDevices\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceCreator\": {\n        \"name\": \"DeviceCreator\",\n        \"methods\": [\n            \"createDevice\",\n            \"getCreateDeviceSettings\"\n        ],\n        \"properties\": []\n    },\n    \"Battery\": {\n        \"name\": \"Battery\",\n        \"methods\": [],\n        \"properties\": [\n            \"batteryLevel\"\n        ]\n    },\n    \"Charger\": {\n        \"name\": \"Charger\",\n        \"methods\": [],\n        \"properties\": [\n            \"chargeState\"\n        ]\n    },\n    \"Reboot\": {\n        \"name\": \"Reboot\",\n        \"methods\": [\n            \"reboot\"\n        ],\n        \"properties\": []\n    },\n    \"Refresh\": {\n        \"name\": \"Refresh\",\n        \"methods\": [\n            \"getRefreshFrequency\",\n            \"refresh\"\n        ],\n        \"properties\": []\n    },\n    \"MediaPlayer\": {\n        \"name\": \"MediaPlayer\",\n        \"methods\": [\n            \"getMediaStatus\",\n            \"load\",\n            \"seek\",\n            \"skipNext\",\n            \"skipPrevious\"\n        ],\n        \"properties\": []\n    },\n    \"Online\": {\n        \"name\": \"Online\",\n        \"methods\": [],\n        \"properties\": [\n            \"online\"\n        ]\n    },\n    \"BufferConverter\": {\n        \"name\": \"BufferConverter\",\n        \"methods\": [\n            \"convert\"\n        ],\n        \"properties\": [\n            \"fromMimeType\",\n            \"toMimeType\"\n        ]\n    },\n    \"MediaConverter\": {\n        \"name\": \"MediaConverter\",\n        \"methods\": [\n            \"convertMedia\"\n        ],\n        \"properties\": [\n            \"converters\"\n        ]\n    },\n    \"Settings\": {\n        \"name\": \"Settings\",\n        \"methods\": [\n            \"getSettings\",\n            \"putSetting\"\n        ],\n        \"properties\": []\n    },\n    \"BinarySensor\": {\n        \"name\": \"BinarySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"binaryState\"\n        ]\n    },\n    \"TamperSensor\": {\n        \"name\": \"TamperSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"tampered\"\n        ]\n    },\n    \"Sleep\": {\n        \"name\": \"Sleep\",\n        \"methods\": [],\n        \"properties\": [\n            \"sleeping\"\n        ]\n    },\n    \"PowerSensor\": {\n        \"name\": \"PowerSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"powerDetected\"\n        ]\n    },\n    \"AudioSensor\": {\n        \"name\": \"AudioSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"audioDetected\"\n        ]\n    },\n    \"MotionSensor\": {\n        \"name\": \"MotionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"motionDetected\"\n        ]\n    },\n    \"AmbientLightSensor\": {\n        \"name\": \"AmbientLightSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ambientLight\"\n        ]\n    },\n    \"OccupancySensor\": {\n        \"name\": \"OccupancySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"occupied\"\n        ]\n    },\n    \"FloodSensor\": {\n        \"name\": \"FloodSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"flooded\"\n        ]\n    },\n    \"UltravioletSensor\": {\n        \"name\": \"UltravioletSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ultraviolet\"\n        ]\n    },\n    \"LuminanceSensor\": {\n        \"name\": \"LuminanceSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"luminance\"\n        ]\n    },\n    \"PositionSensor\": {\n        \"name\": \"PositionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"position\"\n        ]\n    },\n    \"SecuritySystem\": {\n        \"name\": \"SecuritySystem\",\n        \"methods\": [\n            \"armSecuritySystem\",\n            \"disarmSecuritySystem\"\n        ],\n        \"properties\": [\n            \"securitySystemState\"\n        ]\n    },\n    \"PM10Sensor\": {\n        \"name\": \"PM10Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm10Density\"\n        ]\n    },\n    \"PM25Sensor\": {\n        \"name\": \"PM25Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm25Density\"\n        ]\n    },\n    \"VOCSensor\": {\n        \"name\": \"VOCSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"vocDensity\"\n        ]\n    },\n    \"NOXSensor\": {\n        \"name\": \"NOXSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"noxDensity\"\n        ]\n    },\n    \"CO2Sensor\": {\n        \"name\": \"CO2Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"co2ppm\"\n        ]\n    },\n    \"AirQualitySensor\": {\n        \"name\": \"AirQualitySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"airQuality\"\n        ]\n    },\n    \"AirPurifier\": {\n        \"name\": \"AirPurifier\",\n        \"methods\": [\n            \"setAirPurifierState\"\n        ],\n        \"properties\": [\n            \"airPurifierState\"\n        ]\n    },\n    \"FilterMaintenance\": {\n        \"name\": \"FilterMaintenance\",\n        \"methods\": [],\n        \"properties\": [\n            \"filterChangeIndication\",\n            \"filterLifeLevel\"\n        ]\n    },\n    \"Readme\": {\n        \"name\": \"Readme\",\n        \"methods\": [\n            \"getReadmeMarkdown\"\n        ],\n        \"properties\": []\n    },\n    \"OauthClient\": {\n        \"name\": \"OauthClient\",\n        \"methods\": [\n            \"getOauthUrl\",\n            \"onOauthCallback\"\n        ],\n        \"properties\": []\n    },\n    \"MixinProvider\": {\n        \"name\": \"MixinProvider\",\n        \"methods\": [\n            \"canMixin\",\n            \"getMixin\",\n            \"releaseMixin\"\n        ],\n        \"properties\": []\n    },\n    \"HttpRequestHandler\": {\n        \"name\": \"HttpRequestHandler\",\n        \"methods\": [\n            \"onRequest\"\n        ],\n        \"properties\": []\n    },\n    \"EngineIOHandler\": {\n        \"name\": \"EngineIOHandler\",\n        \"methods\": [\n            \"onConnection\"\n        ],\n        \"properties\": []\n    },\n    \"PushHandler\": {\n        \"name\": \"PushHandler\",\n        \"methods\": [\n            \"onPush\"\n        ],\n        \"properties\": []\n    },\n    \"Program\": {\n        \"name\": \"Program\",\n        \"methods\": [\n            \"run\"\n        ],\n        \"properties\": []\n    },\n    \"Scriptable\": {\n        \"name\": \"Scriptable\",\n        \"methods\": [\n            \"eval\",\n            \"loadScripts\",\n            \"saveScript\"\n        ],\n        \"properties\": []\n    },\n    \"ClusterForkInterface\": {\n        \"name\": \"ClusterForkInterface\",\n        \"methods\": [\n            \"forkInterface\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetector\": {\n        \"name\": \"ObjectDetector\",\n        \"methods\": [\n            \"getDetectionInput\",\n            \"getObjectTypes\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetection\": {\n        \"name\": \"ObjectDetection\",\n        \"methods\": [\n            \"detectObjects\",\n            \"generateObjectDetections\",\n            \"getDetectionModel\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetectionPreview\": {\n        \"name\": \"ObjectDetectionPreview\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ObjectDetectionGenerator\": {\n        \"name\": \"ObjectDetectionGenerator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"HumiditySetting\": {\n        \"name\": \"HumiditySetting\",\n        \"methods\": [\n            \"setHumidity\"\n        ],\n        \"properties\": [\n            \"humiditySetting\"\n        ]\n    },\n    \"Fan\": {\n        \"name\": \"Fan\",\n        \"methods\": [\n            \"setFan\"\n        ],\n        \"properties\": [\n            \"fan\"\n        ]\n    },\n    \"RTCSignalingChannel\": {\n        \"name\": \"RTCSignalingChannel\",\n        \"methods\": [\n            \"startRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"RTCSignalingClient\": {\n        \"name\": \"RTCSignalingClient\",\n        \"methods\": [\n            \"createRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"LauncherApplication\": {\n        \"name\": \"LauncherApplication\",\n        \"methods\": [],\n        \"properties\": [\n            \"applicationInfo\"\n        ]\n    },\n    \"ScryptedUser\": {\n        \"name\": \"ScryptedUser\",\n        \"methods\": [\n            \"getScryptedUserAccessControl\"\n        ],\n        \"properties\": []\n    },\n    \"VideoFrameGenerator\": {\n        \"name\": \"VideoFrameGenerator\",\n        \"methods\": [\n            \"generateVideoFrames\"\n        ],\n        \"properties\": []\n    },\n    \"StreamService\": {\n        \"name\": \"StreamService\",\n        \"methods\": [\n            \"connectStream\"\n        ],\n        \"properties\": []\n    },\n    \"TTY\": {\n        \"name\": \"TTY\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"TTYSettings\": {\n        \"name\": \"TTYSettings\",\n        \"methods\": [\n            \"getTTYSettings\"\n        ],\n        \"properties\": []\n    },\n    \"ChatCompletion\": {\n        \"name\": \"ChatCompletion\",\n        \"methods\": [\n            \"getChatCompletion\",\n            \"streamChatCompletion\"\n        ],\n        \"properties\": [\n            \"chatCompletionCapabilities\"\n        ]\n    },\n    \"TextEmbedding\": {\n        \"name\": \"TextEmbedding\",\n        \"methods\": [\n            \"getTextEmbedding\"\n        ],\n        \"properties\": []\n    },\n    \"ImageEmbedding\": {\n        \"name\": \"ImageEmbedding\",\n        \"methods\": [\n            \"getImageEmbedding\"\n        ],\n        \"properties\": []\n    },\n    \"LLMTools\": {\n        \"name\": \"LLMTools\",\n        \"methods\": [\n            \"callLLMTool\",\n            \"getLLMTools\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedSystemDevice\": {\n        \"name\": \"ScryptedSystemDevice\",\n        \"methods\": [],\n        \"properties\": [\n            \"systemDevice\"\n        ]\n    },\n    \"ScryptedDeviceCreator\": {\n        \"name\": \"ScryptedDeviceCreator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ScryptedSettings\": {\n        \"name\": \"ScryptedSettings\",\n        \"methods\": [],\n        \"properties\": []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    /**\n     * @deprecated\n     */\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    /**\n     * Internal devices will not show up in device lists unless explicitly searched.\n     */\n    ScryptedDeviceType[\"Internal\"] = \"Internal\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"RemoteDesktop\"] = \"RemoteDesktop\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Buttons\"] = \"Buttons\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Internet\"] = \"Internet\";\n    ScryptedDeviceType[\"Network\"] = \"Network\";\n    ScryptedDeviceType[\"Bridge\"] = \"Bridge\";\n    ScryptedDeviceType[\"LLM\"] = \"LLM\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Buttons\"] = \"Buttons\";\n    ScryptedInterface[\"PressButtons\"] = \"PressButtons\";\n    ScryptedInterface[\"Sensors\"] = \"Sensors\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Resolution\"] = \"Resolution\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoTextOverlays\"] = \"VideoTextOverlays\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"Sleep\"] = \"Sleep\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ClusterForkInterface\"] = \"ClusterForkInterface\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ChatCompletion\"] = \"ChatCompletion\";\n    ScryptedInterface[\"TextEmbedding\"] = \"TextEmbedding\";\n    ScryptedInterface[\"ImageEmbedding\"] = \"ImageEmbedding\";\n    ScryptedInterface[\"LLMTools\"] = \"LLMTools\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ack_1 = require(\"./ack\");\nconst topic_alias_send_1 = __importDefault(require(\"../topic-alias-send\"));\nconst shared_1 = require(\"../shared\");\nconst handleConnack = (client, packet) => {\n    client.log('_handleConnack');\n    const { options } = client;\n    const version = options.protocolVersion;\n    const rc = version === 5 ? packet.reasonCode : packet.returnCode;\n    clearTimeout(client['connackTimer']);\n    delete client['topicAliasSend'];\n    if (packet.properties) {\n        if (packet.properties.topicAliasMaximum) {\n            if (packet.properties.topicAliasMaximum > 0xffff) {\n                client.emit('error', new Error('topicAliasMaximum from broker is out of range'));\n                return;\n            }\n            if (packet.properties.topicAliasMaximum > 0) {\n                client['topicAliasSend'] = new topic_alias_send_1.default(packet.properties.topicAliasMaximum);\n            }\n        }\n        if (packet.properties.serverKeepAlive && options.keepalive) {\n            options.keepalive = packet.properties.serverKeepAlive;\n        }\n        if (packet.properties.maximumPacketSize) {\n            if (!options.properties) {\n                options.properties = {};\n            }\n            options.properties.maximumPacketSize =\n                packet.properties.maximumPacketSize;\n        }\n    }\n    if (rc === 0) {\n        client.reconnecting = false;\n        client['_onConnect'](packet);\n    }\n    else if (rc > 0) {\n        const err = new shared_1.ErrorWithReasonCode(`Connection refused: ${ack_1.ReasonCodes[rc]}`, rc);\n        client.emit('error', err);\n    }\n};\nexports.default = handleConnack;\n//# sourceMappingURL=connack.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypedEventEmitter = void 0;\nconst events_1 = __importDefault(require(\"events\"));\nconst shared_1 = require(\"./shared\");\nclass TypedEventEmitter {\n}\nexports.TypedEventEmitter = TypedEventEmitter;\n(0, shared_1.applyMixin)(TypedEventEmitter, events_1.default);\n//# sourceMappingURL=TypedEmitter.js.map","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex\" }] */\n\n'use strict';\n\nconst { Duplex } = require('stream');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER, kWebSocket, NOOP } = require('./constants');\nconst { isBlob, isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\nconst RANDOM_POOL_SIZE = 8 * 1024;\nlet randomPool;\nlet randomPoolPointer = RANDOM_POOL_SIZE;\n\nconst DEFAULT = 0;\nconst DEFLATING = 1;\nconst GET_BLOB_DATA = 2;\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {Duplex} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._queue = [];\n    this._state = DEFAULT;\n    this.onerror = NOOP;\n    this[kWebSocket] = undefined;\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        if (randomPoolPointer === RANDOM_POOL_SIZE) {\n          /* istanbul ignore else  */\n          if (randomPool === undefined) {\n            //\n            // This is lazily initialized because server-sent frames must not\n            // be masked so it may never be used.\n            //\n            randomPool = Buffer.alloc(RANDOM_POOL_SIZE);\n          }\n\n          randomFillSync(randomPool, 0, RANDOM_POOL_SIZE);\n          randomPoolPointer = 0;\n        }\n\n        mask[0] = randomPool[randomPoolPointer++];\n        mask[1] = randomPool[randomPoolPointer++];\n        mask[2] = randomPool[randomPoolPointer++];\n        mask[3] = randomPool[randomPoolPointer++];\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    const opts = {\n      [kByteLength]: byteLength,\n      fin: options.fin,\n      generateMask: this._generateMask,\n      mask: options.mask,\n      maskBuffer: this._maskBuffer,\n      opcode,\n      readOnly,\n      rsv1\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, this._compress, opts, cb]);\n      } else {\n        this.getBlobData(data, this._compress, opts, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n    } else {\n      this.dispatch(data, this._compress, opts, cb);\n    }\n  }\n\n  /**\n   * Gets the contents of a blob as binary data.\n   *\n   * @param {Blob} blob The blob\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     the data\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  getBlobData(blob, compress, options, cb) {\n    this._bufferedBytes += options[kByteLength];\n    this._state = GET_BLOB_DATA;\n\n    blob\n      .arrayBuffer()\n      .then((arrayBuffer) => {\n        if (this._socket.destroyed) {\n          const err = new Error(\n            'The socket was closed while the blob was being read'\n          );\n\n          //\n          // `callCallbacks` is called in the next tick to ensure that errors\n          // that might be thrown in the callbacks behave like errors thrown\n          // outside the promise chain.\n          //\n          process.nextTick(callCallbacks, this, err, cb);\n          return;\n        }\n\n        this._bufferedBytes -= options[kByteLength];\n        const data = toBuffer(arrayBuffer);\n\n        if (!compress) {\n          this._state = DEFAULT;\n          this.sendFrame(Sender.frame(data, options), cb);\n          this.dequeue();\n        } else {\n          this.dispatch(data, compress, options, cb);\n        }\n      })\n      .catch((err) => {\n        //\n        // `onError` is called in the next tick for the same reason that\n        // `callCallbacks` above is.\n        //\n        process.nextTick(onError, this, err, cb);\n      });\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._state = DEFLATING;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        callCallbacks(this, err, cb);\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._state = DEFAULT;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (this._state === DEFAULT && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n\n/**\n * Calls queued callbacks with an error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error to call the callbacks with\n * @param {Function} [cb] The first callback\n * @private\n */\nfunction callCallbacks(sender, err, cb) {\n  if (typeof cb === 'function') cb(err);\n\n  for (let i = 0; i < sender._queue.length; i++) {\n    const params = sender._queue[i];\n    const callback = params[params.length - 1];\n\n    if (typeof callback === 'function') callback(err);\n  }\n}\n\n/**\n * Handles a `Sender` error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error\n * @param {Function} [cb] The first pending callback\n * @private\n */\nfunction onError(sender, err, cb) {\n  callCallbacks(sender, err, cb);\n  sender.onerror(err);\n}\n","module.exports = require(\"http\");","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","module.exports = require(\"util\");","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) {\n        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n      }\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_PREMATURE_CLOSE } = codes\nconst { kEmptyObject, once } = require('../../ours/util')\nconst { validateAbortSignal, validateFunction, validateObject, validateBoolean } = require('../validators')\nconst { Promise, PromisePrototypeThen, SymbolDispose } = require('../../ours/primordials')\nconst {\n  isClosed,\n  isReadable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableFinished,\n  isReadableErrored,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableFinished,\n  isWritableErrored,\n  isNodeStream,\n  willEmitClose: _willEmitClose,\n  kIsClosedPromise\n} = require('./utils')\nlet addAbortListener\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function'\n}\nconst nop = () => {}\nfunction eos(stream, options, callback) {\n  var _options$readable, _options$writable\n  if (arguments.length === 2) {\n    callback = options\n    options = kEmptyObject\n  } else if (options == null) {\n    options = kEmptyObject\n  } else {\n    validateObject(options, 'options')\n  }\n  validateFunction(callback, 'callback')\n  validateAbortSignal(options.signal, 'options.signal')\n  callback = once(callback)\n  if (isReadableStream(stream) || isWritableStream(stream)) {\n    return eosWeb(stream, options, callback)\n  }\n  if (!isNodeStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  const readable =\n    (_options$readable = options.readable) !== null && _options$readable !== undefined\n      ? _options$readable\n      : isReadableNodeStream(stream)\n  const writable =\n    (_options$writable = options.writable) !== null && _options$writable !== undefined\n      ? _options$writable\n      : isWritableNodeStream(stream)\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const onlegacyfinish = () => {\n    if (!stream.writable) {\n      onfinish()\n    }\n  }\n\n  // TODO (ronag): Improve soft detection to include core modules and\n  // common ecosystem modules that do properly emit 'close' but fail\n  // this generic check.\n  let willEmitClose =\n    _willEmitClose(stream) && isReadableNodeStream(stream) === readable && isWritableNodeStream(stream) === writable\n  let writableFinished = isWritableFinished(stream, false)\n  const onfinish = () => {\n    writableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.readable || readable)) {\n      return\n    }\n    if (!readable || readableFinished) {\n      callback.call(stream)\n    }\n  }\n  let readableFinished = isReadableFinished(stream, false)\n  const onend = () => {\n    readableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.writable || writable)) {\n      return\n    }\n    if (!writable || writableFinished) {\n      callback.call(stream)\n    }\n  }\n  const onerror = (err) => {\n    callback.call(stream, err)\n  }\n  let closed = isClosed(stream)\n  const onclose = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    if (readable && !readableFinished && isReadableNodeStream(stream, true)) {\n      if (!isReadableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    if (writable && !writableFinished) {\n      if (!isWritableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    callback.call(stream)\n  }\n  const onclosed = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    callback.call(stream)\n  }\n  const onrequest = () => {\n    stream.req.on('finish', onfinish)\n  }\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish)\n    if (!willEmitClose) {\n      stream.on('abort', onclose)\n    }\n    if (stream.req) {\n      onrequest()\n    } else {\n      stream.on('request', onrequest)\n    }\n  } else if (writable && !wState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish)\n    stream.on('close', onlegacyfinish)\n  }\n\n  // Not all streams will emit 'close' after 'aborted'.\n  if (!willEmitClose && typeof stream.aborted === 'boolean') {\n    stream.on('aborted', onclose)\n  }\n  stream.on('end', onend)\n  stream.on('finish', onfinish)\n  if (options.error !== false) {\n    stream.on('error', onerror)\n  }\n  stream.on('close', onclose)\n  if (closed) {\n    process.nextTick(onclose)\n  } else if (\n    (wState !== null && wState !== undefined && wState.errorEmitted) ||\n    (rState !== null && rState !== undefined && rState.errorEmitted)\n  ) {\n    if (!willEmitClose) {\n      process.nextTick(onclosed)\n    }\n  } else if (\n    !readable &&\n    (!willEmitClose || isReadable(stream)) &&\n    (writableFinished || isWritable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (\n    !writable &&\n    (!willEmitClose || isWritable(stream)) &&\n    (readableFinished || isReadable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (rState && stream.req && stream.aborted) {\n    process.nextTick(onclosed)\n  }\n  const cleanup = () => {\n    callback = nop\n    stream.removeListener('aborted', onclose)\n    stream.removeListener('complete', onfinish)\n    stream.removeListener('abort', onclose)\n    stream.removeListener('request', onrequest)\n    if (stream.req) stream.req.removeListener('finish', onfinish)\n    stream.removeListener('end', onlegacyfinish)\n    stream.removeListener('close', onlegacyfinish)\n    stream.removeListener('finish', onfinish)\n    stream.removeListener('end', onend)\n    stream.removeListener('error', onerror)\n    stream.removeListener('close', onclose)\n  }\n  if (options.signal && !closed) {\n    const abort = () => {\n      // Keep it because cleanup removes it.\n      const endCallback = callback\n      cleanup()\n      endCallback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n      const disposable = addAbortListener(options.signal, abort)\n      const originalCallback = callback\n      callback = once((...args) => {\n        disposable[SymbolDispose]()\n        originalCallback.apply(stream, args)\n      })\n    }\n  }\n  return cleanup\n}\nfunction eosWeb(stream, options, callback) {\n  let isAborted = false\n  let abort = nop\n  if (options.signal) {\n    abort = () => {\n      isAborted = true\n      callback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n      const disposable = addAbortListener(options.signal, abort)\n      const originalCallback = callback\n      callback = once((...args) => {\n        disposable[SymbolDispose]()\n        originalCallback.apply(stream, args)\n      })\n    }\n  }\n  const resolverFn = (...args) => {\n    if (!isAborted) {\n      process.nextTick(() => callback.apply(stream, args))\n    }\n  }\n  PromisePrototypeThen(stream[kIsClosedPromise].promise, resolverFn, resolverFn)\n  return nop\n}\nfunction finished(stream, opts) {\n  var _opts\n  let autoCleanup = false\n  if (opts === null) {\n    opts = kEmptyObject\n  }\n  if ((_opts = opts) !== null && _opts !== undefined && _opts.cleanup) {\n    validateBoolean(opts.cleanup, 'cleanup')\n    autoCleanup = opts.cleanup\n  }\n  return new Promise((resolve, reject) => {\n    const cleanup = eos(stream, opts, (err) => {\n      if (autoCleanup) {\n        cleanup()\n      }\n      if (err) {\n        reject(err)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\nmodule.exports = eos\nmodule.exports.finished = finished\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReasonCodes = void 0;\nconst shared_1 = require(\"../shared\");\nexports.ReasonCodes = {\n    0: '',\n    1: 'Unacceptable protocol version',\n    2: 'Identifier rejected',\n    3: 'Server unavailable',\n    4: 'Bad username or password',\n    5: 'Not authorized',\n    16: 'No matching subscribers',\n    17: 'No subscription existed',\n    128: 'Unspecified error',\n    129: 'Malformed Packet',\n    130: 'Protocol Error',\n    131: 'Implementation specific error',\n    132: 'Unsupported Protocol Version',\n    133: 'Client Identifier not valid',\n    134: 'Bad User Name or Password',\n    135: 'Not authorized',\n    136: 'Server unavailable',\n    137: 'Server busy',\n    138: 'Banned',\n    139: 'Server shutting down',\n    140: 'Bad authentication method',\n    141: 'Keep Alive timeout',\n    142: 'Session taken over',\n    143: 'Topic Filter invalid',\n    144: 'Topic Name invalid',\n    145: 'Packet identifier in use',\n    146: 'Packet Identifier not found',\n    147: 'Receive Maximum exceeded',\n    148: 'Topic Alias invalid',\n    149: 'Packet too large',\n    150: 'Message rate too high',\n    151: 'Quota exceeded',\n    152: 'Administrative action',\n    153: 'Payload format invalid',\n    154: 'Retain not supported',\n    155: 'QoS not supported',\n    156: 'Use another server',\n    157: 'Server moved',\n    158: 'Shared Subscriptions not supported',\n    159: 'Connection rate exceeded',\n    160: 'Maximum connect time',\n    161: 'Subscription Identifiers not supported',\n    162: 'Wildcard Subscriptions not supported',\n};\nconst handleAck = (client, packet) => {\n    const { messageId } = packet;\n    const type = packet.cmd;\n    let response = null;\n    const cb = client.outgoing[messageId] ? client.outgoing[messageId].cb : null;\n    let err = null;\n    if (!cb) {\n        client.log('_handleAck :: Server sent an ack in error. Ignoring.');\n        return;\n    }\n    client.log('_handleAck :: packet type', type);\n    switch (type) {\n        case 'pubcomp':\n        case 'puback': {\n            const pubackRC = packet.reasonCode;\n            if (pubackRC && pubackRC > 0 && pubackRC !== 16) {\n                err = new shared_1.ErrorWithReasonCode(`Publish error: ${exports.ReasonCodes[pubackRC]}`, pubackRC);\n                client['_removeOutgoingAndStoreMessage'](messageId, () => {\n                    cb(err, packet);\n                });\n            }\n            else {\n                client['_removeOutgoingAndStoreMessage'](messageId, cb);\n            }\n            break;\n        }\n        case 'pubrec': {\n            response = {\n                cmd: 'pubrel',\n                qos: 2,\n                messageId,\n            };\n            const pubrecRC = packet.reasonCode;\n            if (pubrecRC && pubrecRC > 0 && pubrecRC !== 16) {\n                err = new shared_1.ErrorWithReasonCode(`Publish error: ${exports.ReasonCodes[pubrecRC]}`, pubrecRC);\n                client['_removeOutgoingAndStoreMessage'](messageId, () => {\n                    cb(err, packet);\n                });\n            }\n            else {\n                client['_sendPacket'](response);\n            }\n            break;\n        }\n        case 'suback': {\n            delete client.outgoing[messageId];\n            client.messageIdProvider.deallocate(messageId);\n            const granted = packet.granted;\n            for (let grantedI = 0; grantedI < granted.length; grantedI++) {\n                const subackRC = granted[grantedI];\n                if ((subackRC & 0x80) !== 0) {\n                    err = new Error(`Subscribe error: ${exports.ReasonCodes[subackRC]}`);\n                    err.code = subackRC;\n                    const topics = client.messageIdToTopic[messageId];\n                    if (topics) {\n                        topics.forEach((topic) => {\n                            delete client['_resubscribeTopics'][topic];\n                        });\n                    }\n                }\n            }\n            delete client.messageIdToTopic[messageId];\n            client['_invokeStoreProcessingQueue']();\n            cb(err, packet);\n            break;\n        }\n        case 'unsuback': {\n            delete client.outgoing[messageId];\n            client.messageIdProvider.deallocate(messageId);\n            client['_invokeStoreProcessingQueue']();\n            cb(null, packet);\n            break;\n        }\n        default:\n            client.emit('error', new Error('unrecognized packet type'));\n    }\n    if (client.disconnecting && Object.keys(client.outgoing).length === 0) {\n        client.emit('outgoingEmpty');\n    }\n};\nexports.default = handleAck;\n//# sourceMappingURL=ack.js.map","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict'\nmodule.exports = rfdc\n\nfunction copyBuffer (cur) {\n  if (cur instanceof Buffer) {\n    return Buffer.from(cur)\n  }\n\n  return new cur.constructor(cur.buffer.slice(), cur.byteOffset, cur.length)\n}\n\nfunction rfdc (opts) {\n  opts = opts || {}\n  if (opts.circles) return rfdcCircles(opts)\n\n  const constructorHandlers = new Map()\n  constructorHandlers.set(Date, (o) => new Date(o))\n  constructorHandlers.set(Map, (o, fn) => new Map(cloneArray(Array.from(o), fn)))\n  constructorHandlers.set(Set, (o, fn) => new Set(cloneArray(Array.from(o), fn)))\n  if (opts.constructorHandlers) {\n    for (const handler of opts.constructorHandlers) {\n      constructorHandlers.set(handler[0], handler[1])\n    }\n  }\n\n  let handler = null\n\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    const keys = Object.keys(a)\n    const a2 = new Array(keys.length)\n    for (let i = 0; i < keys.length; i++) {\n      const k = keys[i]\n      const cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        a2[k] = handler(cur, fn)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        a2[k] = fn(cur)\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, clone)\n    }\n    const o2 = {}\n    for (const k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, clone)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = clone(cur)\n      }\n    }\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, cloneProto)\n    }\n    const o2 = {}\n    for (const k in o) {\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, cloneProto)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = cloneProto(cur)\n      }\n    }\n    return o2\n  }\n}\n\nfunction rfdcCircles (opts) {\n  const refs = []\n  const refsNew = []\n\n  const constructorHandlers = new Map()\n  constructorHandlers.set(Date, (o) => new Date(o))\n  constructorHandlers.set(Map, (o, fn) => new Map(cloneArray(Array.from(o), fn)))\n  constructorHandlers.set(Set, (o, fn) => new Set(cloneArray(Array.from(o), fn)))\n  if (opts.constructorHandlers) {\n    for (const handler of opts.constructorHandlers) {\n      constructorHandlers.set(handler[0], handler[1])\n    }\n  }\n\n  let handler = null\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    const keys = Object.keys(a)\n    const a2 = new Array(keys.length)\n    for (let i = 0; i < keys.length; i++) {\n      const k = keys[i]\n      const cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        a2[k] = handler(cur, fn)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        const index = refs.indexOf(cur)\n        if (index !== -1) {\n          a2[k] = refsNew[index]\n        } else {\n          a2[k] = fn(cur)\n        }\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, clone)\n    }\n    const o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (const k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, clone)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        const i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = clone(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n      return handler(o, cloneProto)\n    }\n    const o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (const k in o) {\n      const cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n        o2[k] = handler(cur, cloneProto)\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        const i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = cloneProto(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","module.exports = require(\"net\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.5.49\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"buttons\"] = \"buttons\";\n    ScryptedInterfaceProperty[\"sensors\"] = \"sensors\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"resolution\"] = \"resolution\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"sleeping\"] = \"sleeping\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"chatCompletionCapabilities\"] = \"chatCompletionCapabilities\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"pressButton\"] = \"pressButton\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getVideoTextOverlays\"] = \"getVideoTextOverlays\";\n    ScryptedInterfaceMethod[\"setVideoTextOverlay\"] = \"setVideoTextOverlay\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"forkInterface\"] = \"forkInterface\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n    ScryptedInterfaceMethod[\"getChatCompletion\"] = \"getChatCompletion\";\n    ScryptedInterfaceMethod[\"streamChatCompletion\"] = \"streamChatCompletion\";\n    ScryptedInterfaceMethod[\"getTextEmbedding\"] = \"getTextEmbedding\";\n    ScryptedInterfaceMethod[\"getImageEmbedding\"] = \"getImageEmbedding\";\n    ScryptedInterfaceMethod[\"callLLMTool\"] = \"callLLMTool\";\n    ScryptedInterfaceMethod[\"getLLMTools\"] = \"getLLMTools\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    \"ScryptedDevice\": {\n        \"name\": \"ScryptedDevice\",\n        \"methods\": [\n            \"listen\",\n            \"probe\",\n            \"setMixins\",\n            \"setName\",\n            \"setRoom\",\n            \"setType\"\n        ],\n        \"properties\": [\n            \"id\",\n            \"info\",\n            \"interfaces\",\n            \"mixins\",\n            \"name\",\n            \"nativeId\",\n            \"pluginId\",\n            \"providedInterfaces\",\n            \"providedName\",\n            \"providedRoom\",\n            \"providedType\",\n            \"providerId\",\n            \"room\",\n            \"type\"\n        ]\n    },\n    \"ScryptedPlugin\": {\n        \"name\": \"ScryptedPlugin\",\n        \"methods\": [\n            \"getPluginJson\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedPluginRuntime\": {\n        \"name\": \"ScryptedPluginRuntime\",\n        \"methods\": [],\n        \"properties\": [\n            \"scryptedRuntimeArguments\"\n        ]\n    },\n    \"OnOff\": {\n        \"name\": \"OnOff\",\n        \"methods\": [\n            \"turnOff\",\n            \"turnOn\"\n        ],\n        \"properties\": [\n            \"on\"\n        ]\n    },\n    \"Brightness\": {\n        \"name\": \"Brightness\",\n        \"methods\": [\n            \"setBrightness\"\n        ],\n        \"properties\": [\n            \"brightness\"\n        ]\n    },\n    \"ColorSettingTemperature\": {\n        \"name\": \"ColorSettingTemperature\",\n        \"methods\": [\n            \"getTemperatureMaxK\",\n            \"getTemperatureMinK\",\n            \"setColorTemperature\"\n        ],\n        \"properties\": [\n            \"colorTemperature\"\n        ]\n    },\n    \"ColorSettingRgb\": {\n        \"name\": \"ColorSettingRgb\",\n        \"methods\": [\n            \"setRgb\"\n        ],\n        \"properties\": [\n            \"rgb\"\n        ]\n    },\n    \"ColorSettingHsv\": {\n        \"name\": \"ColorSettingHsv\",\n        \"methods\": [\n            \"setHsv\"\n        ],\n        \"properties\": [\n            \"hsv\"\n        ]\n    },\n    \"Buttons\": {\n        \"name\": \"Buttons\",\n        \"methods\": [],\n        \"properties\": [\n            \"buttons\"\n        ]\n    },\n    \"PressButtons\": {\n        \"name\": \"PressButtons\",\n        \"methods\": [\n            \"pressButton\"\n        ],\n        \"properties\": []\n    },\n    \"Sensors\": {\n        \"name\": \"Sensors\",\n        \"methods\": [],\n        \"properties\": [\n            \"sensors\"\n        ]\n    },\n    \"Notifier\": {\n        \"name\": \"Notifier\",\n        \"methods\": [\n            \"sendNotification\"\n        ],\n        \"properties\": []\n    },\n    \"StartStop\": {\n        \"name\": \"StartStop\",\n        \"methods\": [\n            \"start\",\n            \"stop\"\n        ],\n        \"properties\": [\n            \"running\"\n        ]\n    },\n    \"Pause\": {\n        \"name\": \"Pause\",\n        \"methods\": [\n            \"pause\",\n            \"resume\"\n        ],\n        \"properties\": [\n            \"paused\"\n        ]\n    },\n    \"Dock\": {\n        \"name\": \"Dock\",\n        \"methods\": [\n            \"dock\"\n        ],\n        \"properties\": [\n            \"docked\"\n        ]\n    },\n    \"TemperatureSetting\": {\n        \"name\": \"TemperatureSetting\",\n        \"methods\": [\n            \"setTemperature\"\n        ],\n        \"properties\": [\n            \"temperatureSetting\"\n        ]\n    },\n    \"Thermometer\": {\n        \"name\": \"Thermometer\",\n        \"methods\": [\n            \"setTemperatureUnit\"\n        ],\n        \"properties\": [\n            \"temperature\",\n            \"temperatureUnit\"\n        ]\n    },\n    \"HumiditySensor\": {\n        \"name\": \"HumiditySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"humidity\"\n        ]\n    },\n    \"Camera\": {\n        \"name\": \"Camera\",\n        \"methods\": [\n            \"getPictureOptions\",\n            \"takePicture\"\n        ],\n        \"properties\": []\n    },\n    \"Resolution\": {\n        \"name\": \"Resolution\",\n        \"methods\": [],\n        \"properties\": [\n            \"resolution\"\n        ]\n    },\n    \"Microphone\": {\n        \"name\": \"Microphone\",\n        \"methods\": [\n            \"getAudioStream\"\n        ],\n        \"properties\": []\n    },\n    \"AudioVolumeControl\": {\n        \"name\": \"AudioVolumeControl\",\n        \"methods\": [\n            \"setAudioVolumes\"\n        ],\n        \"properties\": [\n            \"audioVolumes\"\n        ]\n    },\n    \"Display\": {\n        \"name\": \"Display\",\n        \"methods\": [\n            \"startDisplay\",\n            \"stopDisplay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCamera\": {\n        \"name\": \"VideoCamera\",\n        \"methods\": [\n            \"getVideoStream\",\n            \"getVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraMask\": {\n        \"name\": \"VideoCameraMask\",\n        \"methods\": [\n            \"getPrivacyMasks\",\n            \"setPrivacyMasks\"\n        ],\n        \"properties\": []\n    },\n    \"VideoTextOverlays\": {\n        \"name\": \"VideoTextOverlays\",\n        \"methods\": [\n            \"getVideoTextOverlays\",\n            \"setVideoTextOverlay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoRecorder\": {\n        \"name\": \"VideoRecorder\",\n        \"methods\": [\n            \"getRecordingStream\",\n            \"getRecordingStreamCurrentTime\",\n            \"getRecordingStreamOptions\",\n            \"getRecordingStreamThumbnail\"\n        ],\n        \"properties\": [\n            \"recordingActive\"\n        ]\n    },\n    \"VideoRecorderManagement\": {\n        \"name\": \"VideoRecorderManagement\",\n        \"methods\": [\n            \"deleteRecordingStream\",\n            \"setRecordingActive\"\n        ],\n        \"properties\": []\n    },\n    \"PanTiltZoom\": {\n        \"name\": \"PanTiltZoom\",\n        \"methods\": [\n            \"ptzCommand\"\n        ],\n        \"properties\": [\n            \"ptzCapabilities\"\n        ]\n    },\n    \"EventRecorder\": {\n        \"name\": \"EventRecorder\",\n        \"methods\": [\n            \"getRecordedEvents\"\n        ],\n        \"properties\": []\n    },\n    \"VideoClips\": {\n        \"name\": \"VideoClips\",\n        \"methods\": [\n            \"getVideoClip\",\n            \"getVideoClips\",\n            \"getVideoClipThumbnail\",\n            \"removeVideoClips\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraConfiguration\": {\n        \"name\": \"VideoCameraConfiguration\",\n        \"methods\": [\n            \"setVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"Intercom\": {\n        \"name\": \"Intercom\",\n        \"methods\": [\n            \"startIntercom\",\n            \"stopIntercom\"\n        ],\n        \"properties\": []\n    },\n    \"Lock\": {\n        \"name\": \"Lock\",\n        \"methods\": [\n            \"lock\",\n            \"unlock\"\n        ],\n        \"properties\": [\n            \"lockState\"\n        ]\n    },\n    \"PasswordStore\": {\n        \"name\": \"PasswordStore\",\n        \"methods\": [\n            \"addPassword\",\n            \"getPasswords\",\n            \"removePassword\"\n        ],\n        \"properties\": []\n    },\n    \"Scene\": {\n        \"name\": \"Scene\",\n        \"methods\": [\n            \"activate\",\n            \"deactivate\",\n            \"isReversible\"\n        ],\n        \"properties\": []\n    },\n    \"Entry\": {\n        \"name\": \"Entry\",\n        \"methods\": [\n            \"closeEntry\",\n            \"openEntry\"\n        ],\n        \"properties\": []\n    },\n    \"EntrySensor\": {\n        \"name\": \"EntrySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"entryOpen\"\n        ]\n    },\n    \"DeviceProvider\": {\n        \"name\": \"DeviceProvider\",\n        \"methods\": [\n            \"getDevice\",\n            \"releaseDevice\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceDiscovery\": {\n        \"name\": \"DeviceDiscovery\",\n        \"methods\": [\n            \"adoptDevice\",\n            \"discoverDevices\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceCreator\": {\n        \"name\": \"DeviceCreator\",\n        \"methods\": [\n            \"createDevice\",\n            \"getCreateDeviceSettings\"\n        ],\n        \"properties\": []\n    },\n    \"Battery\": {\n        \"name\": \"Battery\",\n        \"methods\": [],\n        \"properties\": [\n            \"batteryLevel\"\n        ]\n    },\n    \"Charger\": {\n        \"name\": \"Charger\",\n        \"methods\": [],\n        \"properties\": [\n            \"chargeState\"\n        ]\n    },\n    \"Reboot\": {\n        \"name\": \"Reboot\",\n        \"methods\": [\n            \"reboot\"\n        ],\n        \"properties\": []\n    },\n    \"Refresh\": {\n        \"name\": \"Refresh\",\n        \"methods\": [\n            \"getRefreshFrequency\",\n            \"refresh\"\n        ],\n        \"properties\": []\n    },\n    \"MediaPlayer\": {\n        \"name\": \"MediaPlayer\",\n        \"methods\": [\n            \"getMediaStatus\",\n            \"load\",\n            \"seek\",\n            \"skipNext\",\n            \"skipPrevious\"\n        ],\n        \"properties\": []\n    },\n    \"Online\": {\n        \"name\": \"Online\",\n        \"methods\": [],\n        \"properties\": [\n            \"online\"\n        ]\n    },\n    \"BufferConverter\": {\n        \"name\": \"BufferConverter\",\n        \"methods\": [\n            \"convert\"\n        ],\n        \"properties\": [\n            \"fromMimeType\",\n            \"toMimeType\"\n        ]\n    },\n    \"MediaConverter\": {\n        \"name\": \"MediaConverter\",\n        \"methods\": [\n            \"convertMedia\"\n        ],\n        \"properties\": [\n            \"converters\"\n        ]\n    },\n    \"Settings\": {\n        \"name\": \"Settings\",\n        \"methods\": [\n            \"getSettings\",\n            \"putSetting\"\n        ],\n        \"properties\": []\n    },\n    \"BinarySensor\": {\n        \"name\": \"BinarySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"binaryState\"\n        ]\n    },\n    \"TamperSensor\": {\n        \"name\": \"TamperSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"tampered\"\n        ]\n    },\n    \"Sleep\": {\n        \"name\": \"Sleep\",\n        \"methods\": [],\n        \"properties\": [\n            \"sleeping\"\n        ]\n    },\n    \"PowerSensor\": {\n        \"name\": \"PowerSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"powerDetected\"\n        ]\n    },\n    \"AudioSensor\": {\n        \"name\": \"AudioSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"audioDetected\"\n        ]\n    },\n    \"MotionSensor\": {\n        \"name\": \"MotionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"motionDetected\"\n        ]\n    },\n    \"AmbientLightSensor\": {\n        \"name\": \"AmbientLightSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ambientLight\"\n        ]\n    },\n    \"OccupancySensor\": {\n        \"name\": \"OccupancySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"occupied\"\n        ]\n    },\n    \"FloodSensor\": {\n        \"name\": \"FloodSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"flooded\"\n        ]\n    },\n    \"UltravioletSensor\": {\n        \"name\": \"UltravioletSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ultraviolet\"\n        ]\n    },\n    \"LuminanceSensor\": {\n        \"name\": \"LuminanceSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"luminance\"\n        ]\n    },\n    \"PositionSensor\": {\n        \"name\": \"PositionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"position\"\n        ]\n    },\n    \"SecuritySystem\": {\n        \"name\": \"SecuritySystem\",\n        \"methods\": [\n            \"armSecuritySystem\",\n            \"disarmSecuritySystem\"\n        ],\n        \"properties\": [\n            \"securitySystemState\"\n        ]\n    },\n    \"PM10Sensor\": {\n        \"name\": \"PM10Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm10Density\"\n        ]\n    },\n    \"PM25Sensor\": {\n        \"name\": \"PM25Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm25Density\"\n        ]\n    },\n    \"VOCSensor\": {\n        \"name\": \"VOCSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"vocDensity\"\n        ]\n    },\n    \"NOXSensor\": {\n        \"name\": \"NOXSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"noxDensity\"\n        ]\n    },\n    \"CO2Sensor\": {\n        \"name\": \"CO2Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"co2ppm\"\n        ]\n    },\n    \"AirQualitySensor\": {\n        \"name\": \"AirQualitySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"airQuality\"\n        ]\n    },\n    \"AirPurifier\": {\n        \"name\": \"AirPurifier\",\n        \"methods\": [\n            \"setAirPurifierState\"\n        ],\n        \"properties\": [\n            \"airPurifierState\"\n        ]\n    },\n    \"FilterMaintenance\": {\n        \"name\": \"FilterMaintenance\",\n        \"methods\": [],\n        \"properties\": [\n            \"filterChangeIndication\",\n            \"filterLifeLevel\"\n        ]\n    },\n    \"Readme\": {\n        \"name\": \"Readme\",\n        \"methods\": [\n            \"getReadmeMarkdown\"\n        ],\n        \"properties\": []\n    },\n    \"OauthClient\": {\n        \"name\": \"OauthClient\",\n        \"methods\": [\n            \"getOauthUrl\",\n            \"onOauthCallback\"\n        ],\n        \"properties\": []\n    },\n    \"MixinProvider\": {\n        \"name\": \"MixinProvider\",\n        \"methods\": [\n            \"canMixin\",\n            \"getMixin\",\n            \"releaseMixin\"\n        ],\n        \"properties\": []\n    },\n    \"HttpRequestHandler\": {\n        \"name\": \"HttpRequestHandler\",\n        \"methods\": [\n            \"onRequest\"\n        ],\n        \"properties\": []\n    },\n    \"EngineIOHandler\": {\n        \"name\": \"EngineIOHandler\",\n        \"methods\": [\n            \"onConnection\"\n        ],\n        \"properties\": []\n    },\n    \"PushHandler\": {\n        \"name\": \"PushHandler\",\n        \"methods\": [\n            \"onPush\"\n        ],\n        \"properties\": []\n    },\n    \"Program\": {\n        \"name\": \"Program\",\n        \"methods\": [\n            \"run\"\n        ],\n        \"properties\": []\n    },\n    \"Scriptable\": {\n        \"name\": \"Scriptable\",\n        \"methods\": [\n            \"eval\",\n            \"loadScripts\",\n            \"saveScript\"\n        ],\n        \"properties\": []\n    },\n    \"ClusterForkInterface\": {\n        \"name\": \"ClusterForkInterface\",\n        \"methods\": [\n            \"forkInterface\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetector\": {\n        \"name\": \"ObjectDetector\",\n        \"methods\": [\n            \"getDetectionInput\",\n            \"getObjectTypes\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetection\": {\n        \"name\": \"ObjectDetection\",\n        \"methods\": [\n            \"detectObjects\",\n            \"generateObjectDetections\",\n            \"getDetectionModel\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetectionPreview\": {\n        \"name\": \"ObjectDetectionPreview\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ObjectDetectionGenerator\": {\n        \"name\": \"ObjectDetectionGenerator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"HumiditySetting\": {\n        \"name\": \"HumiditySetting\",\n        \"methods\": [\n            \"setHumidity\"\n        ],\n        \"properties\": [\n            \"humiditySetting\"\n        ]\n    },\n    \"Fan\": {\n        \"name\": \"Fan\",\n        \"methods\": [\n            \"setFan\"\n        ],\n        \"properties\": [\n            \"fan\"\n        ]\n    },\n    \"RTCSignalingChannel\": {\n        \"name\": \"RTCSignalingChannel\",\n        \"methods\": [\n            \"startRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"RTCSignalingClient\": {\n        \"name\": \"RTCSignalingClient\",\n        \"methods\": [\n            \"createRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"LauncherApplication\": {\n        \"name\": \"LauncherApplication\",\n        \"methods\": [],\n        \"properties\": [\n            \"applicationInfo\"\n        ]\n    },\n    \"ScryptedUser\": {\n        \"name\": \"ScryptedUser\",\n        \"methods\": [\n            \"getScryptedUserAccessControl\"\n        ],\n        \"properties\": []\n    },\n    \"VideoFrameGenerator\": {\n        \"name\": \"VideoFrameGenerator\",\n        \"methods\": [\n            \"generateVideoFrames\"\n        ],\n        \"properties\": []\n    },\n    \"StreamService\": {\n        \"name\": \"StreamService\",\n        \"methods\": [\n            \"connectStream\"\n        ],\n        \"properties\": []\n    },\n    \"TTY\": {\n        \"name\": \"TTY\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"TTYSettings\": {\n        \"name\": \"TTYSettings\",\n        \"methods\": [\n            \"getTTYSettings\"\n        ],\n        \"properties\": []\n    },\n    \"ChatCompletion\": {\n        \"name\": \"ChatCompletion\",\n        \"methods\": [\n            \"getChatCompletion\",\n            \"streamChatCompletion\"\n        ],\n        \"properties\": [\n            \"chatCompletionCapabilities\"\n        ]\n    },\n    \"TextEmbedding\": {\n        \"name\": \"TextEmbedding\",\n        \"methods\": [\n            \"getTextEmbedding\"\n        ],\n        \"properties\": []\n    },\n    \"ImageEmbedding\": {\n        \"name\": \"ImageEmbedding\",\n        \"methods\": [\n            \"getImageEmbedding\"\n        ],\n        \"properties\": []\n    },\n    \"LLMTools\": {\n        \"name\": \"LLMTools\",\n        \"methods\": [\n            \"callLLMTool\",\n            \"getLLMTools\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedSystemDevice\": {\n        \"name\": \"ScryptedSystemDevice\",\n        \"methods\": [],\n        \"properties\": [\n            \"systemDevice\"\n        ]\n    },\n    \"ScryptedDeviceCreator\": {\n        \"name\": \"ScryptedDeviceCreator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ScryptedSettings\": {\n        \"name\": \"ScryptedSettings\",\n        \"methods\": [],\n        \"properties\": []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    /**\n     * @deprecated\n     */\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    /**\n     * Internal devices will not show up in device lists unless explicitly searched.\n     */\n    ScryptedDeviceType[\"Internal\"] = \"Internal\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"RemoteDesktop\"] = \"RemoteDesktop\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Buttons\"] = \"Buttons\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Internet\"] = \"Internet\";\n    ScryptedDeviceType[\"Network\"] = \"Network\";\n    ScryptedDeviceType[\"Bridge\"] = \"Bridge\";\n    ScryptedDeviceType[\"LLM\"] = \"LLM\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Buttons\"] = \"Buttons\";\n    ScryptedInterface[\"PressButtons\"] = \"PressButtons\";\n    ScryptedInterface[\"Sensors\"] = \"Sensors\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Resolution\"] = \"Resolution\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoTextOverlays\"] = \"VideoTextOverlays\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"Sleep\"] = \"Sleep\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ClusterForkInterface\"] = \"ClusterForkInterface\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ChatCompletion\"] = \"ChatCompletion\";\n    ScryptedInterface[\"TextEmbedding\"] = \"TextEmbedding\";\n    ScryptedInterface[\"ImageEmbedding\"] = \"ImageEmbedding\";\n    ScryptedInterface[\"LLMTools\"] = \"LLMTools\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","'use strict'\n\nmodule.exports = require('./index.js')()\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","import sdk, { Camera, DeviceCreator, DeviceCreatorSettings, DeviceProvider, MediaObject, PictureOptions, ResponseMediaStreamOptions, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, ScryptedNativeId, Setting, Settings, SettingValue, VideoCamera } from \"@scrypted/sdk\";\nimport { randomBytes } from \"crypto\";\n\nconst { deviceManager } = sdk;\n\nexport interface UrlMediaStreamOptions extends ResponseMediaStreamOptions {\n    url: string;\n}\n\nexport abstract class CameraBase<T extends ResponseMediaStreamOptions> extends ScryptedDeviceBase implements Camera, VideoCamera, Settings {\n    constructor(nativeId: string, public provider: CameraProviderBase<T>) {\n        super(nativeId);\n    }\n\n    takePicture(option?: PictureOptions): Promise<MediaObject> {\n        throw new Error(\"The RTSP Camera does not provide snapshots. Install the Snapshot Plugin if snapshots are available via an URL.\");\n    }\n\n    async getPictureOptions(): Promise<PictureOptions[]> {\n        return;\n    }\n\n    async getVideoStreamOptions(): Promise<T[]> {\n        const vsos = this.getRawVideoStreamOptions();\n        return vsos;\n    }\n\n    abstract getRawVideoStreamOptions(): T[];\n\n    async getVideoStream(options?: T): Promise<MediaObject> {\n        const vsos = await this.getVideoStreamOptions();\n        const vso = vsos?.find(s => s.id === options?.id) || this.getDefaultStream(vsos);\n        return this.createVideoStream(vso);\n    }\n\n    abstract createVideoStream(options?: T): Promise<MediaObject>;\n\n    async getUrlSettings(): Promise<Setting[]> {\n        return [\n        ];\n    }\n\n    getUsername() {\n        return this.storage.getItem('username');\n    }\n\n    getPassword() {\n        return this.storage.getItem('password');\n    }\n\n    async getOtherSettings(): Promise<Setting[]> {\n        return [];\n    }\n\n    getDefaultStream(vsos: T[]) {\n        return vsos?.[0];\n    }\n\n    async getStreamSettings(): Promise<Setting[]> {\n        return [];\n    }\n\n    getUsernameDescription(): string {\n        return 'Optional: Username for snapshot http requests.';\n    }\n\n    getPasswordDescription(): string {\n        return 'Optional: Password for snapshot http requests.';\n    }\n\n    async getSettings(): Promise<Setting[]> {\n        const ret: Setting[] = [\n            {\n                key: 'username',\n                title: 'Username',\n                value: this.getUsername(),\n                description: this.getUsernameDescription(),\n            },\n            {\n                key: 'password',\n                title: 'Password',\n                value: this.getPassword(),\n                type: 'password',\n                description: this.getPasswordDescription(),\n            },\n            ...await this.getUrlSettings(),\n            ...await this.getStreamSettings(),\n            ...await this.getOtherSettings(),\n        ];\n\n        for (const s of ret) {\n            s.group = this.provider.name.replace('Plugin', '').trim();\n            s.subgroup ||= 'General';\n        }\n\n        return ret;\n    }\n\n    async putSettingBase(key: string, value: SettingValue) {\n        if (key === 'defaultStream') {\n            const vsos = await this.getVideoStreamOptions();\n            const stream = vsos.find(vso => vso.name === value);\n            this.storage.setItem('defaultStream', stream?.id || '');\n        }\n        else {\n            this.storage.setItem(key, value.toString());\n        }\n\n        this.onDeviceEvent(ScryptedInterface.Settings, undefined);\n    }\n\n    async putSetting(key: string, value: SettingValue) {\n        this.putSettingBase(key, value);\n    }\n}\n\nexport abstract class CameraProviderBase<T extends ResponseMediaStreamOptions> extends ScryptedDeviceBase implements DeviceProvider, DeviceCreator {\n    devices = new Map<string, any>();\n\n    constructor(nativeId?: string) {\n        super(nativeId);\n\n        this.systemDevice = {\n            deviceCreator: this.getScryptedDeviceCreator(),\n        };\n    }\n\n    async createDevice(settings: DeviceCreatorSettings, nativeId?: ScryptedNativeId): Promise<string> {\n        nativeId ||= randomBytes(4).toString('hex');\n        const name = settings.newCamera?.toString() || 'New Camera';\n        await this.updateDevice(nativeId, name, this.getInterfaces());\n        return nativeId;\n    }\n\n    async getCreateDeviceSettings(): Promise<Setting[]> {\n        return [\n            {\n                key: 'newCamera',\n                title: 'Add Camera',\n                placeholder: 'Camera name, e.g.: Back Yard Camera, Baby Camera, etc',\n            }\n        ]\n    }\n\n    getAdditionalInterfaces(): string[] {\n        return [\n        ];\n    }\n\n    getInterfaces() {\n        return [\n            ScryptedInterface.VideoCamera,\n            ScryptedInterface.Settings,\n            ...this.getAdditionalInterfaces()\n        ];\n    }\n\n    updateDevice(nativeId: string, name: string, interfaces: string[], type?: ScryptedDeviceType) {\n        return deviceManager.onDeviceDiscovered({\n            nativeId,\n            name,\n            interfaces,\n            type: type || ScryptedDeviceType.Camera,\n            info: deviceManager.getNativeIds().includes(nativeId) ? deviceManager.getDeviceState(nativeId)?.info : undefined,\n        });\n    }\n\n    abstract createCamera(nativeId: string): CameraBase<T>;\n    abstract getScryptedDeviceCreator(): string;\n\n    getDevice(nativeId: string) {\n        let ret = this.devices.get(nativeId);\n        if (!ret) {\n            ret = this.createCamera(nativeId);\n            if (ret)\n                this.devices.set(nativeId, ret);\n        }\n        return ret;\n    }\n\n    async releaseDevice(id: string, nativeId: string): Promise<void> {\n        this.devices.delete(nativeId);\n    }\n}\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","import { Deferred } from \"./deferred\";\n\nclass EndError extends Error {\n}\n\nexport function createAsyncQueue<T>() {\n    let ended: Error | undefined;\n    const endDeferred = new Deferred<void>();\n    const waiting: Deferred<T>[] = [];\n    const queued: { item: T, dequeued?: Deferred<void> }[] = [];\n\n    const wait = async (index: number) => {\n        const q = queued[index];\n        if (!q)\n            return;\n        if (!q.dequeued) {\n            q.dequeued = new Deferred<void>();\n        }\n        return q.dequeued.promise;\n    }\n\n    const dequeue = async () => {\n        if (queued.length) {\n            const { item, dequeued: enqueue } = queued.shift()!;\n            enqueue?.resolve();\n            return item;\n        }\n\n        if (ended)\n            throw ended;\n\n        const deferred = new Deferred<T>();\n        waiting.push(deferred);\n        return deferred.promise;\n    }\n\n    const take = () => {\n        if (queued.length) {\n            const { item, dequeued: enqueue } = queued.shift()!;\n            enqueue?.resolve();\n            return item;\n        }\n\n        if (ended)\n            throw ended;\n    }\n\n    const submit = (item: T, dequeued?: Deferred<void>, signal?: AbortSignal) => {\n        if (ended)\n            return false;\n\n        if (waiting.length) {\n            const deferred = waiting.shift()!;\n            dequeued?.resolve();\n            deferred.resolve(item);\n            return true;\n        }\n\n        if (signal)\n            dequeued ||= new Deferred();\n\n        const qi = {\n            item,\n            dequeued,\n        };\n        queued!.push(qi);\n\n        if (!signal)\n            return true;\n\n        const h = () => {\n            const index = queued.indexOf(qi);\n            if (index === -1)\n                return;\n            queued.splice(index, 1);\n            dequeued?.reject(new Error('abort'));\n        };\n\n        dequeued?.promise.catch(() => { }).finally(() => signal.removeEventListener('abort', h));\n        signal.addEventListener('abort', h);\n\n        return true;\n    }\n\n    function end(e?: Error) {\n        if (ended)\n            return false;\n        // catch to prevent unhandled rejection.\n        ended = e || new EndError();\n        endDeferred.resolve();\n        while (waiting.length) {\n            waiting.shift()!.reject(ended);\n        }\n        return true;\n    }\n\n    function queue() {\n        return (async function* () {\n            try {\n                while (true) {\n                    try {\n                        const item = await dequeue();\n                        yield item;\n                    }\n                    catch (e) {\n                        // the yield above may raise an error, and the queue should be ended.\n                        end(e as Error);\n                        if (e instanceof EndError)\n                            return;\n                        throw e;\n                    }\n                }\n            }\n            finally {\n                // the yield above may cause an iterator return, and the queue should be ended.\n                end();\n            }\n        })();\n    }\n\n    function clear(error?: Error) {\n        const ret: T[] = [];\n        const items = queued.splice(0, queued.length);\n        for (const item of items) {\n            if (error)\n                item.dequeued?.reject(error)\n            else\n                item.dequeued?.resolve(undefined);\n            ret.push(item.item);\n        }\n\n        return ret;\n    }\n\n    return {\n        [Symbol.dispose]() {\n            end(new Error('async queue disposed'));\n        },\n        get ended() {\n            return ended;\n        },\n        endPromise: endDeferred.promise,\n        take,\n        clear() {\n            return clear();\n        },\n        queued,\n        async pipe(callback: (i: T) => void) {\n            for await (const i of queue()) {\n                callback(i as any);\n            }\n        },\n        submit(item: T, signal?: AbortSignal) {\n            return submit(item, undefined, signal);\n        },\n        end,\n        async enqueue(item: T, signal?: AbortSignal) {\n            const dequeued = new Deferred<void>();\n            if (!submit(item, dequeued, signal))\n                return false;\n            await dequeued.promise;\n            return true;\n        },\n        dequeue,\n        get queue() {\n            return queue();\n        },\n        wait,\n    }\n}\n\nexport function createAsyncQueueFromGenerator<T>(generator: AsyncGenerator<T>) {\n    const q = createAsyncQueue<T>();\n    (async () => {\n        try {\n            for await (const i of generator) {\n                await q.enqueue(i);\n            }\n        }\n        catch (e) {\n            q.end(e as Error);\n        }\n        q.end();\n    })();\n\n    return q;\n}\n\n// async function testSlowEnqueue() {\n//     const asyncQueue = createAsyncQueue<number>();\n\n//     asyncQueue.submit(-1);\n//     asyncQueue.submit(-1);\n//     asyncQueue.submit(-1);\n//     asyncQueue.submit(-1);\n\n//     (async () => {\n//         console.log('go');\n//         for (let i = 0; i < 10; i++) {\n//             asyncQueue.submit(i);\n//             await sleep(100);\n//         }\n//         asyncQueue.end(new Error('fail'));\n//     })();\n\n\n//     const runQueue = async (str?: string) => {\n//         for await (const n of asyncQueue.queue) {\n//             console.log(str, n);\n//         }\n//     }\n\n//     runQueue('start');\n\n//     setTimeout(runQueue, 400);\n// }\n\n\n\n// async function testSlowDequeue() {\n//     const asyncQueue = createAsyncQueue<number>();\n\n//     const runQueue = async (str?: string) => {\n//         for await (const n of asyncQueue.queue) {\n//             await sleep(100);\n//         }\n//     }\n\n//     runQueue()\n//     .catch(e => console.error('queue threw', e));\n\n//     console.log('go');\n//     for (let i = 0; i < 10; i++) {\n//         console.log(await asyncQueue.enqueue(i));\n//         console.log(i);\n//     }\n//     asyncQueue.end(new Error('fail'));\n//     console.log(await asyncQueue.enqueue(555));\n// }\n\n// testSlowDequeue();\n","module.exports = {\n  \"version\": \"0.23.0\"\n};","const { Buffer } = require('buffer')\nconst max = 65536\nconst cache = {}\n\n// in node 6 Buffer.subarray returns a Uint8Array instead of a Buffer\n// later versions return a Buffer\n// alternative is Buffer.slice but that creates a new buffer\n// creating new buffers takes time\n// SubOk is only false on node < 8\nconst SubOk = Buffer.isBuffer(Buffer.from([1, 2]).subarray(0, 1))\n\nfunction generateBuffer (i) {\n  const buffer = Buffer.allocUnsafe(2)\n  buffer.writeUInt8(i >> 8, 0)\n  buffer.writeUInt8(i & 0x00FF, 0 + 1)\n\n  return buffer\n}\n\nfunction generateCache () {\n  for (let i = 0; i < max; i++) {\n    cache[i] = generateBuffer(i)\n  }\n}\n\nfunction genBufVariableByteInt (num) {\n  const maxLength = 4 // max 4 bytes\n  let digit = 0\n  let pos = 0\n  const buffer = Buffer.allocUnsafe(maxLength)\n\n  do {\n    digit = num % 128 | 0\n    num = num / 128 | 0\n    if (num > 0) digit = digit | 0x80\n\n    buffer.writeUInt8(digit, pos++)\n  } while (num > 0 && pos < maxLength)\n\n  if (num > 0) {\n    pos = 0\n  }\n\n  return SubOk ? buffer.subarray(0, pos) : buffer.slice(0, pos)\n}\n\nfunction generate4ByteBuffer (num) {\n  const buffer = Buffer.allocUnsafe(4)\n  buffer.writeUInt32BE(num, 0)\n  return buffer\n}\n\nmodule.exports = {\n  cache,\n  generateCache,\n  generateNumber: generateBuffer,\n  genBufVariableByteInt,\n  generate4ByteBuffer\n}\n","module.exports = require(\"fs\");","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mqtt = __importStar(require(\"./mqtt\"));\nexports.default = mqtt;\n__exportStar(require(\"./mqtt\"), exports);\n//# sourceMappingURL=index.js.map","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(7927);\n"],"names":["ObjectSetPrototypeOf","Symbol","module","exports","Transform","ERR_METHOD_NOT_IMPLEMENTED","Duplex","getHighWaterMark","prototype","kCallback","options","this","readableHighWaterMark","highWaterMark","writableHighWaterMark","call","_readableState","sync","transform","_transform","flush","_flush","on","prefinish","final","cb","destroyed","push","er","data","destroy","_final","chunk","encoding","callback","_write","rState","wState","_writableState","length","err","val","ended","_read","require","fn","nextTick","setImmediate","process","setTimeout","extensions","types","preference","db","extname","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","type","match","exec","mime","toLowerCase","test","charsets","lookup","contentType","str","indexOf","extension","exts","Object","create","path","substr","undefined","keys","forEach","i","from","source","to","constructor","cmd","retain","qos","dup","topic","payload","defineProperty","value","shared_1","ack_1","client","packet","version","protocolVersion","rc","reasonCode","returnCode","ErrorWithReasonCode","emit","handleAuth","packet2","reconnecting","error","ReasonCodes","aggregateTwoErrors","codes","ERR_MULTIPLE_CALLBACK","AbortError","kIsDestroyed","isDestroyed","isFinished","isServerRequest","kDestroy","kConstruct","checkError","w","r","stack","errored","_destroy","self","called","onDestroy","closed","emitErrorCloseNT","emitCloseNT","emitErrorNT","closeEmitted","emitClose","errorEmitted","errorOrDestroy","stream","autoDestroy","constructNT","onConstruct","s","constructed","emitConstructNT","_construct","isRequest","setHeader","abort","emitCloseLegacy","emitErrorCloseLegacy","construct","once","listenerCount","destroyer","socket","req","close","undestroy","reading","readable","endEmitted","finalCalled","prefinished","writable","ending","finished","eventTargetShim","AbortSignal","EventTarget","super","TypeError","aborted","abortedFlags","get","defineEventAttribute","WeakMap","defineProperties","enumerable","toStringTag","configurable","AbortController","signals","set","signal","createAbortSignal","getSignal","dispatchEvent","controller","validateTopic","parts","split","validateTopics","topics","format","inspect","AggregateError","CustomAggregateError","globalThis","kIsNodeError","kTypes","classRegExp","assert","message","ERR_INTERNAL_ASSERTION","addNumericalSeparator","res","start","slice","E","code","Base","Error","NodeError","args","key","msg","expectedLength","getMessage","toString","name","hideStackFrames","hidden","ERR_INVALID_ARG_TYPE","expected","actual","Array","isArray","endsWith","includes","instances","other","pos","splice","last","pop","join","_actual$constructor","depth","inspected","colors","reason","input","_value$constructor","len","map","a","range","received","Number","isInteger","Math","abs","String","RangeError","innerError","outerError","errors","FrigateBridgeMotionDetectorMixin","SettingsMixinDeviceBase","plugin","storageSettings","StorageSettings","cameraName","title","choices","immediate","currentMixinsMap","id","logger","getLogger","init","catch","pluginId","_","nativeId","putSetting","settings","readonly","onFrigateMotionEvent","log","newMotionValue","motionDetected","getMixinSettings","values","cameras","getSettings","e","group","rest","settingsGroupKey","putMixinSetting","release","info","console","storage","env","createDebug","namespace","prevTime","namespacesCache","enabledCache","enableOverride","debug","enabled","curr","Date","ms","diff","prev","coerce","unshift","index","replace","formatter","formatters","formatArgs","apply","useColors","color","selectColor","extend","namespaces","v","delimiter","newDebug","matchesTemplate","search","template","searchIndex","templateIndex","starIndex","matchIndex","default","disable","names","skips","enable","save","trim","filter","Boolean","ns","skip","humanize","warn","hash","charCodeAt","load","createRtspMediaStreamOptions","url","container","video","audio","RtspCamera","CameraBase","takePicture","option","getRawVideoStreamOptions","urls","JSON","parse","getItem","setItem","stringify","removeItem","ret","addRtspCredentials","rtspUrl","parsedUrl","username","password","auth","createMediaStreamUrl","stringUrl","vso","mediaStreamOptions","createMediaObject","ScryptedMimeTypes","MediaStreamUrl","createVideoStream","getUsernameDescription","getPasswordDescription","getRtspUrlSettings","description","placeholder","multiple","getOtherSettings","subgroup","getUrlSettings","putRtspUrls","onDeviceEvent","ScryptedInterface","Settings","putSettingBase","provider","lastListen","listenLoop","resetSensors","interfaces","MotionSensor","AudioSensor","audioDetected","TamperSensor","tampered","BinarySensor","binaryState","now","listener","listenerPromise","listenEvents","activityTimeout","restartListener","clearTimeout","listenDuration","resetActivityTimeout","then","l","takeSmartCameraPicture","getHttpPortOverrideSettings","getRtspPortOverrideSettings","showRtspUrlOverride","legacyOverride","showHttpPortOverride","showRtspPortOverride","getHttpAddress","getIPAddress","setHttpPortOverride","port","getRtspUrlOverride","setIPAddress","ip","getRtspAddress","getVideoStreamOptions","vsos","constructedVideoStreamOptions","timeoutPromise","getConstructedVideoStreamOptions","finally","RtspProvider","CameraProviderBase","createCamera","bl","EventEmitter","Packet","constants","Parser","parser","opt","_states","_resetState","_list","_stateCounter","buf","append","_parseHeader","zero","readUInt8","cmdIndex","CMD_SHIFT","headerFlags","requiredHeaderFlags","_emitError","requiredHeaderFlagsErrors","RETAIN_MASK","QOS_SHIFT","QOS_MASK","DUP_MASK","consume","_parseLength","result","_parseVarByteNum","bytes","_parsePayload","_pos","_parseConnect","_parseConnack","_parsePublish","_parseConfirmation","_parseSubscribe","_parseSuback","_parseUnsubscribe","_parseUnsuback","_parseDisconnect","_parseAuth","flags","protocolId","_parseString","bridgeMode","USERNAME_MASK","PASSWORD_MASK","will","WILL_FLAG_MASK","willRetain","WILL_RETAIN_MASK","willQos","WILL_QOS_MASK","WILL_QOS_SHIFT","clean","CLEAN_SESSION_MASK","keepalive","_parseNum","properties","_parseProperties","getOwnPropertyNames","clientId","willProperties","_parseBuffer","sessionPresent","SESSIONPRESENT_MASK","_parseMessageId","rh","rap","nl","subscription","subscriptions","_parseByte","SUBSCRIBE_OPTIONS_QOS_MASK","SUBSCRIBE_OPTIONS_NL_SHIFT","SUBSCRIBE_OPTIONS_NL_MASK","SUBSCRIBE_OPTIONS_RAP_SHIFT","SUBSCRIBE_OPTIONS_RAP_MASK","SUBSCRIBE_OPTIONS_RH_SHIFT","SUBSCRIBE_OPTIONS_RH_MASK","granted","MQTT5_SUBACK_CODES","unsubscriptions","MQTT5_UNSUBACK_CODES","MQTT5_PUBACK_PUBREC_CODES","MQTT5_PUBREL_PUBCOMP_CODES","MQTT5_DISCONNECT_CODES","MQTT5_AUTH_CODES","messageId","maybeBuffer","end","_parseStringPair","readUInt16BE","_parse4ByteNum","readUInt32BE","fullInfoFlag","current","mul","padding","VARBYTEINT_MASK","VARBYTEINT_FIN_MASK","_parseByType","propertiesCodes","currentUserProperty","propertiesTypes","currentValue","_newPacket","__createBinding","o","m","k","k2","desc","getOwnPropertyDescriptor","__esModule","__setModuleDefault","__importStar","mod","hasOwnProperty","__exportStar","p","__importDefault","KeepaliveManager","UniqueMessageIdProvider","DefaultMessageIdProvider","Store","MqttClient","connectAsync","connect","Client","client_1","default_message_id_provider_1","unique_message_id_provider_1","store_1","connect_1","KeepaliveManager_1","tokenChars","header","protocols","Set","SyntaxError","protocol","has","add","MQTTJS_VERSION","applyMixin","setPrototypeOf","getPrototypeOf","target","mixin","includeConstructor","_a","inheritanceChain","base","ctor","prop","max","aliasToTopic","put","alias","getTopicByAlias","clear","topicMatches","pattern","patternLevels","topicLevels","host","configTopicPattern","topicLastValue","topicCbMap","currentAutodiscoveryTopics","disconnect","mqttClient","endAsync","getMqttClient","forceReconnect","connecting","_connect","async","mqttPathmame","rejectUnauthorized","reschedulePings","subscribeAsync","messageTopic","cbs","entries","messageString","setMaxListeners","Infinity","sleep","urlWithoutPath","URL","pathname","publish","inputValue","Buffer","previousValue","publishAsync","getMqttTopicTopics","pluginName","device","deviceId","getEntityTopic","entity","getDiscoveryTopic","domain","getInfoTopic","subscribe","unsubscribe","unsubscribeAsync","unsubscribeWithCb","thisCb","elem","removeAllListeners","cleanupAutodiscoveryTopics","activeTopics","topicsToDelete","net_1","opts","hostname","createConnection","SymbolDispose","isNodeStream","isWebStream","kControllerErrorFunction","eos","addAbortListener","addAbortSignal","validateAbortSignal","addAbortSignalNoValidate","onAbort","cause","disposable","sdk","MixinDeviceBase","ScryptedDeviceBase","fs_1","index_1","DeviceBase","_storage","deviceManager","getDeviceStorage","_log","getDeviceLogger","_console","getDeviceConsole","mimeType","mediaManager","sourceId","getMediaObjectConsole","mediaObject","getMixinConsole","_lazyLoadDeviceState","_deviceState","getDeviceState","eventInterface","eventData","_listeners","mixinDevice","mixinDeviceInterfaces","mixinStorageSuffix","mixinDeviceState","systemManager","getDeviceById","mixinProviderNativeId","__rpcproxy_traps_all_properties","createDeviceState","setState","mixinStorageKey","getMixinStorage","onMixinEvent","manageListener","removeListener","_createGetState","state","_createSetState","field","ScryptedInterfaceProperty","loaded","SCRYPTED_SDK_ES_MODULE","SCRYPTED_SDK_MODULE","cjsModule","SCRYPTED_SDK_CJS_MODULE","sdkModule","assign","getScryptedStatic","runtimeAPI","pluginRuntimeAPI","endpointManager","pluginHostAPI","descriptors","ScryptedInterfaceDescriptors","customDescriptors","readFileSync","interfaceDescriptors","setScryptedInterfaceDescriptors","TYPES_VERSION","debug_1","url_1","is_browser_1","brokerUrl","_b","_c","_d","parsedOptions","query","unixSocket","startsWith","matches","parseAuthOptions","cert","forceNativeWebSocket","ws","wss","wx","wxs","ali","alis","mqtt","tcp","ssl","tls","mqtts","isSecure","defaultProtocol","servers","_reconnectCount","allowRetries","Promise","resolve","reject","promiseResolutionListeners","connack","removePromiseResolutionListeners","eventName","off","topic_alias_recv_1","mqtt_packet_1","readable_stream_1","default_1","validations","handlers_1","TypedEmitter_1","shift","defaultConnectOptions","reconnectPeriod","connectTimeout","resubscribe","writeCache","timerVariant","TypedEventEmitter","defaultId","random","streamBuilder","noop","_noop","bind","VERSION","isWebWorker","topicAliasMaximum","customHandleAcks","writeToStream","cacheNumbers","messageIdProvider","outgoingStore","incomingStore","queueQoSZero","_resubscribeTopics","messageIdToTopic","keepaliveManager","connected","disconnecting","queue","connackTimer","reconnectTimer","_storeProcessing","_packetIdsDuringStoreProcessing","_storeProcessingQueue","outgoing","_firstConnection","topicAliasRecv","deliver","entry","_resubscribe","send","register","_sendPacket","_destroyKeepaliveManager","_setupReconnect","manualConnect","handleMessage","_nextId","allocate","getLastMessageId","getLastAllocated","Writable","completeParse","packets","_clearReconnect","disconnected","work","nextTickWork","done","enc","pipe","_flushVolatile","connectPacket","_writePacket","authenticationMethod","authenticationData","authPacket","_cleanUp","cbStorePut","_checkDisconnecting","publishProc","volatile","invoke","topicObject","topicsList","invalidTopic","defaultOpts","subs","parseSub","subOptions","currentOpts","subscribeProc","sub","unsubscribeProc","topic2","force","closeStores","e1","e2","_deferredReconnect","finish","removeOutgoingMessage","_removeOutgoingAndStoreMessage","reconnect","f","_reconnect","_removeTopicAliasAndRecoverTopicName","topicAlias","topicAliasSend","setInterval","clearInterval","forced","_storeAndSend","storePacket","err2","_applyTopicAlias","autoAssignTopicAlias","getAliasByTopic","getLruAlias","autoUseTopicAlias","noStore","_storePacket","_setupKeepaliveManager","reschedulePing","_reschedulePing","reschedule","sendPing","onKeepaliveTimeout","_resubscribeTopicsKeys","connackPacket","topicI","resubscribeTopic","_onConnect","startStreamProcess","outStore","createStream","remove","_flushStoreProcessingQueue","clearStoreProcessing","storeDeliver","read","status","allProcessed","_invokeAllStoreProcessingQueue","_invokeStoreProcessingQueue","del","deallocate","ArrayIsArray","EE","Stream","prependListener","emitter","event","_events","dest","ondata","write","pause","ondrain","resume","_isStdio","onend","onclose","didOnEnd","onerror","cleanup","webpackEmptyContext","symbol","for","BufferList","_init","_bufs","_new","_offset","offset","tot","_t","_reverseOffset","blOffset","bufferId","copy","dst","dstStart","srcStart","srcEnd","alloc","bufoff","concat","allocUnsafe","shallowSlice","startOffset","endOffset","buffers","trunc","isNaN","duplicate","buffer","_appendBuffer","byteOffset","byteLength","_isBufferList","isBuffer","blIndex","buffOffset","buff","nativeSearchResult","revOffset","_match","searchOffset","methods","readDoubleBE","readDoubleLE","readFloatBE","readFloatLE","readBigInt64BE","readBigInt64LE","readBigUInt64BE","readBigUInt64LE","readInt32BE","readInt32LE","readUInt32LE","readInt16BE","readInt16LE","readUInt16LE","readInt8","readIntBE","readIntLE","readUIntBE","readUIntLE","b","isBufferList","Cancel","__CANCEL__","number_allocator_1","numberAllocator","NumberAllocator","lastId","use","free","utils","ignoreDuplicateOf","headers","parsed","line","ArrayPrototypePop","isIterable","pipelineImpl","pl","pipeline","streams","lastArg","ArrayPrototypeIncludes","ArrayPrototypeJoin","ArrayPrototypeMap","NumberIsInteger","NumberIsNaN","NumberMAX_SAFE_INTEGER","NumberMIN_SAFE_INTEGER","NumberParseInt","ObjectPrototypeHasOwnProperty","RegExpPrototypeExec","StringPrototypeToUpperCase","StringPrototypeTrim","ERR_SOCKET_BAD_PORT","ERR_INVALID_ARG_VALUE","ERR_OUT_OF_RANGE","ERR_UNKNOWN_SIGNAL","normalizeEncoding","isAsyncFunction","isArrayBufferView","octalReg","validateInteger","min","validateInt32","validateUint32","positive","validateString","validateOneOf","oneOf","allowed","validateBoolean","getOwnPropertyValueOrDefault","defaultValue","validateObject","allowArray","allowFunction","validateDictionary","validateArray","minLength","validateBuffer","validateFunction","validatePlainFunction","validateUndefined","linkValueRegExp","validateLinkHeaderFormat","isInt32","isUint32","parseFileMode","def","validateStringArray","validateBooleanArray","validateAbortSignalArray","indexedName","validateEncoding","normalizedEncoding","validateNumber","validatePort","allowZero","validateSignalName","validateUnion","union","validateLinkHeaderValue","hints","hintsLength","link","get_timer_1","keepaliveTimeoutTimestamp","_keepaliveTimeoutTimestamp","intervalEvery","_intervalEvery","_keepalive","variant","timer","setKeepalive","timerId","counter","keepAliveTimeout","ceil","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","INFINITY","MAX_SAFE_INTEGER","NAN","MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsAstralRange","rsComboRange","rsComboMarksRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsVarRange","rsBreakRange","rsMathOpRange","rsApos","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsZWJ","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsOptVar","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","parseInt","freeGlobal","global","freeSelf","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","binding","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","func","thisArg","arrayAggregator","array","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","object","basePropertyOf","baseReduce","baseTimes","n","baseTrim","string","trimmedEndIndex","baseUnary","baseValues","props","cacheHas","cache","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","mapToArray","size","overArg","arg","replaceHolders","setToArray","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","unicodeToArray","asciiToArray","charAt","unescapeHtmlChar","runInContext","context","uid","defaults","pick","arrayProto","funcProto","objectProto","coreJsData","funcToString","idCounter","maskSrcKey","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Uint8Array","getPrototype","objectCreate","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","symIterator","iterator","symToStringTag","getNative","ctxClearTimeout","ctxNow","ctxSetTimeout","nativeCeil","nativeFloor","floor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","nativeMin","nativeNow","nativeParseInt","nativeRandom","nativeReverse","reverse","DataView","Map","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","isObject","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","number","lower","upper","baseClone","bitmask","customizer","isDeep","isFlat","isFull","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","cloneDataView","cloneTypedArray","regexp","cloneRegExp","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","seen","baseInvoke","parent","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","othProps","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","criteria","comparer","sort","baseSortBy","objCriteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","words","deburr","createCtor","arguments","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","countHolders","newHolders","createRecurry","arrLength","oldArray","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrStacked","arrValue","flatten","otherFunc","getValue","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","ctorString","isMaskable","stubFalse","otherArgs","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","count","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","unionBy","unionWith","unzip","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","WRAP_BIND_FLAG","debounce","lastArgs","lastThis","maxWait","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","cancel","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isNumber","isString","lt","lte","toArray","next","iteratorToArray","remainder","toLength","isBinary","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","merge","omit","CLONE_DEEP_FLAG","basePick","pickBy","toPairs","toPairsIn","camelCase","word","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","toUpperCase","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","over","overEvery","overSome","basePropertyDeep","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","compact","cond","conforms","baseConforms","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matchesProperty","nthArg","omitBy","orderBy","propertyOf","pullAllBy","pullAllWith","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","position","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduce","reduceRight","repeat","sample","some","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sum","sumBy","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trimEnd","trimStart","truncate","omission","substring","newEnd","unescape","uniqueId","prefix","each","eachRight","first","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","nextId","FrigateBridgeClassifier","classifierName","initStorage","logLevel","logLevelSetting","forkInterface","generateObjectDetections","videoFrames","session","detectObjects","getDetectionModel","ownKeys","ar","_1","settingsGroup","groupKey","settingsPromise","mixinSettingsPromise","allSettings","mixinSettings","setting","empty","zeroBuf","numbers","numCache","generateNumber","generateCache","genBufVariableByteInt","generate4ByteBuffer","writeNumber","writeNumberCached","toGenerate","generate","cork","uncork","propertiesData","getProperties","providedUsername","isStringOrBuffer","CONNECT_HEADER","writeVarByteInt","writeStringOrBuffer","VERSION131","VERSION132","VERSION4","VERSION5","VERSION3","writeString","CONNACK_HEADER","SESSIONPRESENT_HEADER","PUBLISH_HEADER","getPropertiesByMaximumPacketSize","ACKS","confirmation","itopic","iqos","SUBSCRIBE_HEADER","jtopic","jqos","jnl","jrap","jrh","joptions","SUBSCRIBE_OPTIONS_QOS","SUBSCRIBE_OPTIONS_NL","SUBSCRIBE_OPTIONS_RAP","SUBSCRIBE_OPTIONS_RH","SUBACK_HEADER","suback","unsubs","UNSUBSCRIBE_HEADER","j","unsuback","EMPTY","emptyPacket","writeNumberGenerated","varByteIntCache","num","VARBYTEINT_MAX","strlen","writeStringPair","generatedNumber","toWrite","writeProperties","propertiesLength","getLengthProperty","currentLength","propName","propLength","propValueLength","propValue","valueIndex","mayEmptyProps","maximumPacketSize","currentMayEmptyProp","writeProperty","generated4ByteBuffer","write4ByteNumber","bufOrString","MediaPlayerState","SecuritySystemObstruction","SecuritySystemMode","AirQuality","AirPurifierMode","AirPurifierStatus","ChargeState","LockState","PanTiltZoomMovement","ThermostatMode","TemperatureUnit","FanMode","HumidityMode","ScryptedDeviceType","ScryptedInterfaceMethod","fns","Deferred","promise","dispose","resolvePromise","FrigateBridgeMotionDetector","initializingMqtt","startStop","pluginEnabled","stop","startMqttListener","mqttCb","camera","eventType","foundMixin","motionTopic","setupMqttClient","useMqttPluginCredentials","getMqttBasicClient","mqttHost","mqttUsename","mqttPassword","canMixin","Camera","Doorbell","VideoCamera","FRIGATE_MOTION_DETECTOR_INTERFACE","getMixin","releaseMixin","extendStatics","__extends","__proto__","t","__","TreeNode","ee","u","K","N","rr","L","ne","te","TreeNodeEnableIndex","tr","ie","ContainerIterator","iteratorType","equals","Container","M","throwIteratorAccessError","__read","__values","TreeContainer","W","$","re","se","h","fe","parentNode","grandParent","curNode","G","he","U","X","Y","Z","ue","ae","g","updateKeyByIterator","eraseElementByPos","eraseElementByKey","eraseElementByIterator","return","getElementByPos","getHeight","traversal","TreeIterator","pre","__generator","label","sent","trys","ops","verb","throw","OrderedSetIterator","OrderedSet","insert","P","begin","rBegin","rEnd","front","back","lowerBound","upperBound","reverseLowerBound","reverseUpperBound","looksLikeNode","looksLikeBrowser","looksLikeV8","http","https","window","document","captureStackTrace","useNativeURL","preservedUrlFields","events","eventHandlers","arg1","arg2","arg3","_redirectable","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","response","_processResponse","_performRequest","maxRedirects","maxBodyLength","nativeProtocols","scheme","nativeProtocol","wrappedProtocol","request","spreadUrlObject","parseUrl","validateUrl","equal","wrappedRequest","href","urlObject","removeMatchingHeaders","regex","lastValue","baseClass","CustomError","destroyRequest","_currentRequest","currentRequest","removeHeader","msecs","destroyOnTimeout","addListener","startTimer","_timeout","clearTimer","searchPos","agents","agent","_currentUrl","_isRedirect","writeNext","statusCode","trackRedirects","requestHeaders","location","followRedirects","responseUrl","redirects","beforeRedirect","Host","getHeader","relative","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrl","subdomain","dot","isSubdomain","responseDetails","requestDetails","CancelToken","executor","token","onfulfilled","_resolve","throwIfRequested","c","isUtf8","hasBlob","_isValidUTF8","isBlob","isValidStatusCode","isValidUTF8","WS_NO_UTF_8_VALIDATE","SortedSet","debugTrace","debugError","Interval","ss","lhs","rhs","compare","firstVacant","it","pointer","rLow","rHigh","lLow","intervalCount","dump","element","el","ArrayPrototypeIndexOf","sep","ArrayPrototypePush","ArrayPrototypeSlice","FunctionPrototypeCall","thisArgs","FunctionPrototypeSymbolHasInstance","instance","hasInstance","MathFloor","MIN_SAFE_INTEGER","ObjectDefineProperties","ObjectDefineProperty","ObjectGetOwnPropertyDescriptor","ObjectKeys","obj","PromisePrototypeCatch","PromisePrototypeThen","thenFn","catchFn","PromiseReject","PromiseResolve","ReflectApply","Reflect","RegExpPrototypeTest","SafeSet","StringPrototypeSlice","StringPrototypeToLowerCase","SymbolFor","SymbolAsyncIterator","asyncIterator","SymbolHasInstance","SymbolIterator","SymbolAsyncDispose","asyncDispose","TypedArrayPrototypeSet","util","DelayedStream","CombinedStream","dataSize","maxDataSize","pauseStreams","_released","_streams","_currentStream","_insideLoop","_pendingNext","inherits","combinedStream","isStreamLike","newStream","pauseStream","_checkDataSize","_handleErrors","_getNext","_realGetNext","_pipeNext","_reset","_updateDataSize","InterceptorManager","handlers","fulfilled","rejected","synchronous","runWhen","eject","FrigateBridgeVideoclipsMixin","cameraDevice","getVideoclipUrls","eventId","videoUrl","serverUrl","snapshotCleanUrl","thumbnailUrl","getVideoclipWebhookUrls","getCloudEndpoint","public","getLocalEndpoint","endpoint","parameters","params","pathnamePrefix","parametersParsed","videoclipUrl","videoclipHref","thumbnailHref","getVideoClips","endTime","startTime","videoclips","deviceClips","service","baseFrigateApi","apiUrl","filteredEvents","has_clip","has_snapshot","start_time","end_time","videoclip","duration","detectionClasses","detectionClassesDefaultMap","thumbnailId","videoId","resources","thumbnail","getVideoClip","Range","responseType","LocalUrl","getVideoClipThumbnail","jpeg","removeVideoClips","videoClipIds","configurations","offers","extensionName","paramName","mustUnescape","inQuotes","bufferModule","kResistStopPropagation","AsyncFunction","Blob","kEmptyObject","freeze","createDeferredPromise","rej","promisify","debuglog","_unused","replacement","toFixed","is","arr","isView","deprecate","removeEventListener","queueMicrotask","addEventListener","_removeEventListener","AbortSignalAny","any","ac","custom","isStandardBrowserEnv","expires","secure","cookie","encodeURIComponent","toGMTString","decodeURIComponent","FrigateBridgeAudioDetector","eventSubType","isAudioLevelValue","onFrigateAudioEvent","AudioVolumeControl","FRIGATE_AUDIO_DETECTOR_INTERFACE","FrigateBridgeAudioDetectorMixin","worker_timers_1","workerTimer","nativeTimer","isReactNativeBrowser","createHash","PerMessageDeflate","subprotocol","WebSocket","GUID","kWebSocket","keyRegex","server","_state","socketOnError","abortHandshake","STATUS_CODES","Connection","abortHandshakeOrEmitwsClientError","allowSynchronousEvents","autoPong","maxPayload","skipUTF8Validation","perMessageDeflate","handleProtocols","clientTracking","verifyClient","noServer","backlog","_server","createServer","body","writeHead","listen","emitConnection","_removeListeners","addListeners","listening","upgrade","handleUpgrade","clients","_shouldEmitClose","address","shouldHandle","secWebSocketProtocol","secWebSocketExtensions","accept","origin","authorized","encrypted","verified","completeUpgrade","digest","_protocol","_extensions","setSocket","delete","parallel","serial","serialOrdered","jobs","results","httpsAgent","Agent","applySettingsShow","hasMqttDevice","getDeviceByName","hasHaDevice","mqttEnabled","haEnabled","useHaPluginCredentials","shouldShowMqtt","shouldShowHa","hide","shouldShowMqttCredentials","shouldShowHaCredentials","haAccessToken","haAddress","haProtocol","getBaseLogger","friendlyName","optionalParams","toLocaleString","canDebug","LogLevel","DEBUG","canInfo","INFO","canLog","severity","NOTICE","ERROR","WARN","devNotifier","sendNotification","param","pushover","priority","getBaseSettings","defaultMqtt","onPluginSwitch","hideMqtt","mqttAlwaysEnabled","hideHa","baseGroupName","onRefresh","onPut","deviceFilter","Notifier","mqttDevice","mqttSettings","BasePlugin","getHaApiUrl","accessToken","haDevice","haSettings","getHaApi","getTemplateData","post","getStatesData","getCalendarEvents","entityId","fromDate","toDate","start_date_time","end_date_time","entity_id","postAutomation","automationId","automation","getLoggerInternal","mainLogger","pluginFriendlyName","originURL","msie","navigator","userAgent","urlParsingNode","createElement","resolveURL","setAttribute","requestURL","BufferedDuplex","writev","buffer_1","chunks","proxy","objectMode","writeQueue","_writev","isSocketOpen","writeToProxy","socketReady","processWriteQueue","DuplexStream","BufferListStream","_callback","piper","src","FrigateBridgeCamera","RtspSmartCamera","streamsData","config","getConfiguration","ffmpeg","inputs","getSnapshotUrl","imageUrl","image","tool","roles","isHigh","destinations","videoStreamOptions","ERR_STREAM_NULL_VALUES","Readable","isAsync","hadError","hasThrow","transformData","isCancel","throwIfCancellationRequested","cancelToken","transformRequest","common","adapter","transformResponse","hasStrings","_getString","_getBuffer","retLen","customInspect","kForOnEventAttribute","kListener","kCode","kData","kError","kMessage","kReason","kTarget","kType","kWasClean","Event","CloseEvent","wasClean","ErrorEvent","MessageEvent","handler","listeners","callListener","_closeFrameReceived","_closeFrameSent","handleEvent","flag","argv","terminatorPosition","baseURL","relativeURL","d","y","plural","msAbs","isPlural","long","fmtLong","fmtShort","validators","thing","deprecatedWarnings","transitional","validator","formatMessage","assertOptions","schema","allowUnknown","FrigateBridgeVideoclips","VideoClips","FRIGATE_VIDEOCLIPS_INTERFACE","TWO_TO_THE_POWER_OF_TWENTY_NINE","TWO_TO_THE_POWER_OF_THIRTY","LAST_NUMBER_WEAK_MAP","lastNumberWeakMap","generateUniqueNumber","lastNumber","nextNumber","createGenerateUniqueNumber","loadOrReturnBroker","createAddUniqueNumber","loadBroker","worker","broker","blob","createObjectURL","revokeObjectURL","createLoadOrReturnBroker","scheduledIntervalFunctions","scheduledTimeoutFunctions","unrespondedRequests","Worker","timerType","idOrFunc","timerIdAndTimerType","isClearResponse","postMessage","performance","rp","cacheDuration","timeout","TimeoutError","isTimedOut","keyStr","duplexOnEnd","duplexOnError","terminateOnDestroy","duplex","writableObjectMode","readyState","CLOSED","terminate","CONNECTING","_socket","isPaused","isAxiosError","ReadableState","destroyImpl","getDefaultHighWaterMark","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kPaused","StringDecoder","nop","kObjectMode","kConstructed","kSync","kEmitClose","kAutoDestroy","makeBitMapDescriptor","bit","isDuplex","readableObjectMode","pipes","flowing","defaultEncoding","awaitDrainWriters","decoder","needReadable","maybeReadMore","readableAddChunk","addToFront","_isUint8Array","_uint8ArrayToBuffer","emitReadable","emittedReadable","emitReadable_","onEofChunk","addChunk","dataEmitted","readableListening","resumeScheduled","multiAwaitDrain","readingMore","_undestroy","captureRejectionSymbol","readableEnded","setEncoding","content","howMuchToRead","maybeReadMore_","updateReadableListening","nReadingNextTick","resume_","streamToAsyncIterator","iter","destroyOnReturn","createAsyncIterator","fromList","endReadable","endReadableNT","allowHalfOpen","endWritableNT","writableEnded","webStreamsAdapters","lazyWebStreams","NaN","nOrig","computeNewHighWaterMark","doRead","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onfinish","cleanedUp","needDrain","pipeOnDrain","writableNeedDrain","dests","ev","paused","streamKeys","readableDidRead","readableAborted","readableBuffer","readableFlowing","readableLength","readableEncoding","pipesCount","_fromList","fromWeb","readableStream","newStreamReadableFromReadableStream","toWeb","streamReadable","newReadableStreamFromStreamReadable","_ref","_src$readableObjectMo","ERR_INVALID_RETURN_VALUE","ERR_MISSING_ARGS","ERR_STREAM_DESTROYED","ERR_STREAM_PREMATURE_CLOSE","isReadable","isReadableNodeStream","isTransformStream","isReadableStream","isReadableFinished","PassThrough","writing","makeAsyncIterable","fromReadable","pumpToNode","onresolve","pumpToWeb","writer","getWriter","ready","outerSignal","lastStreamCleanup","finishImpl","destroys","finishCount","_disposable","isLastStream","onError","_ret","_ret2","pt","toRead","popCallback","buildURL","dispatchRequest","mergeConfig","Axios","instanceConfig","interceptors","silentJSONParsing","boolean","forcedJSONParsing","clarifyTimeoutError","requestInterceptorChain","synchronousRequestInterceptors","responseInterceptorChain","newConfig","onFulfilled","onRejected","getUri","paramsSerializer","BufferedDuplex_1","my","isInitialized","websocketSubProtocol","wsOptions","setDefaultOpts","transformWsUrl","buildUrl","connectSocket","_proxy","sendSocketMessage","success","fail","closeSocket","buildProxy","onSocketOpen","onSocketMessage","reader","FileReader","readAsArrayBuffer","onSocketClose","onSocketError","socketTask","errMsg","destroyRef","onOpen","onMessage","onClose","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","fileName","lineNumber","columnNumber","settle","cookies","buildFullPath","parseHeaders","isURLSameOrigin","createError","onCanceled","requestData","isFormData","XMLHttpRequest","Authorization","btoa","fullPath","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","open","onreadystatechange","responseURL","onabort","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","onUploadProgress","upload","LRUCache","perf","warned","PROCESS","emitWarning","AC","AS","_onabort","warnACPolyfill","printACPolyfillWarning","LRU_CACHE_IGNORE_AC_WARNING","isPosInt","getUintArray","pow","Uint16Array","Uint32Array","ZeroArray","heap","static","HeapCls","ttl","ttlResolution","ttlAutopurge","updateAgeOnGet","updateAgeOnHas","allowStale","noDisposeOnSet","noUpdateTTL","maxEntrySize","sizeCalculation","noDeleteOnFetchRejection","noDeleteOnStaleGet","allowStaleOnFetchAbort","allowStaleOnFetchRejection","ignoreFetchAbort","unsafeExposeInternals","starts","ttls","sizes","keyMap","keyList","valList","isBackgroundFetch","backgroundFetch","moveToTail","rindexes","isStale","maxSize","calculatedSize","fetchMethod","memoMethod","disposeAfter","UintArray","shouldWarn","getRemainingTTL","unref","cachedNow","getNow","age","remainingTTL","entrySize","totalCalculatedSize","_i","_s","_st","_k","_v","rentries","rkeys","rvalues","getOptions","__staleWhileFetching","thisp","rforEach","purgeStale","deleted","remain","setOptions","maxEntrySizeExceeded","oldVal","__abortController","oldValue","dt","task","hasOptions","peek","peekOptions","fetchOpts","updateCache","ignoreAbort","fetchAborted","fetchError","fetchAbortIgnored","fetchResolved","fetchFail","bf","fetchUpdated","allowStaleAborted","noDelete","returnedStale","__returned","fetchDispatched","fmp","fetchRejected","fetch","fetchOptions","forceRefresh","stale","staleVal","forceFetch","memo","memoOptions","vv","fetching","pi","ni","defaultHighWaterMarkBytes","defaultHighWaterMarkObjectMode","duplexKey","hwm","highWaterMarkFrom","setDefaultHighWaterMark","duplexify","writableBuffer","writableLength","writableFinished","writableCorked","newStreamDuplexFromReadableWritablePair","newReadableWritablePairFromDuplex","browser","__nwjs","privateData","wrappers","pd","retv","setCancelFlag","passiveListener","cancelable","canceled","preventDefault","eventTarget","eventPhase","currentTarget","stopped","immediateStopped","timeStamp","defineRedirectDescriptor","defineCallDescriptor","getWrapper","BaseEvent","CustomEvent","defineWrapper","isStopped","setPassiveListener","composedPath","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","stopPropagation","stopImmediatePropagation","bubbles","defaultPrevented","composed","srcElement","cancelBubble","returnValue","initEvent","listenersMap","x","getListeners","eventTargetPrototype","node","listenerType","newNode","passive","defineEventAttributeDescriptor","defineCustomEventTarget","eventNames","CustomEventTarget","optionsIsObj","capture","wrappedEvent","wrapEvent","setEventPhase","setCurrentTarget","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","_checkIfMaxDataSizeExceeded","READABLE_STREAM","promises","isDisturbed","isErrored","compose","CustomStream","originalDestroy","createWebSocketStream","Server","Receiver","Sender","WebSocketServer","FrigateBridgeObjectDetector","eventsTopic","onFrigateDetectionEvent","audioTopic","ObjectDetector","FRIGATE_OBJECT_DETECTOR_INTERFACE","FrigateBridgeObjectDetectorMixin","lastC","documentElement","style","WebkitAppearance","firebug","exception","table","localStorage","localstorage","superCtor","super_","TempCtor","tty","inspectOpts","formatWithOptions","colorCode","hideDate","toISOString","getDate","isatty","fd","supportsColor","level","O","publish_1","auth_1","connack_1","pubrel_1","reasonString","hasValue","rawGet","onGet","getItemInternal","mapPut","mapGet","putSettingInternal","rawDevice","readDefaultValue","json","parseValue","persistedDefaultValue","tls_1","isIP","servername","connection","handleTLSerrors","objectDetectorNativeId","animalClassifierNativeId","vehicleClassifierNativeId","motionDetectorNativeId","audioDetectorNativeId","videoclipsNativeId","snapshotNativeId","birdseyeCameraNativeId","importedCameraNativeIdPrefix","FRIGATE_SNAPSHOT_INTERFACE","convertFrigateBoxToScryptedBox","frigateBox","xMin","yMin","xMax","yMax","toSnakeCase","kIsErrored","kIsReadable","kIsWritable","kIsDisturbed","kIsClosedPromise","strict","_obj$_readableState","isWritableNodeStream","_obj$_writableState","pipeThrough","getReader","isWritableStream","isWritableEnded","isWritable","isOutgoingMessage","_closed","_defaultKeepAlive","_removedConnection","_removedContLen","isServerResponse","_sent100","_stream$kIsDisturbed","_ref2","_ref3","_ref4","_ref5","_stream$kIsErrored","_stream$_readableStat3","_stream$_writableStat3","_stream$_readableStat4","_stream$_writableStat4","readableErrored","writableErrored","isClosed","isDuplexNodeStream","isReadableEnded","isReadableErrored","_stream$_readableStat","_stream$_readableStat2","isWritableFinished","isWritableErrored","_stream$_writableStat","_stream$_writableStat2","_stream$req","_consuming","_dumped","upgradeOrConnect","willEmitClose","streamsOpts","defaultStoreOptions","_inflights","toDelete","storedPacket","list","FormData$1","crypto","proxyFromEnv","zlib","_interopDefaultLegacy","FormData__default","crypto__default","url__default","proxyFromEnv__default","http__default","https__default","util__default","followRedirects__default","zlib__default","stream__default","kindOf","kindOfTest","typeOfTest","isFile","isFileList","isURLSearchParams","isResponse","isHeaders","allOwnKeys","_key","_global","isContextDefined","TypedArray","isHTMLForm","reduceDescriptors","reducer","getOwnPropertyDescriptors","reducedDescriptors","descriptor","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","callbacks","asap","utils$1","kind","FormData","isStream","caseless","targetKey","stripBOM","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","searchString","forEachEntry","_iterator","matchAll","regExp","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","define","toCamelCase","p1","p2","toFiniteNumber","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","AxiosError","prototype$1","isVisitable","removeBrackets","renderKey","dots","customProps","axiosError","predicates","toFormData","formData","metaTokens","visitor","defaultVisitor","useBlob","convertValue","isFlatArray","exposedHelpers","build","encode$1","charMap","AxiosURLSearchParams","_pairs","encode","_encode","serialize","serializeFn","serializedParams","hashmarkIndex","encoder","InterceptorManager$1","transitionalDefaults","URLSearchParams","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","platform$1","isNode","classes","generateString","alphabet","randomValues","randomFillSync","hasBrowserEnv","_navigator","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","platform","formDataToJSON","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","toURLEncodedForm","formSerializer","_FormData","rawValue","stringifySafely","JSONRequested","strictJSONParsing","ERR_BAD_RESPONSE","maxContentLength","validateStatus","defaults$1","$internals","normalizeHeader","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","tokens","tokensRE","parseTokens","matcher","deleteHeader","normalize","normalized","char","formatHeader","targets","asStrings","getSetCookie","accessor","accessors","defineAccessor","accessorName","buildAccessors","headerValue","AxiosHeaders$1","CanceledError","ERR_CANCELED","ERR_BAD_REQUEST","requestedURL","allowAbsoluteUrls","isRelativeUrl","isAbsoluteURL","combineURLs","parseProtocol","DATA_URL_PATTERN","kInternals","AxiosTransformStream","maxRate","chunkSize","minChunkSize","timeWindow","ticksRate","samplesCount","internals","bytesSeen","isCaptured","notifiedBytesLoaded","ts","onReadCallback","bytesThreshold","pushChunk","_chunk","transformChunk","bytesLeft","chunkRemainder","maxChunkSize","passed","subarray","transformNextChunk","AxiosTransformStream$1","readBlob$1","BOUNDARY_ALPHABET","textEncoder","TextEncoder","CRLF","CRLF_BYTES","FormDataPart","escapeName","isStringValue","contentLength","formDataToStream$1","form","headersHandler","boundary","boundaryBytes","footerBytes","part","computedHeaders","ZlibHeaderTransformStream","__transform","ZlibHeaderTransformStream$1","callbackify$1","progressEventReducer","isDownloadStream","freq","bytesNotified","_speedometer","timestamps","firstSampleTS","chunkLength","startedAt","bytesCount","speedometer","timestamp","threshold","total","lengthComputable","progressBytes","rate","progress","estimated","progressEventDecorator","throttled","asyncDecorator","zlibOptions","Z_SYNC_FLUSH","finishFlush","brotliOptions","BROTLI_OPERATION_FLUSH","isBrotliSupported","createBrotliDecompress","httpFollow","httpsFollow","isHttps","supportedProtocols","flushOnFinish","dispatchBeforeRedirect","beforeRedirects","setProxy","configProxy","proxyUrl","getProxyForUrl","base64","proxyHost","redirectOptions","isHttpAdapterSupported","buildAddressEntry","family","resolveFamily","httpAdapter","asyncExecutor","onDone","responseEncoding","isDone","_lookup","arg0","addresses","addr","all","onFinished","isRejected","convertedData","uri","asBlob","_Blob","ERR_INVALID_URL","isBase64","ERR_NOT_SUPPORT","fromDataURI","maxUploadRate","maxDownloadRate","userBoundary","formHeaders","getHeaders","hasContentLength","knownLength","getLength","setContentLength","getContentLength","customErr","exists","httpAgent","transport","socketPath","isHttpsRequest","insecureHTTPParser","responseLength","transformStream","responseStream","lastRequest","decompress","createUnzip","offListeners","statusMessage","responseBuffer","totalResponseBytes","responseData","setKeepAlive","ERR_BAD_OPTION_VALUE","ETIMEDOUT","ECONNABORTED","_reject","onDoneHandler","isMSIE","headersToObject","timeoutMessage","withXSRFToken","resolveConfig","xhrAdapter","_config","uploadThrottled","downloadThrottled","flushUpload","flushDownload","ERR_NETWORK","composeSignals$1","streamChunk","readStream","trackStream","onProgress","onFinish","readBytes","_onFinish","ReadableStream","loadedBytes","enqueue","isFetchSupported","Request","Response","isReadableStreamSupported","encodeText","supportsRequestStream","duplexAccessed","hasContentType","supportsResponseStream","resolvers","resolveBodyLength","_request","getBodyLength","fetchAdapter","composedSignal","toAbortSignal","requestContentLength","contentTypeHeader","isCredentialsSupported","credentials","isStreamResponse","responseContentLength","knownAdapters","xhr","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","validators$1","ERR_DEPRECATED","spelling","correctSpelling","ERR_BAD_OPTION","configOrUrl","dummy","function","baseUrl","withXsrfToken","contextHeaders","generateHTTPMethod","isForm","Axios$1","CancelToken$1","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","HttpStatusCode$1","axios","createInstance","defaultConfig","formToJSON","getAdapter","BINARY_TYPES","EMPTY_BUFFER","kStatusCode","NOOP","FastBuffer","species","_mask","mask","output","_unmask","totalLength","toArrayBuffer","toBuffer","readOnly","unmask","WS_NO_BUFFER_UTIL","bufferUtil","setZones","labels","combobox","eventTypes","zones","cameraZones","fixedLabels","ensureMixinsOrder","nvrObjectDetector","basicObjectDetector","shouldBeMoved","thisMixinOrder","mixins","currentMixins","setMixins","getDetectionInput","detectionId","mo","getObjectTypes","deviceClasses","boundingBox","box","className","labelScore","sub_label","score","frigateEvent","inputDimensions","detections","movement","moving","active","firstSeen","lastSeen","current_zones","detection","audioType","DetectionClass","Audio","FrigateBridgeBirdseyeCamera","validReasonCodes","gotTopic","lru_cache_1","topicToAlias","browserStreamBuilder","ws_1","WSS_OPTIONS","createWebsocket","createWebSocket","webSocketStream","binary","setDefaultBrowserOpts","bufferSize","browserBufferSize","bufferTimeout","browserBufferTimeout","coerceToBuffer","binaryType","createBrowserWebSocket","pOptions","socketWrite","socketEnd","socketWriteBrowser","bufferedAmount","eventListenerSupport","OPEN","onopen","onmessage","fs","asynckit","populate","_overheadLength","_valueLength","_valuesToMeasure","LINE_BREAK","DEFAULT_CONTENT_TYPE","filename","_error","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","_lengthRetriever","stat","fileSize","contentDisposition","_getContentDisposition","_getContentType","contents","getBoundary","filepath","basename","_httpMessage","_lastBoundary","userHeaders","setBoundary","_boundary","_generateBoundary","getBuffer","dataBuffer","getLengthSync","hasKnownLength","submit","onResponse","responce","Accumulator","_array","lengths","normalizeHeaderName","enhanceError","setContentTypeIfUnset","normalizedName","updateSeconds","setAudioVolumes","audioVolumes","parsedValue","lastSet","CMD_MASK","sessionExpiryInterval","willDelayInterval","receiveMaximum","requestResponseInformation","requestProblemInformation","userProperties","payloadFormatIndicator","messageExpiryInterval","responseTopic","correlationData","maximumQoS","retainAvailable","assignedClientIdentifier","wildcardSubscriptionAvailable","subscriptionIdentifiersAvailable","sharedSubscriptionAvailable","serverKeepAlive","responseInformation","serverReference","subscriptionIdentifier","genHeader","writeUInt8","puback","pubcomp","pubrel","pubrec","QOS","pingreq","pingresp","_allowSynchronousEvents","_binaryType","_isServer","isServer","_maxPayload","_skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_errored","_loop","startLoop","getInfo","getPayloadLength16","getPayloadLength64","getMask","compressed","haveLength","controlMessage","dataMessage","messageLength","fragments","ErrorCtor","errorCode","sortMethod","isNamedList","initState","keyedList","iterate","terminator","RemoteLogServiceEnum","getPluginConsole","onClosed","dataQueue","createAsyncQueue","hello","localQueue","createAsyncQueueFromGenerator","dataBuffers","dequeue","localGenerator","streamSvc","getDevice","streamSvcDirect","connectRPCObject","remoteGenerator","connectStream","plugins","getComponent","servicePort","getRemoteServicePort","parseLog","lineParent","replaceAll","matchCamera","pluginRegex","matchPlugin","Duplexify","_duplexify","onreadable","onfinished","_promise","fromAsyncGen","item","aborter","runJob","DEFAULT_PORTS","ftp","gopher","stringEndsWith","getEnv","NO_PROXY","parsedProxy","parsedProxyHostname","parsedProxyPort","shouldProxy","net","randomBytes","kAborted","protocolVersions","readyStates","subprotocolRegex","_closeCode","_closeMessage","_closeTimer","_errorEmitted","_paused","_readyState","_receiver","_sender","_bufferedAmount","initAsClient","_autoPong","_url","receiver","sender","generateMask","receiverOnConclude","receiverOnDrain","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","senderOnError","setNoDelay","socketOnClose","socketOnData","socketOnEnd","_req","CLOSING","setCloseTimer","ping","sendAfterClose","pong","compress","fin","websocket","isIpcUrl","invalidUrlMessage","emitErrorAndClose","defaultPort","protocolSet","tlsConnect","netConnect","Upgrade","handshakeTimeout","offer","Origin","_originalIpc","_originalSecure","_originalHostOrSocketPath","isSameHost","authorization","serverProt","protError","extensionNames","finishRequest","receiverOnFinish","kWeakHandler","staticCompose","kEmpty","kEof","concurrency","signalOpt","cnt","onCatch","afterItemProcessed","maybeResume","pump","unused","ReduceAwareErrMissingArgs","toIntegerOrInfinity","streamReturningOperators","asIndexedPairs","_options$signal","_options$signal5","_options$signal6","_options$signal7","_options$signal8","composedStream","promiseReturningOperators","initialValue","_options$signal2","hasInitialValue","gotAnyItemFromStream","_options$signal3","_options$signal4","os","hasFlag","forceColor","translateLevel","hasBasic","has256","has16m","haveStream","streamIsTTY","TERM","osRelease","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","FORCE_COLOR","isTTY","customPromisify","ERR_ILLEGAL_CONSTRUCTOR","op","WritableState","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_ALREADY_FINISHED","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","kOnFinished","noDecode","decodeStrings","corked","bufferProcessing","onwrite","writecb","writelen","afterWriteTickInfo","resetBuffer","pendingcb","buffered","bufferedIndex","allBuffers","allNoop","clearBuffer","finishMaybe","isEncoding","writeOrBuffer","doWrite","onwriteError","errorBuffer","afterWriteTick","afterWrite","_state$errored","onfinishCallbacks","_state$errored2","bufferedLength","needFinish","callFinal","setDefaultEncoding","writableAborted","writableStream","newStreamWritableFromWritableStream","streamWritable","newWritableStreamFromStreamWritable","ascending","iteratorHandler","descending","comp","pub","FrigateBridgePlugin","enableBirdseyeCamera","exportCameraDevice","exportWithRebroadcast","exportButton","exportCamera","camerasMap","initData","motionDetectorDevice","audioDetectorDevice","objectDetectorDevice","getScryptedDeviceCreator","requestRestart","onDeviceDiscovered","MixinProvider","API","executeCameraDiscovery","onRequest","searchParams","___","____","_____","webhook","dev","videoclipsDevice","devConsole","sendVideo","httpResponse","sendStream","thumbnailMo","convertMediaObjectToBuffer","highResStream","lowResStream","restreamHighStreamSetting","restreamLowStreamSetting","localEndpoint","highResUrl","lowResUrl","highHwacclArgs","codec","lowHwacclArgs","cameraConfig","getAdditionalInterfaces","VideoCameraConfiguration","birdseyeCamera","animalClassifier","vehicleClassifier","found","newCamera","releaseDevice","getCreateDeviceSettings","createDevice","cameraNativeId","kDone","kRun","pending","job","redirection","rejectPromise","headerNames","urlAuth","proxyEnv","parsedProxyUrl","noProxyEnv","no_proxy","proxyElement","proxyUrlAuth","isHttpsProxy","classnamePrio","Face","Plate","Person","Vehicle","Animal","Package","Motion","basicDetectionClasses","defaultDetectionClasses","animalClasses","personClasses","vehicleClasses","faceClasses","licensePlateClasses","motionClasses","packageClasses","objectClasses","AnyObject","audioClasses","doorbellClasses","isFaceClassname","classname","isPlateClassname","isAnimalClassname","isPersonClassname","isVehicleClassname","isMotionClassname","isDoorbellClassname","isPackageClassname","isAudioClassname","isLabelDetection","isObjectClassname","getParentDetectionClass","det","parentGroup","similarCharacters","similarCharactersMap","similarCharacter","character","similar","isSameCharacter","c1","c2","levenshteinDistance","str1","str2","len1","len2","cost","isWebWorkerEnv","isReactNativeEnv","isBrowser","versions","orgStreams","idx","topic_alias_send_1","events_1","applyMask","kByteLength","maskBuffer","RANDOM_POOL_SIZE","randomPool","randomPoolPointer","_generateMask","_maskBuffer","_firstFragment","_compress","_queue","frame","dataLength","skipMasking","payloadLength","opcode","rsv1","writeUInt16BE","writeUIntBE","dispatch","sendFrame","getBlobData","_threshold","callCallbacks","Limiter","TRAILER","kPerMessageDeflate","kTotalLength","kBuffers","zlibLimiter","deflateOnData","inflateOnData","reset","inflateOnError","_inflate","_deflate","concurrencyLimit","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","normalizeParams","acceptAsServer","acceptAsClient","accepted","_decompress","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","createDeflateRaw","zlibDeflateOptions","_willEmitClose","_options$readable","_options$writable","isAborted","originalCallback","resolverFn","eosWeb","onlegacyfinish","readableFinished","onclosed","onrequest","endCallback","_opts","autoCleanup","pubackRC","pubrecRC","grantedI","subackRC","copyBuffer","cur","circles","refs","refsNew","constructorHandlers","cloneArray","cloneProto","a2","o2","rfdcCircles","getPictureOptions","getVideoStream","getDefaultStream","getUsername","getPassword","getStreamSettings","devices","systemDevice","deviceCreator","updateDevice","getInterfaces","getNativeIds","generator","q","EndError","endDeferred","waiting","queued","dequeued","deferred","qi","endPromise","items","SubOk","generateBuffer","digit","writeUInt32BE","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","nmd","children","__webpack_exports__"],"sourceRoot":""}